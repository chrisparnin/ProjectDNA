{
   "url": "http://hipmunk.com",
   "scripts": {
      "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/init.group.js": {
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/init.group.js",
         "body": "try {\n!function(n){function e(n,e){return Object.prototype.hasOwnProperty.call(n,e)}function t(n){return\"undefined\"==typeof n}var r={},l=n.TraceKit,u=[].slice,i=\"?\";r.noConflict=function(){return n.TraceKit=l,r},r.wrap=function(n){function e(){try{return n.apply(this,arguments)}catch(e){throw r.report(e),e}}return e},r.report=function(){function t(n){a(),p.push(n)}function l(n){for(var e=p.length-1;e>=0;--e)p[e]===n&&p.splice(e,1)}function i(n,t){var l=null;if(!t||r.collectWindowErrors){for(var i in p)if(e(p,i))try{p[i].apply(null,[n].concat(u.call(arguments,2)))}catch(c){l=c}if(l)throw l}}function c(n,e,t){var l=null;if(g)r.computeStackTrace.augmentStackTraceWithInitialElement(g,e,t,n),l=g,g=null,m=null;else{var u={url:e,line:t};u.func=r.computeStackTrace.guessFunctionName(u.url,u.line),u.context=r.computeStackTrace.gatherContext(u.url,u.line),l={mode:\"onerror\",message:n,url:document.location.href,stack:[u],useragent:navigator.userAgent}}return i(l,\"from window.onerror\"),s?s.apply(this,arguments):!1}function a(){f!==!0&&(s=n.onerror,n.onerror=c,f=!0)}function o(e){var t=u.call(arguments,1);if(g){if(m===e)return;var l=g;g=null,m=null,i.apply(null,[l,null].concat(t))}var c=r.computeStackTrace(e);throw g=c,m=e,n.setTimeout(function(){m===e&&(g=null,m=null,i.apply(null,[c,null].concat(t)))},c.incomplete?2e3:0),e}var s,f,p=[],m=null,g=null;return o.subscribe=t,o.unsubscribe=l,o}(),r.computeStackTrace=function(){function l(e){function t(){try{return new n.XMLHttpRequest}catch(e){return new n.ActiveXObject(\"Microsoft.XMLHTTP\")}}if(!r.remoteFetching)return\"\";try{var l=t();return l.open(\"GET\",e,!1),l.send(\"\"),l.responseText}catch(u){return\"\"}}function u(n){if(!e(S,n)){var t=\"\";-1!==n.indexOf(document.domain)&&(t=l(n)),S[n]=t?t.split(\"\\n\"):[]}return S[n]}function c(n,e){var r,l=/function ([^(]*)\\(([^)]*)\\)/,c=/['\"]?([0-9A-Za-z$_]+)['\"]?\\s*[:=]\\s*(function|eval|new Function)/,a=\"\",o=10,s=u(n);if(!s.length)return i;for(var f=0;o>f;++f)if(a=s[e-f]+a,!t(a)){if(r=c.exec(a))return r[1];if(r=l.exec(a))return r[1]}return i}function a(n,e){var l=u(n);if(!l.length)return null;var i=[],c=Math.floor(r.linesOfContext/2),a=c+r.linesOfContext%2,o=Math.max(0,e-c-1),s=Math.min(l.length,e+a-1);e-=1;for(var f=o;s>f;++f)t(l[f])||i.push(l[f]);return i.length>0?i:null}function o(n){return n.replace(/[\\-\\[\\]{}()*+?.,\\\\\\^$|#]/g,\"\\\\$&\")}function s(n){return o(n).replace(\"<\",\"(?:<|&lt;)\").replace(\">\",\"(?:>|&gt;)\").replace(\"&\",\"(?:&|&amp;)\").replace('\"','(?:\"|&quot;)').replace(/\\s+/g,\"\\\\s+\")}function f(n,e){for(var t,r,l=0,i=e.length;i>l;++l)if((t=u(e[l])).length&&(t=t.join(\"\\n\"),r=n.exec(t)))return{url:e[l],line:t.substring(0,r.index).split(\"\\n\").length,column:r.index-t.lastIndexOf(\"\\n\",r.index)-1};return null}function p(n,e,t){var r,l=u(e),i=new RegExp(\"\\\\b\"+o(n)+\"\\\\b\");return t-=1,l&&l.length>t&&(r=i.exec(l[t]))?r.index:null}function m(e){for(var t,r,l,u,i=[n.location.href],c=document.getElementsByTagName(\"script\"),a=\"\"+e,p=/^function(?:\\s+([\\w$]+))?\\s*\\(([\\w\\s,]*)\\)\\s*\\{\\s*(\\S[\\s\\S]*\\S)\\s*\\}\\s*$/,m=/^function on([\\w$]+)\\s*\\(event\\)\\s*\\{\\s*(\\S[\\s\\S]*\\S)\\s*\\}\\s*$/,g=0;g<c.length;++g){var h=c[g];h.src&&i.push(h.src)}if(l=p.exec(a)){var v=l[1]?\"\\\\s+\"+l[1]:\"\",x=l[2].split(\",\").join(\"\\\\s*,\\\\s*\");t=o(l[3]).replace(/;$/,\";?\"),r=new RegExp(\"function\"+v+\"\\\\s*\\\\(\\\\s*\"+x+\"\\\\s*\\\\)\\\\s*{\\\\s*\"+t+\"\\\\s*}\")}else r=new RegExp(o(a).replace(/\\s+/g,\"\\\\s+\"));if(u=f(r,i))return u;if(l=m.exec(a)){var d=l[1];if(t=s(l[2]),r=new RegExp(\"on\"+d+\"=[\\\\'\\\"]\\\\s*\"+t+\"\\\\s*[\\\\'\\\"]\",\"i\"),u=f(r,i[0]))return u;if(r=new RegExp(t),u=f(r,i))return u}return null}function g(n){if(!n.stack)return null;for(var e,t,r=/^\\s*at (?:((?:\\[object object\\])?\\S+(?: \\[as \\S+\\])?) )?\\(?((?:file|http|https):.*?):(\\d+)(?::(\\d+))?\\)?\\s*$/i,l=/^\\s*(\\S*)(?:\\((.*?)\\))?@((?:file|http|https).*?):(\\d+)(?::(\\d+))?\\s*$/i,u=n.stack.split(\"\\n\"),o=[],s=/^(.*) is undefined$/.exec(n.message),f=0,m=u.length;m>f;++f){if(e=l.exec(u[f]))t={url:e[3],func:e[1]||i,args:e[2]?e[2].split(\",\"):\"\",line:+e[4],column:e[5]?+e[5]:null};else{if(!(e=r.exec(u[f])))continue;t={url:e[2],func:e[1]||i,line:+e[3],column:e[4]?+e[4]:null}}!t.func&&t.line&&(t.func=c(t.url,t.line)),t.line&&(t.context=a(t.url,t.line)),o.push(t)}return o[0]&&o[0].line&&!o[0].column&&s&&(o[0].column=p(s[1],o[0].url,o[0].line)),o.length?{mode:\"stack\",name:n.name,message:n.message,url:document.location.href,stack:o,useragent:navigator.userAgent}:null}function h(n){for(var e,t=n.stacktrace,r=/ line (\\d+), column (\\d+) in (?:<anonymous function: ([^>]+)>|([^\\)]+))\\((.*)\\) in (.*):\\s*$/i,l=t.split(\"\\n\"),u=[],i=0,o=l.length;o>i;i+=2)if(e=r.exec(l[i])){var s={line:+e[1],column:+e[2],func:e[3]||e[4],args:e[5]?e[5].split(\",\"):[],url:e[6]};if(!s.func&&s.line&&(s.func=c(s.url,s.line)),s.line)try{s.context=a(s.url,s.line)}catch(f){}s.context||(s.context=[l[i+1]]),u.push(s)}return u.length?{mode:\"stacktrace\",name:n.name,message:n.message,url:document.location.href,stack:u,useragent:navigator.userAgent}:null}function v(t){var r=t.message.split(\"\\n\");if(r.length<4)return null;var l,i,o,p,m=/^\\s*Line (\\d+) of linked script ((?:file|http|https)\\S+)(?:: in function (\\S+))?\\s*$/i,g=/^\\s*Line (\\d+) of inline#(\\d+) script in ((?:file|http|https)\\S+)(?:: in function (\\S+))?\\s*$/i,h=/^\\s*Line (\\d+) of function script\\s*$/i,v=[],x=document.getElementsByTagName(\"script\"),d=[];for(i in x)e(x,i)&&!x[i].src&&d.push(x[i]);for(i=2,o=r.length;o>i;i+=2){var w=null;if(l=m.exec(r[i]))w={url:l[2],func:l[3],line:+l[1]};else if(l=g.exec(r[i])){w={url:l[3],func:l[4]};var k=+l[1],y=d[l[2]-1];if(y&&(p=u(w.url))){p=p.join(\"\\n\");var S=p.indexOf(y.innerText);S>=0&&(w.line=k+p.substring(0,S).split(\"\\n\").length)}}else if(l=h.exec(r[i])){var T=n.location.href.replace(/#.*$/,\"\"),$=l[1],E=new RegExp(s(r[i+1]));p=f(E,[T]),w={url:T,line:p?p.line:$,func:\"\"}}if(w){w.func||(w.func=c(w.url,w.line));var F=a(w.url,w.line),b=F?F[Math.floor(F.length/2)]:null;w.context=F&&b.replace(/^\\s*/,\"\")===r[i+1].replace(/^\\s*/,\"\")?F:[r[i+1]],v.push(w)}}return v.length?{mode:\"multiline\",name:t.name,message:r[0],url:document.location.href,stack:v,useragent:navigator.userAgent}:null}function x(n,e,t,r){var l={url:e,line:t};if(l.url&&l.line){n.incomplete=!1,l.func||(l.func=c(l.url,l.line)),l.context||(l.context=a(l.url,l.line));var u=/ '([^']+)' /.exec(r);if(u&&(l.column=p(u[1],l.url,l.line)),n.stack.length>0&&n.stack[0].url===l.url){if(n.stack[0].line===l.line)return!1;if(!n.stack[0].line&&n.stack[0].func===l.func)return n.stack[0].line=l.line,n.stack[0].context=l.context,!1}return n.stack.unshift(l),n.partial=!0,!0}return n.incomplete=!0,!1}function d(n,e){for(var t,l,u,a=/function\\s+([_$a-zA-Z\\xA0-\\uFFFF][_$a-zA-Z0-9\\xA0-\\uFFFF]*)?\\s*\\(/i,o=[],s={},f=!1,g=d.caller;g&&!f;g=g.caller)if(g!==w&&g!==r.report){if(l={url:null,func:i,line:null,column:null},g.name?l.func=g.name:(t=a.exec(g.toString()))&&(l.func=t[1]),u=m(g)){l.url=u.url,l.line=u.line,l.func===i&&(l.func=c(l.url,l.line));var h=/ '([^']+)' /.exec(n.message||n.description);h&&(l.column=p(h[1],u.url,u.line))}s[\"\"+g]?f=!0:s[\"\"+g]=!0,o.push(l)}e&&o.splice(0,e);var v={mode:\"callers\",name:n.name,message:n.message,url:document.location.href,stack:o,useragent:navigator.userAgent};return x(v,n.sourceURL||n.fileName,n.line||n.lineNumber,n.message||n.description),v}function w(n,e){var t=null;e=null==e?0:+e;try{if(t=h(n))return t}catch(r){if(y)throw r}try{if(t=g(n))return t}catch(r){if(y)throw r}try{if(t=v(n))return t}catch(r){if(y)throw r}try{if(t=d(n,e+1))return t}catch(r){if(y)throw r}return{mode:\"failed\"}}function k(n){n=(null==n?0:+n)+1;try{throw new Error}catch(e){return w(e,n+1)}return null}var y=!1,S={};return w.augmentStackTraceWithInitialElement=x,w.guessFunctionName=c,w.gatherContext=a,w.ofCaller=k,w}(),function(){var e=function(e){var t=n[e];n[e]=function(){var n=u.call(arguments),e=n[0];return\"function\"==typeof e&&(n[0]=r.wrap(e)),t.apply?t.apply(this,n):t(n[0],n[1])}};e(\"setTimeout\"),e(\"setInterval\")}(),r.remoteFetching||(r.remoteFetching=!0),r.collectWindowErrors||(r.collectWindowErrors=!0),(!r.linesOfContext||r.linesOfContext<1)&&(r.linesOfContext=11),n.TraceKit=r}(window);\n!function(r){if(r){var a=r.event.add;r.event.add=function(e,t,i,n,c){var d;return i.handler?(d=i.handler,i.handler=TraceKit.wrap(i.handler)):(d=i,i=TraceKit.wrap(i)),i.guid=d.guid?d.guid:d.guid=r.guid++,a.call(this,e,t,i,n,c)};var e=r.fn.ready;r.fn.ready=function(r){return e.call(this,TraceKit.wrap(r))};var t=r.ajax;r.ajax=function(a,e){var i,n=[\"complete\",\"error\",\"success\"];for(\"object\"==typeof a&&(e=a,a=void 0),e=e||{};i=n.pop();)r.isFunction(e[i])&&(e[i]=TraceKit.wrap(e[i]));try{return t.call(this,a,e)}catch(c){throw TraceKit.report(c),c}}}}(window.jQuery);\n!function(){var e;e=0,TraceKit.remoteFetching=!1,TraceKit.report.subscribe(function(t){var n,o,r,i,c;o=null!=(i=null!=(c=t.stack[0])?c.url:void 0)?i:\"\",(-1!==o.indexOf(\"hipmunk\")||-1!==o.indexOf(\":\"))&&(e+=1,e>5||(n={name:t.name,description:t.message,mode:t.mode,code_url:o,url:window.location.toString(),cookie:document.cookie,stack:t.stack},r=new XMLHttpRequest,r.open(\"POST\",\"/api/track_error\",!0),r.setRequestHeader(\"Content-type\",\"application/x-www-form-urlencoded\"),r.send(\"event=web_js_error&data=\"+encodeURIComponent(JSON.stringify(n)))))})}.call(this);\n!function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return\"OPTGROUP\"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,s,d,i,n,r;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),n=e.childNodes,r=[],d=0,i=n.length;i>d;d++)s=n[d],r.push(this.add_option(s,t,e.disabled));return r},e.prototype.add_option=function(e,t,s){return\"OPTION\"===e.nodeName.toUpperCase()?(\"\"!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:s===!0?s:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var s,d,i,n,r;for(d=new e,r=t.childNodes,i=0,n=r.length;n>i;i++)s=r[i],d.add_node(s);return d.parsed},this.SelectParser=e}.call(this);\n!function(){var t,e;e=this,t=function(){function t(t,e){this.form_field=t,this.options=null!=e?e:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return t.prototype.set_default_values=function(){var t=this;return this.click_test_action=function(e){return t.test_active_click(e)},this.activate_action=function(e){return t.activate_field(e)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&\"\"===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},t.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute(\"data-placeholder\")?this.form_field.getAttribute(\"data-placeholder\"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||\"Select Some Options\":this.options.placeholder_text_single||this.options.placeholder_text||\"Select an Option\",this.results_none_found=this.form_field.getAttribute(\"data-no_results_text\")||this.options.no_results_text||\"No results match\"},t.prototype.mouse_enter=function(){return this.mouse_on_container=!0},t.prototype.mouse_leave=function(){return this.mouse_on_container=!1},t.prototype.input_focus=function(){var t=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return t.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},t.prototype.input_blur=function(){var t=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return t.blur_test()},100))},t.prototype.result_add_option=function(t){var e,s;return t.disabled?\"\":(t.dom_id=this.container_id+\"_o_\"+t.array_index,e=t.selected&&this.is_multiple?[]:[\"active-result\"],t.selected&&e.push(\"result-selected\"),null!=t.group_array_index&&e.push(\"group-option\"),\"\"!==t.classes&&e.push(t.classes),s=\"\"!==t.style.cssText?' style=\"'+t.style+'\"':\"\",'<li id=\"'+t.dom_id+'\" class=\"'+e.join(\" \")+'\"'+s+\">\"+t.html+\"</li>\")},t.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},t.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},t.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},t.prototype.keyup_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),e){case 8:if(this.is_multiple&&this.backstroke_length<1&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(t.preventDefault(),t.stopPropagation(),this.results_showing)return this.result_select(t);break;case 27:return this.results_showing&&(t.stopPropagation(),this.results_hide()),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},t.prototype.generate_field_id=function(){var t;return t=this.generate_random_id(),this.form_field.id=t,t},t.prototype.generate_random_char=function(){var t,e,s;return t=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ\",s=Math.floor(Math.random()*t.length),e=t.substring(s,s+1)},t}(),e.AbstractChosen=t}.call(this);\n!function(){var t,e,s,i,r,h={}.hasOwnProperty,l=function(t,e){function s(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};i=this,t=jQuery,t.fn.extend({chosen:function(s){var i,r,h;return h=navigator.userAgent.toLowerCase(),r=/(msie) ([\\w.]+)/.exec(h)||[],i={name:r[1]||\"\",version:r[2]||\"0\"},\"msie\"===i.name&&(\"6.0\"===i.version||\"7.0\"===i.version&&7===document.documentMode)?this:this.each(function(){var i;return i=t(this),i.hasClass(\"chzn-done\")?void 0:i.data(\"chosen\",new e(this,s))})}}),e=function(e){function h(){return r=h.__super__.constructor.apply(this,arguments)}return l(h,e),h.prototype.setup=function(){return this.form_field_jq=t(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass(\"chzn-rtl\")},h.prototype.finish_setup=function(){return this.form_field_jq.addClass(\"chzn-done\")},h.prototype.set_up_html=function(){var e,i,r,h,l,n;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\\w]/g,\"_\"):this.generate_field_id(),this.container_id+=\"_chzn\",e=[\"chzn-container\"],e.push(\"chzn-container-\"+(this.is_multiple?\"multi\":\"single\")),this.inherit_select_classes&&this.form_field.className&&e.push(this.form_field.className),this.is_rtl&&e.push(\"chzn-rtl\"),this.f_width=this.form_field_jq.outerWidth(),r={id:this.container_id,\"class\":e.join(\" \"),style:\"width: \"+this.f_width+\"px;\",title:this.form_field.title},i=t(\"<div />\",r),this.is_multiple?i.html('<ul class=\"chzn-choices\"><li class=\"search-field\"><input type=\"text\" value=\"'+this.default_text+'\" class=\"default\" autocomplete=\"off\" style=\"width:25px;\" /></li></ul><div class=\"chzn-drop\" style=\"left:-9000px;\"><ul class=\"chzn-results\"></ul></div>'):i.html('<a href=\"javascript:void(0)\" class=\"chzn-single chzn-default\" tabindex=\"-1\"><span>'+this.default_text+'</span><div><b></b></div></a><div class=\"chzn-drop\" style=\"left:-9000px;\"><div class=\"chzn-search\"><input type=\"text\" autocomplete=\"off\" /></div><ul class=\"chzn-results\"></ul></div>'),this.form_field_jq.hide().after(i),this.container=t(\"#\"+this.container_id),this.dropdown=this.container.find(\"div.chzn-drop\").first(),h=this.container.height(),l=this.f_width-s(this.dropdown),this.dropdown.css({width:l+\"px\",top:h+\"px\"}),this.search_field=this.container.find(\"input\").first(),this.search_results=this.container.find(\"ul.chzn-results\").first(),this.search_field_scale(),this.search_no_results=this.container.find(\"li.no-results\").first(),this.is_multiple?(this.search_choices=this.container.find(\"ul.chzn-choices\").first(),this.search_container=this.container.find(\"li.search-field\").first()):(this.search_container=this.container.find(\"div.chzn-search\").first(),this.selected_item=this.container.find(\".chzn-single\").first(),n=l-s(this.search_container)-s(this.search_field),this.search_field.css({width:n+\"px\"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger(\"liszt:ready\",{chosen:this})},h.prototype.register_observers=function(){var t=this;return this.container.mousedown(function(e){return t.container_mousedown(e)}),this.container.mouseup(function(e){return t.container_mouseup(e)}),this.container.mouseenter(function(e){return t.mouse_enter(e)}),this.container.mouseleave(function(e){return t.mouse_leave(e)}),this.search_results.mouseup(function(e){return t.search_results_mouseup(e)}),this.search_results.mouseover(function(e){return t.search_results_mouseover(e)}),this.search_results.mouseout(function(e){return t.search_results_mouseout(e)}),this.form_field_jq.bind(\"liszt:updated\",function(e){return t.results_update_field(e)}),this.form_field_jq.bind(\"liszt:activate\",function(e){return t.activate_field(e)}),this.form_field_jq.bind(\"liszt:open\",function(e){return t.container_mousedown(e)}),this.search_field.blur(function(e){return t.input_blur(e)}),this.search_field.keyup(function(e){return t.keyup_checker(e)}),this.search_field.keydown(function(e){return t.keydown_checker(e)}),this.search_field.focus(function(e){return t.input_focus(e)}),this.is_multiple?this.search_choices.click(function(e){return t.choices_click(e)}):this.container.click(function(t){return t.preventDefault()})},h.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass(\"chzn-disabled\"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind(\"focus\",this.activate_action),this.close_field()):(this.container.removeClass(\"chzn-disabled\"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind(\"focus\",this.activate_action))},h.prototype.container_mousedown=function(e){var s;return this.is_disabled?void 0:(s=null!=e?t(e.target).hasClass(\"search-choice-close\"):!1,e&&\"mousedown\"===e.type&&!this.results_showing&&e.preventDefault(),this.pending_destroy_click||s?this.pending_destroy_click=!1:(this.active_field?this.is_multiple||!e||t(e.target)[0]!==this.selected_item[0]&&!t(e.target).parents(\"a.chzn-single\").length||(e.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(\"\"),t(document).click(this.click_test_action),this.results_show()),this.activate_field()))},h.prototype.container_mouseup=function(t){return\"ABBR\"!==t.target.nodeName||this.is_disabled?void 0:this.results_reset(t)},h.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass(\"chzn-container-active\")?this.close_field():void 0},h.prototype.close_field=function(){return t(document).unbind(\"click\",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass(\"chzn-container-active\"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},h.prototype.activate_field=function(){return this.container.addClass(\"chzn-container-active\"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},h.prototype.test_active_click=function(e){return t(e.target).parents(\"#\"+this.container_id).length?this.active_field=!0:this.close_field()},h.prototype.results_build=function(){var t,e,s,r,h;for(this.parsing=!0,this.results_data=i.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find(\"li.search-choice\").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass(\"chzn-default\").find(\"span\").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass(\"chzn-container-single-nosearch\"):this.container.removeClass(\"chzn-container-single-nosearch\")),t=\"\",h=this.results_data,s=0,r=h.length;r>s;s++)e=h[s],e.group?t+=this.result_add_group(e):e.empty||(t+=this.result_add_option(e),e.selected&&this.is_multiple?this.choice_build(e):e.selected&&!this.is_multiple&&(this.selected_item.removeClass(\"chzn-default\").find(\"span\").text(e.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(t),this.parsing=!1},h.prototype.result_add_group=function(e){return e.disabled?\"\":(e.dom_id=this.container_id+\"_g_\"+e.array_index,'<li id=\"'+e.dom_id+'\" class=\"group-result\">'+t(\"<div />\").text(e.label).html()+\"</li>\")},h.prototype.result_do_highlight=function(t){var e,s,i,r,h;if(t.length){if(this.result_clear_highlight(),this.result_highlight=t,this.result_highlight.addClass(\"highlighted\"),i=parseInt(this.search_results.css(\"maxHeight\"),10),h=this.search_results.scrollTop(),r=i+h,s=this.result_highlight.position().top+this.search_results.scrollTop(),e=s+this.result_highlight.outerHeight(),e>=r)return this.search_results.scrollTop(e-i>0?e-i:0);if(h>s)return this.search_results.scrollTop(s)}},h.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass(\"highlighted\"),this.result_highlight=null},h.prototype.results_show=function(){var t;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger(\"liszt:maxselected\",{chosen:this}),!1}else this.selected_item.addClass(\"chzn-single-with-drop\"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return t=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger(\"liszt:showing_dropdown\",{chosen:this}),this.dropdown.css({top:t+\"px\",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},h.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass(\"chzn-single-with-drop\"),this.result_clear_highlight(),this.form_field_jq.trigger(\"liszt:hiding_dropdown\",{chosen:this}),this.dropdown.css({left:\"-9000px\"}),this.results_showing=!1},h.prototype.set_tab_index=function(){var t;return this.form_field_jq.attr(\"tabindex\")?(t=this.form_field_jq.attr(\"tabindex\"),this.form_field_jq.attr(\"tabindex\",-1),this.search_field.attr(\"tabindex\",t)):void 0},h.prototype.show_search_field_default=function(){return this.is_multiple&&this.choices<1&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass(\"default\")):(this.search_field.val(\"\"),this.search_field.removeClass(\"default\"))},h.prototype.search_results_mouseup=function(e){var s;return s=t(e.target).hasClass(\"active-result\")?t(e.target):t(e.target).parents(\".active-result\").first(),s.length?(this.result_highlight=s,this.result_select(e),this.search_field.focus()):void 0},h.prototype.search_results_mouseover=function(e){var s;return s=t(e.target).hasClass(\"active-result\")?t(e.target):t(e.target).parents(\".active-result\").first(),s?this.result_do_highlight(s):void 0},h.prototype.search_results_mouseout=function(e){return t(e.target).hasClass(\"active-result\")?this.result_clear_highlight():void 0},h.prototype.choices_click=function(e){return e.preventDefault(),!this.active_field||t(e.target).hasClass(\"search-choice\")||this.results_showing?void 0:this.results_show()},h.prototype.choice_build=function(e){var s,i,r,h=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger(\"liszt:maxselected\",{chosen:this}),!1):(s=this.container_id+\"_c_\"+e.array_index,this.choices+=1,i=e.disabled?'<li class=\"search-choice search-choice-disabled\" id=\"'+s+'\"><span>'+e.html+\"</span></li>\":'<li class=\"search-choice\" id=\"'+s+'\"><span>'+e.html+'</span><a href=\"javascript:void(0)\" class=\"search-choice-close\" rel=\"'+e.array_index+'\"></a></li>',this.search_container.before(i),r=t(\"#\"+s).find(\"a\").first(),r.click(function(t){return h.choice_destroy_link_click(t)}))},h.prototype.choice_destroy_link_click=function(e){return e.preventDefault(),this.is_disabled?e.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(t(e.target)))},h.prototype.choice_destroy=function(t){return this.result_deselect(t.attr(\"rel\"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&this.search_field.val().length<1&&this.results_hide(),t.parents(\"li\").first().remove(),this.search_field_scale()):void 0},h.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find(\"span\").text(this.default_text),this.is_multiple||this.selected_item.addClass(\"chzn-default\"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger(\"change\"),this.active_field?this.results_hide():void 0},h.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find(\"abbr\").remove()},h.prototype.result_select=function(t){var e,s,i,r;return this.result_highlight?(e=this.result_highlight,s=e.attr(\"id\"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(e):(this.search_results.find(\".result-selected\").removeClass(\"result-selected\"),this.result_single_selected=e,this.selected_item.removeClass(\"chzn-default\")),e.addClass(\"result-selected\"),r=s.substr(s.lastIndexOf(\"_\")+1),i=this.results_data[r],i.selected=!0,this.form_field.options[i.options_index].selected=!0,this.is_multiple?this.choice_build(i):(this.selected_item.find(\"span\").first().text(i.text),this.allow_single_deselect&&this.single_deselect_control_build()),(t.metaKey||t.ctrlKey)&&this.is_multiple||this.results_hide(),this.search_field.val(\"\"),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger(\"change\",{selected:this.form_field.options[i.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},h.prototype.result_activate=function(t){return t.addClass(\"active-result\")},h.prototype.result_deactivate=function(t){return t.removeClass(\"active-result\")},h.prototype.result_deselect=function(e){var s,i;return i=this.results_data[e],this.form_field.options[i.options_index].disabled?!1:(i.selected=!1,this.form_field.options[i.options_index].selected=!1,s=t(\"#\"+this.container_id+\"_o_\"+e),s.removeClass(\"result-selected\").addClass(\"active-result\").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger(\"change\",{deselected:this.form_field.options[i.options_index].value}),this.search_field_scale(),!0)},h.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&this.selected_item.find(\"abbr\").length<1?this.selected_item.find(\"span\").first().after('<abbr class=\"search-choice-close\"></abbr>'):void 0},h.prototype.winnow_results=function(){var e,s,i,r,h,l,n,o,a,c,_,d,u,f,p,g,m,v;for(this.no_results_clear(),a=0,c=this.search_field.val()===this.default_text?\"\":t(\"<div/>\").text(t.trim(this.search_field.val())).html(),l=this.search_contains?\"\":\"^\",h=new RegExp(l+c.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\"),\"i\"),u=new RegExp(c.replace(/[-[\\]{}()*+?.,\\\\^$|#\\s]/g,\"\\\\$&\"),\"i\"),v=this.results_data,f=0,g=v.length;g>f;f++)if(s=v[f],!s.disabled&&!s.empty)if(s.group)t(\"#\"+s.dom_id).css(\"display\",\"none\");else if(!this.is_multiple||!s.selected){if(e=!1,o=s.dom_id,n=t(\"#\"+o),h.test(s.html))e=!0,a+=1;else if(this.enable_split_word_search&&(s.html.indexOf(\" \")>=0||0===s.html.indexOf(\"[\"))&&(r=s.html.replace(/\\[|\\]/g,\"\").split(\" \"),r.length))for(p=0,m=r.length;m>p;p++)i=r[p],h.test(i)&&(e=!0,a+=1);e?(c.length?(_=s.html.search(u),d=s.html.substr(0,_+c.length)+\"</em>\"+s.html.substr(_+c.length),d=d.substr(0,_)+\"<em>\"+d.substr(_)):d=s.html,n.html(d),this.result_activate(n),null!=s.group_array_index&&t(\"#\"+this.results_data[s.group_array_index].dom_id).css(\"display\",\"list-item\")):(this.result_highlight&&o===this.result_highlight.attr(\"id\")&&this.result_clear_highlight(),this.result_deactivate(n))}return 1>a&&c.length?this.no_results(c):this.winnow_results_set_highlight()},h.prototype.winnow_results_clear=function(){var e,s,i,r,h;for(this.search_field.val(\"\"),s=this.search_results.find(\"li\"),h=[],i=0,r=s.length;r>i;i++)e=s[i],e=t(e),e.hasClass(\"group-result\")?h.push(e.css(\"display\",\"auto\")):this.is_multiple&&e.hasClass(\"result-selected\")?h.push(void 0):h.push(this.result_activate(e));return h},h.prototype.winnow_results_set_highlight=function(){var t,e;return this.result_highlight||(e=this.is_multiple?[]:this.search_results.find(\".result-selected.active-result\"),t=e.length?e.first():this.search_results.find(\".active-result\").first(),null==t)?void 0:this.result_do_highlight(t)},h.prototype.no_results=function(e){var s;return s=t('<li class=\"no-results\">'+this.results_none_found+' \"<span></span>\"</li>'),s.find(\"span\").first().html(e),this.search_results.append(s)},h.prototype.no_results_clear=function(){return this.search_results.find(\".no-results\").remove()},h.prototype.keydown_arrow=function(){var e,s;return this.result_highlight?this.results_showing&&(s=this.result_highlight.nextAll(\"li.active-result\").first(),s&&this.result_do_highlight(s)):(e=this.search_results.find(\"li.active-result\").first(),e&&this.result_do_highlight(t(e))),this.results_showing?void 0:this.results_show()},h.prototype.keyup_arrow=function(){var t;return this.results_showing||this.is_multiple?this.result_highlight?(t=this.result_highlight.prevAll(\"li.active-result\"),t.length?this.result_do_highlight(t.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},h.prototype.keydown_backstroke=function(){var t;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find(\"a\").first()),this.clear_backstroke()):(t=this.search_container.siblings(\"li.search-choice\").last(),t.length&&!t.hasClass(\"search-choice-disabled\")?(this.pending_backstroke=t,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass(\"search-choice-focus\")):void 0)},h.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass(\"search-choice-focus\"),this.pending_backstroke=null},h.prototype.keydown_checker=function(t){var e,s;switch(e=null!=(s=t.which)?s:t.keyCode,this.search_field_scale(),8!==e&&this.pending_backstroke&&this.clear_backstroke(),e){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(t),this.mouse_on_container=!1;break;case 13:t.preventDefault(),t.stopPropagation();break;case 27:if(this.results_showing)return t.stopPropagation();break;case 38:t.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},h.prototype.search_field_scale=function(){var e,s,i,r,h,l,n,o,a;if(this.is_multiple){for(i=0,n=0,h=\"position:absolute; left: -1000px; top: -1000px; display:none;\",l=[\"font-size\",\"font-style\",\"font-weight\",\"font-family\",\"line-height\",\"text-transform\",\"letter-spacing\"],o=0,a=l.length;a>o;o++)r=l[o],h+=r+\":\"+this.search_field.css(r)+\";\";return s=t(\"<div />\",{style:h}),s.text(this.search_field.val()),t(\"body\").append(s),n=s.width()+25,s.remove(),n>this.f_width-10&&(n=this.f_width-10),this.search_field.css({width:n+\"px\"}),e=this.container.height(),this.dropdown.css({top:e+\"px\"})}},h.prototype.generate_random_id=function(){var e;for(e=\"sel\"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();t(\"#\"+e).length>0;)e+=this.generate_random_char();return e},h}(AbstractChosen),i.Chosen=e,s=function(t){var e;return e=t.outerWidth()-t.width()},i.get_side_border_padding=s}.call(this);\n!function(){null==this.hm&&(this.hm={}),hm[\"export\"]=function(n){var t;t=function(n,h){var l,u,i;i=[];for(l in h)u=h[l],\"object\"!=typeof u||null===u||u.length>=0?i.push(n[l]=u):(null==n[l]&&(n[l]={}),i.push(t(n[l],u)));return i},t(hm,n)}}.call(this);\n!function(){var n=this,t=n._,r={},e=Array.prototype,u=Object.prototype,i=Function.prototype,a=e.push,o=e.slice,c=e.concat,l=u.toString,f=u.hasOwnProperty,s=e.forEach,p=e.map,v=e.reduce,h=e.reduceRight,g=e.filter,d=e.every,m=e.some,y=e.indexOf,b=e.lastIndexOf,x=Array.isArray,_=Object.keys,w=i.bind,j=function(n){return n instanceof j?n:this instanceof j?(this._wrapped=n,void 0):new j(n)};\"undefined\"!=typeof exports?(\"undefined\"!=typeof module&&module.exports&&(exports=module.exports=j),exports._=j):n._=j,j.VERSION=\"1.4.3\";var A=j.each=j.forEach=function(n,t,e){if(null!=n)if(s&&n.forEach===s)n.forEach(t,e);else if(n.length===+n.length){for(var u=0,i=n.length;i>u;u++)if(t.call(e,n[u],u,n)===r)return}else for(var a in n)if(j.has(n,a)&&t.call(e,n[a],a,n)===r)return};j.map=j.collect=function(n,t,r){var e=[];return null==n?e:p&&n.map===p?n.map(t,r):(A(n,function(n,u,i){e[e.length]=t.call(r,n,u,i)}),e)};var O=\"Reduce of empty array with no initial value\";j.reduce=j.foldl=j.inject=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),v&&n.reduce===v)return e&&(t=j.bind(t,e)),u?n.reduce(t,r):n.reduce(t);if(A(n,function(n,i,a){u?r=t.call(e,r,n,i,a):(r=n,u=!0)}),!u)throw new TypeError(O);return r},j.reduceRight=j.foldr=function(n,t,r,e){var u=arguments.length>2;if(null==n&&(n=[]),h&&n.reduceRight===h)return e&&(t=j.bind(t,e)),u?n.reduceRight(t,r):n.reduceRight(t);var i=n.length;if(i!==+i){var a=j.keys(n);i=a.length}if(A(n,function(o,c,l){c=a?a[--i]:--i,u?r=t.call(e,r,n[c],c,l):(r=n[c],u=!0)}),!u)throw new TypeError(O);return r},j.find=j.detect=function(n,t,r){var e;return E(n,function(n,u,i){return t.call(r,n,u,i)?(e=n,!0):void 0}),e},j.filter=j.select=function(n,t,r){var e=[];return null==n?e:g&&n.filter===g?n.filter(t,r):(A(n,function(n,u,i){t.call(r,n,u,i)&&(e[e.length]=n)}),e)},j.reject=function(n,t,r){return j.filter(n,function(n,e,u){return!t.call(r,n,e,u)},r)},j.every=j.all=function(n,t,e){t||(t=j.identity);var u=!0;return null==n?u:d&&n.every===d?n.every(t,e):(A(n,function(n,i,a){return(u=u&&t.call(e,n,i,a))?void 0:r}),!!u)};var E=j.some=j.any=function(n,t,e){t||(t=j.identity);var u=!1;return null==n?u:m&&n.some===m?n.some(t,e):(A(n,function(n,i,a){return u||(u=t.call(e,n,i,a))?r:void 0}),!!u)};j.contains=j.include=function(n,t){return null==n?!1:y&&n.indexOf===y?-1!=n.indexOf(t):E(n,function(n){return n===t})},j.invoke=function(n,t){var r=o.call(arguments,2);return j.map(n,function(n){return(j.isFunction(t)?t:n[t]).apply(n,r)})},j.pluck=function(n,t){return j.map(n,function(n){return n[t]})},j.where=function(n,t){return j.isEmpty(t)?[]:j.filter(n,function(n){for(var r in t)if(t[r]!==n[r])return!1;return!0})},j.max=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.max.apply(Math,n);if(!t&&j.isEmpty(n))return-1/0;var e={computed:-1/0,value:-1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a>=e.computed&&(e={value:n,computed:a})}),e.value},j.min=function(n,t,r){if(!t&&j.isArray(n)&&n[0]===+n[0]&&n.length<65535)return Math.min.apply(Math,n);if(!t&&j.isEmpty(n))return 1/0;var e={computed:1/0,value:1/0};return A(n,function(n,u,i){var a=t?t.call(r,n,u,i):n;a<e.computed&&(e={value:n,computed:a})}),e.value},j.shuffle=function(n){var t,r=0,e=[];return A(n,function(n){t=j.random(r++),e[r-1]=e[t],e[t]=n}),e};var F=function(n){return j.isFunction(n)?n:function(t){return t[n]}};j.sortBy=function(n,t,r){var e=F(t);return j.pluck(j.map(n,function(n,t,u){return{value:n,index:t,criteria:e.call(r,n,t,u)}}).sort(function(n,t){var r=n.criteria,e=t.criteria;if(r!==e){if(r>e||void 0===r)return 1;if(e>r||void 0===e)return-1}return n.index<t.index?-1:1}),\"value\")};var k=function(n,t,r,e){var u={},i=F(t||j.identity);return A(n,function(t,a){var o=i.call(r,t,a,n);e(u,o,t)}),u};j.groupBy=function(n,t,r){return k(n,t,r,function(n,t,r){(j.has(n,t)?n[t]:n[t]=[]).push(r)})},j.countBy=function(n,t,r){return k(n,t,r,function(n,t){j.has(n,t)||(n[t]=0),n[t]++})},j.sortedIndex=function(n,t,r,e){r=null==r?j.identity:F(r);for(var u=r.call(e,t),i=0,a=n.length;a>i;){var o=i+a>>>1;r.call(e,n[o])<u?i=o+1:a=o}return i},j.toArray=function(n){return n?j.isArray(n)?o.call(n):n.length===+n.length?j.map(n,j.identity):j.values(n):[]},j.size=function(n){return null==n?0:n.length===+n.length?n.length:j.keys(n).length},j.first=j.head=j.take=function(n,t,r){return null==n?void 0:null==t||r?n[0]:o.call(n,0,t)},j.initial=function(n,t,r){return o.call(n,0,n.length-(null==t||r?1:t))},j.last=function(n,t,r){return null==n?void 0:null==t||r?n[n.length-1]:o.call(n,Math.max(n.length-t,0))},j.rest=j.tail=j.drop=function(n,t,r){return o.call(n,null==t||r?1:t)},j.compact=function(n){return j.filter(n,j.identity)};var R=function(n,t,r){return A(n,function(n){j.isArray(n)?t?a.apply(r,n):R(n,t,r):r.push(n)}),r};j.flatten=function(n,t){return R(n,t,[])},j.without=function(n){return j.difference(n,o.call(arguments,1))},j.uniq=j.unique=function(n,t,r,e){j.isFunction(t)&&(e=r,r=t,t=!1);var u=r?j.map(n,r,e):n,i=[],a=[];return A(u,function(r,e){(t?e&&a[a.length-1]===r:j.contains(a,r))||(a.push(r),i.push(n[e]))}),i},j.union=function(){return j.uniq(c.apply(e,arguments))},j.intersection=function(n){var t=o.call(arguments,1);return j.filter(j.uniq(n),function(n){return j.every(t,function(t){return j.indexOf(t,n)>=0})})},j.difference=function(n){var t=c.apply(e,o.call(arguments,1));return j.filter(n,function(n){return!j.contains(t,n)})},j.zip=function(){for(var n=o.call(arguments),t=j.max(j.pluck(n,\"length\")),r=new Array(t),e=0;t>e;e++)r[e]=j.pluck(n,\"\"+e);return r},j.object=function(n,t){if(null==n)return{};for(var r={},e=0,u=n.length;u>e;e++)t?r[n[e]]=t[e]:r[n[e][0]]=n[e][1];return r},j.indexOf=function(n,t,r){if(null==n)return-1;var e=0,u=n.length;if(r){if(\"number\"!=typeof r)return e=j.sortedIndex(n,t),n[e]===t?e:-1;e=0>r?Math.max(0,u+r):r}if(y&&n.indexOf===y)return n.indexOf(t,r);for(;u>e;e++)if(n[e]===t)return e;return-1},j.lastIndexOf=function(n,t,r){if(null==n)return-1;var e=null!=r;if(b&&n.lastIndexOf===b)return e?n.lastIndexOf(t,r):n.lastIndexOf(t);for(var u=e?r:n.length;u--;)if(n[u]===t)return u;return-1},j.range=function(n,t,r){arguments.length<=1&&(t=n||0,n=0),r=arguments[2]||1;for(var e=Math.max(Math.ceil((t-n)/r),0),u=0,i=new Array(e);e>u;)i[u++]=n,n+=r;return i};var S=function(){};j.bind=function(n,t){var r,e;if(n.bind===w&&w)return w.apply(n,o.call(arguments,1));if(!j.isFunction(n))throw new TypeError;return r=o.call(arguments,2),e=function(){if(!(this instanceof e))return n.apply(t,r.concat(o.call(arguments)));S.prototype=n.prototype;var u=new S;S.prototype=null;var i=n.apply(u,r.concat(o.call(arguments)));return Object(i)===i?i:u}},j.bindAll=function(n){var t=o.call(arguments,1);return 0==t.length&&(t=j.functions(n)),A(t,function(t){n[t]=j.bind(n[t],n)}),n},j.memoize=function(n,t){var r={};return t||(t=j.identity),function(){var e=t.apply(this,arguments);return j.has(r,e)?r[e]:r[e]=n.apply(this,arguments)}},j.delay=function(n,t){var r=o.call(arguments,2);return setTimeout(function(){return n.apply(null,r)},t)},j.defer=function(n){return j.delay.apply(j,[n,1].concat(o.call(arguments,1)))},j.throttle=function(n,t){var r,e,u,i,a=0,o=function(){a=new Date,u=null,i=n.apply(r,e)};return function(){var c=new Date,l=t-(c-a);return r=this,e=arguments,0>=l?(clearTimeout(u),u=null,a=c,i=n.apply(r,e)):u||(u=setTimeout(o,l)),i}},j.debounce=function(n,t,r){var e,u;return function(){var i=this,a=arguments,o=function(){e=null,r||(u=n.apply(i,a))},c=r&&!e;return clearTimeout(e),e=setTimeout(o,t),c&&(u=n.apply(i,a)),u}},j.once=function(n){var t,r=!1;return function(){return r?t:(r=!0,t=n.apply(this,arguments),n=null,t)}},j.wrap=function(n,t){return function(){var r=[n];return a.apply(r,arguments),t.apply(this,r)}},j.compose=function(){var n=arguments;return function(){for(var t=arguments,r=n.length-1;r>=0;r--)t=[n[r].apply(this,t)];return t[0]}},j.after=function(n,t){return 0>=n?t():function(){return--n<1?t.apply(this,arguments):void 0}},j.keys=_||function(n){if(n!==Object(n))throw new TypeError(\"Invalid object\");var t=[];for(var r in n)j.has(n,r)&&(t[t.length]=r);return t},j.values=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push(n[r]);return t},j.pairs=function(n){var t=[];for(var r in n)j.has(n,r)&&t.push([r,n[r]]);return t},j.invert=function(n){var t={};for(var r in n)j.has(n,r)&&(t[n[r]]=r);return t},j.functions=j.methods=function(n){var t=[];for(var r in n)j.isFunction(n[r])&&t.push(r);return t.sort()},j.extend=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)n[r]=t[r]}),n},j.pick=function(n){var t={},r=c.apply(e,o.call(arguments,1));return A(r,function(r){r in n&&(t[r]=n[r])}),t},j.omit=function(n){var t={},r=c.apply(e,o.call(arguments,1));for(var u in n)j.contains(r,u)||(t[u]=n[u]);return t},j.defaults=function(n){return A(o.call(arguments,1),function(t){if(t)for(var r in t)null==n[r]&&(n[r]=t[r])}),n},j.clone=function(n){return j.isObject(n)?j.isArray(n)?n.slice():j.extend({},n):n},j.tap=function(n,t){return t(n),n};var I=function(n,t,r,e){if(n===t)return 0!==n||1/n==1/t;if(null==n||null==t)return n===t;n instanceof j&&(n=n._wrapped),t instanceof j&&(t=t._wrapped);var u=l.call(n);if(u!=l.call(t))return!1;switch(u){case\"[object String]\":return n==String(t);case\"[object Number]\":return n!=+n?t!=+t:0==n?1/n==1/t:n==+t;case\"[object Date]\":case\"[object Boolean]\":return+n==+t;case\"[object RegExp]\":return n.source==t.source&&n.global==t.global&&n.multiline==t.multiline&&n.ignoreCase==t.ignoreCase}if(\"object\"!=typeof n||\"object\"!=typeof t)return!1;for(var i=r.length;i--;)if(r[i]==n)return e[i]==t;r.push(n),e.push(t);var a=0,o=!0;if(\"[object Array]\"==u){if(a=n.length,o=a==t.length)for(;a--&&(o=I(n[a],t[a],r,e)););}else{var c=n.constructor,f=t.constructor;if(c!==f&&!(j.isFunction(c)&&c instanceof c&&j.isFunction(f)&&f instanceof f))return!1;for(var s in n)if(j.has(n,s)&&(a++,!(o=j.has(t,s)&&I(n[s],t[s],r,e))))break;if(o){for(s in t)if(j.has(t,s)&&!a--)break;o=!a}}return r.pop(),e.pop(),o};j.isEqual=function(n,t){return I(n,t,[],[])},j.isEmpty=function(n){if(null==n)return!0;if(j.isArray(n)||j.isString(n))return 0===n.length;for(var t in n)if(j.has(n,t))return!1;return!0},j.isElement=function(n){return!(!n||1!==n.nodeType)},j.isArray=x||function(n){return\"[object Array]\"==l.call(n)},j.isObject=function(n){return n===Object(n)},A([\"Arguments\",\"Function\",\"String\",\"Number\",\"Date\",\"RegExp\"],function(n){j[\"is\"+n]=function(t){return l.call(t)==\"[object \"+n+\"]\"}}),j.isArguments(arguments)||(j.isArguments=function(n){return!(!n||!j.has(n,\"callee\"))}),\"function\"!=typeof/./&&(j.isFunction=function(n){return\"function\"==typeof n}),j.isFinite=function(n){return isFinite(n)&&!isNaN(parseFloat(n))},j.isNaN=function(n){return j.isNumber(n)&&n!=+n},j.isBoolean=function(n){return n===!0||n===!1||\"[object Boolean]\"==l.call(n)},j.isNull=function(n){return null===n},j.isUndefined=function(n){return void 0===n},j.has=function(n,t){return f.call(n,t)},j.noConflict=function(){return n._=t,this},j.identity=function(n){return n},j.times=function(n,t,r){for(var e=Array(n),u=0;n>u;u++)e[u]=t.call(r,u);return e},j.random=function(n,t){return null==t&&(t=n,n=0),n+(0|Math.random()*(t-n+1))};var T={escape:{\"&\":\"&amp;\",\"<\":\"&lt;\",\">\":\"&gt;\",'\"':\"&quot;\",\"'\":\"&#x27;\",\"/\":\"&#x2F;\"}};T.unescape=j.invert(T.escape);var M={escape:new RegExp(\"[\"+j.keys(T.escape).join(\"\")+\"]\",\"g\"),unescape:new RegExp(\"(\"+j.keys(T.unescape).join(\"|\")+\")\",\"g\")};j.each([\"escape\",\"unescape\"],function(n){j[n]=function(t){return null==t?\"\":(\"\"+t).replace(M[n],function(t){return T[n][t]})}}),j.result=function(n,t){if(null==n)return null;var r=n[t];return j.isFunction(r)?r.call(n):r},j.mixin=function(n){A(j.functions(n),function(t){var r=j[t]=n[t];j.prototype[t]=function(){var n=[this._wrapped];return a.apply(n,arguments),z.call(this,r.apply(j,n))}})};var N=0;j.uniqueId=function(n){var t=\"\"+ ++N;return n?n+t:t},j.templateSettings={evaluate:/<%([\\s\\S]+?)%>/g,interpolate:/<%=([\\s\\S]+?)%>/g,escape:/<%-([\\s\\S]+?)%>/g};var q=/(.)^/,B={\"'\":\"'\",\"\\\\\":\"\\\\\",\"\\r\":\"r\",\"\\n\":\"n\",\"\t\":\"t\",\"\\u2028\":\"u2028\",\"\\u2029\":\"u2029\"},D=/\\\\|'|\\r|\\n|\\t|\\u2028|\\u2029/g;j.template=function(n,t,r){r=j.defaults({},r,j.templateSettings);var e=new RegExp([(r.escape||q).source,(r.interpolate||q).source,(r.evaluate||q).source].join(\"|\")+\"|$\",\"g\"),u=0,i=\"__p+='\";n.replace(e,function(t,r,e,a,o){return i+=n.slice(u,o).replace(D,function(n){return\"\\\\\"+B[n]}),r&&(i+=\"'+\\n((__t=(\"+r+\"))==null?'':_.escape(__t))+\\n'\"),e&&(i+=\"'+\\n((__t=(\"+e+\"))==null?'':__t)+\\n'\"),a&&(i+=\"';\\n\"+a+\"\\n__p+='\"),u=o+t.length,t}),i+=\"';\\n\",r.variable||(i=\"with(obj||{}){\\n\"+i+\"}\\n\"),i=\"var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\\n\"+i+\"return __p;\\n\";try{var a=new Function(r.variable||\"obj\",\"_\",i)}catch(o){throw o.source=i,o}if(t)return a(t,j);var c=function(n){return a.call(this,n,j)};return c.source=\"function(\"+(r.variable||\"obj\")+\"){\\n\"+i+\"}\",c},j.chain=function(n){return j(n).chain()};var z=function(n){return this._chain?j(n).chain():n};j.mixin(j),A([\"pop\",\"push\",\"reverse\",\"shift\",\"sort\",\"splice\",\"unshift\"],function(n){var t=e[n];j.prototype[n]=function(){var r=this._wrapped;return t.apply(r,arguments),\"shift\"!=n&&\"splice\"!=n||0!==r.length||delete r[0],z.call(this,r)}}),A([\"concat\",\"join\",\"slice\"],function(n){var t=e[n];j.prototype[n]=function(){return z.call(this,t.apply(this._wrapped,arguments))}}),j.extend(j.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this);\n!function(){for(var n=0,i=[\"ms\",\"moz\",\"webkit\",\"o\"],e=0;e<i.length&&!window.requestAnimationFrame;++e)window.requestAnimationFrame=window[i[e]+\"RequestAnimationFrame\"],window.cancelAnimationFrame=window[i[e]+\"CancelAnimationFrame\"]||window[i[e]+\"CancelRequestAnimationFrame\"];window.requestAnimationFrame||(window.requestAnimationFrame=function(i){var e=(new Date).getTime(),a=Math.max(0,16-(e-n)),o=window.setTimeout(function(){i(e+a)},a);return n=e+a,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(n){clearTimeout(n)})}();\nwindow.matchMedia=window.matchMedia||function(e){\"use strict\";var t,i=e.documentElement,n=i.firstElementChild||i.firstChild,d=e.createElement(\"body\"),s=e.createElement(\"div\");return s.id=\"mq-test-1\",s.style.cssText=\"position:absolute;top:-100em\",d.style.background=\"none\",d.appendChild(s),function(e){return s.innerHTML='&shy;<style media=\"'+e+'\"> #mq-test-1 { width: 42px; }</style>',i.insertBefore(d,n),t=42===s.offsetWidth,i.removeChild(d),{matches:t,media:e}}}(document);\n!function(){if(!window.matchMedia(\"all\").addListener){var e=window.matchMedia;window.matchMedia=function(a){var n,t=e(a),i=[],r=t.matches,c=function(){var n=e(a),c=n.matches&&!r,h=!n.matches&&r;if(c||h)for(var l=0,o=i.length;o>l;l++)i[l].call(t,n);r=n.matches};return t.addListener=function(e){i.push(e),n||(n=setInterval(c,1e3))},t.removeListener=function(e){for(var a=0,t=i.length;t>a;a++)i[a]===e&&i.splice(a,1);!i.length&&n&&clearInterval(n)},t}}}();\nwindow.Modernizr=function(e,n,t){function r(e){h.cssText=e}function o(e,n){return typeof e===n}function i(e,n){return!!~(\"\"+e).indexOf(n)}function s(e,n){for(var r in e){var o=e[r];if(!i(o,\"-\")&&h[o]!==t)return\"pfx\"==n?o:!0}return!1}function a(e,n,r){for(var i in e){var s=n[e[i]];if(s!==t)return r===!1?e[i]:o(s,\"function\")?s.bind(r||n):s}return!1}function u(e,n,t){var r=e.charAt(0).toUpperCase()+e.slice(1),i=(e+\" \"+C.join(r+\" \")+r).split(\" \");return o(n,\"string\")||o(n,\"undefined\")?s(i,n):(i=(e+\" \"+g.join(r+\" \")+r).split(\" \"),a(i,n,t))}var l,f,c,d=\"2.6.2\",p={},y=n.documentElement,v=\"modernizr\",m=n.createElement(v),h=m.style,w=({}.toString,\" -webkit- -moz- -o- -ms- \".split(\" \")),b=\"Webkit Moz O ms\",C=b.split(\" \"),g=b.toLowerCase().split(\" \"),x={},E=[],j=E.slice,P=function(e,t,r,o){var i,s,a,u,l=n.createElement(\"div\"),f=n.body,c=f||n.createElement(\"body\");if(parseInt(r,10))for(;r--;)a=n.createElement(\"div\"),a.id=o?o[r]:v+(r+1),l.appendChild(a);return i=[\"&#173;\",'<style id=\"s',v,'\">',e,\"</style>\"].join(\"\"),l.id=v,(f?l:c).innerHTML+=i,c.appendChild(l),f||(c.style.background=\"\",c.style.overflow=\"hidden\",u=y.style.overflow,y.style.overflow=\"hidden\",y.appendChild(c)),s=t(l,e),f?l.parentNode.removeChild(l):(c.parentNode.removeChild(c),y.style.overflow=u),!!s},T={}.hasOwnProperty;c=o(T,\"undefined\")||o(T.call,\"undefined\")?function(e,n){return n in e&&o(e.constructor.prototype[n],\"undefined\")}:function(e,n){return T.call(e,n)},Function.prototype.bind||(Function.prototype.bind=function(e){var n=this;if(\"function\"!=typeof n)throw new TypeError;var t=j.call(arguments,1),r=function(){if(this instanceof r){var o=function(){};o.prototype=n.prototype;var i=new o,s=n.apply(i,t.concat(j.call(arguments)));return Object(s)===s?s:i}return n.apply(e,t.concat(j.call(arguments)))};return r}),x.csstransitions=function(){return u(\"transition\")};for(var z in x)c(x,z)&&(f=z.toLowerCase(),p[f]=x[z](),E.push((p[f]?\"\":\"no-\")+f));return p.addTest=function(e,n){if(\"object\"==typeof e)for(var r in e)c(e,r)&&p.addTest(r,e[r]);else{if(e=e.toLowerCase(),p[e]!==t)return p;n=\"function\"==typeof n?n():n,\"undefined\"!=typeof enableClasses&&enableClasses&&(y.className+=\" \"+(n?\"\":\"no-\")+e),p[e]=n}return p},r(\"\"),m=l=null,p._version=d,p._prefixes=w,p._domPrefixes=g,p._cssomPrefixes=C,p.testProp=function(e){return s([e])},p.testAllProps=u,p.testStyles=P,p}(this,this.document);\nDate.CultureInfo={name:\"en-US\",englishName:\"English (United States)\",nativeName:\"English (United States)\",dayNames:[\"Sunday\",\"Monday\",\"Tuesday\",\"Wednesday\",\"Thursday\",\"Friday\",\"Saturday\"],abbreviatedDayNames:[\"Sun\",\"Mon\",\"Tue\",\"Wed\",\"Thu\",\"Fri\",\"Sat\"],shortestDayNames:[\"Su\",\"Mo\",\"Tu\",\"We\",\"Th\",\"Fr\",\"Sa\"],firstLetterDayNames:[\"S\",\"M\",\"T\",\"W\",\"T\",\"F\",\"S\"],monthNames:[\"January\",\"February\",\"March\",\"April\",\"May\",\"June\",\"July\",\"August\",\"September\",\"October\",\"November\",\"December\"],abbreviatedMonthNames:[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],amDesignator:\"AM\",pmDesignator:\"PM\",firstDayOfWeek:0,twoDigitYearMax:2029,dateElementOrder:\"mdy\",formatPatterns:{shortDate:\"M/d/yyyy\",longDate:\"dddd, MMMM dd, yyyy\",shortTime:\"h:mm tt\",longTime:\"h:mm:ss tt\",fullDateTime:\"dddd, MMMM dd, yyyy h:mm:ss tt\",sortableDateTime:\"yyyy-MM-ddTHH:mm:ss\",universalSortableDateTime:\"yyyy-MM-dd HH:mm:ssZ\",rfc1123:\"ddd, dd MMM yyyy HH:mm:ss GMT\",monthDay:\"MMMM dd\",yearMonth:\"MMMM, yyyy\"},regexPatterns:{jan:/^jan(uary)?/i,feb:/^feb(ruary)?/i,mar:/^mar(ch)?/i,apr:/^apr(il)?/i,may:/^may/i,jun:/^jun(e)?/i,jul:/^jul(y)?/i,aug:/^aug(ust)?/i,sep:/^sep(t(ember)?)?/i,oct:/^oct(ober)?/i,nov:/^nov(ember)?/i,dec:/^dec(ember)?/i,sun:/^su(n(day)?)?/i,mon:/^mo(n(day)?)?/i,tue:/^tu(e(s(day)?)?)?/i,wed:/^we(d(nesday)?)?/i,thu:/^th(u(r(s(day)?)?)?)?/i,fri:/^fr(i(day)?)?/i,sat:/^sa(t(urday)?)?/i,future:/^next/i,past:/^last|past|prev(ious)?/i,add:/^(\\+|after|from)/i,subtract:/^(\\-|before|ago)/i,yesterday:/^yesterday/i,today:/^t(oday)?/i,tomorrow:/^tomorrow/i,now:/^n(ow)?/i,millisecond:/^ms|milli(second)?s?/i,second:/^sec(ond)?s?/i,minute:/^min(ute)?s?/i,hour:/^h(ou)?rs?/i,week:/^w(ee)?k/i,month:/^m(o(nth)?s?)?/i,day:/^d(ays?)?/i,year:/^y((ea)?rs?)?/i,shortMeridian:/^(a|p)/i,longMeridian:/^(a\\.?m?\\.?|p\\.?m?\\.?)/i,timezone:/^((e(s|d)t|c(s|d)t|m(s|d)t|p(s|d)t)|((gmt)?\\s*(\\+|\\-)\\s*\\d\\d\\d\\d?)|gmt)/i,ordinalSuffix:/^\\s*(st|nd|rd|th)/i,timeContext:/^\\s*(\\:|a|p)/i},abbreviatedTimeZoneStandard:{GMT:\"-000\",EST:\"-0400\",CST:\"-0500\",MST:\"-0600\",PST:\"-0700\"},abbreviatedTimeZoneDST:{GMT:\"-000\",EDT:\"-0500\",CDT:\"-0600\",MDT:\"-0700\",PDT:\"-0800\"}},Date.getMonthNumberFromName=function(t){for(var e=Date.CultureInfo.monthNames,n=Date.CultureInfo.abbreviatedMonthNames,r=t.toLowerCase(),a=0;a<e.length;a++)if(e[a].toLowerCase()==r||n[a].toLowerCase()==r)return a;return-1},Date.getDayNumberFromName=function(t){for(var e=Date.CultureInfo.dayNames,n=Date.CultureInfo.abbreviatedDayNames,r=(Date.CultureInfo.shortestDayNames,t.toLowerCase()),a=0;a<e.length;a++)if(e[a].toLowerCase()==r||n[a].toLowerCase()==r)return a;return-1},Date.isLeapYear=function(t){return 0===t%4&&0!==t%100||0===t%400},Date.getDaysInMonth=function(t,e){return[31,Date.isLeapYear(t)?29:28,31,30,31,30,31,31,30,31,30,31][e]},Date.getTimezoneOffset=function(t,e){return e?Date.CultureInfo.abbreviatedTimeZoneDST[t.toUpperCase()]:Date.CultureInfo.abbreviatedTimeZoneStandard[t.toUpperCase()]},Date.getTimezoneAbbreviation=function(t,e){var n,r=e?Date.CultureInfo.abbreviatedTimeZoneDST:Date.CultureInfo.abbreviatedTimeZoneStandard;for(n in r)if(r[n]===t)return n;return null},Date.prototype.clone=function(){return new Date(this.getTime())},Date.prototype.compareTo=function(t){if(isNaN(this))throw new Error(this);if(t instanceof Date&&!isNaN(t))return this>t?1:t>this?-1:0;throw new TypeError(t)},Date.prototype.equals=function(t){return 0===this.compareTo(t)},Date.prototype.between=function(t,e){var n=this.getTime();return n>=t.getTime()&&n<=e.getTime()},Date.prototype.addMilliseconds=function(t){return this.setMilliseconds(this.getMilliseconds()+t),this},Date.prototype.addSeconds=function(t){return this.addMilliseconds(1e3*t)},Date.prototype.addMinutes=function(t){return this.addMilliseconds(6e4*t)},Date.prototype.addHours=function(t){return this.addMilliseconds(36e5*t)},Date.prototype.addDays=function(t){return this.addMilliseconds(864e5*t)},Date.prototype.addWeeks=function(t){return this.addMilliseconds(6048e5*t)},Date.prototype.addMonths=function(t){var e=this.getDate();return this.setDate(1),this.setMonth(this.getMonth()+t),this.setDate(Math.min(e,this.getDaysInMonth())),this},Date.prototype.addYears=function(t){return this.addMonths(12*t)},Date.prototype.add=function(t){if(\"number\"==typeof t)return this._orient=t,this;var e=t;return(e.millisecond||e.milliseconds)&&this.addMilliseconds(e.millisecond||e.milliseconds),(e.second||e.seconds)&&this.addSeconds(e.second||e.seconds),(e.minute||e.minutes)&&this.addMinutes(e.minute||e.minutes),(e.hour||e.hours)&&this.addHours(e.hour||e.hours),(e.month||e.months)&&this.addMonths(e.month||e.months),(e.year||e.years)&&this.addYears(e.year||e.years),(e.day||e.days)&&this.addDays(e.day||e.days),this},Date._validate=function(t,e,n,r){if(\"number\"!=typeof t)throw new TypeError(t+\" is not a Number.\");if(e>t||t>n)throw new RangeError(t+\" is not a valid value for \"+r+\".\");return!0},Date.validateMillisecond=function(t){return Date._validate(t,0,999,\"milliseconds\")},Date.validateSecond=function(t){return Date._validate(t,0,59,\"seconds\")},Date.validateMinute=function(t){return Date._validate(t,0,59,\"minutes\")},Date.validateHour=function(t){return Date._validate(t,0,23,\"hours\")},Date.validateDay=function(t,e,n){return Date._validate(t,1,Date.getDaysInMonth(e,n),\"days\")},Date.validateMonth=function(t){return Date._validate(t,0,11,\"months\")},Date.validateYear=function(t){return Date._validate(t,1,9999,\"seconds\")},Date.prototype.set=function(t){var e=t;return e.millisecond||0===e.millisecond||(e.millisecond=-1),e.second||0===e.second||(e.second=-1),e.minute||0===e.minute||(e.minute=-1),e.hour||0===e.hour||(e.hour=-1),e.day||0===e.day||(e.day=-1),e.month||0===e.month||(e.month=-1),e.year||0===e.year||(e.year=-1),-1!=e.millisecond&&Date.validateMillisecond(e.millisecond)&&this.addMilliseconds(e.millisecond-this.getMilliseconds()),-1!=e.second&&Date.validateSecond(e.second)&&this.addSeconds(e.second-this.getSeconds()),-1!=e.minute&&Date.validateMinute(e.minute)&&this.addMinutes(e.minute-this.getMinutes()),-1!=e.hour&&Date.validateHour(e.hour)&&this.addHours(e.hour-this.getHours()),-1!==e.month&&Date.validateMonth(e.month)&&this.addMonths(e.month-this.getMonth()),-1!=e.year&&Date.validateYear(e.year)&&this.addYears(e.year-this.getFullYear()),-1!=e.day&&Date.validateDay(e.day,this.getFullYear(),this.getMonth())&&this.addDays(e.day-this.getDate()),e.timezone&&this.setTimezone(e.timezone),e.timezoneOffset&&this.setTimezoneOffset(e.timezoneOffset),this},Date.prototype.clearTime=function(){return this.setHours(0),this.setMinutes(0),this.setSeconds(0),this.setMilliseconds(0),this},Date.prototype.isLeapYear=function(){var t=this.getFullYear();return 0===t%4&&0!==t%100||0===t%400},Date.prototype.isWeekday=function(){return!(this.is().sat()||this.is().sun())},Date.prototype.getDaysInMonth=function(){return Date.getDaysInMonth(this.getFullYear(),this.getMonth())},Date.prototype.moveToFirstDayOfMonth=function(){return this.set({day:1})},Date.prototype.moveToLastDayOfMonth=function(){return this.set({day:this.getDaysInMonth()})},Date.prototype.moveToDayOfWeek=function(t,e){var n=(t-this.getDay()+7*(e||1))%7;return this.addDays(0===n?n+=7*(e||1):n)},Date.prototype.moveToMonth=function(t,e){var n=(t-this.getMonth()+12*(e||1))%12;return this.addMonths(0===n?n+=12*(e||1):n)},Date.prototype.getDayOfYear=function(){return Math.floor((this-new Date(this.getFullYear(),0,1))/864e5)},Date.prototype.getWeekOfYear=function(t){var e=this.getFullYear(),n=this.getMonth(),r=this.getDate(),a=t||Date.CultureInfo.firstDayOfWeek,o=8-new Date(e,0,1).getDay();8==o&&(o=1);var i=(Date.UTC(e,n,r,0,0,0)-Date.UTC(e,0,1,0,0,0))/864e5+1,s=Math.floor((i-o+7)/7);if(s===a){e--;var u=8-new Date(e,0,1).getDay();s=2==u||8==u?53:52}return s},Date.prototype.isDST=function(){return console.log(\"isDST\"),\"D\"==this.toString().match(/(E|C|M|P)(S|D)T/)[2]},Date.prototype.getTimezone=function(){return Date.getTimezoneAbbreviation(this.getUTCOffset,this.isDST())},Date.prototype.setTimezoneOffset=function(t){var e=this.getTimezoneOffset(),n=-6*Number(t)/10;return this.addMinutes(n-e),this},Date.prototype.setTimezone=function(t){return this.setTimezoneOffset(Date.getTimezoneOffset(t))},Date.prototype.getUTCOffset=function(){var t,e=-10*this.getTimezoneOffset()/6;return 0>e?(t=(e-1e4).toString(),t[0]+t.substr(2)):(t=(e+1e4).toString(),\"+\"+t.substr(1))},Date.prototype.getDayName=function(t){return t?Date.CultureInfo.abbreviatedDayNames[this.getDay()]:Date.CultureInfo.dayNames[this.getDay()]},Date.prototype.getMonthName=function(t){return t?Date.CultureInfo.abbreviatedMonthNames[this.getMonth()]:Date.CultureInfo.monthNames[this.getMonth()]},Date.prototype._toString=Date.prototype.toString,Date.prototype.toString=function(t){var e=this,n=function(t){return 1==t.toString().length?\"0\"+t:t};return t?t.replace(/dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?/g,function(t){switch(t){case\"hh\":return n(e.getHours()<13?e.getHours()||12:e.getHours()-12);case\"h\":return e.getHours()<13?e.getHours()||12:e.getHours()-12;case\"HH\":return n(e.getHours());case\"H\":return e.getHours();case\"mm\":return n(e.getMinutes());case\"m\":return e.getMinutes();case\"ss\":return n(e.getSeconds());case\"s\":return e.getSeconds();case\"yyyy\":return e.getFullYear();case\"yy\":return e.getFullYear().toString().substring(2,4);case\"dddd\":return e.getDayName();case\"ddd\":return e.getDayName(!0);case\"dd\":return n(e.getDate());case\"d\":return e.getDate().toString();case\"MMMM\":return e.getMonthName();case\"MMM\":return e.getMonthName(!0);case\"MM\":return n(e.getMonth()+1);case\"M\":return e.getMonth()+1;case\"t\":return e.getHours()<12?Date.CultureInfo.amDesignator.substring(0,1):Date.CultureInfo.pmDesignator.substring(0,1);case\"tt\":return e.getHours()<12?Date.CultureInfo.amDesignator:Date.CultureInfo.pmDesignator;case\"zzz\":case\"zz\":case\"z\":return\"\"}}):this._toString()},Date.now=function(){return new Date},Date.today=function(){return Date.now().clearTime()},Date.prototype._orient=1,Date.prototype.next=function(){return this._orient=1,this},Date.prototype.last=Date.prototype.prev=Date.prototype.previous=function(){return this._orient=-1,this},Date.prototype._is=!1,Date.prototype.is=function(){return this._is=!0,this},Number.prototype._dateElement=\"day\",Number.prototype.fromNow=function(){var t={};return t[this._dateElement]=this,Date.now().add(t)},Number.prototype.ago=function(){var t={};return t[this._dateElement]=-1*this,Date.now().add(t)},function(){for(var t,e=Date.prototype,n=Number.prototype,r=\"sunday monday tuesday wednesday thursday friday saturday\".split(/\\s/),a=\"january february march april may june july august september october november december\".split(/\\s/),o=\"Millisecond Second Minute Hour Day Week Month Year\".split(/\\s/),i=function(t){return function(){return this._is?(this._is=!1,this.getDay()==t):this.moveToDayOfWeek(t,this._orient)}},s=0;s<r.length;s++)e[r[s]]=e[r[s].substring(0,3)]=i(s);for(var u=function(t){return function(){return this._is?(this._is=!1,this.getMonth()===t):this.moveToMonth(t,this._orient)}},h=0;h<a.length;h++)e[a[h]]=e[a[h].substring(0,3)]=u(h);for(var c=function(t){return function(){return\"s\"!=t.substring(t.length-1)&&(t+=\"s\"),this[\"add\"+t](this._orient)}},d=function(t){return function(){return this._dateElement=t,this}},l=0;l<o.length;l++)t=o[l].toLowerCase(),e[t]=e[t+\"s\"]=c(o[l]),n[t]=n[t+\"s\"]=d(t)}(),Date.prototype.toJSONString=function(){return this.toString(\"yyyy-MM-ddThh:mm:ssZ\")},Date.prototype.toShortDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortDatePattern)},Date.prototype.toLongDateString=function(){return this.toString(Date.CultureInfo.formatPatterns.longDatePattern)},Date.prototype.toShortTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.shortTimePattern)},Date.prototype.toLongTimeString=function(){return this.toString(Date.CultureInfo.formatPatterns.longTimePattern)},Date.prototype.getOrdinal=function(){switch(this.getDate()){case 1:case 21:case 31:return\"st\";case 2:case 22:return\"nd\";case 3:case 23:return\"rd\";default:return\"th\"}},function(){Date.Parsing={Exception:function(t){this.message=\"Parse error at '\"+t.substring(0,10)+\" ...'\"}};for(var t=Date.Parsing,e=t.Operators={rtoken:function(e){return function(n){var r=n.match(e);if(r)return[r[0],n.substring(r[0].length)];throw new t.Exception(n)}},token:function(){return function(t){return e.rtoken(new RegExp(\"^s*\"+t+\"s*\"))(t)}},stoken:function(t){return e.rtoken(new RegExp(\"^\"+t))},until:function(t){return function(e){for(var n=[],r=null;e.length;){try{r=t.call(this,e)}catch(a){n.push(r[0]),e=r[1];continue}break}return[n,e]}},many:function(t){return function(e){for(var n=[],r=null;e.length;){try{r=t.call(this,e)}catch(a){return[n,e]}n.push(r[0]),e=r[1]}return[n,e]}},optional:function(t){return function(e){var n=null;try{n=t.call(this,e)}catch(r){return[null,e]}return[n[0],n[1]]}},not:function(e){return function(n){try{e.call(this,n)}catch(r){return[null,n]}throw new t.Exception(n)}},ignore:function(t){return t?function(e){var n=null;return n=t.call(this,e),[null,n[1]]}:null},product:function(){for(var t=arguments[0],n=Array.prototype.slice.call(arguments,1),r=[],a=0;a<t.length;a++)r.push(e.each(t[a],n));return r},cache:function(e){var n={},r=null;return function(a){try{r=n[a]=n[a]||e.call(this,a)}catch(o){r=n[a]=o}if(r instanceof t.Exception)throw r;return r}},any:function(){var e=arguments;return function(n){for(var r=null,a=0;a<e.length;a++)if(null!=e[a]){try{r=e[a].call(this,n)}catch(o){r=null}if(r)return r}throw new t.Exception(n)}},each:function(){var e=arguments;return function(n){for(var r=[],a=null,o=0;o<e.length;o++)if(null!=e[o]){try{a=e[o].call(this,n)}catch(i){throw new t.Exception(n)}r.push(a[0]),n=a[1]}return[r,n]}},all:function(){var t=arguments,e=e;return e.each(e.optional(t))},sequence:function(n,r,a){return r=r||e.rtoken(/^\\s*/),a=a||null,1==n.length?n[0]:function(e){for(var o=null,i=null,s=[],u=0;u<n.length;u++){try{o=n[u].call(this,e)}catch(h){break}s.push(o[0]);try{i=r.call(this,o[1])}catch(c){i=null;break}e=i[1]}if(!o)throw new t.Exception(e);if(i)throw new t.Exception(i[1]);if(a)try{o=a.call(this,o[1])}catch(d){throw new t.Exception(o[1])}return[s,o?o[1]:e]}},between:function(t,n,a){a=a||t;var o=e.each(e.ignore(t),n,e.ignore(a));return function(t){var e=o.call(this,t);return[[e[0][0],r[0][2]],e[1]]}},list:function(t,n,r){return n=n||e.rtoken(/^\\s*/),r=r||null,t instanceof Array?e.each(e.product(t.slice(0,-1),e.ignore(n)),t.slice(-1),e.ignore(r)):e.each(e.many(e.each(t,e.ignore(n))),px,e.ignore(r))},set:function(n,r,a){return r=r||e.rtoken(/^\\s*/),a=a||null,function(o){for(var i=null,s=null,u=null,h=null,c=[[],o],d=!1,l=0;l<n.length;l++){u=null,s=null,i=null,d=1==n.length;try{i=n[l].call(this,o)}catch(y){continue}if(h=[[i[0]],i[1]],i[1].length>0&&!d)try{u=r.call(this,i[1])}catch(f){d=!0}else d=!0;if(d||0!==u[1].length||(d=!0),!d){for(var m=[],p=0;p<n.length;p++)l!=p&&m.push(n[p]);s=e.set(m,r).call(this,u[1]),s[0].length>0&&(h[0]=h[0].concat(s[0]),h[1]=s[1])}if(h[1].length<c[1].length&&(c=h),0===c[1].length)break}if(0===c[0].length)return c;if(a){try{u=a.call(this,c[1])}catch(g){throw new t.Exception(c[1])}c[1]=u[1]}return c}},forward:function(t,e){return function(n){return t[e].call(this,n)}},replace:function(t,e){return function(n){var r=t.call(this,n);return[e,r[1]]}},process:function(t,e){return function(n){var r=t.call(this,n);return[e.call(this,r[0]),r[1]]}},min:function(e,n){return function(r){var a=n.call(this,r);if(a[0].length<e)throw new t.Exception(r);return a}}},n=function(t){return function(){var e=null,n=[];if(arguments.length>1?e=Array.prototype.slice.call(arguments):arguments[0]instanceof Array&&(e=arguments[0]),!e)return t.apply(null,arguments);for(var r=0,a=e.shift();r<a.length;r++)return e.unshift(a[r]),n.push(t.apply(null,e)),e.shift(),n}},a=\"optional not ignore cache\".split(/\\s/),o=0;o<a.length;o++)e[a[o]]=n(e[a[o]]);for(var i=function(t){return function(){return arguments[0]instanceof Array?t.apply(null,arguments[0]):t.apply(null,arguments)}},s=\"each any all\".split(/\\s/),u=0;u<s.length;u++)e[s[u]]=i(e[s[u]])}(),function(){var t=function(e){for(var n=[],r=0;r<e.length;r++)e[r]instanceof Array?n=n.concat(t(e[r])):e[r]&&n.push(e[r]);return n};Date.Grammar={},Date.Translator={hour:function(t){return function(){this.hour=Number(t)}},minute:function(t){return function(){this.minute=Number(t)}},second:function(t){return function(){this.second=Number(t)}},meridian:function(t){return function(){this.meridian=t.slice(0,1).toLowerCase()}},timezone:function(t){return function(){var e=t.replace(/[^\\d\\+\\-]/g,\"\");e.length?this.timezoneOffset=Number(e):this.timezone=t.toLowerCase()}},day:function(t){var e=t[0];return function(){this.day=Number(e.match(/\\d+/)[0])}},month:function(t){return function(){this.month=3==t.length?Date.getMonthNumberFromName(t):Number(t)-1}},year:function(t){return function(){var e=Number(t);this.year=t.length>2?e:e+(e+2e3<Date.CultureInfo.twoDigitYearMax?2e3:1900)}},rday:function(t){return function(){switch(t){case\"yesterday\":this.days=-1;break;case\"tomorrow\":this.days=1;break;case\"today\":this.days=0;break;case\"now\":this.days=0,this.now=!0}}},finishExact:function(t){t=t instanceof Array?t:[t];var e=new Date;this.year=e.getFullYear(),this.month=e.getMonth(),this.day=1,this.hour=0,this.minute=0,this.second=0;for(var n=0;n<t.length;n++)t[n]&&t[n].call(this);if(this.hour=\"p\"==this.meridian&&this.hour<13?this.hour+12:this.hour,this.day>Date.getDaysInMonth(this.year,this.month))throw new RangeError(this.day+\" is not a valid value for days.\");var r=new Date(this.year,this.month,this.day,this.hour,this.minute,this.second);return this.timezone?r.set({timezone:this.timezone}):this.timezoneOffset&&r.set({timezoneOffset:this.timezoneOffset}),r},finish:function(e){if(e=e instanceof Array?t(e):[e],0===e.length)return null;for(var n=0;n<e.length;n++)\"function\"==typeof e[n]&&e[n].call(this);if(this.now)return new Date;var r=Date.today(),a=!(null==this.days&&!this.orient&&!this.operator);if(a){var o,i,s;return s=\"past\"==this.orient||\"subtract\"==this.operator?-1:1,this.weekday&&(this.unit=\"day\",o=Date.getDayNumberFromName(this.weekday)-r.getDay(),i=7,this.days=o?(o+s*i)%i:s*i),this.month&&(this.unit=\"month\",o=this.month-r.getMonth(),i=12,this.months=o?(o+s*i)%i:s*i,this.month=null),this.unit||(this.unit=\"day\"),(null==this[this.unit+\"s\"]||null!=this.operator)&&(this.value||(this.value=1),\"week\"==this.unit&&(this.unit=\"day\",this.value=7*this.value),this[this.unit+\"s\"]=this.value*s),r.add(this)}return this.meridian&&this.hour&&(this.hour=this.hour<13&&\"p\"==this.meridian?this.hour+12:this.hour),this.weekday&&!this.day&&(this.day=r.addDays(Date.getDayNumberFromName(this.weekday)-r.getDay()).getDate()),this.month&&!this.day&&(this.day=1),r.set(this)}};var e,n=Date.Parsing.Operators,r=Date.Grammar,a=Date.Translator;r.datePartDelimiter=n.rtoken(/^([\\s\\-\\.\\,\\/\\x27]+)/),r.timePartDelimiter=n.stoken(\":\"),r.whiteSpace=n.rtoken(/^\\s*/),r.generalDelimiter=n.rtoken(/^(([\\s\\,]|at|on)+)/);var o={};r.ctoken=function(t){var e=o[t];if(!e){for(var r=Date.CultureInfo.regexPatterns,a=t.split(/\\s+/),i=[],s=0;s<a.length;s++)i.push(n.replace(n.rtoken(r[a[s]]),a[s]));e=o[t]=n.any.apply(null,i)}return e},r.ctoken2=function(t){return n.rtoken(Date.CultureInfo.regexPatterns[t])},r.h=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2]|[1-9])/),a.hour)),r.hh=n.cache(n.process(n.rtoken(/^(0[0-9]|1[0-2])/),a.hour)),r.H=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3]|[0-9])/),a.hour)),r.HH=n.cache(n.process(n.rtoken(/^([0-1][0-9]|2[0-3])/),a.hour)),r.m=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),a.minute)),r.mm=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),a.minute)),r.s=n.cache(n.process(n.rtoken(/^([0-5][0-9]|[0-9])/),a.second)),r.ss=n.cache(n.process(n.rtoken(/^[0-5][0-9]/),a.second)),r.hms=n.cache(n.sequence([r.H,r.mm,r.ss],r.timePartDelimiter)),r.t=n.cache(n.process(r.ctoken2(\"shortMeridian\"),a.meridian)),r.tt=n.cache(n.process(r.ctoken2(\"longMeridian\"),a.meridian)),r.z=n.cache(n.process(n.rtoken(/^(\\+|\\-)?\\s*\\d\\d\\d\\d?/),a.timezone)),r.zz=n.cache(n.process(n.rtoken(/^(\\+|\\-)\\s*\\d\\d\\d\\d/),a.timezone)),r.zzz=n.cache(n.process(r.ctoken2(\"timezone\"),a.timezone)),r.timeSuffix=n.each(n.ignore(r.whiteSpace),n.set([r.tt,r.zzz])),r.time=n.each(n.optional(n.ignore(n.stoken(\"T\"))),r.hms,r.timeSuffix),r.d=n.cache(n.process(n.each(n.rtoken(/^([0-2]\\d|3[0-1]|\\d)/),n.optional(r.ctoken2(\"ordinalSuffix\"))),a.day)),r.dd=n.cache(n.process(n.each(n.rtoken(/^([0-2]\\d|3[0-1])/),n.optional(r.ctoken2(\"ordinalSuffix\"))),a.day)),r.ddd=r.dddd=n.cache(n.process(r.ctoken(\"sun mon tue wed thu fri sat\"),function(t){return function(){this.weekday=t}})),r.M=n.cache(n.process(n.rtoken(/^(1[0-2]|0\\d|\\d)/),a.month)),r.MM=n.cache(n.process(n.rtoken(/^(1[0-2]|0\\d)/),a.month)),r.MMM=r.MMMM=n.cache(n.process(r.ctoken(\"jan feb mar apr may jun jul aug sep oct nov dec\"),a.month)),r.y=n.cache(n.process(n.rtoken(/^(\\d\\d?)/),a.year)),r.yy=n.cache(n.process(n.rtoken(/^(\\d\\d)/),a.year)),r.yyy=n.cache(n.process(n.rtoken(/^(\\d\\d?\\d?\\d?)/),a.year)),r.yyyy=n.cache(n.process(n.rtoken(/^(\\d\\d\\d\\d)/),a.year)),e=function(){return n.each(n.any.apply(null,arguments),n.not(r.ctoken2(\"timeContext\")))},r.day=e(r.d,r.dd),r.month=e(r.M,r.MMM),r.year=e(r.yyyy,r.yy),r.orientation=n.process(r.ctoken(\"past future\"),function(t){return function(){this.orient=t}}),r.operator=n.process(r.ctoken(\"add subtract\"),function(t){return function(){this.operator=t}}),r.rday=n.process(r.ctoken(\"yesterday tomorrow today now\"),a.rday),r.unit=n.process(r.ctoken(\"minute hour day week month year\"),function(t){return function(){this.unit=t}}),r.value=n.process(n.rtoken(/^\\d\\d?(st|nd|rd|th)?/),function(t){return function(){this.value=t.replace(/\\D/g,\"\")}}),r.expression=n.set([r.rday,r.operator,r.value,r.unit,r.orientation,r.ddd,r.MMM]),e=function(){return n.set(arguments,r.datePartDelimiter)},r.mdy=e(r.ddd,r.month,r.day,r.year),r.ymd=e(r.ddd,r.year,r.month,r.day),r.dmy=e(r.ddd,r.day,r.month,r.year),r.date=function(t){return(r[Date.CultureInfo.dateElementOrder]||r.mdy).call(this,t)},r.format=n.process(n.many(n.any(n.process(n.rtoken(/^(dd?d?d?|MM?M?M?|yy?y?y?|hh?|HH?|mm?|ss?|tt?|zz?z?)/),function(t){if(r[t])return r[t];throw Date.Parsing.Exception(t)}),n.process(n.rtoken(/^[^dMyhHmstz]+/),function(t){return n.ignore(n.stoken(t))}))),function(t){return n.process(n.each.apply(null,t),a.finishExact)});var i={},s=function(t){return i[t]=i[t]||r.format(t)[0]};r.formats=function(t){if(t instanceof Array){for(var e=[],r=0;r<t.length;r++)e.push(s(t[r]));return n.any.apply(null,e)}return s(t)},r._formats=r.formats([\"yyyy-MM-ddTHH:mm:ss\",\"ddd, MMM dd, yyyy H:mm:ss tt\",\"ddd MMM d yyyy HH:mm:ss zzz\",\"d\"]),r._start=n.process(n.set([r.date,r.time,r.expression],r.generalDelimiter,r.whiteSpace),a.finish),r.start=function(t){try{var e=r._formats.call({},t);if(0===e[1].length)return e}catch(n){}return r._start.call({},t)}}(),Date._parse=Date.parse,Date.parse=function(t){var e=null;if(!t)return null;try{e=Date.Grammar.start.call({},t)}catch(n){return null}return 0===e[1].length?e[0]:null},Date.getParseFunction=function(t){var e=Date.Grammar.formats(t);return function(t){var n=null;try{n=e.call({},t)}catch(r){return null}return 0===n[1].length?n[0]:null}},Date.parseExact=function(t,e){return Date.getParseFunction(e)(t)};\n!function(t,e,i){function o(t,i){var o,r=e.createElement(t||\"div\");for(o in i)r[o]=i[o];return r}function r(t){for(var e=1,i=arguments.length;i>e;e++)t.appendChild(arguments[e]);return t}function n(t,e,i,o){var r=[\"opacity\",e,~~(100*t),i,o].join(\"-\"),n=.01+100*(i/o),a=Math.max(1-(1-t)/e*(100-n),t),s=u.substring(0,u.indexOf(\"Animation\")).toLowerCase(),l=s&&\"-\"+s+\"-\"||\"\";return d[r]||(c.insertRule(\"@\"+l+\"keyframes \"+r+\"{\"+\"0%{opacity:\"+a+\"}\"+n+\"%{opacity:\"+t+\"}\"+(n+.01)+\"%{opacity:1}\"+(n+e)%100+\"%{opacity:\"+t+\"}\"+\"100%{opacity:\"+a+\"}\"+\"}\",0),d[r]=1),r}function a(t,e){var o,r,n=t.style;if(n[e]!==i)return e;for(e=e.charAt(0).toUpperCase()+e.slice(1),r=0;r<p.length;r++)if(o=p[r]+e,n[o]!==i)return o}function s(t,e){for(var i in e)t.style[a(t,i)||i]=e[i];return t}function l(t){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)t[r]===i&&(t[r]=o[r])}return t}function f(t){for(var e={x:t.offsetLeft,y:t.offsetTop};t=t.offsetParent;)e.x+=t.offsetLeft,e.y+=t.offsetTop;return e}var u,p=[\"webkit\",\"Moz\",\"ms\",\"O\"],d={},c=function(){var t=o(\"style\");return r(e.getElementsByTagName(\"head\")[0],t),t.sheet||t.styleSheet}(),h={lines:12,length:7,width:5,radius:10,rotate:0,color:\"#000\",speed:1,trail:100,opacity:.25,fps:20,zIndex:2e9,className:\"spinner\",top:\"auto\",left:\"auto\"},m=function y(t){return this.spin?(this.opts=l(t||{},y.defaults,h),void 0):new y(t)};m.defaults={},l(m.prototype,{spin:function(t){this.stop();var e,i,r=this,n=r.opts,a=r.el=s(o(0,{className:n.className}),{position:\"relative\",zIndex:n.zIndex}),l=n.radius+n.length+n.width;if(t&&(t.insertBefore(a,t.firstChild||null),i=f(t),e=f(a),s(a,{left:(\"auto\"==n.left?i.x-e.x+(t.offsetWidth>>1):n.left+l)+\"px\",top:(\"auto\"==n.top?i.y-e.y+(t.offsetHeight>>1):n.top+l)+\"px\"})),a.setAttribute(\"aria-role\",\"progressbar\"),r.lines(a,r.opts),!u){var p=0,d=n.fps,c=d/n.speed,h=(1-n.opacity)/(c*n.trail/100),m=c/n.lines;!function y(){p++;for(var t=n.lines;t;t--){var e=Math.max(1-(p+t*m)%c*h,n.opacity);r.opacity(a,n.lines-t,e,n)}r.timeout=r.el&&setTimeout(y,~~(1e3/d))}()}return r},stop:function(){var t=this.el;return t&&(clearTimeout(this.timeout),t.parentNode&&t.parentNode.removeChild(t),this.el=i),this},lines:function(t,e){function i(t,i){return s(o(),{position:\"absolute\",width:e.length+e.width+\"px\",height:e.width+\"px\",background:t,boxShadow:i,transformOrigin:\"left\",transform:\"rotate(\"+~~(360/e.lines*l+e.rotate)+\"deg) translate(\"+e.radius+\"px\"+\",0)\",borderRadius:(e.width>>1)+\"px\"})}for(var a,l=0;l<e.lines;l++)a=s(o(),{position:\"absolute\",top:1+~(e.width/2)+\"px\",transform:e.hwaccel?\"translate3d(0,0,0)\":\"\",opacity:e.opacity,animation:u&&n(e.opacity,e.trail,l,e.lines)+\" \"+1/e.speed+\"s linear infinite\"}),e.shadow&&r(a,s(i(\"#000\",\"0 0 4px #000\"),{top:\"2px\"})),r(t,r(a,i(e.color,\"0 0 1px rgba(0,0,0,.1)\")));return t},opacity:function(t,e,i){e<t.childNodes.length&&(t.childNodes[e].style.opacity=i)}}),!function(){function t(t,e){return o(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"spin-vml\">',e)}var e=s(o(\"group\"),{behavior:\"url(#default#VML)\"});!a(e,\"transform\")&&e.adj?(c.addRule(\".spin-vml\",\"behavior:url(#default#VML)\"),m.prototype.lines=function(e,i){function o(){return s(t(\"group\",{coordsize:f+\" \"+f,coordorigin:-l+\" \"+-l}),{width:f,height:f})}function n(e,n,a){r(p,r(s(o(),{rotation:360/i.lines*e+\"deg\",left:~~n}),r(s(t(\"roundrect\",{arcsize:1}),{width:l,height:i.width,left:i.radius,top:-i.width>>1,filter:a}),t(\"fill\",{color:i.color,opacity:i.opacity}),t(\"stroke\",{opacity:0}))))}var a,l=i.length+i.width,f=2*l,u=2*-(i.width+i.length)+\"px\",p=s(o(),{position:\"absolute\",top:u,left:u});if(i.shadow)for(a=1;a<=i.lines;a++)n(a,-2,\"progid:DXImageTransform.Microsoft.Blur(pixelradius=2,makeshadow=1,shadowopacity=.3)\");for(a=1;a<=i.lines;a++)n(a);return r(e,p)},m.prototype.opacity=function(t,e,i,o){var r=t.firstChild;o=o.shadow&&o.lines||0,r&&e+o<r.childNodes.length&&(r=r.childNodes[e+o],r=r&&r.firstChild,r=r&&r.firstChild,r&&(r.opacity=i))}):u=a(e,\"animation\")}(),\"function\"==typeof define&&define.amd?define(function(){return m}):t.Spinner=m}(window,document);\n!function(){var t,e,r,n,o,i=[].slice,a=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1},s=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty;r={regular:\"a abbr address article aside audio b bdi bdo blockquote body button canvas caption cite code colgroup datalist dd del details dfn div dl dt em fieldset figcaption figure footer form h1 h2 h3 h4 h5 h6 head header hgroup html i iframe ins kbd label legend li map mark menu meter nav noscript object ol optgroup option output p pre progress q rp rt ruby s samp script section select small span strong sub summary sup table tbody td textarea tfoot th thead time title tr u ul video\",\"void\":\"area base br col command embed hr img input keygen link meta param source track wbr\",obsolete:\"applet acronym bgsound dir frameset noframes isindex listing nextid noembed plaintext rb strike xmp big blink center font marquee multicol nobr spacer tt\",obsolete_void:\"basefont frame\"},e={selected:\"selected\",disabled:\"disabled\",checked:\"checked\",readonly:\"readonly\",multiple:\"multiple\"},o=function(){var t,e,n,o,s,l,u,c,d;for(e=1<=arguments.length?i.call(arguments,0):[],o=[],s=0,u=e.length;u>s;s++)for(t=e[s],d=r[t].split(/\\W+/),l=0,c=d.length;c>l;l++)n=d[l],a.call(o,n)<0&&o.push(n);return o},n=function(t){return t.toString().replace(/\\&/g,\"&amp;\").replace(/\\>/g,\"&gt;\").replace(/\\</g,\"&lt;\").replace(/\\\"/g,\"&quot;\")},t=function(){function t(){this.render=s(this.render,this);var t,e,r,a,l,u,c,d,h,p=this;for(this.text=function(t){return p._add(n(\"\"+t))},this.raw=function(t){return p._add(t)},d=o(\"regular\",\"obsolete\"),e=function(t){return p[t]=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],p._tag(t,e)}},a=0,u=d.length;u>a;a++)t=d[a],e(t);for(h=o(\"void\",\"obsolete_void\"),r=function(t){return p[t]=function(){var e;return e=1<=arguments.length?i.call(arguments,0):[],p._closing_tag(t,e)}},l=0,c=h.length;c>l;l++)t=h[l],r(t);this.html_out=\"\"}var r,a,u;return t.prototype.render=function(){var t;return t=this.html_out,this.html_out=\"\",t},t.prototype.reset=function(t){return null==t&&(t=\"\"),this.html_out=t},t.prototype._add=function(t){this.html_out+=t},t.prototype._throw_invalid_argument=function(t,e,r){throw\"DryKup: invalid argument for tag \"+t+e+\": \"+r},t.prototype._is_style_object=function(t,e){return\"style\"===t&&\"object\"==typeof e},t.prototype._obj_to_css=function(t){var e,r,n;e=\"\";for(r in t)l.call(t,r)&&(n=t[r],e+=\"\"+r+\": \"+n+\";\");return e},a=/\\\"/g,u=\"&quot;\",r=function(t){return t.replace(a,u)},t.prototype._attrstr=function(t){var n,o,i,a,s;n=\"\";for(o in t){if(i=t[o],this._is_style_object(o,i))s=this._obj_to_css(i);else if(e[o]){if(!i)continue;s=o}else s=\"\"+i;a=r(s),n+=\"\"+o+'=\"'+a+'\" '}return n},t.prototype._valid_idclass_args=function(t){return\"string\"==typeof t[0]&&t[0].length>1?\"#\"!==t[0][0]&&\".\"!==t[0][0]?!1:!0:!1},t.prototype._idclass=function(t){var e,r,n,o,i,a,s;if(!this._valid_idclass_args(t))return\"\";for(o=\"\",e=\"\",n=\"\",s=t.shift().split(\".\"),i=0,a=s.length;a>i;i++)r=s[i],r.length&&(\"#\"===r[0]?n=r.slice(1):e+=\" \"+r);return n&&(o+='id=\"'+n+'\" '),e&&(o+='class=\"'+e+'\"'),o},t.prototype._tag=function(t,e){var r,o,i,a,s,l,u;for(o=\"\",a=\"\",i=null,s=this._idclass(e),l=0,u=e.length;u>l;l++)switch(r=e[l],typeof r){case\"string\":\"#\"!==r[0]&&\".\"!==r[0]&&\"\"!==r&&(a+=n(r));break;case\"number\":this._add(\"\"+r);break;case\"function\":i=r;break;case\"object\":o+=this._attrstr(r);break;default:return this._throw_invalid_argument(t,s,r)}this._add(\"<\"+t+\" \"+s+\" \"+o+\">\"),this._add(a),i&&\"textarea\"!==t&&i(),this._add(\"</\"+t+\">\")},t.prototype._closing_tag=function(t,e){var r,n,o,i,a;for(n=\"\",o=this._idclass(e),i=0,a=e.length;a>i;i++){if(r=e[i],\"object\"!=typeof r)return this._throw_invalid_argument(t,o,r);n+=this._attrstr(r)}this._add(\"<\"+t+\" \"+o+\" \"+n+\"/>\")},t}(),window.drykup=new t}.call(this);\n!function(t,e){var o=\"ui-effects-\";t.effects={effect:{}},function(t,e){function o(t,e,o){var i=h[e.type]||{};return null==t?o||!e.def?null:e.def:(t=i.floor?~~t:parseFloat(t),isNaN(t)?e.def:i.mod?(t+i.mod)%i.mod:0>t?0:i.max<t?i.max:t)}function i(e){var o=c(),i=o._rgba=[];return e=e.toLowerCase(),p(f,function(t,n){var r,s=n.re.exec(e),a=s&&n.parse(s),f=n.space||\"rgba\";return a?(r=o[f](a),o[u[f].cache]=r[u[f].cache],i=o._rgba=r._rgba,!1):void 0}),i.length?(\"0,0,0,0\"===i.join()&&t.extend(i,r.transparent),o):r[e]}function n(t,e,o){return o=(o+1)%1,1>6*o?t+6*(e-t)*o:1>2*o?e:2>3*o?t+6*(e-t)*(2/3-o):t}var r,s=\"backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor\",a=/^([\\-+])=\\s*(\\d+\\.?\\d*)/,f=[{re:/rgba?\\(\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*,\\s*(\\d{1,3})\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\\(\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\\(\\s*(\\d+(?:\\.\\d+)?)\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*,\\s*(\\d+(?:\\.\\d+)?)\\%\\s*(?:,\\s*(\\d?(?:\\.\\d+)?)\\s*)?\\)/,space:\"hsla\",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,o,i,n){return new t.Color.fn.parse(e,o,i,n)},u={rgba:{props:{red:{idx:0,type:\"byte\"},green:{idx:1,type:\"byte\"},blue:{idx:2,type:\"byte\"}}},hsla:{props:{hue:{idx:0,type:\"degrees\"},saturation:{idx:1,type:\"percent\"},lightness:{idx:2,type:\"percent\"}}}},h={\"byte\":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},l=t(\"<p>\")[0],p=t.each;l.style.cssText=\"background-color:rgba(1,1,1,.5)\",d.rgba=l.style.backgroundColor.indexOf(\"rgba\")>-1,p(u,function(t,e){e.cache=\"_\"+t,e.props.alpha={idx:3,type:\"percent\",def:1}}),c.fn=t.extend(c.prototype,{parse:function(n,s,a,f){if(n===e)return this._rgba=[null,null,null,null],this;(n.jquery||n.nodeType)&&(n=t(n).css(s),s=e);var h=this,d=t.type(n),l=this._rgba=[];return s!==e&&(n=[n,s,a,f],d=\"array\"),\"string\"===d?this.parse(i(n)||r._default):\"array\"===d?(p(u.rgba.props,function(t,e){l[e.idx]=o(n[e.idx],e)}),this):\"object\"===d?(n instanceof c?p(u,function(t,e){n[e.cache]&&(h[e.cache]=n[e.cache].slice())}):p(u,function(e,i){var r=i.cache;p(i.props,function(t,e){if(!h[r]&&i.to){if(\"alpha\"===t||null==n[t])return;h[r]=i.to(h._rgba)}h[r][e.idx]=o(n[t],e,!0)}),h[r]&&t.inArray(null,h[r].slice(0,3))<0&&(h[r][3]=1,i.from&&(h._rgba=i.from(h[r])))}),this):void 0},is:function(t){var e=c(t),o=!0,i=this;return p(u,function(t,n){var r,s=e[n.cache];return s&&(r=i[n.cache]||n.to&&n.to(i._rgba)||[],p(n.props,function(t,e){return null!=s[e.idx]?o=s[e.idx]===r[e.idx]:void 0})),o}),o},_space:function(){var t=[],e=this;return p(u,function(o,i){e[i.cache]&&t.push(o)}),t.pop()},transition:function(t,e){var i=c(t),n=i._space(),r=u[n],s=0===this.alpha()?c(\"transparent\"):this,a=s[r.cache]||r.to(s._rgba),f=a.slice();return i=i[r.cache],p(r.props,function(t,n){var r=n.idx,s=a[r],c=i[r],u=h[n.type]||{};null!==c&&(null===s?f[r]=c:(u.mod&&(c-s>u.mod/2?s+=u.mod:s-c>u.mod/2&&(s-=u.mod)),f[r]=o((c-s)*e+s,n)))}),this[n](f)},blend:function(e){if(1===this._rgba[3])return this;var o=this._rgba.slice(),i=o.pop(),n=c(e)._rgba;return c(t.map(o,function(t,e){return(1-i)*n[e]+i*t}))},toRgbaString:function(){var e=\"rgba(\",o=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===o[3]&&(o.pop(),e=\"rgb(\"),e+o.join()+\")\"},toHslaString:function(){var e=\"hsla(\",o=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+\"%\"),t});return 1===o[3]&&(o.pop(),e=\"hsl(\"),e+o.join()+\")\"},toHexString:function(e){var o=this._rgba.slice(),i=o.pop();return e&&o.push(~~(255*i)),\"#\"+t.map(o,function(t){return t=(t||0).toString(16),1===t.length?\"0\"+t:t}).join(\"\")},toString:function(){return 0===this._rgba[3]?\"transparent\":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,u.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,o,i=t[0]/255,n=t[1]/255,r=t[2]/255,s=t[3],a=Math.max(i,n,r),f=Math.min(i,n,r),c=a-f,u=a+f,h=.5*u;return e=f===a?0:i===a?60*(n-r)/c+360:n===a?60*(r-i)/c+120:60*(i-n)/c+240,o=0===c?0:.5>=h?c/u:c/(2-u),[Math.round(e)%360,o,h,null==s?1:s]},u.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,o=t[1],i=t[2],r=t[3],s=.5>=i?i*(1+o):i+o-i*o,a=2*i-s;return[Math.round(255*n(a,s,e+1/3)),Math.round(255*n(a,s,e)),Math.round(255*n(a,s,e-1/3)),r]},p(u,function(i,n){var r=n.props,s=n.cache,f=n.to,u=n.from;c.fn[i]=function(i){if(f&&!this[s]&&(this[s]=f(this._rgba)),i===e)return this[s].slice();var n,a=t.type(i),h=\"array\"===a||\"object\"===a?i:arguments,d=this[s].slice();return p(r,function(t,e){var i=h[\"object\"===a?t:e.idx];null==i&&(i=d[e.idx]),d[e.idx]=o(i,e)}),u?(n=c(u(d)),n[s]=d,n):c(d)},p(r,function(e,o){c.fn[e]||(c.fn[e]=function(n){var r,s=t.type(n),f=\"alpha\"===e?this._hsla?\"hsla\":\"rgba\":i,c=this[f](),u=c[o.idx];return\"undefined\"===s?u:(\"function\"===s&&(n=n.call(this,u),s=t.type(n)),null==n&&o.empty?this:(\"string\"===s&&(r=a.exec(n),r&&(n=u+parseFloat(r[2])*(\"+\"===r[1]?1:-1))),c[o.idx]=n,this[f](c)))})})}),c.hook=function(e){var o=e.split(\" \");p(o,function(e,o){t.cssHooks[o]={set:function(e,n){var r,s,a=\"\";if(\"transparent\"!==n&&(\"string\"!==t.type(n)||(r=i(n)))){if(n=c(r||n),!d.rgba&&1!==n._rgba[3]){for(s=\"backgroundColor\"===o?e.parentNode:e;(\"\"===a||\"transparent\"===a)&&s&&s.style;)try{a=t.css(s,\"backgroundColor\"),s=s.parentNode}catch(f){}n=n.blend(a&&\"transparent\"!==a?a:\"_default\")}n=n.toRgbaString()}try{e.style[o]=n}catch(f){}}},t.fx.step[o]=function(e){e.colorInit||(e.start=c(e.elem,o),e.end=c(e.end),e.colorInit=!0),t.cssHooks[o].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(s),t.cssHooks.borderColor={expand:function(t){var e={};return p([\"Top\",\"Right\",\"Bottom\",\"Left\"],function(o,i){e[\"border\"+i+\"Color\"]=t}),e}},r=t.Color.names={aqua:\"#00ffff\",black:\"#000000\",blue:\"#0000ff\",fuchsia:\"#ff00ff\",gray:\"#808080\",green:\"#008000\",lime:\"#00ff00\",maroon:\"#800000\",navy:\"#000080\",olive:\"#808000\",purple:\"#800080\",red:\"#ff0000\",silver:\"#c0c0c0\",teal:\"#008080\",white:\"#ffffff\",yellow:\"#ffff00\",transparent:[null,null,null,0],_default:\"#ffffff\"}}(jQuery),function(){function o(e){var o,i,n=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,r={};if(n&&n.length&&n[0]&&n[n[0]])for(i=n.length;i--;)o=n[i],\"string\"==typeof n[o]&&(r[t.camelCase(o)]=n[o]);else for(o in n)\"string\"==typeof n[o]&&(r[o]=n[o]);return r}function i(e,o){var i,n,s={};for(i in o)n=o[i],e[i]!==n&&(r[i]||(t.fx.step[i]||!isNaN(parseFloat(n)))&&(s[i]=n));return s}var n=[\"add\",\"remove\",\"toggle\"],r={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each([\"borderLeftStyle\",\"borderRightStyle\",\"borderBottomStyle\",\"borderTopStyle\"],function(e,o){t.fx.step[o]=function(t){(\"none\"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,o,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,r,s,a){var f=t.speed(r,s,a);return this.queue(function(){var r,s=t(this),a=s.attr(\"class\")||\"\",c=f.children?s.find(\"*\").addBack():s;c=c.map(function(){var e=t(this);return{el:e,start:o(this)}}),r=function(){t.each(n,function(t,o){e[o]&&s[o+\"Class\"](e[o])})},r(),c=c.map(function(){return this.end=o(this.el[0]),this.diff=i(this.start,this.end),this}),s.attr(\"class\",a),c=c.map(function(){var e=this,o=t.Deferred(),i=t.extend({},f,{queue:!1,complete:function(){o.resolve(e)}});return this.el.animate(this.diff,i),o.promise()}),t.when.apply(t,c.get()).done(function(){r(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,\"\")})}),f.complete.call(s[0])})})},t.fn.extend({addClass:function(e){return function(o,i,n,r){return i?t.effects.animateClass.call(this,{add:o},i,n,r):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(o,i,n,r){return arguments.length>1?t.effects.animateClass.call(this,{remove:o},i,n,r):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(o){return function(i,n,r,s,a){return\"boolean\"==typeof n||n===e?r?t.effects.animateClass.call(this,n?{add:i}:{remove:i},r,s,a):o.apply(this,arguments):t.effects.animateClass.call(this,{toggle:i},n,r,s)}}(t.fn.toggleClass),switchClass:function(e,o,i,n,r){return t.effects.animateClass.call(this,{add:o,remove:e},i,n,r)}})}(),function(){function i(e,o,i,n){return t.isPlainObject(e)&&(o=e,e=e.effect),e={effect:e},null==o&&(o={}),t.isFunction(o)&&(n=o,i=null,o={}),(\"number\"==typeof o||t.fx.speeds[o])&&(n=i,i=o,o={}),t.isFunction(i)&&(n=i,i=null),o&&t.extend(e,o),i=i||o.duration,e.duration=t.fx.off?0:\"number\"==typeof i?i:i in t.fx.speeds?t.fx.speeds[i]:t.fx.speeds._default,e.complete=n||o.complete,e}function n(e){return!e||\"number\"==typeof e||t.fx.speeds[e]?!0:\"string\"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:\"object\"!=typeof e||e.effect?!1:!0:!0}t.extend(t.effects,{version:\"1.10.3\",save:function(t,e){for(var i=0;i<e.length;i++)null!==e[i]&&t.data(o+e[i],t[0].style[e[i]])},restore:function(t,i){var n,r;for(r=0;r<i.length;r++)null!==i[r]&&(n=t.data(o+i[r]),n===e&&(n=\"\"),t.css(i[r],n))},setMode:function(t,e){return\"toggle\"===e&&(e=t.is(\":hidden\")?\"show\":\"hide\"),e},getBaseline:function(t,e){var o,i;switch(t[0]){case\"top\":o=0;break;case\"middle\":o=.5;break;case\"bottom\":o=1;break;default:o=t[0]/e.height}switch(t[1]){case\"left\":i=0;break;case\"center\":i=.5;break;case\"right\":i=1;break;default:i=t[1]/e.width}return{x:i,y:o}},createWrapper:function(e){if(e.parent().is(\".ui-effects-wrapper\"))return e.parent();var o={width:e.outerWidth(!0),height:e.outerHeight(!0),\"float\":e.css(\"float\")},i=t(\"<div></div>\").addClass(\"ui-effects-wrapper\").css({fontSize:\"100%\",background:\"transparent\",border:\"none\",margin:0,padding:0}),n={width:e.width(),height:e.height()},r=document.activeElement;try{r.id}catch(s){r=document.body}return e.wrap(i),(e[0]===r||t.contains(e[0],r))&&t(r).focus(),i=e.parent(),\"static\"===e.css(\"position\")?(i.css({position:\"relative\"}),e.css({position:\"relative\"})):(t.extend(o,{position:e.css(\"position\"),zIndex:e.css(\"z-index\")}),t.each([\"top\",\"left\",\"bottom\",\"right\"],function(t,i){o[i]=e.css(i),isNaN(parseInt(o[i],10))&&(o[i]=\"auto\")}),e.css({position:\"relative\",top:0,left:0,right:\"auto\",bottom:\"auto\"})),e.css(n),i.css(o).show()},removeWrapper:function(e){var o=document.activeElement;return e.parent().is(\".ui-effects-wrapper\")&&(e.parent().replaceWith(e),(e[0]===o||t.contains(e[0],o))&&t(o).focus()),e},setTransition:function(e,o,i,n){return n=n||{},t.each(o,function(t,o){var r=e.cssUnit(o);r[0]>0&&(n[o]=r[0]*i+r[1])}),n}}),t.fn.extend({effect:function(){function e(e){function i(){t.isFunction(r)&&r.call(n[0]),t.isFunction(e)&&e()}var n=t(this),r=o.complete,a=o.mode;(n.is(\":hidden\")?\"hide\"===a:\"show\"===a)?(n[a](),i()):s.call(n[0],o,i)}var o=i.apply(this,arguments),n=o.mode,r=o.queue,s=t.effects.effect[o.effect];return t.fx.off||!s?n?this[n](o.duration,o.complete):this.each(function(){o.complete&&o.complete.call(this)}):r===!1?this.each(e):this.queue(r||\"fx\",e)},show:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode=\"show\",this.effect.call(this,o)}}(t.fn.show),hide:function(t){return function(e){if(n(e))return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode=\"hide\",this.effect.call(this,o)}}(t.fn.hide),toggle:function(t){return function(e){if(n(e)||\"boolean\"==typeof e)return t.apply(this,arguments);var o=i.apply(this,arguments);return o.mode=\"toggle\",this.effect.call(this,o)}}(t.fn.toggle),cssUnit:function(e){var o=this.css(e),i=[];return t.each([\"em\",\"px\",\"%\",\"pt\"],function(t,e){o.indexOf(e)>0&&(i=[parseFloat(o),e])}),i}})}(),function(){var e={};t.each([\"Quad\",\"Cubic\",\"Quart\",\"Quint\",\"Expo\"],function(t,o){e[o]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,o=4;t<((e=Math.pow(2,--o))-1)/11;);return 1/Math.pow(4,3-o)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,o){t.easing[\"easeIn\"+e]=o,t.easing[\"easeOut\"+e]=function(t){return 1-o(1-t)},t.easing[\"easeInOut\"+e]=function(t){return.5>t?o(2*t)/2:1-o(-2*t+2)/2}})}()}(jQuery),function(t){var e=/up|down|vertical/,o=/up|left|vertical|horizontal/;t.effects.effect.blind=function(i,n){var r,s,a,f=t(this),c=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],u=t.effects.setMode(f,i.mode||\"hide\"),h=i.direction||\"up\",d=e.test(h),l=d?\"height\":\"width\",p=d?\"top\":\"left\",g=o.test(h),m={},y=\"show\"===u;f.parent().is(\".ui-effects-wrapper\")?t.effects.save(f.parent(),c):t.effects.save(f,c),f.show(),r=t.effects.createWrapper(f).css({overflow:\"hidden\"}),s=r[l](),a=parseFloat(r.css(p))||0,m[l]=y?s:0,g||(f.css(d?\"bottom\":\"right\",0).css(d?\"top\":\"left\",\"auto\").css({position:\"absolute\"}),m[p]=y?a:s+a),y&&(r.css(l,0),g||r.css(p,a+s)),r.animate(m,{duration:i.duration,easing:i.easing,queue:!1,complete:function(){\"hide\"===u&&f.hide(),t.effects.restore(f,c),t.effects.removeWrapper(f),n()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,o){var i,n,r,s=t(this),a=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],f=t.effects.setMode(s,e.mode||\"effect\"),c=\"hide\"===f,u=\"show\"===f,h=e.direction||\"up\",d=e.distance,l=e.times||5,p=2*l+(u||c?1:0),g=e.duration/p,m=e.easing,y=\"up\"===h||\"down\"===h?\"top\":\"left\",v=\"up\"===h||\"left\"===h,b=s.queue(),w=b.length;for((u||c)&&a.push(\"opacity\"),t.effects.save(s,a),s.show(),t.effects.createWrapper(s),d||(d=s[\"top\"===y?\"outerHeight\":\"outerWidth\"]()/3),u&&(r={opacity:1},r[y]=0,s.css(\"opacity\",0).css(y,v?2*-d:2*d).animate(r,g,m)),c&&(d/=Math.pow(2,l-1)),r={},r[y]=0,i=0;l>i;i++)n={},n[y]=(v?\"-=\":\"+=\")+d,s.animate(n,g,m).animate(r,g,m),d=c?2*d:d/2;c&&(n={opacity:0},n[y]=(v?\"-=\":\"+=\")+d,s.animate(n,g,m)),s.queue(function(){c&&s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),o()}),w>1&&b.splice.apply(b,[1,0].concat(b.splice(w,p+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,o){var i,n,r,s=t(this),a=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],f=t.effects.setMode(s,e.mode||\"hide\"),c=\"show\"===f,u=e.direction||\"vertical\",h=\"vertical\"===u,d=h?\"height\":\"width\",l=h?\"top\":\"left\",p={};t.effects.save(s,a),s.show(),i=t.effects.createWrapper(s).css({overflow:\"hidden\"}),n=\"IMG\"===s[0].tagName?i:s,r=n[d](),c&&(n.css(d,0),n.css(l,r/2)),p[d]=c?r:0,p[l]=c?0:r/2,n.animate(p,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||s.hide(),t.effects.restore(s,a),t.effects.removeWrapper(s),o()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,o){var i,n=t(this),r=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"opacity\",\"height\",\"width\"],s=t.effects.setMode(n,e.mode||\"hide\"),a=\"show\"===s,f=e.direction||\"left\",c=\"up\"===f||\"down\"===f?\"top\":\"left\",u=\"up\"===f||\"left\"===f?\"pos\":\"neg\",h={opacity:a?1:0};t.effects.save(n,r),n.show(),t.effects.createWrapper(n),i=e.distance||n[\"top\"===c?\"outerHeight\":\"outerWidth\"](!0)/2,a&&n.css(\"opacity\",0).css(c,\"pos\"===u?-i:i),h[c]=(a?\"pos\"===u?\"+=\":\"-=\":\"pos\"===u?\"-=\":\"+=\")+i,n.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){\"hide\"===s&&n.hide(),t.effects.restore(n,r),t.effects.removeWrapper(n),o()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,o){function i(){b.push(this),b.length===h*d&&n()}function n(){l.css({visibility:\"visible\"}),t(b).remove(),g||l.hide(),o()}var r,s,a,f,c,u,h=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=h,l=t(this),p=t.effects.setMode(l,e.mode||\"hide\"),g=\"show\"===p,m=l.show().css(\"visibility\",\"hidden\").offset(),y=Math.ceil(l.outerWidth()/d),v=Math.ceil(l.outerHeight()/h),b=[];for(r=0;h>r;r++)for(f=m.top+r*v,u=r-(h-1)/2,s=0;d>s;s++)a=m.left+s*y,c=s-(d-1)/2,l.clone().appendTo(\"body\").wrap(\"<div></div>\").css({position:\"absolute\",visibility:\"visible\",left:-s*y,top:-r*v}).parent().addClass(\"ui-effects-explode\").css({position:\"absolute\",overflow:\"hidden\",width:y,height:v,left:a+(g?c*y:0),top:f+(g?u*v:0),opacity:g?0:1}).animate({left:a+(g?0:c*y),top:f+(g?0:u*v),opacity:g?1:0},e.duration||500,e.easing,i)}}(jQuery),function(t){t.effects.effect.fade=function(e,o){var i=t(this),n=t.effects.setMode(i,e.mode||\"toggle\");i.animate({opacity:n},{queue:!1,duration:e.duration,easing:e.easing,complete:o})}}(jQuery),function(t){t.effects.effect.fold=function(e,o){var i,n,r=t(this),s=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],a=t.effects.setMode(r,e.mode||\"hide\"),f=\"show\"===a,c=\"hide\"===a,u=e.size||15,h=/([0-9]+)%/.exec(u),d=!!e.horizFirst,l=f!==d,p=l?[\"width\",\"height\"]:[\"height\",\"width\"],g=e.duration/2,m={},y={};t.effects.save(r,s),r.show(),i=t.effects.createWrapper(r).css({overflow:\"hidden\"}),n=l?[i.width(),i.height()]:[i.height(),i.width()],h&&(u=parseInt(h[1],10)/100*n[c?0:1]),f&&i.css(d?{height:0,width:u}:{height:u,width:0}),m[p[0]]=f?n[0]:u,y[p[1]]=f?n[1]:0,i.animate(m,g,e.easing).animate(y,g,e.easing,function(){c&&r.hide(),t.effects.restore(r,s),t.effects.removeWrapper(r),o()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,o){var i=t(this),n=[\"backgroundImage\",\"backgroundColor\",\"opacity\"],r=t.effects.setMode(i,e.mode||\"show\"),s={backgroundColor:i.css(\"backgroundColor\")};\"hide\"===r&&(s.opacity=0),t.effects.save(i,n),i.show().css({backgroundImage:\"none\",backgroundColor:e.color||\"#ffff99\"}).animate(s,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){\"hide\"===r&&i.hide(),t.effects.restore(i,n),o()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,o){var i,n=t(this),r=t.effects.setMode(n,e.mode||\"show\"),s=\"show\"===r,a=\"hide\"===r,f=s||\"hide\"===r,c=2*(e.times||5)+(f?1:0),u=e.duration/c,h=0,d=n.queue(),l=d.length;for((s||!n.is(\":visible\"))&&(n.css(\"opacity\",0).show(),h=1),i=1;c>i;i++)n.animate({opacity:h},u,e.easing),h=1-h;n.animate({opacity:h},u,e.easing),n.queue(function(){a&&n.hide(),o()}),l>1&&d.splice.apply(d,[1,0].concat(d.splice(l,c+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,o){var i=t(this),n=t.effects.setMode(i,e.mode||\"hide\"),r=\"hide\"===n,s=parseInt(e.percent,10)||150,a=s/100,f={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};t.extend(e,{effect:\"scale\",queue:!1,fade:!0,mode:n,complete:o,percent:r?s:100,from:r?f:{height:f.height*a,width:f.width*a,outerHeight:f.outerHeight*a,outerWidth:f.outerWidth*a}}),i.effect(e)},t.effects.effect.scale=function(e,o){var i=t(this),n=t.extend(!0,{},e),r=t.effects.setMode(i,e.mode||\"effect\"),s=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:\"hide\"===r?0:100),a=e.direction||\"both\",f=e.origin,c={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()},u={y:\"horizontal\"!==a?s/100:1,x:\"vertical\"!==a?s/100:1};n.effect=\"size\",n.queue=!1,n.complete=o,\"effect\"!==r&&(n.origin=f||[\"middle\",\"center\"],n.restore=!0),n.from=e.from||(\"show\"===r?{height:0,width:0,outerHeight:0,outerWidth:0}:c),n.to={height:c.height*u.y,width:c.width*u.x,outerHeight:c.outerHeight*u.y,outerWidth:c.outerWidth*u.x},n.fade&&(\"show\"===r&&(n.from.opacity=0,n.to.opacity=1),\"hide\"===r&&(n.from.opacity=1,n.to.opacity=0)),i.effect(n)},t.effects.effect.size=function(e,o){var i,n,r,s=t(this),a=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"width\",\"height\",\"overflow\",\"opacity\"],f=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"overflow\",\"opacity\"],c=[\"width\",\"height\",\"overflow\"],u=[\"fontSize\"],h=[\"borderTopWidth\",\"borderBottomWidth\",\"paddingTop\",\"paddingBottom\"],d=[\"borderLeftWidth\",\"borderRightWidth\",\"paddingLeft\",\"paddingRight\"],l=t.effects.setMode(s,e.mode||\"effect\"),p=e.restore||\"effect\"!==l,g=e.scale||\"both\",m=e.origin||[\"middle\",\"center\"],y=s.css(\"position\"),v=p?a:f,b={height:0,width:0,outerHeight:0,outerWidth:0};\"show\"===l&&s.show(),i={height:s.height(),width:s.width(),outerHeight:s.outerHeight(),outerWidth:s.outerWidth()},\"toggle\"===e.mode&&\"show\"===l?(s.from=e.to||b,s.to=e.from||i):(s.from=e.from||(\"show\"===l?b:i),s.to=e.to||(\"hide\"===l?b:i)),r={from:{y:s.from.height/i.height,x:s.from.width/i.width},to:{y:s.to.height/i.height,x:s.to.width/i.width}},(\"box\"===g||\"both\"===g)&&(r.from.y!==r.to.y&&(v=v.concat(h),s.from=t.effects.setTransition(s,h,r.from.y,s.from),s.to=t.effects.setTransition(s,h,r.to.y,s.to)),r.from.x!==r.to.x&&(v=v.concat(d),s.from=t.effects.setTransition(s,d,r.from.x,s.from),s.to=t.effects.setTransition(s,d,r.to.x,s.to))),(\"content\"===g||\"both\"===g)&&r.from.y!==r.to.y&&(v=v.concat(u).concat(c),s.from=t.effects.setTransition(s,u,r.from.y,s.from),s.to=t.effects.setTransition(s,u,r.to.y,s.to)),t.effects.save(s,v),s.show(),t.effects.createWrapper(s),s.css(\"overflow\",\"hidden\").css(s.from),m&&(n=t.effects.getBaseline(m,i),s.from.top=(i.outerHeight-s.outerHeight())*n.y,s.from.left=(i.outerWidth-s.outerWidth())*n.x,s.to.top=(i.outerHeight-s.to.outerHeight)*n.y,s.to.left=(i.outerWidth-s.to.outerWidth)*n.x),s.css(s.from),(\"content\"===g||\"both\"===g)&&(h=h.concat([\"marginTop\",\"marginBottom\"]).concat(u),d=d.concat([\"marginLeft\",\"marginRight\"]),c=a.concat(h).concat(d),s.find(\"*[width]\").each(function(){var o=t(this),i={height:o.height(),width:o.width(),outerHeight:o.outerHeight(),outerWidth:o.outerWidth()};p&&t.effects.save(o,c),o.from={height:i.height*r.from.y,width:i.width*r.from.x,outerHeight:i.outerHeight*r.from.y,outerWidth:i.outerWidth*r.from.x},o.to={height:i.height*r.to.y,width:i.width*r.to.x,outerHeight:i.height*r.to.y,outerWidth:i.width*r.to.x},r.from.y!==r.to.y&&(o.from=t.effects.setTransition(o,h,r.from.y,o.from),o.to=t.effects.setTransition(o,h,r.to.y,o.to)),r.from.x!==r.to.x&&(o.from=t.effects.setTransition(o,d,r.from.x,o.from),o.to=t.effects.setTransition(o,d,r.to.x,o.to)),o.css(o.from),o.animate(o.to,e.duration,e.easing,function(){p&&t.effects.restore(o,c)})})),s.animate(s.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===s.to.opacity&&s.css(\"opacity\",s.from.opacity),\"hide\"===l&&s.hide(),t.effects.restore(s,v),p||(\"static\"===y?s.css({position:\"relative\",top:s.to.top,left:s.to.left}):t.each([\"top\",\"left\"],function(t,e){s.css(e,function(e,o){var i=parseInt(o,10),n=t?s.to.left:s.to.top;return\"auto\"===o?n+\"px\":i+n+\"px\"})})),t.effects.removeWrapper(s),o()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,o){var i,n=t(this),r=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"height\",\"width\"],s=t.effects.setMode(n,e.mode||\"effect\"),a=e.direction||\"left\",f=e.distance||20,c=e.times||3,u=2*c+1,h=Math.round(e.duration/u),d=\"up\"===a||\"down\"===a?\"top\":\"left\",l=\"up\"===a||\"left\"===a,p={},g={},m={},y=n.queue(),v=y.length;for(t.effects.save(n,r),n.show(),t.effects.createWrapper(n),p[d]=(l?\"-=\":\"+=\")+f,g[d]=(l?\"+=\":\"-=\")+2*f,m[d]=(l?\"-=\":\"+=\")+2*f,n.animate(p,h,e.easing),i=1;c>i;i++)n.animate(g,h,e.easing).animate(m,h,e.easing);n.animate(g,h,e.easing).animate(p,h/2,e.easing).queue(function(){\"hide\"===s&&n.hide(),t.effects.restore(n,r),t.effects.removeWrapper(n),o()}),v>1&&y.splice.apply(y,[1,0].concat(y.splice(v,u+1))),n.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,o){var i,n=t(this),r=[\"position\",\"top\",\"bottom\",\"left\",\"right\",\"width\",\"height\"],s=t.effects.setMode(n,e.mode||\"show\"),a=\"show\"===s,f=e.direction||\"left\",c=\"up\"===f||\"down\"===f?\"top\":\"left\",u=\"up\"===f||\"left\"===f,h={};t.effects.save(n,r),n.show(),i=e.distance||n[\"top\"===c?\"outerHeight\":\"outerWidth\"](!0),t.effects.createWrapper(n).css({overflow:\"hidden\"}),a&&n.css(c,u?isNaN(i)?\"-\"+i:-i:i),h[c]=(a?u?\"+=\":\"-=\":u?\"-=\":\"+=\")+i,n.animate(h,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){\"hide\"===s&&n.hide(),t.effects.restore(n,r),t.effects.removeWrapper(n),o()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,o){var i=t(this),n=t(e.to),r=\"fixed\"===n.css(\"position\"),s=t(\"body\"),a=r?s.scrollTop():0,f=r?s.scrollLeft():0,c=n.offset(),u={top:c.top-a,left:c.left-f,height:n.innerHeight(),width:n.innerWidth()},h=i.offset(),d=t(\"<div class='ui-effects-transfer'></div>\").appendTo(document.body).addClass(e.className).css({top:h.top-a,left:h.left-f,height:i.innerHeight(),width:i.innerWidth(),position:r?\"fixed\":\"absolute\"}).animate(u,e.duration,e.easing,function(){d.remove(),o()})}}(jQuery);\n!function(t){\"use strict\";var e=function(e,n){this.$element=t(e),this.options=t.extend({},t.fn.button.defaults,n)};e.prototype.setState=function(t){var e=\"disabled\",n=this.$element,o=n.data(),a=n.is(\"input\")?\"val\":\"html\";t+=\"Text\",o.resetText||n.data(\"resetText\",n[a]()),n[a](o[t]||this.options[t]),setTimeout(function(){\"loadingText\"==t?n.addClass(e).attr(e,e):n.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.parent('[data-toggle=\"buttons-radio\"]');t&&t.find(\".active\").removeClass(\"active\"),this.$element.toggleClass(\"active\")},t.fn.button=function(n){return this.each(function(){var o=t(this),a=o.data(\"button\"),s=\"object\"==typeof n&&n;a||o.data(\"button\",a=new e(this,s)),\"toggle\"==n?a.toggle():n&&a.setState(n)})},t.fn.button.defaults={loadingText:\"loading...\"},t.fn.button.Constructor=e,t(function(){t(\"body\").on(\"click.button.data-api\",\"[data-toggle^=button]\",function(e){var n=t(e.target);n.hasClass(\"btn\")||(n=n.closest(\".btn\")),n.button(\"toggle\")})})}(window.jQuery);\n!function(n){\"use strict\";function t(n,t){var r=(65535&n)+(65535&t),e=(n>>16)+(t>>16)+(r>>16);return e<<16|65535&r}function r(n,t){return n<<t|n>>>32-t}function e(n,e,u,o,f,c){return t(r(t(t(e,n),t(o,c)),f),u)}function u(n,t,r,u,o,f,c){return e(t&r|~t&u,n,t,o,f,c)}function o(n,t,r,u,o,f,c){return e(t&u|r&~u,n,t,o,f,c)}function f(n,t,r,u,o,f,c){return e(t^r^u,n,t,o,f,c)}function c(n,t,r,u,o,f,c){return e(r^(t|~u),n,t,o,f,c)}function i(n,r){n[r>>5]|=128<<r%32,n[(r+64>>>9<<4)+14]=r;var e,i,d,a,h,l=1732584193,g=-271733879,v=-1732584194,m=271733878;for(e=0;e<n.length;e+=16)i=l,d=g,a=v,h=m,l=u(l,g,v,m,n[e],7,-680876936),m=u(m,l,g,v,n[e+1],12,-389564586),v=u(v,m,l,g,n[e+2],17,606105819),g=u(g,v,m,l,n[e+3],22,-1044525330),l=u(l,g,v,m,n[e+4],7,-176418897),m=u(m,l,g,v,n[e+5],12,1200080426),v=u(v,m,l,g,n[e+6],17,-1473231341),g=u(g,v,m,l,n[e+7],22,-45705983),l=u(l,g,v,m,n[e+8],7,1770035416),m=u(m,l,g,v,n[e+9],12,-1958414417),v=u(v,m,l,g,n[e+10],17,-42063),g=u(g,v,m,l,n[e+11],22,-1990404162),l=u(l,g,v,m,n[e+12],7,1804603682),m=u(m,l,g,v,n[e+13],12,-40341101),v=u(v,m,l,g,n[e+14],17,-1502002290),g=u(g,v,m,l,n[e+15],22,1236535329),l=o(l,g,v,m,n[e+1],5,-165796510),m=o(m,l,g,v,n[e+6],9,-1069501632),v=o(v,m,l,g,n[e+11],14,643717713),g=o(g,v,m,l,n[e],20,-373897302),l=o(l,g,v,m,n[e+5],5,-701558691),m=o(m,l,g,v,n[e+10],9,38016083),v=o(v,m,l,g,n[e+15],14,-660478335),g=o(g,v,m,l,n[e+4],20,-405537848),l=o(l,g,v,m,n[e+9],5,568446438),m=o(m,l,g,v,n[e+14],9,-1019803690),v=o(v,m,l,g,n[e+3],14,-187363961),g=o(g,v,m,l,n[e+8],20,1163531501),l=o(l,g,v,m,n[e+13],5,-1444681467),m=o(m,l,g,v,n[e+2],9,-51403784),v=o(v,m,l,g,n[e+7],14,1735328473),g=o(g,v,m,l,n[e+12],20,-1926607734),l=f(l,g,v,m,n[e+5],4,-378558),m=f(m,l,g,v,n[e+8],11,-2022574463),v=f(v,m,l,g,n[e+11],16,1839030562),g=f(g,v,m,l,n[e+14],23,-35309556),l=f(l,g,v,m,n[e+1],4,-1530992060),m=f(m,l,g,v,n[e+4],11,1272893353),v=f(v,m,l,g,n[e+7],16,-155497632),g=f(g,v,m,l,n[e+10],23,-1094730640),l=f(l,g,v,m,n[e+13],4,681279174),m=f(m,l,g,v,n[e],11,-358537222),v=f(v,m,l,g,n[e+3],16,-722521979),g=f(g,v,m,l,n[e+6],23,76029189),l=f(l,g,v,m,n[e+9],4,-640364487),m=f(m,l,g,v,n[e+12],11,-421815835),v=f(v,m,l,g,n[e+15],16,530742520),g=f(g,v,m,l,n[e+2],23,-995338651),l=c(l,g,v,m,n[e],6,-198630844),m=c(m,l,g,v,n[e+7],10,1126891415),v=c(v,m,l,g,n[e+14],15,-1416354905),g=c(g,v,m,l,n[e+5],21,-57434055),l=c(l,g,v,m,n[e+12],6,1700485571),m=c(m,l,g,v,n[e+3],10,-1894986606),v=c(v,m,l,g,n[e+10],15,-1051523),g=c(g,v,m,l,n[e+1],21,-2054922799),l=c(l,g,v,m,n[e+8],6,1873313359),m=c(m,l,g,v,n[e+15],10,-30611744),v=c(v,m,l,g,n[e+6],15,-1560198380),g=c(g,v,m,l,n[e+13],21,1309151649),l=c(l,g,v,m,n[e+4],6,-145523070),m=c(m,l,g,v,n[e+11],10,-1120210379),v=c(v,m,l,g,n[e+2],15,718787259),g=c(g,v,m,l,n[e+9],21,-343485551),l=t(l,i),g=t(g,d),v=t(v,a),m=t(m,h);return[l,g,v,m]}function d(n){var t,r=\"\";for(t=0;t<32*n.length;t+=8)r+=String.fromCharCode(255&n[t>>5]>>>t%32);return r}function a(n){var t,r=[];for(r[(n.length>>2)-1]=void 0,t=0;t<r.length;t+=1)r[t]=0;for(t=0;t<8*n.length;t+=8)r[t>>5]|=(255&n.charCodeAt(t/8))<<t%32;return r}function h(n){return d(i(a(n),8*n.length))}function l(n,t){var r,e,u=a(n),o=[],f=[];for(o[15]=f[15]=void 0,u.length>16&&(u=i(u,8*n.length)),r=0;16>r;r+=1)o[r]=909522486^u[r],f[r]=1549556828^u[r];return e=i(o.concat(a(t)),512+8*t.length),d(i(f.concat(e),640))}function g(n){var t,r,e=\"0123456789abcdef\",u=\"\";for(r=0;r<n.length;r+=1)t=n.charCodeAt(r),u+=e.charAt(15&t>>>4)+e.charAt(15&t);return u}function v(n){return unescape(encodeURIComponent(n))}function m(n){return h(v(n))}function p(n){return g(m(n))}function s(n,t){return l(v(n),v(t))}function C(n,t){return g(s(n,t))}function A(n,t,r){return t?r?s(t,n):C(t,n):r?m(n):p(n)}\"function\"==typeof define&&define.amd?define(function(){return A}):\"undefined\"!=typeof module&&null!=module?module.exports=A:n.md5=A}(this);\njQuery.cookie=function(e,n,t){if(arguments.length>1&&(null===n||\"object\"!=typeof n)){if(t=jQuery.extend({},t),null===n&&(t.expires=-1),t.hasOwnProperty(\"path\")||(t.path=\"/\"),\"number\"==typeof t.expires){var o=t.expires,r=t.expires=new Date;r.setDate(r.getDate()+o)}return document.cookie=[encodeURIComponent(e),\"=\",t.raw?String(n):encodeURIComponent(String(n)),t.expires?\"; expires=\"+t.expires.toUTCString():\"\",t.path?\"; path=\"+t.path:\"\",t.domain?\"; domain=\"+t.domain:\"\",t.secure?\"; secure\":\"\"].join(\"\")}t=n||{};var i,p=t.raw?function(e){return e}:decodeURIComponent;return(i=new RegExp(\"(?:^|; )\"+encodeURIComponent(e)+\"=([^;]*)\").exec(document.cookie))?p(i[1]):null};\n!function(t,n,e){function o(t){return t=t||location.href,\"#\"+t.replace(/^[^#]*#?(.*)$/,\"$1\")}var r,i=\"hashchange\",c=document,a=t.event.special,u=c.documentMode,f=\"on\"+i in n&&(u===e||u>7);t.fn[i]=function(t){return t?this.bind(i,t):this.trigger(i)},t.fn[i].delay=50,a[i]=t.extend(a[i],{setup:function(){return f?!1:(t(r.start),void 0)},teardown:function(){return f?!1:(t(r.stop),void 0)}}),r=function(){function r(){var e=o(),c=p(s);e!==s?(l(s=e,c),t(n).trigger(i)):c!==s&&(location.href=location.href.replace(/#.*/,\"\")+c),a=setTimeout(r,t.fn[i].delay)}var a,u={},s=o(),d=function(t){return t},l=d,p=d;return u.start=function(){a||r()},u.stop=function(){a&&clearTimeout(a),a=e},t.browser.msie&&!f&&function(){var n,e;u.start=function(){n||(e=t.fn[i].src,e=e&&e+o(),n=t('<iframe tabindex=\"-1\" title=\"empty\"/>').hide().one(\"load\",function(){e||l(o()),r()}).attr(\"src\",e||\"javascript:0\").insertAfter(\"body\")[0].contentWindow,c.onpropertychange=function(){try{\"title\"===event.propertyName&&(n.document.title=c.title)}catch(t){}})},u.stop=d,p=function(){return o(n.location.href)},l=function(e,o){var r=n.document,a=t.fn[i].domain;e!==o&&(r.title=c.title,r.open(),a&&r.write('<script>document.domain=\"'+a+'\"</script>'),r.close(),n.location.hash=e)}}(),u}()}(jQuery,this);\n!function(){function n(){e&&(o(n),jQuery.fx.tick())}for(var e,i=0,t=[\"webkit\",\"moz\"],o=window.requestAnimationFrame,a=window.cancelAnimationFrame;i<t.length&&!o;i++)o=window[t[i]+\"RequestAnimationFrame\"],a=a||window[t[i]+\"CancelAnimationFrame\"]||window[t[i]+\"CancelRequestAnimationFrame\"];o?(window.requestAnimationFrame=o,window.cancelAnimationFrame=a,jQuery.fx.timer=function(i){i()&&jQuery.timers.push(i)&&!e&&(e=!0,n())},jQuery.fx.stop=function(){e=!1}):(window.requestAnimationFrame=function(n){var e=(new Date).getTime(),t=Math.max(0,16-(e-i)),o=window.setTimeout(function(){n(e+t)},t);return i=e+t,o},window.cancelAnimationFrame=function(n){clearTimeout(n)})}(jQuery);\n!function(){var t,e,n,o,i,r,c,s,a,u,h,l,v,d,p,f,g,E,m,y,X,w,Y,T,k,M,C,P,_,S,b=function(t,e){return function(){return t.apply(e,arguments)}};if(t=25,e=2500,n=10,c=/iP(ad|hone|od)/.test(navigator.userAgent),r=navigator.userAgent.indexOf(\"Android\")>0,s=window.navigator.msPointerEnabled,i=\"ontouchstart\"in window||s,u=Math.abs,window.mti=f=[],i&&$(document).on(\"touchmove\",function(t){var e,n,o;for(n=0,o=f.length;o>n;n++)e=f[n],e.touchMove(t)}),a=function(){function t(t,e,n){this.$container=t,this.selector=e,this.handler=n,this.touchEnd=b(this.touchEnd,this),this.touchMove=b(this.touchMove,this),this.touchStart=b(this.touchStart,this),i&&(this.active=!1,this.setup_handlers())}return t.prototype.setup_handlers=function(){this.$container.on(\"touchstart\",this.selector,this.touchStart),this.$container.on(\"touchend\",this.selector,this.touchEnd),this.$container.on(\"touchcancel\",this.selector,this.touchEnd),this.register_touch_move()},t.prototype.remove_handlers=function(){this.$container.off(\"touchstart\",this.selector,this.touchStart),this.$container.off(\"touchend\",this.selector,this.touchEnd),this.$container.off(\"touchcancel\",this.selector,this.touchEnd),this.deregister_touchmove()},t.prototype.remove=function(){this.remove_handlers()},t.prototype.register_touch_move=function(){f.push(this)},t.prototype.deregister_touchmove=function(){var t;t=f.indexOf(this),t>-1&&(f=f.splice(t,1))},t.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case\"button\":return\"submit\"===t.type.toLowerCase()?!0:!1;case\"input\":return c&&\"file\"===t.type?!0:!1;case\"label\":case\"video\":return!0}return!1},t.prototype.determineEventType=function(t){return r&&\"select\"===t.tagName.toLowerCase()?\"mousedown\":\"click\"},t.prototype.sendClick=function(t,e){var n,o,i,r;n=document.activeElement,n&&n!==t&&n.blur(),i=(null!=(r=e.changedTouches)?r[0]:void 0)||e.originalEvent.changedTouches[0],o=document.createEvent(\"MouseEvents\"),o.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),o.fakedTouchEvent=!0,t.dispatchEvent(o)},t.prototype.touchStart=function(t){var e,n;e=(null!=(n=t.touches)?n[0]:void 0)||t.originalEvent.touches[0],this.active=!0,this.startX=e.clientX,this.startY=e.clientY},t.prototype.touchMove=function(t){var e,o,i,r;this.active&&(i=(null!=(r=t.touches)?r[0]:void 0)||t.originalEvent.touches[0],e=u(i.clientX-this.startX),o=u(i.clientY-this.startY),(e>n||o>n)&&(this.active=!1))},t.prototype.touchEnd=function(t){var e,n;this.active&&(this.active=!1,e=this.$container.find(this.selector),n=t.target,this.needsClick(n)||(t.preventDefault(),t.stopImmediatePropagation(),o.preventGhostClick(this.startX,this.startY),this.sendClick(n,t)))},t.prototype.wrapHandler=function(){var t;return t=this.handler,function(e){return o.clickPermitted(e)?(t.apply(this,arguments),void 0):!1}},t}(),o=function(){function n(){}return n.coordinates=[],n.preventGhostClick=function(t,o){n.coordinates.push(t,o),window.setTimeout(n.pop,e)},n.pop=function(){n.coordinates.splice(0,2)},n.clickPermitted=function(e){var o,i,r,c,s,a,h,l,v,d,p;if(o=n.coordinates,null==e.clientX)return!0;if(e.fakedTouchEvent||(null!=(d=e.originalEvent)?d.fakedTouchEvent:void 0))return!0;for(s=l=0,v=o.length;v>l;s=l+=2)if(c=o[s],p=o.slice(s,+(s+1)+1||9e9),a=p[0],h=p[1],i=u(e.clientX-a),r=u(e.clientY-h),t>i&&t>r)return e.stopPropagation(),void 0;return!0},n}(),i&&(g={},$.event.special.click={add:function(t){var e,n,o,i,r;n=t.handler,r=t.type,i=t.selector,e=t.guid,o=new a($(this),i,n),t.handler=o.wrapHandler(),g[e]=o},remove:function(t){var e,n;e=t.guid,n=g[e],null!=n&&n.remove(),g[e]=null}}),v=function(t,e){var n,o;return n={},o={add:function(o){var i,r,c,s,a,u;c=o.handler,u=o.type,a=o.selector,r=o.guid,n[r]||(s=t(c),i=e(),$(this).on(i,a,s),n[r]=s)},remove:function(t){var o,i,r;o=t.guid,r=t.selector,i=n[o],n[o]=null,i&&$(this).off(e(),r,i)}}},s)for(X=[[\"touchstart\",\"MSPointerDown\"],[\"touchmove\",\"MSPointerMove\"],[\"touchend\",\"MSPointerUp\"],[\"touchcancel\",\"MSPointerCancel\"]],m=function(t,e){var n,o,i,r,c,s,a,u,h,l;return r=t.originalEvent,l=r||t,c=l.pageX,s=l.pageY,n=l.clientX,o=l.clientY,a=l.screenX,u=l.screenY,h=l,i=[h],null!=r&&(t.originalEvent.type=e,t.originalEvent.changedTouches=i,t.originalEvent.targetTouches=i,t.originalEvent.touches=i),t.type=e,t.changedTouches=i,t.targetTouches=i,t.touches=i,t},Y=function(t,e){var n,o;return n=function(e){var n;return n=function(n){e.call(this,m(n,t))}},o=function(){return e},$.event.special[t]=v(n,o)},k=0,C=X.length;C>k;k++)_=X[k],p=_[0],d=_[1],Y(p,d);for(l=[[\"dragstart\",\"mousedown\",\"touchstart\"],[\"dragmove\",\"mousemove\",\"touchmove\"],[\"dragend\",\"mouseup\",\"touchend touchcancel\"]],E=function(t,e){var n,o,i,r,c,s,a,u;return a=(null!=(u=t.changedTouches)?u[0]:void 0)||t.originalEvent.changedTouches[0],i=a.pageX,r=a.pageY,n=a.clientX,o=a.clientY,c=a.screenX,s=a.screenY,t.originalEvent&&(t.originalEvent.pageX=i,t.originalEvent.pageY=r,t.originalEvent.clientX=n,t.originalEvent.clientY=o,t.originalEvent.screenX=c,t.originalEvent.screenY=s,t.originalEvent.type=e),t.pageX=i,t.pageY=r,t.clientX=n,t.clientY=o,t.screenX=c,t.screenY=s,t.type=e,t},w=function(t,e,n){var o,r;return o=function(e){var n;return n=i?function(n){e.call(this,E(n,t))}:function(n){n.type=t,n.originalEvent&&(n.originalEvent.type=t),e.call(this,n)}},r=function(){return i?n:e},$.event.special[t]=v(o,r)},M=0,P=l.length;P>M;M++)S=l[M],h=S[0],y=S[1],T=S[2],w(h,y,T)}.call(this);\n!function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},i=[].slice;t=this.jQuery||this.Zepto,this.PaymentTag=function(){function r(i){var r;if(!window.Stripe)throw\"Stripe.js required\";null==i&&(i={}),this.changeCardType=e(this.changeCardType,this),this.restrictNumeric=e(this.restrictNumeric,this),this.formatNumber=e(this.formatNumber,this),this.handleToken=e(this.handleToken,this),this.submit=e(this.submit,this),this.$el=i.el||\"<payment />\",this.$el=t(this.$el),this.$el.data(\"payment-tag\",this),i.key||(i.key=this.$el.attr(\"key\")||this.$el.attr(\"data-key\")),null==(r=i.cvc)&&(i.cvc=\"disabled\"!==this.$el.attr(\"data-cvc\")),i.form||(i.form=this.$el.parents(\"form\")),this.options=t.extend({},this.defaults,i),this.options.key&&this.setKey(this.options.key),this.setForm(this.options.form),this.$el.delegate(\".number input\",\"keydown\",this.formatNumber),this.$el.delegate(\".number input\",\"keyup\",this.changeCardType),this.$el.delegate(\"input[type=text]\",\"keypress\",this.restrictNumeric)}return r.replaceTags=function(e){var i=this;return null==e&&(e=document.body),t(\".payment\",e).each(function(t,e){return new i({el:e}).render()})},r.prototype.defaults={tokenName:\"stripe_token\",cvc:!0},r.prototype.setForm=function(e){return this.$form=t(e),this.$form.bind(\"submit.payment\",this.submit)},r.prototype.setKey=function(t){return this.key=t,Stripe.setPublishableKey(this.key)},r.prototype.validate=function(){var t;return this.$(\"div\").removeClass(\"invalid\"),this.$message.hide(),Stripe.validateCardNumber(this.$number.val())?this.options.cvc&&!Stripe.validateCVC(this.$cvc.val())?(this.handleError({code:\"invalid_cvc\",message:\"Your card's security code is invalid\"}),!1):(t=this.expiryVal(),Stripe.validateExpiry(t.month,t.year)?!0:(valid=!1,this.handleError({code:\"invalid_expiry_date\",message:\"Your card's expiration date is invalid\"}),!1)):(this.handleError({code:\"invalid_number\",message:\"Your card number is incorrect\"}),!1)},r.prototype.createToken=function(t){var e,i;return e=function(e,i){return i.error?t(i.error):t(null,i)},i=this.expiryVal(),Stripe.createToken({number:this.$number.val(),cvc:this.$cvc.val()||null,exp_month:i.month,exp_year:i.year},e)},r.prototype.submit=function(t){return null!=t&&t.preventDefault(),null!=t&&t.stopImmediatePropagation(),this.validate()&&!this.pending?(this.pending=!0,this.disableInputs(),this.trigger(\"pending\"),this.$el.addClass(\"pending\"),this.createToken(this.handleToken)):void 0},r.prototype.handleToken=function(t,e){return this.trigger(\"complete\"),this.$el.removeClass(\"pending\"),this.pending=!1,t?(this.enableInputs(),this.handleError(t)):(this.trigger(\"success\",e.id),this.$el.addClass(\"success\"),void 0)},r.prototype.formatNumber=function(t){var e,i,r;return r=t.which,(96>r||r>105)&&(48>r||r>57)?void 0:(i=this.$number.val(),e=\"American Express\"===Stripe.cardType(i)?i.match(/^(\\d{4}|\\d{4}\\s\\d{6})$/):i.match(/(?:^|\\s)(\\d{4})$/),e?this.$number.val(i+\" \"):void 0)},r.prototype.restrictNumeric=function(t){var e;return t.shiftKey||t.metaKey?!0:0===t.which?!0:(e=String.fromCharCode(t.which),!/[A-Za-z]/.test(e))},r.prototype.cardTypes={Visa:\"visa\",\"American Express\":\"amex\",MasterCard:\"mastercard\",Discover:\"discover\",Unknown:\"unknown\"},r.prototype.changeCardType=function(){var t,e,i,r;if(i=Stripe.cardType(this.$number.val()),!this.$number.hasClass(i)){r=this.cardTypes;for(e in r)t=r[e],this.$number.removeClass(t);return this.$number.addClass(this.cardTypes[i])}},r.prototype.handleError=function(e){switch(e.message&&this.$message.text(e.message).show(),e.code){case\"card_declined\":this.invalidInput(this.$number);break;case\"invalid_number\":case\"incorrect_number\":this.invalidInput(this.$number);break;case\"invalid_expiry_month\":this.invalidInput(this.$expiryMonth);break;case\"invalid_expiry_year\":this.invalidInput(this.$expiryYear);break;case\"invalid_expiry_date\":case\"expired_card\":this.invalidInput(this.$expiryMonth),this.invalidInput(this.$expiryYear);break;case\"invalid_cvc\":this.invalidInput(this.$cvc)}return t(\".invalid input\").first().focus().select(),this.trigger(\"err\",e),\"undefined\"!=typeof console&&null!==console?console.error(\"Stripe error:\",e):void 0},r.prototype.invalidInput=function(t){return t.parent().addClass(\"invalid\"),this.trigger(\"invalid\",[t.attr(\"name\"),t])},r.prototype.expiryVal=function(){var t,e,i,r;return i=function(t){return t.replace(/^\\s+|\\s+$/g,\"\")},t=i(this.$expiryMonth.val()),r=i(this.$expiryYear.val()),2===r.length&&(e=(new Date).getFullYear(),e=e.toString().slice(0,2),r=e+r),{month:t,year:r}},r.prototype.enableInputs=function(){var e;return e=this.$el.add(this.$form).find(\":input\"),e.each(function(){var i,r;return i=t(this),i.data(\"oldvalue\")&&i.html(i.data(\"oldvalue\")),e.attr(\"disabled\",null!=(r=i.data(\"olddisabled\"))?r:!1)})},r.prototype.disableInputs=function(){var e;return e=this.$el.add(this.$form).find(\":input\"),e.each(function(){var e;return e=t(this),e.data(\"olddisabled\",e.attr(\"disabled\")),\"BUTTON\"==e.prop(\"tagName\")&&(e.data(\"oldvalue\",e.html()),e.html(\"Submitting...\")),e.attr(\"disabled\",!0)})},r.prototype.trigger=function(){var t,e,r;return e=arguments[0],t=2<=arguments.length?i.call(arguments,1):[],(r=this.$el).trigger.apply(r,[\"\"+e+\".payment\"].concat(i.call(t)))},r.prototype.$=function(e){return t(e,this.$el)},r}(),\"undefined\"!=typeof module&&null!==module&&(module.exports=PaymentTag)}.call(this);\n!function(){var t=[].slice;null==window.console&&(window.console={log:function(){}}),null==$.hipmunk&&($.hipmunk={}),function(e){var n,i,r;return e.hipmunk={},e.log=function(t){return console.log(t)},e.defined=function(t){return null!=t},e.with_default=function(t,e){return null!=t?t:e},e.redirect=function(t){return window.location=t},e.reload=function(){return window.location.reload()},e.object_class=function(t){return Object.prototype.toString.call(t).slice(8,-1)},e.add_meta=function(t,n){return e(\"head\").append(\"<meta name='\"+t+\"' content='\"+n+\"'/>\")},e.render=function(){return e(drykup.render())},e.wait=function(t){var n,i,r;return n=e.Deferred(),r=setTimeout(function(){return n.resolve()},t),i=n.promise(),i.clear=function(){return\"pending\"===n.state()?(clearTimeout(r),n.reject()):void 0},i},e.fn.init_stickies=function(){return this.find(\".sticky\").init_sticky()},e.fn.init_sticky=function(){return this.each(function(){var t,n;return t=e(this),t.next(\".sticky-placeholder\").length?void 0:(t.data(\"marginLeft\",parseInt(t.css(\"marginLeft\"),10)),n=t.attr(\"class\"),e(\"<div/>\").addClass(\"sticky-placeholder \"+n).removeClass(\"sticky\").insertAfter(t),t.css({position:\"absolute\"}).update_sticky_placeholder())})},e.fn.update_sticky_placeholder=function(){return this.next(\".sticky-placeholder\").css({height:this.css(\"height\"),width:this.css(\"width\")})},e.fn.place_sticky=function(t){return this.css({position:\"absolute\",top:t,left:\"auto\"})},e.fn.fix_sticky=function(t,n,i){var r,s;return s=e(window).scrollLeft(),r=s?i-s-this.data(\"marginLeft\"):\"auto\",this.css({position:\"fixed\",top:t,left:r}),this.data(\"sticky_top\",n),this.data(\"sticky_left\",i)},e.fn.update_stickies=function(){return this.find(\".sticky\").update_sticky()},e.fn.update_sticky=function(){var t,n,i;t=e(window).height(),i=e(window).scrollTop(),n=i+t,this.each(function(){return e(this).update_sticky_placeholder()}),this.each(function(){var r,s,a,o,c,u,l,h,f,d,p,g,y,m;return s=e(this),s.is(\":visible\")?(r=s.closest(\".sticky-boundary\"),c=r.offset().top,\"fixed\"===s.prop(\"style\").position?(m=s.data(\"sticky_top\"),g=s.next(\".sticky-placeholder\").offset().left):(f=s.offset(),m=f.top,g=f.left),p=s.outerHeight(),d=m+p,m>i?c>=i?s.place_sticky(0):s.fix_sticky(0,i,g):n>d?(o=r.outerHeight(),a=c+o,u=Math.min(t-p,0),h=i+u,a>h+p?s.fix_sticky(u,h,g):s.place_sticky(o-p)):(o=r.outerHeight(),y=m-c,l=Math.min(y,o-p),s.place_sticky(l)),void 0):s.place_sticky(0)})},e.bare_ajax=e.ajax,e.ajax=function(t,n){var i;return n=null!=n?n:{},\"object\"==typeof t?n=t:n.url=t,null==n.data&&(n.data={}),i=e.hipmunk.revision||hm.settings.revision,\"Array\"===e.object_class(n.data)?n.data.push({name:\"revision\",value:i}):\"object\"==typeof n.data&&(n.data.revision=i),n.successTry&&(n.success=function(t,e,i){var r;try{return n.successTry.apply(this,arguments)}catch(s){throw r=s,_.defer(function(){return n.error.call(this,i,\"exception\",r)}),r}}),e.bare_ajax.call(this,n)},e.fn.cdata=function(t,e){var n,i,r,s,a;if(null!=e){for(;i=this.cdata(t);)this.removeClass(t+\"-\"+i);return e&&this.addClass(t+\"-\"+e),this}return a=RegExp(t+\"-(\\\\S*)\"),n=this.get(0).className,(s=a.exec(n))?s[1]:(r=this.get(0).id,(s=a.exec(r))?s[1]:void 0)},e.fn.cdata_closest=function(t){var e,n;for(n=this;n.length;){if(e=n.cdata(t))return e;n=n.parent()}},e.fn.first_id=function(){var t,n,i,r,s;if(n=this.attr(\"id\"))return n;for(s=this.children(),i=0,r=s.length;r>i;i++)if(t=s[i],n=e(t).first_id())return n},e.fn.htmlRender=function(){return this.html(drykup.render())},e.fn.prependRender=function(){return this.prepend(drykup.render())},e.fn.appendRender=function(){return this.append(drykup.render())},e.fn.replaceWithRender=function(){return this.replaceWith(drykup.render())},e.fn.selectButton=function(t){return this.siblings(t).removeClass(\"selected\"),this.addClass(\"selected\"),e},e.fn.fade_text=function(){var t,e,n;return t=this.children(\".default\"),e=this.children(\".submitting\"),n=this.children(\".success\"),e.fadeOut(1e3,function(){return n.fadeIn(1e3,function(){return n.fadeOut(1e3,function(){return t.show()})})})},e.fn.sortChildrenByWidth=function(t){return this.each(function(){var n,i;return i=e(this),n=i.children(),n.sort(function(n,i){return t?e(n).find(t).width()-e(i).find(t).width():e(n).width()-e(i).width()}),i.empty(),i.append(n)}),this},e.fn.autoOuterHeight=function(){var e,n,i,r;return e=1<=arguments.length?t.call(arguments,0):[],r=this.prop(\"style\"),n=r.height,r.height=\"auto\",i=this.outerHeight.apply(this,e),r.height=n,i},e.fn.autoHeight=function(){var t,e,n;return n=this.prop(\"style\"),e=n.height,n.height=\"auto\",t=this.height(),n.height=e,t},e.fn.withCss=function(t,e,n){var i,r,s,a,o,c;for(s=function(){var e,n,r;for(r=[],e=0,n=this.length;n>e;e++)i=this[e],r.push(i.style[t]);return r}.call(this),this.css(t,e),a=n.call(this),r=o=0,c=this.length;c>o;r=++o)i=this[r],i.style[t]=s[r];return a},e.fn.withClass=function(t,e){var n;return this.addClass(t),n=e.call(this),this.removeClass(t),n},e.fn.withoutClass=function(t,e){var n;return this.removeClass(t),n=e.call(this),this.addClass(t),n},e.easingSlice=function(t,n,i){var r,s;return s=\"_\"+t+\"_\"+n+\"_\"+i,s in e.easing||(r=n+i,e.easing[s]=function(s,a,o,c,u){var l,h;return l=e.easing[t](s,a,o,c,u),0!==n&&n>=l?0:1!==r&&l>=r?1:h=(l-n)/i}),s},n=0,i=e.fn.animate,e.fn.animate=function(t,n,r,s){var a,o,c,u,l,h,f,d,p,g,y,m,v,k,w=this;if(!e.isArray(null!=n?n.sequence:void 0))return i.apply(this,arguments);f=jQuery.speed(n,r,s),y=0,c={};for(p in t)u=this.withCss(p,t[p],function(){return parseFloat(w.css(p))||0}),g=parseFloat(this.css(p))||0,o=Math.abs(u-g),c[p]=o,y+=o;for(h=jQuery.extend({},f),delete h.sequence,d=0,k=f.sequence,l=m=0,v=k.length;v>m;l=++m)p=k[l],l===f.sequence.length-1?a=1-d:(a=c[p]/y,a||(a=0)),null==h.specialEasing&&(h.specialEasing={}),r=h.specialEasing[name]||f.easing||\"swing\",h.specialEasing[p]=e.easingSlice(r,d,a),d+=a;return i.call(this,t,h)},e.fn.closestAll=function(t){return this.closest(t).siblings(t).andSelf()},e.fn._scrollable=function(){return this.map(function(){var t,n,i;return n=this,(i=!n.nodeName||-1!==e.inArray(n.nodeName.toLowerCase(),[\"iframe\",\"#document\",\"html\",\"body\"]))?(t=(n.contentWindow||n).document||n.ownerDocument||n,/webkit/i.test(navigator.userAgent)||\"BackCompat\"===t.compatMode?t.body:t.documentElement):n})},e.fn.scrollTo=function(t,n,i,r){return e(window)._scrollable().animate({scrollTop:e(t).offset().top},n,i,r)},e.fn.inDOM=function(){return e.contains(document.documentElement,this[0])},e.fn.nextOrFirst=function(t){var e;return e=this.next(t),e.length?e:this.prevAll(t).last()},e.fn.prevOrLast=function(t){var e;return e=this.prev(t),e.length?e:this.nextAll(t).last()},e.fn.cssClass=function(){var t;return t=this.attr(\"class\"),\".\"+t.replace(\" \",\".\")},r=navigator.userAgent,r.match(/Trident/)&&(e.browser.msie=!0,r.match(/rv:([0-9]+)\\./))?e.browser.version=RegExp.$1:void 0}(window.jQuery)}.call(this);\n!function(){var r;r={query_param:function(n){return r.query_params()[n]},query_params:function(){var n;return n=window.location.search,n?r.decode_query_string(n.slice(1)):{}},hash_params:function(){var r;return r=window.location.hash,r?this.decode_query_string(r.slice(1)):{}},decode_query_string:function(r){var n,e,t,o,a,i,u,c,s;for(n=function(r){return decodeURIComponent(r).replace(/\\+/g,\" \")},a={},o=r.split(\"&\"),u=0,c=o.length;c>u;u++)t=o[u],s=t.split(\"=\"),e=s[0],i=s[1],e=n(e),i=null!=i?n(i):\"\",a[e]=i;return a},get_config:function(n,e){var t;return n=\"x_\"+n,t=r.query_param(n),void 0!==t?t:(t=function(){try{return localStorage[n]}catch(r){}}(),void 0!==t?t:e)}},hm[\"export\"]({utils:r})}.call(this);\n!function(){var HipQueryParams,simple_cmp,utils,__slice=[].slice,__hasProp={}.hasOwnProperty,_this=this;window.set_timeout=function(t,e){return setTimeout(e,t)},window.clear_timeout=clearTimeout,window.set_interval=function(t,e){return setInterval(e,t)},window.clear_interval=clearInterval,HipQueryParams=hm.HipQueryParams,utils={log:function(){var t,e;t=1<=arguments.length?__slice.call(arguments,0):[],\"undefined\"!=typeof console&&null!==console&&((null!=(e=$.browser)?e.msie:void 0)?1===t.length?console.log(t[0]):console.log(t):console.log.apply(console,t))},parse_int:function(t){return parseInt(t,10)},fast_floor:function(t){return 0|t},dict_size:function(t){var e,n;n=0;for(e in t)__hasProp.call(t,e)&&n++;return n},sort_dict:function(t,e){var n,r,i;return r=function(){var e;e=[];for(n in t)__hasProp.call(t,n)&&(i=t[n],e.push([n,i]));return e}(),r.sort(function(t,n){return e(t[0],t[1])>e(n[0],n[1])?1:-1}),r},sum:function(t){var e,n,r,i;for(e=0,r=0,i=t.length;i>r;r++)n=t[r],e+=n;return e},ga_track:function(t,e,n,r){var i;try{return window._gaq.push([\"_trackEvent\",t,e,n,r])}catch(a){i=a}},parse_int:function(t){return parseInt(t,10)},dates_equal:function(t,e){return t.getDate()===e.getDate()&&t.getMonth()===e.getMonth()&&t.getYear()===e.getYear()},month_diff:function(t,e){var n;return n=12*(e.getFullYear()-t.getFullYear()),n-=t.getMonth()+1,n+=e.getMonth()},today_in_timezone:function(t){var e,n,r,i;return n=Date.getTimezoneOffset(t),r=new Date,e=parseInt(r.getUTCOffset(),10),i=function(t){return t/100},r.addHours(-1*i(e)),r.addHours(i(n)),r},MAX_TRACK_BATCH_SIZE:10,TRACK_CLEARING_INTERVAL:1e3,_batched_track_events:[],track_interval:null,make_track_data:function(t,e,n){var r;return n=n||{},n.category=e,r={event:t,data:JSON.stringify(n)}},push_track_data:function(t){utils._batched_track_events.push(t)},track:function(t,e,n){var r;\"undefined\"==typeof hm||null===hm||hm.headless||(r=utils.make_track_data(t,e,n),utils.push_track_data(r),utils._batched_track_events.length>utils.MAX_TRACK_BATCH_SIZE&&utils.flush_track_events(),utils.track_interval||(utils.track_interval=set_interval(utils.TRACK_CLEARING_INTERVAL,function(){return utils.flush_track_events()})),$.hipmunk.track_prev_event=t,$.hipmunk.track_prev_category=e,$.hipmunk.track_prev_time=$.now())},user_tracking_data:function(){var t;return t=hm.user?{visit_id:hm.visit_id,user_id:hm.user.id,refresh_id:hm.refresh_id,was_created:hm.was_created}:{visit_id:$.hipmunk.visit_id,user_id:$.hipmunk.user.id,refresh_id:$.hipmunk.refresh_id,was_created:$.hipmunk.was_created}},flush_track_events:function(t){var e;e=(null!=t?t:{}).async,($.hipmunk.user||hm.user)&&0!==utils._batched_track_events.length&&(null==e&&(e=!0),$.ajax(\"/api/batch_track\",{type:\"post\",dataType:\"json\",data:$.extend(utils.user_tracking_data(),{batched_events:JSON.stringify(utils._batched_track_events),cookies_enabled:navigator.cookieEnabled}),success:function(t){return $.debug&&(null!=t?t.bad_event:void 0)?alert(\"*** INVALID EVENT NAME ***\\n'\"+t.bad_event+\"' must be added to events.py\"):void 0},error:null,async:e}),utils._batched_track_events=[])},client_track:function(){var t;return t=1<=arguments.length?__slice.call(arguments,0):[],utils.track.apply(utils,t)},load_js:function(t,e){var n,r,i;return r=document.getElementsByTagName(\"head\")[0],n=!1,i=document.createElement(\"script\"),i.src=t,i.onload=i.onreadystatechange=function(){return n||this.readyState&&\"loaded\"!==this.readyState&&\"complete\"!==this.readyState?void 0:(n=!0,\"function\"==typeof e?e():void 0)},r.appendChild(i)},first_show:function(t,e){var n;return(null!=(null!=e?e.length:void 0))>0?(e.focus(),void 0):(n=$('input[type=\"text\"]:visible',t)[0],n?$(n).focus():void 0)},wrong_revision:function(){return alert(\"Hipmunk is out of date.  Click OK to reload.\"),window.location.reload()},ntext:function(t,e,n,r){return null==n&&(n=\"\"),null==r&&(r=!1),1===t&&(n=e),n||(n=\"y\"===e[e.length-1]?e.substring(0,e.length-1)+\"ies\":e+\"s\"),r?n:\"\"+t+\" \"+n},cbmap:function(t,e,n){var r,i,a,u,o,s;for(a=[],i=function(n){return a.push(n),a.length===t.length?e(a):void 0},s=[],u=0,o=t.length;o>u;u++)r=t[u],s.push(n(r,i));return s},remove:function(t,e){var n,r,i,a;for(a=[],r=0,i=t.length;i>r;r++)n=t[r],n!==e&&a.push(n);return a},deepcopy:function(t){return null!=t?JSON.parse(JSON.stringify(t)):t},iso_to_date:function(t){var e,n;return n=t.split(\"-\"),3!==n.length?null:(e=new Date(n[0],n[1]-1,n[2],0,0,0,0),e.getTime()?e:null)},re_escape:function(t){return t.replace(/[[\\]{}()*+?,\\\\^$|#\\s]/g,\"\\\\$&\")},include_abbrevs:function(t){return t=utils.re_escape(t).replace(/[ .'-]/gi,\"[ .'-]{0,2}\"),t=t.replace(/s(ain)?t/gi,\"s(ain)?t\"),t.replace(/f(or)?t/gi,\"f(or)?t\")},bold_search:function(t,e){var n;return n=new RegExp(\"(\"+utils.include_abbrevs(t)+\")\",\"i\"),e.replace(n,\"<b>$1</b>\")},sign:function(t){return 0>t?-1:1},tz_fix:function(t,e){var n,r;return t=new Date(t),n=-t.getTimezoneOffset(),r=60*e,t.addMinutes(r-n)},humanize_days:function(t){return 0===t?\"today\":1===t?\"tomorrow\":\"in \"+t+\" days\"},parse_offset:function(t){var e,n,r;return n=t.length,r=parseInt(t.substr(n-2,2),10),e=parseInt(t.substr(n-6,3),10),(60*e+utils.sign(e)*r)/60},pretty_time_small:function(t){var e,n,r;return e=\"am\",n=t.getHours(),12===n?e=\"pm\":n>12?(n-=12,e=\"pm\"):0===n&&(n=12),r=t.getMinutes(),10>r&&(r=\"0\"+r),n+\":\"+r+e},pretty_time:function(t){var e;return e=utils.pretty_time_small(t),e+(\"<span class='day-month'>, \"+t.toString(\"MMM d\")+\"</span>\")},trim_leading_zeroes:function(t){return t.replace(/^0*/,\"\")},num_to_ordinal:function(t){var e,n;return e=[\"th\",\"st\",\"nd\",\"rd\"],n=t%100,t+(e[(n-20)%10]||e[n]||e[0])},equals:function(t,e){var n;if(t===e)return!0;if(!(t instanceof Object&&e instanceof Object))return!1;if(t.constructor!==e.constructor)return!1;for(n in t)if(t.hasOwnProperty(n)){if(!e.hasOwnProperty(n))return!1;if(t[n]!==e[n]){if(\"object\"!=typeof t[n])return!1;if(!utils.equals(t[n],e[n]))return!1}}for(n in e)if(e.hasOwnProperty(n)&&!t.hasOwnProperty(n))return!1;return!0},make_uuid:function(){var t,e,n;for(t=[],e=n=1;32>=n;e=++n)t.push((0|16*Math.random()).toString(16));return t.join(\"\")},handle_json_response:function(data,status,xhr){return data&&data.jquery?eval(data.jquery):void 0},_reset_animate_ellipses:function(t,e){return null==e&&(e=t.data(\"ae_interval\")),clear_interval(e),t.text(t.data(\"ae_orig_text\")),t.data(\"ae_orig_text\",null),t.data(\"ae_interval\",null)},animate_ellipses:function(t,e){var n,r,i;return null==e&&(e=500),t.data(\"ae_interval\")&&utils._reset_animate_ellipses(t),e?(i=t.text(),n=0,r=set_interval(e,function(){return t.inDOM()?(t.append(\".\"),n+=1,4===n?(n=0,t.html(i)):void 0):(utils._reset_animate_ellipses(t,r),void 0)}),t.data(\"ae_orig_text\",i),t.data(\"ae_interval\",r),r):void 0},format_phone:function(t){var e,n,r,i;return r=t.replace(/[^0-9+]/g,\"\"),n=0,i=[0,3,6],\"+11\"===r.slice(0,3)?n=3:\"+\"===r.charAt(0)?n=2:\"1\"===r.charAt(0)&&(n=1),i=function(){var t,r,a;for(a=[],t=0,r=i.length;r>t;t++)e=i[t],a.push(e+n);return a}(),\"1 (\"+r.substr(i[0],3)+\") \"+r.substr(i[1],3)+\"-\"+r.substr(i[2],4)},title_case:function(t){var e,n,r,i;for(t=t.split(\" \"),e=[],r=0,i=t.length;i>r;r++)n=t[r],e.push(n.charAt(0).toUpperCase()),e.push(n.slice(1)),e.push(\" \");return e.join(\"\").trim()},output_json:function(t){return t?t instanceof Object?JSON.stringify(t):t:\"\"},assemble_select:function(t,e,n,r){var i,a,u;return null==e&&(e=[]),null==n&&(n=null),null==r&&(r={}),a=drykup.select,i=drykup.option,u=drykup.text,a(t,r,function(){var t,r,a,o,s,l,c;for(r=0,c=[],s=0,l=e.length;l>s;s++)a=e[s],a instanceof Array?(t={value:a[0]},o=a[1]):(t={value:r},o=a),t.value===n&&(t.selected=!0),i(t,function(){return u(o)}),c.push(r++);return c})},days_between:function(t,e){var n,r;return n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=new Date(e.getFullYear(),e.getMonth(),e.getDate()),Math.round(Math.abs((n-r)/864e5))},zero_pad:function(t,e){for(;(\"\"+t).length<e;)t=\"0\"+t;return t},format_number:function(t){return t.toString().replace(/\\B(?=(?:\\d{3})+(?!\\d))/g,\",\")},popup_window:function(t,e,n){var r,i,a,u;return i=window.screenLeft?window.screenLeft:window.screenX,a=window.screenTop?window.screenTop:window.screenY,r=i+$(window).width()/2-e/2,u=a+$(window).height()/2-n/2,window.open(t,\"_blank\",\"height=\"+n+\",width=\"+e+\",top=\"+u+\",left=\"+r)},add_ellipsis:function(t,e,n,r){return null==n&&(n=!0),null==r&&(r=\"...\"),t.length<=e?t:(t=t.substr(0,e-r.length),n&&(t=t.substr(0,t.lastIndexOf(\" \"))),t+r)},replace_url:function(t){return\"function\"==typeof history.replaceState?history.replaceState({},\"\",t):void 0},unflatten_array:function(t,e){var n,r;for(r=[],n=0;n<t.length;)r.push(t.slice(n,n+=e));return r},dict:function(t){var e,n,r,i,a,u;for(e={},i=0,a=t.length;a>i;i++)u=t[i],n=u[0],r=u[1],e[n]=r;return e},make_set:function(){var t,e;return e=1<=arguments.length?__slice.call(arguments,0):[],utils.dict(function(){var n,r,i;for(i=[],n=0,r=e.length;r>n;n++)t=e[n],i.push([t,!0]);return i}())},animation_on_event:function(t,e){var n,r,i,a;return i=!1,a=!1,r=null,n=function(){i&&requestAnimationFrame(n),a&&(e(),a=!1)},$(window).on(t,function(){a=!0,r?clear_timeout(r):(i=!0,n()),r=set_timeout(100,function(){return i=!1,r=null})})},smooth_on_scroll:function(t){utils.animation_on_event(\"scroll\",t)},smooth_on_resize:function(t){utils.animation_on_event(\"resize\",t)},date_range_text:function(t,e){var n;return n=\"MMMM d, yyyy\",e?t.getFullYear()===e.getFullYear()?t.getMonth()===e.getMonth()?t.getDate()===e.getDate()?t.toString(n):t.toString(\"MMMM d\")+\" - \"+e.toString(\"d, yyyy\"):t.toString(\"MMMM d\")+\" - \"+e.toString(\"MMMM d, yyyy\"):t.toString(n)+\" - \"+e.toString(n):t.toString(n)},select_if_special_day:function(t){var e,n,r,i,a;return null==t&&(t={}),r=Date.now(),e=r.getDate(),n=r.getMonth(),a=r.getFullYear(),i=function(){switch(!1){case 11!==n:return t.holiday;case!(31===e&&9===n):return t.halloween;case!(12===e&&8===n):return t.birthday;default:return t[\"default\"]}}(),i||t[\"default\"]},form_submit:function(t,e){var n,r,i,a,u,o,s;return s=null!=e?e:{},o=s.success,a=s.error,n=t.closest(\"form\"),r=n.attr(\"action\"),u=n.attr(\"method\"),i=n.serialize(),$.ajax({type:u,url:r,data:i,success:function(t){return\"function\"==typeof o?o(t):void 0},error:function(t){return\"function\"==typeof a?a(t):void 0}})},track_form_success:function(t){hm.utils.track(\"form_success\",t)},track_form_errors:function(t,e){var n,r,i,a,u;null==e&&(e={}),u=[],a=[];for(n in e)r=e[n],i=r[0],u.push(n),a.push(i);hm.utils.track(\"form_errors\",t,{fields:u,messages:a})},fetch_user:function(t){var e,n,r;return r=null!=t?t:{},n=r.success,e=r.error,$.ajax({type:\"POST\",url:\"/api/user\",success:function(t){return load_user(t),\"function\"==typeof n?n(t):void 0},error:function(t){return\"function\"==typeof e?e(t):void 0}})},duration:function(t,e,n){var r,i,a;return null==n&&(n=!1),r=(t-e)/60,i=Math.floor(r/60),a=Math.round(r)%60,n&&(a=$.hipmunk.utils.zero_pad(a,2)),\"\"+i+\"h \"+a+\"m\"},strip_element_of_m_classes:function(t){var e;e=t.attr(\"class\").split(\" \"),_.each(e,function(e){e.match(/m-/)&&t.removeClass(e)})},ndefinitearticle:function(t){var e;return\"a\"===(e=t.charAt(0).toLowerCase())||\"e\"===e||\"i\"===e||\"o\"===e||\"u\"===e?\"an \"+t:\"a \"+t},if_device_is:function(t,e){var n;n=new RegExp(\"(\"+t.join(\"|\")+\")\",\"i\"),navigator.userAgent.match(n)&&\"function\"==typeof e&&e()},preload_image:function(t){var e;e=new Image,e.src=t},hide_browser_chrome:function(){utils.if_device_is([\"iphone\",\"ipad\",\"ipod\"],function(){set_timeout(0,function(){window.scrollTo(0,0)})})}},hm[\"export\"]({utils:utils}),$.hipmunk.utils=hm.utils,$.hipmunk.track_prev_event=\"initial_load\",$.hipmunk.track_prev_category=\"\",$.hipmunk.track_prev_time=$.now(),window.onbeforeunload=function(){var t,e,n;return n=$.now(),e=$.hipmunk.utils.make_track_data,t=e(\"leave\",\"\",{prev_event:$.hipmunk.track_prev_event,prev_category:$.hipmunk.track_prev_category,time_since_prev_event:n-$.hipmunk.track_prev_time}),$.hipmunk.utils.push_track_data(t),$.hipmunk.utils.flush_track_events({async:!1}),void 0},$.ajaxSetup({type:\"post\",dataType:\"json\",success:$.hipmunk.utils.handle_json_response,cache:!1,beforeSend:function(t,e){\"POST\"===e.type&&e.crossDomain===!1&&t.setRequestHeader(\"X-Csrf-Token\",$.cookie(\"_csrf_token\")),t.setRequestHeader(\"X-Hipmunk-API\",\"true\")}}),null==Array.prototype.indexOf&&(Array.prototype.indexOf=function(t,e){for(null==e&&(e=0);e<this.length;){if(this[e]===t)return e;e++}return-1}),null==String.prototype.trim&&(String.prototype.trim=function(){return this.replace(/^\\s+|\\s+$/g,\"\")}),simple_cmp=function(t,e){return t>e?1:e>t?-1:0},window.cmp=function(t,e){var n,r,i,a,u,o,s;if(!_.isArray(t)||!_.isArray(e))return simple_cmp(t,e);for(o=_.zip(t,e),a=0,u=o.length;u>a;a++)if(s=o[a],r=s[0],i=s[1],n=cmp(r,i),0!==n)return n;return 0},window.pysort=function(t,e){var n;return n=t.slice(0),n.sort(function(t,n){return cmp(e(t),e(n))}),n},window.showhide=function(t){return t?\"show\":\"hide\"}}.call(this);\n!function(){var t=function(t,r){return function(){return t.apply(r,arguments)}},r=[].slice;$.hipmunk.View=function(){function e(r){var e;e=(null!=r?r:{}).attrs,this.render_drykup=t(this.render_drykup,this),this.appendTo=t(this.appendTo,this),this.$=t(this.$,this),this.setEl=t(this.setEl,this),null==e&&(e=\"\"),this.el||this.setEl($.render(drykup.div(this.attrs+e)))}return e.prototype.attrs=\"\",e.prototype.setEl=function(t){return this.$el=$(t),this.el=this.$el[0],this},e.prototype.$=function(t){return this.$el.find(t)},e.prototype.appendTo=function(){var t,e;return t=1<=arguments.length?r.call(arguments,0):[],(e=this.$el).appendTo.apply(e,t),this},e.prototype.render_drykup=function(){var t;return t=1<=arguments.length?r.call(arguments,0):[],this.$el.html(drykup.render.apply(drykup,t))},e}()}.call(this);\n!function(){var e,n,t,r,o,i,a,u,l,c,s,f,d,p,m,h,g,b,w,k,v,y,x,S,A,C,M,N,D,T,F,P,E,L,I,O,B,H,R,W,j,z,Y,G,U,V,q,X,K,J,Q,Z,en,nn,tn,rn,on,an,un,ln,cn=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1},sn={}.hasOwnProperty;$.templates={},\"undefined\"!=typeof hm&&null!==hm&&(hm.templates=$.templates),un=window.drykup,Y=un.render,b=un.div,V=un.span,X=un.table,nn=un.thead,K=un.tbody,tn=un.tr,J=un.td,en=un.th,Q=un.text,Z=un.textarea,m=un.button,F=un.hr,P=un.iframe,z=un.raw,c=un.a,p=un.br,d=un.b,E=un.img,I=un.label,C=un.form,L=un.input,rn=un.ul,O=un.li,M=un.h1,N=un.h2,D=un.h4,U=un.select,W=un.option,j=un.p,o=\"http://www.facebook.com/dialog/feed?app_id=168149879915203&amp;display=popup&amp;redirect_uri=http%3A%2F%2Fwww.hipmunk.com%2Fthanks&amp;link=http%3A%2F%2Fwww.hipmunk.com\",i=\"https://plusone.google.com/_/+1/confirm?hl=en&url=http%3A%2F%2Fwww.hipmunk.com\",l=\"This will not interfere with your search.\",window.centerbox=function(e){return b(\".centerbox\",function(){return b(\".cb-border1\",function(){return b(\".cb-border2\",function(){return b(\".inner\",function(){return e()})})})})},this.inline_img=function(e,n){return b(e,null!=n?n:{},function(){return z(\"&#8203;\"),b(\".img\")})},window.duration=function(e,n,t){var r,o,i;return null==t&&(t=!1),r=(e-n)/60,o=Math.floor(r/60),i=Math.round(r)%60,t&&(i=$.hipmunk.utils.zero_pad(i,2)),\"\"+o+\"h \"+i+\"m\"},g=function(e){return e.city_obj?e.city_obj.name:e.cities[0].name},B=function(e,n,t,r){var o;return o=new Date(1e3*(t+e*r)),$.hipmunk.utils.tz_fix(o,n)},$.templates.birthday_control=function(e,n){var t,r,o,i,a,u,l;return null==n&&(n=!1),e&&(u=e.split(\"-\"),o=u[0],t=u[1],(null!=o?o.length:void 0)&&(null!=t?t.length:void 0)?(o=+o,t=+t):(o=null,t=null)),i=Date.CultureInfo.abbreviatedMonthNames,n&&(i=Date.CultureInfo.monthNames),i=[\"\"].concat(i),r=[\"\"].concat(function(){for(l=[],a=1;31>=a;a++)l.push(a);return l}.apply(this)),$.hipmunk.utils.assemble_select(\".month\",i,o,{name:\"birth_month\"}),$.hipmunk.utils.assemble_select(\".date\",r,t,{name:\"birth_date\"})},$.templates.newbox_header_text=function(e,n){return null==n&&(n=!1),$.templates.newbox_header_content({loading:n,content:function(){return M(\".header-text.large-header-text\",function(){return Q(e)})}})},$.templates.newbox_header_content=function(e){var n,t;return n=e.content,t=e.loading,b(\".newbox-header-content-wrapper\",function(){return b(\".header-content\",function(){return t?E(\".dancing\",{alt:\"loading\",src:\"/static/dancing-hipmunk.gif\"}):b(\".header-hipmunk\"),n()})})},window.simple_form_row=function(e,n,t,r){return b(\".full-row\",function(){return I(\".biglabel\",{\"for\":n},e),b(\".input-row\",function(){return r(),b(\".error-row.error.error-\"+t)})})},u=\".exp-side\",n=\".exp-below\",a=\".exp-left\",k=function(e,n){return b(\".tile-explanation\"+e,function(){return b(\".tri\"),n?n():void 0})},R=function(){return z(\"&nbsp;\")},H=function(e,n,t){var r;return r={opacity:.7,position:\"absolute\",top:e+\"px\",left:n+\"px\",\"z-index\":30},E(\"#mockimage\",{src:t,style:r})},T=function(e,n){return _.isObject(n)&&(n=JSON.stringify(n)),L({type:\"hidden\",name:e,value:n})},$.templates.group_selector_line=function(e,t,r){var o,i,a,u,l,c,s,f,d,p,m,h,g,w,v;for(p=r.length,f=p>3,s=g=0,w=r.length;w>g;s=++g)v=r[s],c=v[0],h=v[1],l=v[2],i=v[3],o=v[4],d=v[5],m=t[s],u=\"\",0===s&&(u+=\".first\"),e===s&&(u+=\".selected\"),e===s-1&&(u+=\".previous-selected\"),u+=f?\".multi-leg\":\".regular\",b(\".grouptab.tab-\"+s+\".line\"+u,function(){return b(\".leg_info\",function(){return b(\".heading\",function(){return p>2?(V(\".collapsed\",\"Select \"),Q(\"\"+$.hipmunk.utils.num_to_ordinal(s+1)+\" Leg\")):Q(0===s?\"Select Departure\":\"Select Return\")}),b(\".leg_airports\",function(){return Q(\"\"+c+\" \"),inline_img(\".arrow\"),Q(\" \"+h),V(\".leg_dates\",function(){return Q(\"\"+l.toString(\"ddd, MMM dd\"))})}),null!=m?b(\".leg_times\",function(){return null!=m&&b(\".airline-logo.airline-logo-\"+o),Q(\"\"+l.toString(\"h:mmtt\").toLowerCase()+\"\\n \"+i.toString(\"h:mmtt\").toLowerCase()),d>0?V(\".redeye-label\",\"+\"+$.hipmunk.utils.ntext(d,\"day\",\"days\")):void 0}):void 0}),b(\".leg_number\",function(){return b(\".circle-outer\",function(){return b(\".circle-inner\",function(){return Q(s+1)})})}),b(\".checkmark_column\",function(){var e;return e=null!=m?\".on.routing-clear\":\"\",b(\".checkmark\"+e)})});return a=_.without(t,void 0,null).length===p,b(\".grouptab.tab-\"+p+\".line.book\"+(a?\"\":\".init-tooltip\"),function(){return b(\".leg_info\",function(){return b(\".heading\",function(){return Q(\"Book Flight\")})}),b(\".leg_number\",function(){return b(\".circle-outer\",function(){return b(\".circle-inner\",function(){return Q(p+1)})})}),b(\".leg_number.symbol\",function(){return b(\".circle-outer\",function(){return b(\".circle-inner\",function(){return inline_img(\".plane\")})})}),k(\"\"+n+\".flight-book-grouptab-tooltip\",function(){return b(\".tooltip-text\",function(){return Q(\"Please select all legs before you proceed to booking.\")})})})},$.templates.frame=function(){return b(\"#leg-selector-\"+iden+\".roundtrip.leg-selector\"),b(\".filters\"),b(\".graph-window\",function(){return b(\"#rtable-\"+iden+\".graph-window\")}),b(\".bottom-spacer\")},G=function(e,n){var t,r;return t=null!=(r=e.currency.symbol)?r:\"$\",e.currency.after?Math.round(n)+t:t+Math.round(n)},$.templates.flight_routing=function(e,n){var t,r,o,i,a,l,c,s,f,p,m,_,h,g,w,v,y,x,S,A,C;switch(a=n.flight_data,v=n.sel_group,p=n.min_time,f=n.max_time,S=n.time_scale,g=n.ready_to_buy,c=n.id,s=n.lines,y=n.show_days,x=n.time_per,i=e.legs[0],o=e.legs[e.legs.length-1],_=e.tmp_price,A=e.tmp_total_seats,t=null!=(C=a.search.currency.symbol)?C:\"$\",h=function(){var n;return n=\".price\",e.cheapest&&(n+=\".cheapest\"),b(n,function(){return Q($.hipmunk.utils.format_number(Math.round(_)))})},r=function(){return b(\".currency\",function(){return z(t)})},w=function(){return a.search.currency.after?(h(),r()):(r(),h())},m=\"\",a.search.groups.length){case 1:m=\"One-way\";break;case 2:m=\"Roundtrip\";break;case 3:m=\"Multi-City\"}return l=\"\",e.marked&&(l+=\".marked\"),e.dominatedby&&(l+=\".dominated\",e.dominatedby.tmp_price<e.tmp_price&&(l+=\".worse\"),e.dominatedby.tmp_price===e.tmp_price&&(l+=\".better\")),e.expanded&&(l+=\".expanded\"),b(\"#r-\"+e.iden+\"-\"+c+\".routing.first.r-\"+e.idx+\".g-\"+v+l,function(){var n;return n=\".routing-info\",e.selected&&(n+=\".highlight\"),b(n,function(){var t,r,l,c,f,_,h,C,M,N,D,T,F,P;for(n=\"\",e.bracket&&(n+=\".border-left\",\"top\"===e.bracket?n+=\".border-top\":\"bottom\"===e.bracket&&(n+=\".border-bottom\")),b(\".bracket\"+n),C=a.search.groups.length>1,M=!g&&(C||A>1),n=\"\",M&&(n=\".init-tooltip\"),b(\".select-column\"+n,function(){var n,t;return e.selected?(t=\".small-button.silver.selected.routing-clear\",b(t+\".m-wide-view\",function(){return Q(\"Unselect\")}),b(t+\".m-narrow-view\",function(){return w(),b(\".subline\",function(){return Q(m)})})):(n=\".small-button.orange.select-leg\",b(n+\".m-wide-view\",function(){return Q(\"Select Leg\")}),b(n+\".m-narrow-view\",function(){return w(),b(\".subline\",function(){return Q(m)})}))}),n=\".price-column\",g&&(n+=\".ready-to-buy\"),b(n,function(){return b(\".price-outer\",function(){return b(\".price-inner\",function(){return w()})}),b(\".clear\"),b(\".trip-type\",function(){return Q(m.toLowerCase())})}),b(\".fromto-column\",function(){return V(\".code\",i.from_code),z(\" &rarr; \"),V(\".code\",o.to_code)}),f=function(e){return a.airlines[e][0]},N=function(e){var n;return Q(f(e)),t[e].legal?(n=t[e].legal,b(\".legal-text\",{title:n},n)):void 0},t={},c=[],l=!1,P=e.legs,T=0,F=P.length;F>T;T++)_=P[T],h=!1,_.express?(r=_.marketing_num[0],h=_.express):(r=_.operating_num[0],_.marketing_num[0]!==_.operating_num[0]&&(h=f(_.marketing_num[0])+\" marketed\")),t[r]||(c.push(r),t[r]={}),h&&(t[r].legal=h,l=!0);return b(\".airline-column\",function(){var e,n,t,o;if(e=\".airline-logos\",c.length>1&&(e+=\".multiple-airlines\"),l&&(e+=\".has-legal-text\"),b(e,function(){var e,n,t;for(t=[],e=0,n=c.length;n>e;e++)r=c[e],t.push(b(\".airline-logo.airline-logo-\"+r));return t}),b(\".airline-name.main-airline-name\",function(){return c.length>1?Q(\"Multiple Airlines\"):N(c[0])}),c.length>1){for(o=[],n=0,t=c.length;t>n;n++)r=c[n],o.push(b(\".airline-name.extra-airline-name.airline-\"+r,function(){return N(r)}));return o}}),b(\".lines\",function(){var e,n,t,r;for(r=[],n=t=1;s>=1?s>t:t>s;n=s>=1?++t:--t)y&&0===n%2||(e=B(n,0,p,x),r.push(b(\".line\",{style:\"left: \"+100*n/s+\"%\"})));return r}),b(\".flight-info\",function(){return b(\".h4b-icon\"),b(\".graph\",function(){var t,r,u,l,c,s,f,d,m,h,g,w,k,x;for(m=null,k=e.legs,x=[],d=g=0,w=k.length;w>g;d=++g)_=k[d],r=_.operating_num[0],t=a.airlines[r],m&&(f=_.depart_sec-m.arrive_sec,h=\"width: \"+f*S+\"%;\\nborder-color: \"+u+\";\",n=\"\",m.to_code!==_.from_code&&(n=\".airport-switch\"),b(\".box.connection\"+n,{style:h},function(){return b(\".full-name-wrapper\",function(){return b(\".full-name\",function(){return z(\"&#8203;\"),m.to_code!==_.from_code?Q(m.to_code+\"/\"+_.from_code):Q(_.from_code)})})})),n=\"\",f=_.arrive_sec-_.depart_sec,\"X1\"===_.marketing_num[0]&&(r=\"X1\",n+=\".mystery\"),u=darken(\"#\"+t[1],.2),h=\"width: \"+f*S+\"%;\\nbackground-color: #\"+t[1]+\";\",c=!1,l=!1,m||(c=!0,s=(_.depart_sec-p)*S,h+=\"margin-left: \"+s+\"%;\\nborder-left: 1px solid;\"),d===e.legs.length-1&&(h+=\"border-right: 1px solid;\",l=!0),h+=\"border-color: \"+u+\";\",b(\".box.airline\"+n,{style:h},function(){var e;return b(\".full-name-wrapper\",function(){return b(\".full-name\",function(){var e;return z(\"&#8203;\"),_.wifi&&inline_img(\".wifi\"),Q(t[0]),_.operating_num[0]!==_.marketing_num[0]&&Q(\"*\"),_.cabin>0?(R(),e=_.cabin_str.toLowerCase().replace(\" \",\"-\"),b(\".badge.\"+e+\"-badge\")):void 0})}),e=new Date(a.search.groups[v].date).getDay(),c&&b(\".timebox.depart\",function(){return b(\".inner\",function(){var e;return e=i.dep_dt_local.getDay(),y?z(\"\"+i.dep_dt_local.toString(\"ddd\")+\", \"+i.dep_dt_tm):z(i.dep_dt_tm)})}),l?b(\".timebox.arrive\",function(){return b(\".inner\",function(){var e;return e=o.arr_dt_local.getDay(),y?z(\"\"+o.arr_dt_local.toString(\"ddd\")+\", \"+o.arr_dt_tm):z(o.arr_dt_tm)})}):void 0}),x.push(m=_);return x})}),n=\".duration-stop-column\",e.shortest&&(n+=\".shortest\"),1===e.legs.length?(D=\"nonstop\",n+=\".nonstop\"):D=$.hipmunk.utils.ntext(e.legs.length-1,\"stop\"),b(n,function(){return b(\".duration\",function(){return Q(duration(o.arrive_sec,i.depart_sec,!0))}),b(\".stops\",function(){return Q(D)})}),e.dominated_num>0?b(\".toggle-dominated.init-tooltip\",function(){return b(\".plus\",\"+\"),b(\".minus\",\"-\"),k(u,function(){return e.dominated_num>1?(Q(\"We've hidden \"),d(\"\"+e.dominated_num),Q(\" options that are \"),d(\"worse\"),Q(\" than this one. Click here to see them.\")):(Q(\"We've hidden an option that is \"),d(\"worse\"),Q(\" than this one. Click here to see it.\"))})}):void 0}),b(\".slideout-container\")})},$.templates.flight_graph=function(e,t,r,o,i,a,u,l,s,f,m,_){var h,w,v,y,x;return x=2,h=[r,o],y=function(e){var n,t;return n=e.getMinutes()?\"h:mtt\":\"htt\",t=e.toString(n).toLowerCase(),\"12am\"===t&&(t=\"midn\"),\"12pm\"===t&&(t=\"noon\"),t},w=[g(e.search.groups[_].from_loc),g(e.search.groups[_].to_loc)],b(\"#timelines-spacer-\"+t+\".timelines-spacer\"),b(\"#timelines-header-\"+t+\".timelines-header\",function(){return b(\".controls-header\",function(){return b(\".nonstop-filter\",function(){return b(\".control-set\",function(){return I(\".label\",function(){return L({type:\"checkbox\"}),Q(\"Only Nonstops\")})})}),b(\".fare-alert-area.control-set\",function(){return b(\".add-fare-alert.small-button.silver\",function(){return inline_img(\".icon.mail-icon\"),b(\".button-text\",\"Get Fare Alert\")})}),b(\".sorts.control-set\",function(){return b(\".label\",\"Sort by: \"),b(\".small-button.silver.segmented-first.sort-agony.init-tooltip\",function(){return Q(\"Agony\"),k(n,function(){return b(\".tooltip-text\",function(){return Q(\"Agony is a combination of price, duration, and number of stops.\")})})}),$.hipmunk.trip_planner_enabled&&b(\".small-button.silver.segmented-middle.sort-spite.init-tooltip\",function(){return Q(\"Spite\"),k(n,function(){return b(\".tooltip-text\",function(){return Q(\"Is the boss making you angry? Make 'em suffer!\")})})}),b(\".small-button.silver.segmented-middle.sort-price\",\"Price\"),b(\".small-button.silver.segmented-middle.sort-duration\",\"Duration\"),b(\".small-button.silver.segmented-middle.sort-depart\",\"Departure\"),b(\".small-button.silver.segmented-last.sort-arrive\",\"Arrival\")}),b(\".filter-controls.control-set\",function(){return b(\".label\",\"Filter by: \"),b(\".airline-prefs-warning.init-tooltip\",function(){return k(n,function(){return d(function(){return Q(\"No Preferred Airlines\")}),p(),Q(\"None of your preferred airlines had flights for this leg. Take a look at these other options.\")})}),b(\".small-button.silver.segmented-first.button-airline.dd-button\",function(){return Q(\"Airlines\")}),b(\".small-button.silver.segmented-middle.button-fromto.dd-button\",function(){return Q(\"Airports\")}),b(\".small-button.silver.segmented-last.button-stops.dd-button\",function(){return Q(\"Stops\")}),b(\".popup-container\",function(){return b(\".dd-popup.airline-filter-dropdown.bordered-dropdown\"),b(\".dd-popup.fromto-filter-dropdown.bordered-dropdown\"),b(\".dd-popup.stops-filter-dropdown.bordered-dropdown\")})}),b(\".calendar-controls.control-set\"),b(\".control-set.conflicts-control-set\")}),X(\".timeline-table\",{cellspacing:0,cellpadding:0,width:\"100%\"},function(){return tn(function(){return J(function(){var n,r;for(b(\"#calendar-holder-\"+t+\".calendar-holder\",function(){return b(\"#calendar-loadingmsg-\"+t+\".cal-loadingmsg.cal-loading\",function(){return Q(\"Loading calendars...\")}),b(\".timeheader\",function(){return b(\"#calendar-header-\"+t+\".calendar-header\")})}),V(\".cityname.hidden\",w[1]),n=r=0;i>=0?i>=r:r>=i;n=i>=0?++r:--r)b(\".head-block\",function(){var e;return e=s?\".multiday\":\".singleday\",b(\".timeheader\"+e,function(){var e,r,o,l,c;for(0!==n&&i||b(\"#anchor-left-\"+t+\".anchor.left\",function(){return b(\".hit-area.left\",function(){return b(\".time-flag.right.right-arrow\",function(){return Q(\"depart\"),b(\".arrow\"),b(\".clock\",function(){return b(\".minute-hand\"),b(\".hour-hand\")})}),b(\".time-flag.left.left-border.timebox\")})}),1!==n&&i||b(\"#anchor-right-\"+t+\".anchor.right\",function(){return b(\".hit-area.right\",function(){return b(\".time-flag.left.left-arrow\",function(){return Q(\"arrive\"),b(\".arrow\"),b(\".clock\",function(){return b(\".minute-hand\"),b(\".hour-hand\")})}),b(\".time-flag.right.right-border.timebox\")})}),c=[],r=l=1;a>=1?a>l:l>a;r=a>=1?++l:--l)e=100*r/a,o=\"left: \"+e+\"%; width: 25%;\",c.push(b(\".timeright\",{style:o},function(){var e,t;return t=h[n].timezones[_],e=B(r,t,f,u),s&&1===r%2?0===n?b(\".day-label\",e.toString(\"ddd, MMM dd\")):void 0:b(\".time.light.hour\"+e.getHours(),y(e))}));return c})}),b(\".clear\");return b(\".left-column-headers\",function(){return b(\".main\",function(){switch(e.search.groups.length){case 1:Q(\"One-way price\");break;case 2:Q(\"Roundtrip price\");break;default:Q(\"Multi-city price\")}return Q(\" / person\")}),b(\".sub\",function(){return Q(\"(includes taxes & fees)\")}),b(\".sub\",function(){return c(\".baggage-fees-link\",function(){return Q(\"Additional baggage fees\")}),Q(\" may apply\")})})})})})}),v=s?\".multiday\":\".singleday\",b(\".results-table\"+v,function(){return b(\"#stain-pane-\"+t+\".linepane.stain-pane\"),b(\".linepane\",function(){var e,n,t,r;for(b(\".graydiv.graydiv-left\"),b(\".graydiv.graydiv-right\"),r=[],n=t=1;a>=1?a>t:t>a;n=a>=1?++t:--t)s&&0===n%2||(e=B(n,0,f,u),r.push(b(\".line\",{style:\"left: \"+100*n/a+\"%\"})));return r}),b(\"#sub-graph-\"+t)})},$.templates.flightbar_tooltip=function(e,n){return b(\"#flightbar_tooltip.harass\",function(){return b(\".content\",function(){var t,r,o,i,a,u,l,s,f,p,m,_,h;for(b(\".tri\"),m=e.legs,h=[],i=f=0,p=m.length;p>f;i=++f)a=m[i],o=a.from_code,l=a.to_code,t=n.airports,(\"Train\"===(_=a.equipment)||\"Bus\"===_)&&(s=!0),0!==i&&(r=duration(a.depart_sec,u.arrive_sec),b(\".layover\",function(){return V(\".layoverlabel\",\"Layover:\"),V(\".time.total\",r),V(\".place\",\" in \"+t[o].city+\" (\"+o+\")\"),u.to_code!==a.from_code?b(\".airport-switch\",function(){return d(\"Airport Switch\"),Q(\" From \"+u.to_code+\" to \"+a.from_code)}):void 0})),b(\".details-padding\",function(){var e;return b(\".flightnum.heading\",function(){var e;return Q($.hipmunk.flight_utils.leg_desc(n,a.operating_num)),a.wifi?(inline_img(\".wifi-dark-small\"),e=!0):void 0}),\"X1\"===a.marketing_num[0]&&(e=!0),\"X1\"!==a.marketing_num[0]&&a.operating_num[0]!==a.marketing_num[0]&&b(\".flightnum\",function(){return b(\".codeshare\",function(){return Q(\"Marketed by \"+$.hipmunk.flight_utils.leg_desc(n,a.marketing_num))})}),a.express&&b(\".codeshare\",function(){return Q(a.express)}),b(\".ridetype\",function(){var e,t;return t=\".bold\",e=n.search.cabin,a.cabin_str!==e&&(t+=\".different\"),4===a.cabin&&Q(\" an \"),V(t,a.cabin_str),Q(\" \"),V(\".equipment\",function(){var e;return Q(\"on a \"),e=n.equipments[a.equipment+a.operating_num[0]],e[1]?c({href:e[1],target:\"_blank\"},e[0]):V(t,e[0])})})}),h.push(u=a);return h})})},$.templates.ads_sidebar_box=function(e){var n,t,r,o,i;for(t=function(e){return\"width:\"+e.width+\"px;height:\"+e.height+\"px\"},i=[],r=0,o=e.length;o>r;r++)n=e[r],i.push(b(\"#\"+n.id+\".ads\",{style:t(n)}));return i},$.templates.ad_bottom_box=function(e){return b(\"#\"+e.id+\".ads\",{style:\"width:\"+e.width+\"px;height:\"+e.height+\"px\"})},$.templates.flight_buybox=function(e,n,t,r){var o,i;return o=null!=(i=t.search.currency.code)?i:\"USD\",b(\"#flight-booking-box.info-template.booking-box\",function(){return centerbox(function(){return b(\".heading\",function(){return b(\".x\"),b(\".booking-links\",function(){var e,r,i,a,u,l;for(l=n.booking_urls,a=0,u=l.length;u>a;a++)e=l[a],r=\"return click_flight_book(this, \"+e.price+\", '\"+o+\")\",i={onClick:r,href:e.url,target:\"_blank\"},c(\".darkbookingbutton\",i,function(){var n,r;return V(\".buy\",\"Buy on \"),V(\".source\",e.name),Q(\" \"),V(\".price\",function(){return z(G(t.search,e.price))}),n=null!=(r=e.total_seats)?r:t.search.total_seats,n>1?Q(\" x \"+n):void 0}),p();return b(\".booking-fees\",function(){return b(function(){var e;return e=t.routings[0][n.idx_routings[0]].f_leg.marketing_num[0],\"X2\"===e?(Q(\"You are chartering a 4-seat private aircraft. \"),Q(\"Seats cannot be purchased individually.\"),p(),Q(\"Price includes all fees and taxes for up to four passengers.\")):void 0})})})}),$.hipmunk.trip_planner_enabled&&b(\".add-itin-to-trip\",function(){return V(function(){return Q(\"Add this itinerary to: \")}),$.templates.trip_options()}),b(\".info-panels\",function(){var r,o,i,a,u,l;for(l=n.idx_routings,o=a=0,u=l.length;u>a;o=++a)r=l[o],i=t.routings[o][r],$.templates.flight_infopanel(i,t);return c(\".details-link\",\"Show full flight details\"),$.templates.mail_flight_infoform(e.id,n,t)}),b(\".buybox_footing\",function(){return A(e.id,n,t,r)})})})},A=function(e,n,t,r){return b(\".section.first\",function(){return b(\".title\",\"Add to calendar\"),b(\".icons.cal-icons\",function(){return s(r)})}),b(\".section\",function(){return b(\".title\",\"Share this itinerary\"),b(\".icons.social-icons\",function(){return b(\".mail-link\",{title:\"Email this!\"},function(){return b(\".icon.mail_icon\"),b(\".text\",\"Email\")})})}),b(\".section.last\",function(){var e;return b(\".title\",\"Search for hotels\"),e=\"\",c(\".search-hotel\"+e,function(){var e;return inline_img(\".hotel-icon\"),e={},e[g(t.search.groups[0].to_loc)]=1,e[t.search.groups[0].to_loc.display_name]=1,e[t.search.groups[0].to_loc.short_name]=1,b(\".flex-wrapper\",function(){var n,t,r,o;o=[];for(n in e)r=e[n],o.push(function(){var e,r,o,i;for(o=[\"font-size: 11px\",\"font-size: 12px;\",\"letter-spacing: -1px\",\"font-size:13px;\",\"\"],i=[],e=0,r=o.length;r>e;e++)t=o[e],i.push(b(\".flex-option\",function(){return z(\"&#8203;\"),V(\".flex-content\",{style:t},n)}));return i}());return o})})})},$.templates.flight_infopanel=function(e,n){var t;return t=\"ddd, MMM d, h:mm tt\",b(\".info-panel\",function(){var r,o,i,a,u,l,s,f,p;return i=e.legs[0],s=e.legs[e.legs.length-1],a=i.from_code,f=s.to_code,r=n.airports,o=duration(s.arrive_sec,i.depart_sec),b(\".title\",function(){return b(\".decals\",function(){return b(\".circle.circle\"+(e.group_num+1)),b(\".twolinearrow\")}),b(\".legs\",function(){return b(\".leg\",\"\"+r[a].city+\" (\"+a+\")\"),b(\".leg\",\"\"+r[f].city+\" (\"+f+\")\")}),b(\".clear\")}),b(\".overview\",function(){return X(function(){return K(function(){return tn(function(){return J(\".label\",\"Departs\"),J(\".time\",i.dep_dt_local.toString(t))}),tn(function(){return J(\".label\",\"Arrives\"),J(\".time\",s.arr_dt_local.toString(t))}),tn(function(){return J(\".label\",\"Duration\"),J(\".time.total\",o)})})})}),l=!1,u=!1,p=!1,b(\".details\",function(){var t,i,s,m,_,h,g,w;for(h=e.legs,w=[],t=m=0,_=h.length;_>m;t=++m)i=h[t],a=i.from_code,f=i.to_code,r=n.airports,(\"Train\"===(g=i.equipment)||\"Bus\"===g)&&(p=!0),0!==t&&(o=duration(i.depart_sec,s.arrive_sec),b(\".layover\",function(){return V(\".layoverlabel\",\"Layover:\"),V(\".time.total\",o),V(\".place\",\" in \"+r[a].city),s.to_code!==i.from_code?b(\".airport-switch\",function(){return d(\"Airport Switch\"),Q(\" From \"+s.to_code+\" to \"+i.from_code)}):void 0})),b(\".details-padding\",function(){return b(\".flightnum\",function(){return Q($.hipmunk.flight_utils.leg_desc(n,i.operating_num)),i.wifi?(inline_img(\".wifi-dark-small\"),l=!0):void 0}),\"X1\"===i.marketing_num[0]&&(u=!0),\"X1\"!==i.marketing_num[0]&&i.operating_num[0]!==i.marketing_num[0]&&b(\".flightnum\",function(){return b(\".codeshare\",function(){return d(\"*\"),Q(\" marketed by \"+$.hipmunk.flight_utils.leg_desc(n,i.marketing_num))})}),i.express&&b(\".codeshare\",function(){return d(\"* \"),Q(i.express)}),b(function(){return V(\".time\",function(){return Q(i.dep_dt_local.toString(\"h:mmtt\").toLowerCase()),V(\".day-month\",\", \"+i.dep_dt_local.toString(\"MMM d \"))}),V(\".place\",\"\"+r[a].city+\" (\"+a+\")\")}),b(\".duration\",function(){return inline_img(\".downarrow\"),V(\".time.total\",\" \"+duration(i.arrive_sec,i.depart_sec))}),b(function(){return V(\".time\",function(){return Q(i.arr_dt_local.toString(\"h:mmtt\").toLowerCase()),V(\".day-month\",\", \"+i.arr_dt_local.toString(\"MMM d \"))}),V(\".place\",\"\"+r[f].city+\" (\"+f+\")\")}),b(\".ridetype\",function(){var e,t;return Q(\" in \"),t=\"\",e=n.search.cabin,i.cabin_str!==e&&(t=i.cabin<n.cabin_rank[e]?\".worse\":\".better\"),4===i.cabin?(Q(\" a \"),V(t,\"Air Taxi\")):V(t,i.cabin_str),Q(\" \"),V(\".equipment\",function(){var e;return Q(\"on a \"),e=n.equipments[i.equipment+i.operating_num[0]],e[1]?c({href:e[1],target:\"_blank\"},e[0]):V(t,e[0])})})}),w.push(s=i);return w}),u&&b(\".details.route-disclaimer\",function(){return b(\".details-padding\",function(){return b(\".route-heading\",function(){return Q(\"Mystery Airline\")}),Q(\"This is a discounted fare on a major airline sold by a consolidator.\")})}),l?b(\".details.route-disclaimer\",function(){return b(\".details-padding\",function(){var e;return e=function(e,n){return p?n:e},b(\".route-heading\",function(){return inline_img(\".wifi-dark-large\"),Q(\"Wi-Fi Enabled \"+e(\"Flight\",\"Train\"))}),Q(\"Wi-Fi available under normal circumstances, but \"+(\"malfunction or \"+e(\"plane\",\"train\")+\" swaps possible.\"))})}):void 0})},S=function(e,n){var t,r,o,i,a;return e.routings=$.hipmunk.flight_utils.extract_selected_routings_data(e,n),a=e.routings,t=function(){var t,u,l;for(l=[],o=t=0,u=a.length;u>t;o=++t)i=a[o],i=$.hipmunk.flight_utils.trip(i,e,n),r=[$.hipmunk.flight_utils.header(i)],l.push({route:i,header:\"/trip/header.png?h=\"+escape(JSON.stringify(r)),bar:$.hipmunk.flight_utils.img_url(o,i,r)});return l}()},$.templates.mail_flight_infoform=function(e,n,t){return b(\".mail-panel\",function(){return C(\"#mail-itin-\"+e+\".small-form\",{action:\"/mailitinerary\",method:\"post\"},function(){return b(\".mail-heading\",\" Share This Flight! \"),b(\".form-contents\",function(){var r;return b(\"#success.success-status\",function(){return b(\".success-message\",\"We successfully shared this flight!\")}),b(\".error-status\",function(){return b(\".error-message\",\"we're sorry, we were unable to share this\")}),b(\".full-row\",function(){return I(\".biglabel\",{\"for\":\"from-email\"},\"from\"),b(\".input-row\",function(){var e;return e=$.hipmunk.user.email||\"\",b(\".input-container.full-row\",function(){return L(\"#from-email.from-email-area.hasdefault\",{name:\"from\",type:\"text\",value:e}),I({\"for\":\"from-email\"},\"your email\"),b(\".error-row.error.error-from\"),b(\".up\")})})}),b(\".full-row\",function(){return I(\".biglabel\",{\"for\":\"mail-email\"},\"to\"),b(\".input-row\",function(){var e;return e=$.hipmunk.user.last_shared_email||\"\",b(\".input-container.full-row\",function(){return L(\"#mail-email.mail-email-area\",{name:\"email\",type:\"text\",value:e}),I({\"for\":\"mail-email\"},\"their email\"),b(\".error-row.error.error-email\"),b(\".up\")})})}),r=S(n,t),b(\".full-row\",function(){return I(\".biglabel\",{\"for\":\"flights\"},\"flights\",function(){var e,n,t;for(n=0,t=r.length;t>n;n++)e=r[n],b(\".barholder\",function(){return E(\".imgbar\",{src:e.header,height:25,width:500}),E(\".imgbar\",{src:e.bar,height:29,width:500}),b(\".choice-details\",function(){return $.templates.flight_choice_details(e.route)})});return L({name:\"choices\",type:\"hidden\",value:JSON.stringify([function(){var n,t,o;for(o=[],n=0,t=r.length;t>n;n++)e=r[n],o.push(e.route);return o}()])})})}),b(\".full-row\",function(){return I(\".biglabel\",{\"for\":\"mail-message\"},\"message\",function(){return b(\".input-box\",function(){var n,t;return Z(\"#mail-message.mail-message-area\",{name:\"message\",type:\"text\",rows:\"10\",cols:\"70\"},\"Check out this great flight I found on Hipmunk!\"),n=$.hipmunk.url.get_tab_by_tab_id(e),t=n.to_url(),t=t.replace(\"#\",\"?referer=share_email#\"),L({name:\"flight_url\",type:\"hidden\",value:t}),b(\".error-row.error.error-message\"),b(\".up\")})})}),b(\".signup-buttons\",function(){return m(\".send-itin-mail.submit.darkbookingbutton\",{type:\"submit\"},\"Send\"),m(\".cancel-itin-mail.darkbookingbutton\",\"Cancel\"),m(\".reset-itin-mail.darkbookingbutton\",\"Reset\")})})})})},e=[\"Star Alliance\",\"SkyTeam\",\"oneworld\"],$.templates.pref_airlines_box=function(n,t,r,o,i){var a,u,l,c,s,f,d;for(l=function(e,t,r,o){var a;if(\"X1\"!==e)return a=\".checkbox\",o&&(a+=\".gray\"),b(a,function(){var o,a;return(a=i.airlines_cheapest[e])&&b(\".price\",function(){return Q(G(i.search,a))}),o={type:\"checkbox\",value:e,id:\"lable-\"+e+\"-\"+n,checked:r},L(\".airline.code-\"+e,o),Q(\" \"),I({\"for\":o.id},t)})},a={},s=0,f=r.length;f>s;s++)d=r[s],u=d[0],c=d[1],a[u]=[u,c];return b(\".popup-tri-holder\",function(){return b(\".popup-tri\")}),b(\".inner\",function(){return b(\".section-header\",function(){return Q(\"PREFERRED AIRLINES\")}),b(\".section.preferred-checkboxes-section\",function(){var n,r,o,i;for(n=0,r=t.length;r>n;n++)o=t[n],u=o[0],c=o[1],l(u,c,a[u],!1),delete a[u];for(u in a)i=a[u],u=i[0],c=i[1],cn.call(e,u)>=0||l(u,c,!0,!0);return b(\".clear\")}),b(\".section-header\",function(){return Q(\"PREFERRED ALLIANCES\")}),b(\".section\",function(){var n,t,r;for(t=0,r=e.length;r>t;t++)n=e[t],l(n,n,a[n],!1);return b(\".clear\")})})},$.templates.fromto_filter_dropdown=function(e,n,t,r){var o,i,a,u;return o=e.airports,i=e.fromto_codes[n],a=[\"ORIGIN AIRPORTS\",\"DESTINATION AIRPORTS\"],u=[e.search.groups[n].from_loc,e.search.groups[n].to_loc],b(\".popup-tri-holder\",function(){return b(\".popup-tri\")}),b(\".inner\",function(){var l,c,s,f,d,p;for(d=[\"from\",\"to\"],p=[],l=s=0,f=d.length;f>s;l=++s)c=d[l],b(\".section-header\",function(){var e;return Q(a[l]),i[l].length>1?(e=g(u[l]),Q(\" (\"+e+\" Area)\")):void 0}),p.push(b(\".section\",function(){var a,u,s,f,d,p;for(d=i[l],p=[],u=s=0,f=d.length;f>s;u=++s)a=d[u],p.push(b(\".checkbox\",function(){var s,f,d,p;return(p=e.airport_cheapest[n][a])&&b(\".price\",function(){return Q(G(e.search,p))}),s=o[a],f=1===i[l].length,d={type:\"checkbox\",value:a,id:\"checkbox-\"+r+\"-\"+n+\"-\"+l+\"-\"+u,checked:t[\"\"+c+\"-\"+n+\"-\"+a]||f,disabled:1===i[l].length},L(\".airport.code-\"+a+\".group-\"+n+\".which-\"+c,d),Q(\" \"),I({\"for\":d.id},function(){return Q(a),V(function(){return Q(\" (\"+s.name+\")\")})})}));return p}));return p})},$.templates.stops_filter_dropdown=function(e,n,t,r){var o,i;return b(\".popup-tri-holder\",function(){return b(\".popup-tri\")}),i=e.stops_cheapest,o=[\"Nonstop\",\"1 stop\",\"2+ stops\"],b(\".inner\",function(){return b(\".section\",function(){var a,u,l,c,s,f,d,p;for(p=[],c=f=0,d=o.length;d>f;c=++f)s=o[c],u=\".checkbox\",a=!1,l=!1,1/0===i[n][c]&&(u+=\".gray\",l=!0),t[c]&&(a=!0),p.push(b(u,function(){var t;return b(\".price\",function(){return 1/0!==i[n][c]?Q(G(e.search,i[n][c])):Q(\"-\")}),t={type:\"checkbox\",value:c,id:\"stops-cb-\"+r+\"-\"+n+\"-\"+c,checked:a,disabled:l},L(\".stops.stop_idx-\"+c,t),Q(\" \"),I({\"for\":t.id},function(){return Q(s)})}));return p})})},$.templates.time_filter=function(e){var n,t,r,o;for(o=[],t=0,r=e.length;r>t;t++)n=e[t],o.push(b(\".dd-option\",n));return o},$.templates.calendars_button=function(e,n,t){return null==t&&(t=\"\"),b(\".small-button silver\",function(){return V(\".button-text\",\"Calendar\"),inline_img(\".arrow\"),b(\"#calendars-dropdown-\"+e+\".dd-popup.right-align.calendar-dropdown\")})},$.templates.dropdown_calendars=function(e){return b(\".infotext\",\"Choose the calendars you would like to see.\"),b(\"#active-calendars-${iden}\",function(){var n,t,r,o,i,a;if(e.calendars.length>0){for(i=e.calendars,a=[],t=r=0,o=i.length;o>r;t=++r)n=i[t],a.push($.templates.dropdown_calendar(n,t));return a}return e.error?b(\".cal-loading-dd.cal-loading\",\"Error Loading\"):b(\".cal-loading-dd.cal-loading\",\"Loading...\")})},$.templates.dropdown_calendar=function(e,n){return b(\".active-calendar.cal-\"+n,function(){var t,r,o,i,a,u,l;if(o={\"background-color\":e.faint_color},t=e.expanded?\".expanded\":\"\",t+=e.restricted?\".restricted\":\"\",b(\".box\"+t,{style:o},function(){return o={\"background-color\":e.light_color,\"border-top\":\"1px solid \"+e.dark_color},I(\".color\",{style:o},function(){return L(\".calendar-toggle\",{type:\"checkbox\",autocomplete:\"off\",checked:e.enabled,disabled:e.restricted})}),V(\".name\",\"\"+e.name+\" \"),V(\".number\",\"(\"+e.events.length+\")\"),e.events.length>0?b(\".drop-arrow\"):void 0}),e.expanded){if(e.restricted)return b(\".restricted-error\",function(){return Q(\"Exchange calendars are restricted to Hipmunk for Business subscribers.\"),p(),p(),c(\".biz-billing.hiplink\",\"Set up your Hipmunk for Business subscription\")});for(u=e.events,l=[],n=i=0,a=u.length;a>i;n=++i)r=u[n],l.push($.templates.dropdown_event(r,n));return l}})},$.templates.ftue_harass=function(){return b(\"#ftue-harass.harass\",function(){return b(\".tri\"),c(\".close.x\"),b(\".content\",function(){return b(\".intro\"),b(\".heading\"),b(\".text\"),b(\".sliced_hipmunk\"),b(\".small-button.blue.next\")})})},$.templates.baggage_fee_lightbox=function(e,n){var t;return t=function(e,n){return c(\".airline-link\",{href:n,target:\"_blank\"},function(){return Q(e)})},b(\".baggage-fees.newbox\",function(){return b(\".r.header\",function(){return b(\".x\"),$.templates.newbox_header_text(\"Airline Baggage Fees\")}),b(\".baggage-contents\",function(){return e.length>0&&(X(\".baggage-table\",function(){var n,r,o,i,a,u,l;for(tn(function(){return en(function(){return Q(\"Airline\")}),en(function(){return Q(\"First Checked Bag\")}),en(function(){return Q(\"Second Checked Bag\")}),en(function(){return Q(\"Additional Bags\")})}),l=[],o=i=0,a=e.length;a>i;o=++i)u=e[o],n=u[0],r=u[1],l.push(tn(\".\"+(o%2?\"odd\":\"even\"),function(){return null!=r.url?J(function(){return t(n,r.url)}):J(function(){return Q(n)}),J(function(){return Q(r.first)}),J(function(){return Q(r.second)}),J(function(){return Q(r.additional)})}));return l}),b(\".baggage-disclaimer\",function(){return Q(\"*Baggage fee estimates are provided for your\\nconvenience and are subject to changes by the\\nairlines.\")})),e.length>0&&n.length>0&&b(\".hr\"),n.length>0?(b(\".getmore\",function(){return Q(\"Get detailed baggage fee information from other\\ncarriers by clicking the airline below\")}),b(\".baggage-links\",function(){var e,r,o,i,a,u;for(u=[],o=0,i=n.length;i>o;o++)a=n[o],e=a[0],r=a[1],u.push(b(\".link-tainer\",function(){return t(e,r)}));return u}),b(\".clear\")):void 0})})},w=function(e,n,t,r){var o;return o=r?\".with-pin\":\"\",b(\".cal-event\"+o,function(){return r&&h(e),b(\".what\",function(){return t&&null!=e.url?c(\".permalink\",{href:e.url,target:\"_blank\"},function(){return z(e.name)}):z(e.name)}),b(\".date\",function(){return V(\".day\",e.start_day),V(\".time.start-time\",\" \"+e.start_time),Q(\" to \"),e.start_day!==e.end_day&&V(\".day\",e.end_day),V(\".time.end-time\",\" \"+e.end_time),V(\".timezone\",\" \"+e.tz)}),n&&null!=e.where&&!r?b(\".where\",function(){return Q(\"Where: \"),c(\".where-link\",{href:e.where_link,target:\"_blank\"},e.where)}):void 0})},$.templates.dropdown_event=function(e,n){return b(\".active-event.event-num-\"+n,function(){var n,t;\nreturn L(\".event-toggle\",{type:\"checkbox\",checked:!e.disabled,autocomplete:\"off\"}),w(e,t=!0,n=!1)})},$.templates.flight_event_header=function(e){var n,t,r,o,i,a;for(a=[],o=0,i=e.length;i>o;o++)n=e[o],n.enabled&&a.push(function(){var e,o,i,a;for(i=n.events,a=[],e=0,o=i.length;o>e;e++)t=i[e],t.cutoff||t.disabled||(r={left:\"\"+t.pstart+\"%\",width:\"\"+t.width+\"%\",color:t.color},a.push(b(\".event\",{style:r},function(){return b(\".title\",{style:\"border-color: \"+t.light_color},function(){return z(t.name)}),b(\".header-stain\",{style:\"background-color: \"+t.light_color}),b(\".event-info\",{style:\"border-color: \"+t.light_color},function(){var e,n;return w(t,n=!0,e=!0)})})));return a}());return a},$.templates.flight_event_stain=function(e){var n,t,r,o,i,a;for(a=[],o=0,i=e.length;i>o;o++)n=e[o],n.enabled&&a.push(function(){var e,o,i,a;for(i=n.events,a=[],e=0,o=i.length;o>e;e++)t=i[e],t.cutoff||t.disabled||(r={\"background-color\":t.light_color,left:\"\"+t.pstart+\"%\",width:\"\"+t.width+\"%\"},a.push(b(\".stain\",{style:r})));return a}());return a},$.templates.calendar_loading_msg=function(){return b(\".cal-loadingmsg.cal-loading\",function(){return Q(\"Loading calendar...\")})},h=function(e){var n;return n=\"/calendar/pin.png?number=\"+e.number+\"&color=\"+e.flag_color+\"&height=34\",E(\".flag\",{src:n,alt:e.number})},$.templates.location_option=function(e){return b(\".dd-option.location-option\",function(){return h(e),b(\".name\",function(){return V(\".number\",\"\"+e.number+\": \"),Q(e.name)})})},s=function(e){return b(\".icon-link.gcal-button\",{title:\"Add trip events to your Google Calendar\"},function(){return b(\".icon.gcal_icon\",function(){return k(u,function(){return b(\".tooltip-text\")})}),b(\".text\",\"Google\")}),c(\".icon-link\",{href:e.ics_url(),title:\"Download trip events for Outlook Calendar\",target:\"_blank\"},function(){return b(\".icon.outlook_icon\"),b(\".text\",\"Outlook\")}),c(\".icon-link\",{href:e.ics_url(),title:\"Download trip events for iCal\",target:\"_blank\"},function(){return b(\".icon.ical_icon\"),b(\".text\",\"iCal\")}),b(\".gcal-popup.dd-popup\")},$.templates.gcal_button_dropdown=function(e,n){var t,r,o,i,a,u,l,s,f,d,p,m,_,h;if(r=[],$.hipmunk.user.preferences.google_calendar&&null!=(null!=(d=e.calendar_drop)?d.calendars:void 0))for(p=e.calendar_drop.calendars,u=0,s=p.length;s>u;u++)t=p[u],t.editable&&r.push(t);if(r.length>0){for(b(\".dd-header\",\"Choose a calendar to add these flights to\"),_=[],l=0,f=r.length;f>l;l++)t=r[l],_.push(b(\".add-event.add-to-gcal-via-api\",{\"data-calendar-id\":t.id},function(){return b(\".calendar-color-box\",{style:{\"background-color\":t.color}}),Q(\"\"+t.name)}));return _}b(\".dd-header\",\"Choose the legs of your trip you want to add to your calendar\"),o=0,m=n.google_redirect_urls(),h=[];for(i in m)sn.call(m,i)&&(a=m[i],o+=1,h.push(c(\".add-event\",{href:a,target:\"_blank\"},function(){return Q(\"\"+o+\". \"+i)})));return h},$.templates.iframe_popup=function(){return b(\".iframe-popup\",function(){return centerbox(function(){return b(\".x\"),b(\".content\",function(){return b(\".logo.open-site-button\"),b(\".open-site-button.darkbookingbutton\",function(){return Q(\"View these flights on Hipmunk!\")})})})})},$.templates.error_message=function(){return b(\".error-message\",function(){return Q(\"we are sorry, but something is broken...\")})},$.templates.error_alert=function(e){var n,t,r,o;return o=null!=e?e:{},r=o.message,t=o.header,n=o.exclaim,null==n&&(n=!0),null==t&&(t=\"Whoops! We've encountered the following error.\"),null==r&&(r=\"\"),b(\".error-alert.margin-bottom-lg\",function(){return n&&inline_img(\".error-exclaim\"),b(\".alert-content\",function(){return D(function(){return Q(t)}),b(\".error-message\",function(){return z(r)})})})},$.templates.hotel_upsell_modal=function(e,n){var t,r,o;return r=_.first(n),o=_.last(n),t=\"MMM d\",b(\".hotel-upsell-modal__window\",function(){return c(\".hotel-upsell-modal__top-content\",function(){return b(\".hotel-upsell-modal__header\",\"Save up to 60% on \"+(null!=e?e[0].city_name:void 0)+\" Hotels\"),b(\".hotel-upsell-modal__date\",function(){return Q(Date.parse(r.date).toString(t)),r.date!==o.date?Q(\" - \"+Date.parse(o.date).toString(t)):void 0})}),b(\".hotel-upsell-modal__hotel-boxes\",function(){var n,t,r,o;for(o=[],t=0,r=e.length;r>t;t++)n=e[t],o.push($.templates.mini_hotel_module(n,\".m-smaller\"));return o}),b(\".clear\"),c(\".hotel-upsell-modal__see-all-hotels\",\"see all hotels\")}),b(\".hotel-upsell-modal__background\")},$.templates.hotel_node=function(e,n){return b(\".hotel.hotel-\"+n.iden,function(){return b(\".thumbnail\",function(){return E({src:\"/static/no-hotel-thumb.png\",alt:\"thumb\"})}),b(\".industry-stars.\"+n.star_cls),b(\".name\",function(){return V(\".tag\",n.tag||\"\"),V(\".name\",n.name)}),b(\".price\",function(){return b(\".price-box\",function(){return e.currency.after||z(e.currency.symbol),V(\".price-number\"),e.currency.after?z(e.currency.symbol):void 0}),b(\".multiple\",\"per night\")}),n.review_url&&n.review_string?(b(\".review_count\",function(){return c({href:n.review_url,target:\"_blank\"},function(){return Q(n.review_string)})}),inline_img(\".stars.\"+n.rating_cls)):void 0})},$.templates.hotel_best_sep=function(e){var n;return b(\".hotel-sep.best\",\"Best Hotels in View\"),n=e.display_name.split(\",\")[0],V(\".cityname.hidden\",n)},$.templates.hotel_other_sep=function(){return b(\".hotel-sep.other\",\"Other Options\")},$.templates.hotel_marker=function(){return b(\".swift-hotel-marker\",function(){return b(\".dot\")})},$.templates.hotel_tmp_info=function(){return b(\".button-bar\",function(){return b(\".sorts\",function(){return b(\".button.selected\",function(){return V(\".text\",\"Reviews\")}),Q(\" \"),b(\".button\",function(){return V(\".text\",\"Amenities\")}),Q(\" \"),b(\".button\",function(){return V(\".text\",\"Neighborhood\")})}),b(\".clear\")}),b(\".info.reviews\",function(){return b(\".center-loading\",function(){return E({src:\"/static/small_loading.gif\"}),b(\".loading-text\",\"Loading\")})})},$.templates.select_traveler_dd=function(e,n){var t,r,o,i,a;for(t=null===e?\".selected\":\"\",b(\".dd-option.id-\"+t,function(){return b(\".checkmark\",function(){return R()}),Q(\"No traveler\")}),a=[],o=0,i=n.length;i>o;o++)r=n[o],t=e===r?\".selected\":\"\",a.push(b(\".dd-option.id-\"+r.id+t,function(){return b(\".checkmark\",function(){return R()}),Q(r.name)}));return a},$.templates.trip_options=function(){return U(\".trip-selected\",function(){var e,n,t,r,o,i;for(W({value:0},function(){return Q(\"a new traveler...\")}),e=trip_planner.get_active_traveler(),o=trip_planner.travelers,i=[],t=0,r=o.length;r>t;t++)n=o[t],i.push(W({value:n.id,selected:e===n},function(){return Q(n.name)}));return i}),b(\".small-button.silver.trip-add\",\"Add\")},$.templates.mobile_tip=function(e){var n;return n=e.id,b(\".basic-app-modal__section.m-more-space\",function(){return b(\".basic-app-modal__label.m-large\",function(){return Q(\"Download our mobile app!\")})}),b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label\",function(){return Q(\"Enter your mobile number and we'll text \"),p(),Q(\"you a link to our \"),c(\".download\",{href:$.hipmunk.itunes_url,target:\"_blank\"},\"iOS\"),Q(\" or \"),c(\".download\",{href:$.hipmunk.android_url,target:\"_blank\"},\"Android\"),Q(\" app.\")})}),C(\"#mobile-tip-\"+n+\".hipform\",{action:\"/mobile_sms\",method:\"post\"},function(){return b(\".error-status\"),b(\".basic-app-modal__section.m-more-space.full-row\",function(){return b(\".input-container.basic-app-modal__input-container\",function(){return L(\"#mobile-field-\"+e.id,{name:\"mobile\",type:\"text\",autocomplete:\"off\"}),I({\"for\":\"mobile-field-\"+e.id},\"Your Mobile Number\"),b(\".error-row.error.error-mobile\"),b(\".up\")})}),b(\".basic-app-modal__section\",function(){return m(\".status.submit.small-button.orange.taller\",{type:\"submit\"},function(){return Q(\"Send SMS message\")})}),b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-small\",function(){return Q(l)}),b(\".basic-app-modal__label.m-small\",function(){return Q(\"Message and data rates may apply.\")})})})},y=function(e,n){var t;return null==n&&(n=\"MMM d, yyyy\"),t=new Date(e.date).toString(n),0!==e.days[0]&&(t+=\"-\"+e.days[0]),0!==e.days[1]&&(t+=\"+\"+e.days[1]),t},x=function(e){return(e.airports||e.amtraks).join(\", \")},v=function(e){var n,t;return n=e.display_name,null==n&&Array.isArray(e.airports)&&(n=e.airports.join(\",\")),(null==n||n.length>13)&&(n=null!=(t=e.city_obj)?t.name:void 0),(null==n||n.length>13)&&(n=e.short_name),n},an=function(e){var n;return n=(null!=e?e:{}).cls,null==n&&(n=\"\"),b(\".optin-container\"+n,function(){return I(function(){return L({name:\"optin\",type:\"checkbox\",checked:\"true\"}),Q(\"Email me news, announcements, and deals from Hipmunk\")})})},on=function(){return b({style:\"overflow:hidden;height:0px;width:0px;\"},function(){return z(\"&nbsp;\")})},ln=function(){return Q(\"By subscribing I accept Hipmunk's \"),p(),c({href:\"/tos\"},\"Terms of Service\"),Q(\" and \"),c({href:\"/privacy\"},\"Privacy Policy\")},$.templates.farealert_tip=function(e){return b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-large\",function(){return Q(\"Get free fare alerts!\")}),b(\".basic-app-modal__label.m-small\",function(){return Q(l)})}),b(\".basic-app-modal__section\",function(){return b(\".block-list\",function(){return b(\".block-list__item.m-first\",function(){return b(\".block-list__icon\",function(){return b(\".hipfont-plane\")}),z(v(e.search.groups[0].from_loc)),2===e.search.groups.length?inline_img(\".block-list__double-arrow\"):inline_img(\".block-list__arrow\"),z(v(e.search.groups[0].to_loc))}),b(\".block-list__item.m-last\",function(){return b(\".block-list__icon\",function(){return b(\".hipfont-calendar\")}),Q(y(e.search.groups[0])),e.search.groups.length>1?(z(\" &ndash; \"),Q(y(e.search.groups[1]))):void 0})})}),C(\"#farealert-tip-\"+e.id+\".hipform\",{action:\"/farealerts/add_form\",method:\"post\"},function(){var n,t;return T(\"search_iden\",e.tab_iden),T(\"tab_params\",e.tab_params),T(\"search\",e.search),T(\"tz_offset\",-(new Date).getTimezoneOffset()),b(\".error-status\"),n={name:\"email\",type:\"text\",autocomplete:\"off\",value:$.hipmunk.user.email||\"\"},null==$.hipmunk.user.email?b(\".basic-app-modal__section.m-more-space.full-row\",function(){return b(\".input-container.basic-app-modal__input-container\",function(){return L(\"#email-field-\"+e.id,{name:\"email\",type:\"text\",autocomplete:\"off\"}),I({\"for\":\"email-field-\"+e.id},\"Enter your email\"),b(\".error-row.error.error-email\"),b(\".up\")})}):(t={type:\"hidden\",name:\"email\",value:$.hipmunk.user.email},L(t)),b(\".basic-app-modal__section\",function(){return an({cls:\".m-fare-optin-container\"})}),b(\".basic-app-modal__section\",function(){return m(\".status.submit.small-button.orange.taller\",{type:\"submit\"},function(){return Q(\"Subscribe\")}),m(\".done.small-button.taller.selected.hidden\",function(){return b(\".email.small-img.medium-check\"),V(\".button-text\",\"Alert Added\")})}),b(\".basic-app-modal__section\",function(){return ln()})})},$.templates.sweepstakes_tip=function(e){var n;return n=e.id,b(\".basic-app-modal__section.m-more-space\",function(){return b(\".basic-app-modal__label.m-large\",function(){return Q(\"Win $1,000 in holiday cash from Hipmunk!\"),p()}),b(\".basic-app-modal__label.m-small\",function(){return Q(l)})}),C(\"#sweepstakes-subscribe-form-\"+n+\".hipform\",{action:\"/sweepstakes\",method:\"post\"},function(){var e;return b(\".error-status\"),e={name:\"email\",type:\"text\",autocomplete:\"off\",value:$.hipmunk.user.email||\"\"},null==$.hipmunk.user.email?b(\".basic-app-modal__section.m-more-space.full-row\",function(){return b(\".input-container.basic-app-modal__input-container\",function(){var t;return t=\"sweepstakes-subscribe-email-\"+n,L(\"#\"+t,e),I({\"for\":t},\"Enter your email\"),b(\".error-row.error.error-email\"),b(\".up\")})}):(e.type=\"hidden\",L(e)),b(\".basic-app-modal__section\",function(){var e;return e=\".small-button.taller.orange\",m(\"\"+e+\".submit.status\",{type:\"submit\"},\"Enter Now\"),m(\"\"+e+\".done.selected.hidden\",{disabled:!0},\"Entered!\")}),b(\".basic-app-modal__sweepstakes\",function(){return Q(\"By entering I agree to receive periodic news and deals from Hipmunk. I also accept Hipmunk's \"),c({href:\"/tos\",target:\"_blank\"},\"Terms of Service\"),Q(\" and \"),c({href:\"/privacy\",target:\"_blank\"},\"Privacy Policy\"),Q(\". Click \"),c({href:\"http://hipmunk.colorobjectdigital.com/promotions/travel-tinsel-privacy-policy/\",target:\"_blank\"},\"here\"),Q(\" for official rules.\")})})},$.templates.deals_subscription_form=function(e,n,t,r,o){return b(\".basic-app-modal__section.m-more-space\",function(){return b(\".basic-app-modal__label.m-large\",function(){return Q(\"Get deals on flights from \"+n+\"!\")}),o?b(\".basic-app-modal__label.m-small\",function(){return Q(l)}):void 0}),C(\"#deals-subscribe-form-\"+e+\".hipform\",{action:\"/deals/\"+t+\"/subscribe\",method:\"post\"},function(){var n;return b(\".error-status\"),n={name:\"email\",type:\"text\",autocomplete:\"off\",value:$.hipmunk.user.email||\"\"},null==$.hipmunk.user.email?b(\".basic-app-modal__section.m-more-space.full-row\",function(){return b(\".input-container.basic-app-modal__input-container\",function(){var t;return t=\"deals-subscribe-email-\"+e,L(\"#\"+t,n),I({\"for\":t},\"Enter your email\"),b(\".error-row.error.error-email\"),b(\".up\")})}):(n.type=\"hidden\",L(n)),L({name:\"src\",type:\"hidden\",value:r}),b(\".basic-app-modal__section\",function(){return an({cls:\".m-deals-optin-container\"})}),b(\".basic-app-modal__section\",function(){var e;return e=\".small-button.taller.orange\",m(\"\"+e+\".submit.status\",{type:\"submit\"},\"Subscribe\"),m(\"\"+e+\".done.selected.hidden\",{disabled:!0},\"Subscribed!\")}),b(\".basic-app-modal__section\",function(){return ln()})})},$.templates.interstitial_message=function(e){return b(\".basic-app-modal__section.m-more-space\",function(){return b(\".basic-app-modal__label.m-blue\",function(){return Q(e)})})},$.templates.calendar_connect_with_google=function(e){return b(\".google-auth-button.init-tooltip.small-button.silver\",function(){return inline_img(\".calendar-icon-inline\"),Q(\"Enable Google Calendar\"),k(n,function(){return Q(\"Enabling \"),d(\"Google Calendar\"),\"hotel\"===e?Q(\" will allow you to see your event locations on the map.\"):Q(\" will allow you to see your event times relative to flights.\")})})},$.templates.settings_fare_alerts_list=function(e,n){var t,r,o,i,a,u,l;if(null==e)return b(\".fare-alert.no-alerts.animated\",function(){return Q(\"Loading\")});for(i=0===e.length?\"\":\".hidden\",b(\".no-alerts\"+i,function(){return b(\".inline.plane-medium\"),b(\".inline.big-text\",function(){return Q(\"You have not subscribed to any \"),d(\"fare alerts\"),Q(\" yet.\")})}),o=function(e){return z(v(e)),z(\" (\"+x(e)+\") \")},l=[],a=0,u=e.length;u>a;a++)t=e[a],r=t.search.groups[0],l.push(b(\".fare-alert.alert-id-\"+t.id,function(){return b(\".row\",function(){return b(\".locations.inline\",function(){return o(r.from_loc),inline_img(\".arrow.inline\"),o(r.to_loc)}),b(\".unsubscribe\",function(){return inline_img(\".x-icon.inline\"),Q(\"unsubscribe\")})}),b(\".row\",function(){return Q(\"Depart: \"+y(t.search.groups[0])),t.tab_params.dates.length>1?Q(\" Return: \"+y(t.search.groups[1])):void 0}),n?b(\".row\",function(){return c(\".see-fares.fake-link\",{href:\"javascript:;\"},\"See Fares\")}):void 0}));return l},$.templates.signup_login_form=function(e){var n,t,r,o;return n=e?\"/signup\":\"/login\",t=\".small-button.taller.blue\",o=function(e,n,t){return c(\".btn.auth-link.\"+e,{href:\"\"},function(){return b(\".icon-holder\",function(){return b(\".icon-\"+e)}),b(\".text\",function(){return Q(\"Log in with \"+n+\" \"),\"function\"==typeof t?t():void 0})})},r=function(e,n,t){return null==t&&(t=\"text\"),b(\".signup-login-popup__form-field\",function(){return b(\".input-container.full-row\",function(){return L(\"#\"+e+\"-field\",{name:e,type:t,autocomplete:\"off\"}),I({\"for\":\"\"+e+\"-field\"},n),b(\".error-row.error.error-\"+e),b(\".up\")})})},C(\"#signup-login\",{action:n,method:\"post\"},function(){return b(\".signup-login-popup__content.js-signup-login-content\",function(){return b(\".error-alert-container\",function(){return $.templates.error_alert({message:\"Nothing here\",header:\"Whoops!\"})}),b(\".signup-login-popup__half\",function(){return b(\".signup-login-popup__label\",function(){return Q(\"Recommended \"),c(\".init-tooltip.hiplink\",function(){return Q(\"Learn More\"),k(u+\".signup-explain\",function(){return b(\".bold\",function(){return Q(\"Why Login with Facebook?\")}),Q(\" Remember one less password with\\nFacebook login! Hipmunk will never access\\nyour Facebook account or post on your behalf\\nwithout prior authorization.\")})})}),b(\".signup-login-popup__login-content.m-left\",function(){return o(\"facebook\",\"Facebook\"),o(\"google\",\"Google\",function(){return b(\".red\"),b(\".blue\"),b(\".yellow\"),b(\".green\")}),b(\".signup-login-popup__legal\",function(){return Q(\"By signing up I accept Hipmunk's \"),p(),c(\".dull-link\",{href:\"/tos\"},\"Terms of Service\"),Q(\" and \"),c(\".dull-link\",{href:\"/privacy\"},\"Privacy Policy\"),Q(\".\")})})}),b(\".signup-login-popup__half\",function(){return b(\".signup-login-popup__label\",function(){return e?(Q(\"Already have an account? \"),c(\".login.hiplink\",\"Login\")):(Q(\"Don't have an account? \"),c(\".signup.hiplink\",\"Sign Up\"))}),b(\".signup-login-popup__login-content\",function(){return r(\"email\",\"email\"),r(\"password\",\"password\",\"password\"),b(\".signup-login-popup__buttons\",function(){var n;return e?n=\"Create Account\":(c(\".forgotpass.signup-login-popup__button-link\",\"Forgot password?\"),n=\"Login\"),m(\".small-button.taller.blue.signup-login-popup__button.signup-login-popup__submit-form-button\",{type:\"submit\"},function(){return V(\".status\",n)}),b(\".clear\")})})}),b(\".clear\")}),b(\".signup-login-popup__content.js-forgot-pass-content\",{style:\"display:none\"},function(){return b(\".signup-login-popup__forgot-pass-form\",function(){return b(\".signup-login-popup__tagline\",function(){return Q(\"Enter your email address and we'll send\\ninstructions for setting a new password.\")}),r(\"email-forgot\",\"myemail@example.com\"),b(function(){return m(\".small-button.taller.blue.signup-login-popup__button\",{type:\"submit\"},\"Reset Password\")}),b(\".success-status.signup-login-popup__success-status\",function(){return Q(\"We have emailed you about your password.\")})})})})},$.templates.biz_warning_lightbox=function(e){return b(\"#biz-warning-lightbox\",function(){return centerbox(function(){return b(\".heading\",function(){return b(\".x\"),Q(\"Hipmunk for Business\")}),b(\".message\",function(){return Q(e)}),b(\".message\",function(){return Q(\"To continue using the Hipmunk for Business features, or to cancel your subscription, click the button below.\")}),b(\".footing\",function(){return b(\".darkbookingbutton.margin-top-sm\",\"Manage your subscription\"),b(\"\",function(){return c(\".close.hiplink\",\"Not right now\")})})})})},$.templates.bookings_list=function(e){var n,t,r,o,i;for(i=[],r=0,o=e.length;o>r;r++)n=e[r],t=\".booking.booking-\"+n.id,n.cancelled&&(t+=\".cancelled\"),i.push(b(t,function(){var e,t,r;return b(\".hotel-heading\",function(){return b(\".hotel-phone\",$.hipmunk.utils.format_phone(n.hotel.phone)),b(\".hotel-name\",function(){return Q(n.hotel.name)}),b(\".hotel-address\",function(){return Q(\"\"+n.hotel.address+\", \"+n.hotel.city+\", \"+n.hotel.state+\" \"+n.hotel.postal_code)})}),e=$.hipmunk.utils.iso_to_date(n.check_in),t=$.hipmunk.utils.iso_to_date(n.check_out),r=Math.round(Math.abs((t.getTime()-e.getTime())/864e5)),b(\".booking-details\",function(){return b(\".details-column\",function(){return b(\".details-field\",\"Check in:\"),b(\".details-value\",e.toString(\"MMM dd, yyyy\")),b(\".clear\"),b(\".details-field\",\"Check out:\"),b(\".details-value\",t.toString(\"MMM dd, yyyy\")),b(\".clear\"),b(\".details-field\",\"Guests:\"),b(\".details-value\",function(){return Q(n.guests)}),b(\".clear\")}),b(\".details-column\",function(){return b(\".details-field\",\"Guest Name:\"),b(\".details-value\",n.guest_name),b(\".clear\"),b(\".details-field\",\"Description:\"),b(\".details-value\",n.description),b(\".clear\"),n.hotel_confirmation_codes[0]?(b(\".details-field\",\"Conf. code:\"),b(\".details-value\",n.hotel_confirmation_codes[0]),b(\".clear\")):void 0}),b(\".clear\")}),b(\".price-details\",function(){return V(\".price\",function(){return Q(\"$\"+n.price.toFixed(2))}),Q(\" \"),V(\".nights\",1!==r?\"for \"+r+\" nights\":\"for 1 night\"),b(\".cancel-link\",function(){return V(\".cancelled-text\",function(){return Q(\"This reservation has been cancelled\")}),c(\".hiplink\",function(){return Q(\"View cancellation policy...\")})})}),b(\".cancel-section\",function(){return b(\".loading-cancel-details\",\"Loading cancellation policy\"),b(\".cancel-details\",function(){})})}));return i},$.templates.booking_cancel_details=function(e,n){var t;return t=n.cancel_fee,b(\".policy-title\",\"Cancellation Policy\"),b(\".policy-text\",e.cancel_policy),b(\".cancel-text\",function(){return 0===t?Q(\"There is no fee for cancelling this reservation at this time.\"):Q(\"Cancelling this reservation will cause you to incur a fee of $\"+t.toFixed(2)+\".\")}),b(\".cancel-buttons\",function(){return b(\".small-button\",{fee:t},\"Cancel this reservation\"),b(\".cancelling\",function(){return b(\".spinner-container\"),V(\"Cancelling your reservation\")})}),b(\".legal\",function(){return Q(\"We'll do our best to cancel this reservation for you, but we make no guarantees. You are responsible for confirming your cancellation with this venue.\")})},$.templates.booking_cancel_details_error=function(){return b(\".error-text\",function(){return Q(\"There was a problem loading the cancellation policy for this reservation. Contact Orbitz to get more information.\")})},$.templates.settings_deal_alerts_list=function(e){var n,t,r,o,i;t=_.keys(e),o=0===t.length?\"\":\".hidden\",b(\".no-deals\"+o,function(){return b(\".inline.price-tag-medium\"),b(\".inline.big-text\",function(){return Q(\"You have not subscribed to any \"),d(\"deal alerts\"),Q(\" yet.\")})}),i=[];for(r in e)n=e[r],i.push(b(\".deal-alert.alert-city-\"+r,function(){return b(\".row\",function(){return b(\".locations.inline\",function(){return z(e[r].from_name)}),b(\".unsubscribe.\",function(){return inline_img(\".x-icon.inline\"),Q(\"unsubscribe\")})}),b(\".row\",function(){return c({href:\"/cheap-flights/\"+r},\"See Deals\")})}));return i},r=[\"Su\",\"M\",\"Tu\",\"W\",\"Th\",\"F\",\"Sa\"],t=[\"sun\",\"mon\",\"tue\",\"wed\",\"thu\",\"fri\",\"sat\"],$.templates.render_datepicker=function(e){var n,t,r,o,i,a,u;return i=e.start_day,t=e.months,r=e.num_cals,null==i&&(i=new Date),null==t&&(t=11),null==r&&(r=2),u=i.getFullYear(),a=i.getMonth(),o=a,n=0,b(\".calendars\",function(){var e,l,c,s,f,d;for(d=[],e=s=0,f=t-1;f>=0?f>=s:s>=f;e=f>=0?++s:--s)l=(a+e)%12,c=u+Math.floor((a+e)/12),$.templates.render_month(c,l,n,r,t,u,a,i.getDate()),o=l,d.push(n+=1);return d})},$.templates.render_month=function(e,n,o,i,a,u,l,c){var s,f,d,p,m,_,h,g,w,k,v,y,x,$;if(s=1,d=new Date(e,n,s),f=d.getDay(),h=d.getMonthName(),g=h.slice(0,3),m=d.getDaysInMonth(),v=[],k=[],p=0,f>0)for(w=y=0,$=f-1;$>=0?$>=y:y>=$;w=$>=0?++y:--y)p+=1,k.push({nodate:!0});for(;m>=s;){for(_=x=p;6>=p?6>=x:x>=6;_=6>=p?++x:--x)m>=s?k.push({date:s,day:f%7}):k.push({nodate:!0}),f+=1,s+=1;v.push(k),k=[],p=0}return b(\".calendar.cal-\"+o+(o>i-1?\".hidden\":\"\"),function(){return b(\".header\",function(){return 0!==o&&b(\".prev\",function(){return b(\".arrow\")}),a-1>o&&b(\".next\",function(){return b(\".arrow\")}),Q(\"\"+h+\" \"+e)}),b(\".grid\",function(){var o,i;for(b(\".week-header\",function(){var e,n,t;for(t=[],e=0,n=r.length;n>e;e++)f=r[e],t.push(b(\".box.dayname.\"+f,function(){return Q(f)}));return t}),o=0,i=v.length;i>o;o++)k=v[o],b(\".clear\",function(){var r,o,i,a;for(a=[],o=0,i=k.length;i>o;o++)f=k[o],f.nodate?a.push(b(\".box.noday\")):e===u&&n===l&&f.date<c?a.push(b(\".box.past.\"+t[f.day],function(){return Q(f.date)})):(r=\".day-\"+g+\"_\"+f.date+\".year-\"+e+\".\"+t[f.day],e===u&&n===l&&f.date===c&&(r+=\".today\"),a.push(b(\".box.day.\"+r,function(){return Q(f.date)})));return a});return b(\".clear\")})})},f=function(e){return b(\".book-column__cal-links\",function(){return b(\".book-column__fake-link.cal-link.js-gcal-link\",function(){return Q(\"Google\")}),Q(\"|\"),c(\".cal-link.js-cal-link\",{href:e.ics_url(),title:\"Download trip events for iCal\",target:\"_blank\"},function(){return Q(\"iCal\")}),Q(\"|\"),c(\".cal-link.js-cal-link.remove-right-margin\",{href:e.ics_url(),title:\"Download trip events for Outlook Calendar\",target:\"_blank\"},function(){return Q(\"Outlook\")}),b(\".gcal-popup.dd-popup\")})},$.templates.booking_slideout=function(e,n,t){var r,o,i,a;return o=n.flight_data,r=null!=(a=o.search.currency.code)?a:\"USD\",i=e.idx_routings.length,b(\".slideout-container\",function(){return b(\".slideout-backdrop\"),b(\".slideout-box-container\",function(){return b(\".slideout-box\",function(){return b(\".booking-info-container\",function(){return b(\".booking-info.size-\"+Math.min(i,3),function(){return b(\".slideout-x\"),b(\".book-column\",function(){return b(\".ready-text\",function(){var n;return Q(\"Ready to Book?\"),n=o.routings[0][e.idx_routings[0]].f_leg.marketing_num[0],\"X2\"===n?b(\".booking-fees\",function(){return Q(\"You are chartering a 4-seat private aircraft. \"),Q(\"Seats cannot be purchased individually.\"),p(),Q(\"Price includes all fees and taxes for up to four passengers.\")}):b(\".booking-fees\",function(){return Q(\"prices are per person and include taxes and fees\")})}),$.templates.booking_buttons(e,o,r),b(\".booking-column-calendars\",function(){return b(\".section-title\",function(){return Q(\"Add To Calendar:\")}),f(t)}),b(\".booking-column-share\",function(){var t;return b(\".booking-column-share__separator\"),b(\".booking-column-share__email\",function(){return b(\".booking-column-share__circle-outer\",function(){return b(\".booking-column-share__circle-inner\"),b(\".booking-column-share__email-icon\",function(){return b(\".img\")})})}),b(\".booking-column-share__text.js-share-flight\",function(){return c(\"Share this flight\")}),$.templates.share_flight_form(e,n),t=n.search.groups[0].to_loc.display_name,$.templates.share_flight_success(t)})}),b(\".routing-columns\",function(){var n,t,r,i,a;for(a=e.idx_routings,t=r=0,i=a.length;i>r;t=++r)n=a[t],t>0&&0===t%3&&b(\".clear\"),b(\".routing-column\",function(){var e;return e=o.routings[t][n],$.templates.routing_column(e,o)});return b(\".clear\"),b(\".booking-details-link-container\",function(){return V(\".show-link\",function(){return Q(\"Show Details\")}),V(\".hide-link\",function(){return Q(\"Hide Details\")})})}),b(\".clear\")}),$.hipmunk.trip_planner_enabled?b(\".add-itin-to-trip\",function(){return V(function(){return Q(\"Add this itinerary to: \")}),$.templates.trip_options()}):void 0})})})})},$.templates.share_flight_form=function(e,n){var t,r;return r=n.id,t=n.flight_data,C(\"#share-flight-form-\"+n.id+\".booking-column__share-flight-form\",{action:\"/mailitinerary\",method:\"POST\"},function(){var o,i,a;return I(\".booking-column__label\",\"From:\"),b(\".full-row\",function(){return b(\".input-container\",function(){var e;return e=$.hipmunk.user.first_name||\"\",L(\"#from_name-\"+n.id,{type:\"text\",name:\"from_name\",value:e}),I({\"for\":\"from_name-\"+n.id},function(){return Q(\"Your First Name\")}),b(\".error.error-from_name\"),b(\".up\")})}),b(\".full-row\",function(){return b(\".input-container\",function(){var e;return e=$.hipmunk.user.email||\"\",L(\"#from_email-\"+n.id,{type:\"text\",name:\"from_email\",value:e}),I({\"for\":\"from_email-\"+n.id},function(){return Q(\"Your Email\")}),b(\".error.error-from_email\"),b(\".up\"),b(\".add-margin-bottom\")})}),I(\".booking-column__label\",\"To:\"),b(\".booking-column__small-text\",function(){return Q(\"Send multiple emails by separating them with a comma.\")}),b(\".full-row\",function(){return b(\".input-container\",function(){return L(\"#to_email-\"+n.id,{type:\"text\",name:\"to_email\"}),I({\"for\":\"to_email-\"+n.id},function(){return Q(\"Friend's Email\")}),b(\".error.error-to_email\"),b(\".up\")})}),Z({name:\"message\",value:\"Check out this great flight I found on Hipmunk!\"},\"Check out this great flight I found on Hipmunk!\"),a=$.hipmunk.url.get_tab_by_tab_id(r).to_url(),a=a.replace(\"#\",\"?referer=share_email#\"),L({name:\"flight_url\",type:\"hidden\",value:a}),i=S(e,t),L({name:\"choices\",type:\"hidden\",value:JSON.stringify([function(){var e,n,t;for(t=[],e=0,n=i.length;n>e;e++)o=i[e],t.push(o.route);return t}()])}),m(\".small-button.silver.taller\",{type:\"submit\"},function(){return b(\".status\",\"Send\")})})},$.templates.share_flight_success=function(e){return b(\".booking-column__share-success\",function(){return b(\".booking-column__share-success-message\",function(){return Q(\"You've successfully shared this flight!\")}),b(\".booking-column__share-success-hotel-upsell\",function(){return Q(\"Need to add a hotel? Save up to 60% on \"),V(\".book-column__fake-link.js-hotel-upsell\",\"hotels in \"+e)})})},$.templates.booking_buttons=function(e,n,t){var r,o,i,a,u,l,s,f;for(i=e.booking_urls.length,r=function(e,n){var r;return r=\"return click_flight_book(this, \"+e.price+\", '\"+t+\"', \"+n+\", \"+i+\")\",{onClick:r,href:e.url,target:\"_blank\"}},s=e.booking_urls,f=[],o=u=0,l=s.length;l>u;o=++u)a=s[o],f.push(b(\".booking-link-row\",function(){return c(\".small-button.orange.taller.book-button.margin-right-med\",r(a,o),function(){return Q(\"Book\")}),V(\"on \"+a.name),b(\".price\",function(){return z(G(n.search,a.price)),e.total_seats>1?z(\" (x\"+e.total_seats+\")\"):void 0})}));return f},$.templates.routing_column=function(e,n){var t,r,o,i,l,s,f,d,p,m,_,h,g,w,v,y,x;for(t=\"ddd, MMM d, h:mm tt\",i=e.legs[0],m=e.legs[e.legs.length-1],s=i.from_code,g=m.to_code,r=n.airports,o=duration(m.arrive_sec,i.depart_sec),h=e.legs.length-1,f=!1,d=!1,p=!1,l=[],y=e.legs,w=0,v=y.length;v>w;w++)_=y[w],(\"Train\"===(x=_.equipment)||\"Bus\"===x)&&(p=!0),\"X1\"===_.marketing_num[0]&&(f=!0),\"X1\"!==_.marketing_num[0]&&_.operating_num[0]!==_.marketing_num[0]&&l.push(\"\"+$.hipmunk.flight_utils.leg_desc(n,_.operating_num)+\" marketed by \"+$.hipmunk.flight_utils.leg_desc(n,_.marketing_num)),_.express&&l.push(_.express);return b(\".routing-description\",function(){return b(\".routing-codes\",function(){return Q(s),inline_img(\".arrow\"),Q(g)}),b(\".date\",function(){return Q(i.dep_dt_local.toString(\"ddd, MMM d\"))}),b(\".airline\",function(){var t;return Q(function(){var r,o,i,a;for(i=e.airline_codes,a=[],r=0,o=i.length;o>r;r++)t=i[r],a.push(n.airlines[t][0]);return a}().join(\", \"))}),b(\".duration\",function(){return Q(o),z(\" &middot; \"),e.legs.length>1?Q($.hipmunk.utils.ntext(h,\"stop\")):Q(\"nonstop\")}),b(\".group-number\",function(){return Q(e.group_num+1)}),b(\".airline-icons\",function(){var n,t,r,o,i,a,u,l;for(n=6,r=-21-e.airline_codes.length*n,o=-31,u=e.airline_codes,l=[],i=0,a=u.length;a>i;i++)t=u[i],b(\".logowrapper\",{style:\"top: \"+o+\"px; left: \"+r+\"px\"},function(){return b(\".airline-logo.airline-logo-\"+t)}),o+=n,l.push(r+=n);return l})}),b(\".routing-overview\",function(){return b(\".space-enforcer\",function(){return b(\".place\",function(){return Q(\"\"+r[s].city.toUpperCase()+\" (\"+s+\")\")}),b(\".time\",function(){return Q(i.dep_dt_local.toString(\"ddd, h:mm tt\"))})}),b(\".place\",function(){return Q(\"\"+r[g].city.toUpperCase()+\" (\"+g+\")\")}),b(\".time\",function(){return Q(m.arr_dt_local.toString(\"ddd, h:mm tt\"))}),b(\".stop-summary-arrow\",function(){var n,t,r;return r=Math.min(h,4),r?(n=9*r+5,t=2+(50-n)/2,b(\".dots-container\",{style:\"height:\"+n+\"px;top:\"+t+\"px;\"},function(){var n,t,o,i;for(i=[],n=t=0,o=r-1;o>=0?o>=t:t>=o;n=o>=0?++t:--t)i.push(b(\".dot.init-tooltip\",{style:\"top:\"+(4+9*n)+\"px\"},function(){return k(u+a,function(){return Q(\"Layover at \"+e.legs[n].to_code)})}));return i})):void 0})}),b(\".routing-details\",function(){var t,i,a,u,l;for(t=null,u=e.legs,l=[],i=0,a=u.length;a>i;i++)_=u[i],t&&(o=duration(_.depart_sec,t.arrive_sec),b(\".layover\",function(){return b(function(){return Q(\"Layover: \"+o+\" in \"+r[_.from_code].city)}),t.to_code!==_.from_code?b(\".airport-switch\",function(){return Q(\"Airport Switch: From \"+t.to_code+\" to \"+_.from_code)}):void 0})),b(\".leg-overview\",function(){return b(\".space-enforcer\",function(){return b(\".place\",function(){return Q(\"\"+r[_.from_code].city.toUpperCase()+\" (\"+_.from_code+\")\")}),b(\".time\",function(){return Q(_.dep_dt_local.toString(\"ddd, h:mm tt\"))}),b(\".duration\",function(){return Q(duration(_.arrive_sec,_.depart_sec))})}),b(\".place\",function(){return Q(\"\"+r[_.to_code].city.toUpperCase()+\" (\"+_.to_code+\")\")}),b(\".time\",function(){return Q(_.arr_dt_local.toString(\"ddd, h:mm tt\"))}),b(\".leg-arrow\"),b(\".leg-details\",function(){return b(\".flight-num\",function(){return Q($.hipmunk.flight_utils.leg_desc(n,_.operating_num)),_.wifi?inline_img(\".wifi-blue-small\"):void 0}),\"X1\"!==_.marketing_num[0]&&_.operating_num[0]!==_.marketing_num[0]&&b(\".codeshare\",function(){return Q(\"Marketed by \"+$.hipmunk.flight_utils.leg_desc(n,_.marketing_num))\n}),_.express&&b(\".codeshare\",function(){return Q(_.express)}),b(\".equipment\",function(){var e;return Q(\"in \"),4===_.cabin&&Q(\"an \"),Q(\"\"+_.cabin_str+\" on a \"),e=n.equipments[_.equipment+_.operating_num[0]],e[1]?c(\".hiplink\",{href:e[1],target:\"_blank\"},e[0]):Q(e[0])})})}),l.push(t=_);return l}),l.length||f?b(\".footnotes\",function(){return l.length&&b(\".flight-footnotes\",function(){var e,n,t,r;for(r=[],n=0,t=l.length;t>n;n++)e=l[n],r.push(b(function(){return Q(e)}));return r}),f?b(\".mystery-footnote\",function(){return Q(\"Mystery Airline: This is a discounted fare on a major airline sold by a consolidator.\")}):void 0}):void 0},$.templates.new_account_settings_lightbox=function(){return b(\".new-settings__content\",function(){return b(\".new-settings__sidebar\",function(){var e;return e=\".new-settings__menu-item.item-\",b(e+\"basic\",\"Basic Settings\"),b(e+\"payments\",\"Payments\"),b(e+\"bookings\",\"My Bookings\"),b(e+\"email\",\"Email & Alerts\"),b(e+\"calendar\",\"Calendar Integration\")}),b(\".new-settings__main-content\")})},$.templates.new_account_settings_basic=function(){return b(\".new-settings__content-title\",\"Basic Settings\"),C(\"#new-settings-form.search-form\",{action:\"/basic_settings\",method:\"POST\"},function(){return b(\".error-status\"),b(\".success-status\",function(){return b(\".success-message\",function(){return Q(\"Your preferences have been saved!\")})}),b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){return b(\".input-container\",function(){return L(\"#new-email-address\",{type:\"text\",name:\"new_email_address\",value:$.hipmunk.user.email}),I({\"for\":\"new-email-address\"},function(){return Q(\"New Email Address\")}),b(\".error-row.error.error-new_email_address\")})}),b(\".new-settings__section-label\",\"Email Address\"),b(\".clear\")}),b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){return $.hipmunk.user.has_password&&b(\".input-container\",function(){return L(\"#settings-old-password\",{type:\"password\",name:\"old_password\"}),I({\"for\":\"settings-old-password\"},function(){return Q(\"Current Password\")}),b(\".error-row.error.error-old_password\")}),b(\".input-container\",function(){return L(\"#settings-new-pass\",{type:\"password\",name:\"password\"}),I({\"for\":\"settings-new-pass\"},function(){return Q(\"New Password\")}),b(\".error-row.error.error-password\")}),b(\".input-container\",function(){return L(\"#settings-confirm-pass\",{type:\"password\",name:\"password2\"}),I({\"for\":\"settings-confirm-pass\"},function(){return Q(\"Confirm New Password\")}),b(\".error-row.error.error-password2\")})}),b(\".new-settings__section-label\",\"Change Password\"),$.hipmunk.user.has_password||$.hipmunk.user.has_fb_linked||$.hipmunk.user.has_google_linked||b(\".new-settings__section-warning\",function(){return Q(\"Please set your Hipmunk password.\")}),b(\".clear\")}),b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){return b(\".input-container\",function(){var e;return L(\"#settings-first-name\",{type:\"text\",name:\"first_name\",value:null!=(e=$.hipmunk.user.first_name)?e:\"\"}),I({\"for\":\"settings-first-name\"},function(){return Q(\"First Name\")}),b(\".error-row.error.error-first_name\")}),b(\".input-container\",function(){var e;return L(\"#settings-last-name\",{type:\"text\",name:\"last_name\",value:null!=(e=$.hipmunk.user.last_name)?e:\"\"}),I({\"for\":\"settings-last-name\"},function(){return Q(\"Last Name\")}),b(\".error-row.error.error-last_name\")})}),b(\".new-settings__section-label\",\"Name\"),b(\".clear\")}),b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){return b(\".input-container\",function(){var e;return e=$.hipmunk.user.phone_number||\"\",L(\"#settings-phone-number\",{type:\"text\",name:\"phone_number\",value:e}),I({\"for\":\"settings-phone-number\"},function(){return Q(\"Phone Number\")}),b(\".error-row.error.error-phone_number\")})}),b(\".new-settings__section-label\",\"Phone Number\"),b(\".clear\")}),b(\".new-settings__section.new-settings__birthday-section\",function(){return b(\".new-settings__section-right\",function(){return b(\".input-container\",function(){return $.templates.birthday_control($.hipmunk.user.birthday),b(\".error-row.error.error-birthday\")})}),b(\".new-settings__section-label\",\"Birthday\"),b(\".clear\")}),b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){var e;return e=\"settings-home-airport\",b(\".input-row\",function(){return b(\".input-container\",function(){var n,t,r,o;return t=\".field-home_airport.autocomplete.ac_id-ac\"+e,r=\"home_airport\",n={type:\"text\",name:r,value:null!=(o=$.hipmunk.user.home_airport)?o:\"\",autocomplete:\"off\"},L(\"#\"+e+t,n),I({\"for\":e},function(){return Q(\"Enter airport code / city\")}),b(\".error-row.error.error-\"+r)}),b(\".drop-row\",function(){return rn(\"#ac\"+e+\".front-ac-drop.version2.ac-drop\",function(){return O(\".ac-row.stub\"),O(\".ac-table.stub\",function(){return X(function(){return K()})})})})})}),b(\".new-settings__section-label\",\"Home Airport\"),b(\".clear\")}),b(\".new-settings__section.new-settings__link-services\",function(){return b(\".new-settings__section-right\",function(){var e,n,t,r,o;r={google:{name:\"Google\",linked:$.hipmunk.user.has_google_linked},facebook:{name:\"Facebook\",linked:$.hipmunk.user.has_fb_linked}},o=[];for(t in r)n=r[t],e=\".service.\"+t,n.linked||(e+=\".unlinked\"),o.push(b(e,function(){return c(\".hiplink\",\"link\"),b(\".icon\"),Q(n.name),b(\".clear\")}));return o}),b(\".new-settings__section-label\",\"Linked with Hipmunk\"),b(\".clear\")}),b(\".new-settings__section\",{align:\"center\"},function(){return m(\".small-button.submit.taller.orange\",function(){return Q(\"Save Changes\")})})})},$.templates.new_account_settings_payments=function(){return b(\".new-settings__content-title\",\"Payments\"),b(\".new-settings__section\",function(){return b(\".new-settings__section-label\",\"Saved Credit Cards\"),$.hipmunk.creditcards.length?b(\".new-settings__credit-card-list\",function(){var e,n,t,r,o;for(r=$.hipmunk.creditcards,o=[],n=0,t=r.length;t>n;n++)e=r[n],o.push(b(\".credit-card.cardid-\"+e.id,function(){return b(\".card-name\",function(){return Q(e.label)}),b(\".card-number\",function(){return Q(\"\"+e.type.toUpperCase()+\" ************ \"+e.last4)}),b(\".expiration\",function(){return Q(\"exp. \"+$.hipmunk.utils.zero_pad(e.exp_month,2)+\"/\"+e.exp_year%2e3)}),b(\".delete-card\",function(){return inline_img(\".x-icon\"),Q(\"delete card\")}),b(\".clear\")}));return o}):b(\".new-settings__warning\",function(){return Q(\"You don't have any saved Credit Cards\")})})},$.templates.new_account_settings_bookings=function(e){var n,t,r,o,i,a,u,l,s,f,d,p;if(null==e&&(e=null),b(\".new-settings__content-title\",\"My Bookings\"),e){if(0===e.length)return b(\".new-settings__warning\",function(){return Q(\"You haven't booked anything yet.\")});for(u=[],r=[],t=[],a=new Date,a.setHours(0,0,0,0),l=0,f=e.length;f>l;l++)n=e[l],n.cancelled?t.push(n):Date.parse(n.check_out)<a?r.push(n):u.push(n);for(i=[],i.push({label:\"Upcoming\",bookings:u}),i.push({label:\"Past\",bookings:r}),i.push({label:\"Cancelled\",bookings:t}),p=[],s=0,d=i.length;d>s;s++)o=i[s],o.bookings.length?p.push(b(\".new-settings__section\",function(){return b(\".new-settings__section-label\",o.label),b(\".new-settings__booking-list\",function(){var e,t,r,i;for(r=o.bookings,i=[],e=0,t=r.length;t>e;e++)n=r[e],i.push(b(\".booking\",function(){return b(\".thumbnail\",function(){return E({src:n.hotel.thumbnail})}),b(\".name\",n.hotel.name),b(\".dates\",function(){var e,t;return e=Date.parse(n.check_in),t=Date.parse(n.check_out),$.templates.stay_dates(e,t)}),c(\".small-button.taller.orange\",{href:n.receipt_url,target:\"_blank\"},function(){return Q(\"View Receipt\")}),n.cancelled?b(\".canceled\",\"Booking Canceled\"):void 0}));return i})})):p.push(void 0);return p}return b(\".new-settings__section\",function(){return b(\".new-settings__content-loading\",function(){return E(\".spinner\",{src:\"/static/loading.gif\"}),V(function(){return Q(\"Loading...\")})})})},$.templates.new_account_settings_alerts=function(e,n,t){return b(\".new-settings__alerts\",function(){return b(\".new-settings__section.fare-alerts\",function(){return b(\".new-settings__section-header\",\"Fare Alerts\"),$.templates.settings_fare_alerts_list(n,t)}),b(\".new-settings__section.deals\",function(){return b(\".new-settings__section-header\",\"Flight Deals\"),$.templates.settings_deal_alerts_list(e.deal_alerts)})})},$.templates.new_account_settings_email=function(e,n,t){return b(\".new-settings__content-title\",\"Email & Alerts\"),$.templates.new_account_settings_alerts(e,n,t),b(\".new-settings__section\",function(){var n;return n=e.preferences.email_me,b(\".new-settings__section-header\",function(){return Q(\"Email Subscriptions\")}),C(\"#prefsform.search-form.small-form\",{action:\"/prefs\",method:\"post\"},function(){return b(\".error-status\"),b(\".success-status\",function(){return b(\".success-message\",function(){return Q(\"Your preferences have been saved!\")})}),L(\"#email_me\",{name:\"email_me\",type:\"checkbox\",checked:n}),I(\".normal-label\",{\"for\":\"email_me\"},function(){return Q(\"Email me news, announcements, and deals from Hipmunk!\")}),b(\".signup-buttons\",function(){return m(\".small-button.submit.taller.orange\",function(){return Q(\"Save\")})})})})},$.templates.new_account_settings_calendar=function(e){return b(function(){return b(\".new-settings__content-title\",\"Google Calendar\"),b(\".new-settings__sub-title-description\",function(){return Q(\"Hipmunk can integrate with your Google Calendar to show your events alongside flight and hotel search results.\")}),$.hipmunk.user.preferences.google_calendar?b(\".new-settings__section\",function(){return b(\".new-settings__section-right\",function(){return b(\".small-button.orange.taller.google-cal-button\",\"Deactivate\")}),$.hipmunk.user.preferences.google_calendar_email&&b(\".new-settings__section-label\",\"Account: \"+$.hipmunk.user.preferences.google_calendar_email),b(\".clear\")}):b(\".new-settings__section\",{align:\"center\"},function(){return m(\".small-button.taller.orange.google-cal-button\",\"Activate\")}),e?b(\".new-settings__section\",function(){return b(\".new-settings__section-label\",\"Active Calendars\"),b(\".new-settings__calendar-list\",function(){return b(\".new-settings__content-loading\",function(){return E(\".spinner\",{src:\"/static/loading.gif\"}),V(function(){return Q(\"Loading...\")})})})}):void 0})},$.templates.new_account_settings_calendar_list=function(e){var n,t,r,o,i,a;for(i=e.calendars,a=[],t=r=0,o=i.length;o>r;t=++r)n=i[t],a.push(b(\".calendar-item\",function(){var e;return e=\"cal-\"+t,b(\".checkbox-container\",{style:\"background-color: \"+n.light_color+\"}\"},function(){return L({type:\"checkbox\",checked:n.enabled,id:e})}),I(\".calendar-name\",{\"for\":\"cal-\"+t},n.name),b(\".clear\")}));return a},$.templates.credit_card_form_view=function(e,n){return null==n&&(n=!0),b(\".credit-card-form-view\",function(){return b(\".hip-row\",function(){return b(\".input-block\",function(){return I({\"for\":\"nameoncard\"},\"Name on Card\"),b(\".input-container\",function(){return L({name:\"nameoncard\",type:\"text\"}),b(\".error-row.error\"),b(\".up\")})}),b(\".input-block\",function(){return I({\"for\":\"acceptedcards\"},\"Accepted Cards\"),b(\".ccards\")})}),b(\".hip-row\",function(){return b(\".input-block\",function(){return I({\"for\":\"cardnumber\"},\"Credit Card Number\"),b(\".input-container\",function(){return L(\"#cardnumber\",{name:\"cardnumber\",type:\"text\",autocompletetype:\"cc-number\"}),b(\".error-row.error\"),b(\".up\")})}),b(\".input-block.expiry\",function(){return I({\"for\":\"cardnumber\"},\"Expiration Date\"),b(\".input-container\",function(){var e;return U(\".month-select\",{name:\"exp_month\"},function(){var e,n,t,r;for(r=[],e=t=1;12>=t;e=++t)n=\"\"+e,r.push(W({value:e},n));return r}),b(\".error-row.error\"),b(\".up\"),e=(new Date).getFullYear(),U(\".year-select\",{name:\"exp_year\"},function(){var n,t,r,o;for(o=[],n=t=e,r=e+6;r>=e?r>=t:t>=r;n=r>=e?++t:--t)o.push(W({value:n},\"\"+(\"\"+n)));return o})})}),n?b(\".input-block.cvc\",function(){return I({\"for\":\"cvc\"},function(){return Q(\"Security Code\"),b(\".cvc_info.init-tooltip\",function(){return inline_img(\".info.margin-left-sm\"),k(u,function(){return inline_img(\".securitycode\")})})}),b(\".input-container\",function(){return L(\".cvc.newcard\",{name:\"cvc_newcard\",type:\"text\",autocompletetype:\"cc-csc\",autocomplete:\"off\"}),b(\".error-row.error\"),b(\".up\")})}):void 0}),b(\".hr\"),b(\".clear\"),D(\"Billing Address\"),b(\".hip-row\",function(){return b(\".input-block\",function(){return I({\"for\":\"address_country\"},\"Country\"),b(\".input-container.country\",function(){return U(\".country-select\",{name:\"address_country\"},function(){var n,t,r,o,i,a;for(a=[],r=0,o=e.length;o>r;r++)i=e[r],n=i[0],t=i[1],\"US\"===n?a.push(W({value:n,selected:!0},t)):a.push(W({value:n},t));return a})})})}),b(\".hip-row\",function(){return b(\".input-block\",function(){return I({\"for\":\"address_line1\"},\"Street Address\"),b(\".input-container\",function(){return L({name:\"address_line1\",type:\"text\"}),b(\".error-row.error\"),b(\".up\")})}),b(\".input-block\",function(){return I({\"for\":\"address_line2\"},\"Street Address (line 2)\"),b(\".input-container\",function(){return L({name:\"address_line2\",type:\"text\"}),b(\".error-row.error\"),b(\".up\")})})}),b(\".hip-row\",function(){return b(\".input-block\",function(){return I({\"for\":\"address_city\"},\"City\"),b(\".input-container\",function(){return L(\".address_city\",{name:\"address_city\",type:\"text\"}),b(\".error-row.error\"),b(\".up\")})}),b(\".input-block.state\",function(){return I({\"for\":\"address_state\"},\"State\"),b(\".input-container\",function(){return U(\".state-select\",{name:\"address_state\",\"data-placeholder\":\"Not Applicable\"},function(){return $.templates.state_select(\"US\")})})}),b(\".input-block.zipcode\",function(){return I({\"for\":\"address_zip\"},\"Zip Code\"),b(\".input-container\",function(){return L({name:\"address_zip\",type:\"text\"}),b(\".error-row.error\"),b(\".up\")})})}),$.hipmunk.user.email?b(\".hip-row.checkbox-row.save-creditcard.margin-top-med\",function(){return L(\"#save_creditcard\",{name:\"save_creditcard\",type:\"checkbox\",checked:\"checked\"}),I(\".card_label.margin-left-sm\",{\"for\":\"save_creditcard\"},function(){return Q(\"Save this credit card as \")}),L(\".card_label.margin-left-sm\",{name:\"card_label\",type:\"text\",value:\"Personal\"})}):void 0})},q={US:[[\"AL\",\"Alabama\"],[\"AK\",\"Alaska\"],[\"AS\",\"American Samoa\"],[\"AA\",\"Armed Forces Americas\"],[\"AZ\",\"Arizona\"],[\"AR\",\"Arkansas\"],[\"CA\",\"California\"],[\"CO\",\"Colorado\"],[\"CT\",\"Connecticut\"],[\"DE\",\"Delaware\"],[\"DC\",\"District Of Columbia\"],[\"FM\",\"Federated States Of Micronesia\"],[\"FL\",\"Florida\"],[\"GA\",\"Georgia\"],[\"GU\",\"Guam\"],[\"HI\",\"Hawaii\"],[\"ID\",\"Idaho\"],[\"IL\",\"Illinois\"],[\"IN\",\"Indiana\"],[\"IA\",\"Iowa\"],[\"KS\",\"Kansas\"],[\"KY\",\"Kentucky\"],[\"LA\",\"Louisiana\"],[\"ME\",\"Maine\"],[\"MH\",\"Marshall Islands\"],[\"MD\",\"Maryland\"],[\"MA\",\"Massachusetts\"],[\"MI\",\"Michigan\"],[\"MN\",\"Minnesota\"],[\"MS\",\"Mississippi\"],[\"MO\",\"Missouri\"],[\"MT\",\"Montana\"],[\"NE\",\"Nebraska\"],[\"NV\",\"Nevada\"],[\"NH\",\"New Hampshire\"],[\"NJ\",\"New Jersey\"],[\"NM\",\"New Mexico\"],[\"NY\",\"New York\"],[\"NC\",\"North Carolina\"],[\"ND\",\"North Dakota\"],[\"MP\",\"Northern Mariana Islands\"],[\"OH\",\"Ohio\"],[\"OK\",\"Oklahoma\"],[\"OR\",\"Oregon\"],[\"PW\",\"Palau\"],[\"PA\",\"Pennsylvania\"],[\"PR\",\"Puerto Rico\"],[\"RI\",\"Rhode Island\"],[\"SC\",\"South Carolina\"],[\"SD\",\"South Dakota\"],[\"TN\",\"Tennessee\"],[\"TX\",\"Texas\"],[\"UT\",\"Utah\"],[\"VT\",\"Vermont\"],[\"VI\",\"Virgin Islands\"],[\"VA\",\"Virginia\"],[\"WA\",\"Washington\"],[\"WV\",\"West Virginia\"],[\"WI\",\"Wisconsin\"],[\"WY\",\"Wyoming\"]],CA:[[\"AB\",\"Alberta\"],[\"AE\",\"Armed Forces\"],[\"AP\",\"Armed Forces Pacific\"],[\"BC\",\"British Columbia\"],[\"MB\",\"Manitoba\"],[\"NB\",\"New Brunswick\"],[\"NL\",\"Newfoundland\"],[\"NS\",\"Nova Scotia\"],[\"NT\",\"Northwest Territory\"],[\"NU\",\"Nunavut\"],[\"ON\",\"Ontario\"],[\"PE\",\"Prince Edward Island\"],[\"QC\",\"Quebec\"],[\"SK\",\"Saskatchewan\"],[\"SP\",\"St. Pierre & Miguelon\"],[\"YT\",\"Yukon Territory\"]],AU:[[\"AC\",\"Australian Capital\"],[\"NO\",\"Northern Territory\"],[\"NW\",\"New South Wales\"],[\"QL\",\"Queensland\"],[\"SA\",\"South Australia\"],[\"TS\",\"Tasmania\"],[\"VC\",\"Victoria\"],[\"WT\",\"Western Australia\"]]},$.templates.state_select=function(e){var n,t,r,o,i,a,u;if(e in q){for(i=q[e],u=[],r=0,o=i.length;o>r;r++)a=i[r],n=a[0],t=a[1],u.push(W({value:n},t));return u}},$.templates.hotels_toaster=function(e,n){return b(\".hotels-toaster.newbox\",function(){return b(\".r.header\",function(){return b(\".x.js-hotels-toaster__close\"),$.templates.newbox_header_content({content:function(){return M(\".header-text.small-header-text\",function(){var n;return Q(\"Save Big on \"+e.locations[0]+\" Hotels\"),p(),n=\"/hotels/\",c(\".header-link.js-hotels-toaster__see-more\",function(){return z(\"see more hotels &raquo;\")})})}})}),b(function(){var t,r,o,i,a,u;for(u=[],i=0,a=n.length;a>i;i++)r=n[i],o=r.details_url({check_in:e.dates[0],check_out:e.dates[1],rooms:e.rooms,hotel_pax:e.pax}),t={href:o,target:\"_blank\"},u.push(c(\".hotel-iwop.js-hotel-iwop\",t,function(){return $.templates.hotel_image_with_overlay(r),b(\".hotel-iwop__price\",function(){return Q(\"from \"),$.templates.render_hotel_price({price:r.minrate},$.hipmunk.DEFAULT_CURRENCY),Q(\"/night\")})}));return u})})},$.templates.nps_toaster=function(){return b(\".r.header\",function(){return b(\".x.nps-toaster__close\"),$.templates.newbox_header_text(\"Tell us what you think\")}),b(function(){return b(\".nps-toaster__content_top\",function(){return Q(\"How likely are you to recommend Hipmunk to a friend?\")}),b(\".nps-toaster__scores\",function(){var e,n;for(I(\".nps-toaster__label\",\"Not at all likely\"),e=n=0;10>=n;e=++n)b(\".nps-toaster__score\",function(){return Q(e)});return I(\".nps-toaster__label\",\"Extremely likely\")})}),b(\".js-why-content\",function(){return b(\".input-container\",function(){return Z(\"#nps-text.nps-toaster__text\"),I({\"for\":\"nps-text\"},\"Why or why not?\")}),b(\".small-button.silver.nps-toaster__submit\",function(){return Q(\"Submit\")})})},$.templates.post_confirm_flow=function(e){var n,t;return t=e.user_email,n=function(e,n,t,r,o,i){return null==r&&(r=\"\"),null==o&&(o=\"text\"),null==i&&(i=!1),b(\".basic-app-modal__section.full-row.input-row\",function(){return b(\".input-container.basic-app-modal__input-container.m-small\",function(){var a;return a=\"#\"+e,i&&(a+=\".autocomplete.ac_id-ac\"+e),L(a,{name:n,type:o,autocomplete:\"off\",value:r}),I({\"for\":\"\"+e},t),b(\".error-row.error.error-\"+n),b(\".up\"),i?b(\".drop-row\",function(){return rn(\"#ac\"+e+\".front-ac-drop.version2.ac-drop\",function(){return O(\".ac-row.stub\"),O(\".ac-table.stub\",function(){return X(function(){return K()})})})}):void 0})})},b(\".post-confirm-flow-lightbox__step-container\",function(){return b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-bold\",function(){return Q(\"Please set a password\")})}),b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-small\",function(){return Q(t)})}),C(\"#post-confirm-set-pass-form.hipform\",{action:\"/set_password\",method:\"post\"},function(){return b(\".error-status\"),n(\"post-confirm-password\",\"password\",\"new password\",\"\",\"password\"),n(\"post-confirm-confirm-password\",\"password2\",\"confirm new password\",\"\",\"password\"),b(\".basic-app-modal__section\",function(){return m(\".status.submit.small-button.orange.taller\",{type:\"submit\"},function(){return Q(\"Save\")})})})}),b(\".post-confirm-flow-lightbox__step-container\",function(){return b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-bold\",function(){return Q(\"Set your home airport\")})}),C(\"#post-confirm-set-airport-form.hipform\",{action:\"/set_home_airport\",method:\"post\"},function(){var e;return b(\".error-status\"),n(\"post-confirm-home-airport\",\"home_airport\",\"enter airport code / city\",null!=(e=$.hipmunk.user.home_airport)?e:\"\",\"text\",!0),b(\".basic-app-modal__section\",function(){return m(\".status.submit.small-button.orange.taller\",{type:\"submit\"},function(){return Q(\"Save\")})})}),b(\".basic-app-modal__section\",function(){return c(\".hiplink.post-confirm-flow-lightbox__skip-step\",\"Skip\")})}),b(\".post-confirm-flow-lightbox__step-container\",function(){return b(\".basic-app-modal__section\",function(){return b(\".basic-app-modal__label.m-bold\",function(){return Q(\"Personalize your account\")})}),C(\"#post-confirm-set-basic-info-form.hipform\",{action:\"/set_personal_info\",method:\"post\"},function(){var e,t;return b(\".error-status\"),n(\"post-confirm-first-name\",\"first_name\",\"first name\",null!=(e=$.hipmunk.user.first_name)?e:\"\"),n(\"post-confirm-last-name\",\"last_name\",\"last name\",null!=(t=$.hipmunk.user.last_name)?t:\"\"),b(\".basic-app-modal__section.m-more-space\",function(){var e;return b(\".post-confirm-flow-lightbox__label\",\"Gender:\"),e=$.hipmunk.user.gender,I(\".post-confirm-flow-lightbox__radio-label\",function(){return L({type:\"radio\",name:\"gender\",value:\"male\",checked:\"male\"===e}),Q(\"male\")}),I(\".post-confirm-flow-lightbox__radio-label\",function(){return L({type:\"radio\",name:\"gender\",value:\"female\",checked:\"female\"===e}),Q(\"female\")})}),b(\".basic-app-modal__section.m-more-space\",function(){return b(\".post-confirm-flow-lightbox__label\",\"Birthday:\"),$.templates.birthday_control($.hipmunk.user.birthday,!0)}),b(\".basic-app-modal__section\",function(){return m(\".status.submit.small-button.orange.taller\",{type:\"submit\"},function(){return Q(\"Done\")})})}),b(\".basic-app-modal__section\",function(){return c(\".hiplink.post-confirm-flow-lightbox__skip-step\",\"Skip\")})})},$.templates.frontpage_intent_media_checkboxes=function(e,n,t){var r;return r=t?\"checkbox\":\"radio\",V(\".frontbox__checkbox-row-label\",\"Compare: \"),\"checkbox\"===r&&(c(\".frontbox__checkbox-link.m-all\",\"Select All\"),V(\" | \")),c(\".frontbox__checkbox-link\",\"Select None\"),p(),b(\".frontbox__checkbox-row-checkboxes\",function(){var t,o,i,a;for(a=[],o=0,i=e.length;i>o;o++)t=e[o],a.push(I(function(){var e;return e=n[t.ad_display_name],L({name:\"intent_media_checkbox\",type:r,\"data-url\":t.click_url,\"data-provider_name\":t.ad_display_name,checked:e}),Q(t.ad_display_name)}));return a})},hm[\"export\"]({templates:{fa_datefmt:y,fa_cityname:v}})}.call(this);\n!function(){var e;e={TAB_DEFAULTS:{kind:\"\",locations:[],dates:[],pax:2,children:0,seniors:0,infants_seat:0,infants_lap:0,cabin:\"Coach\",range:\"\",rooms:1,group:0,selected_flights:[],selected_hotel:\"\",country:\"US\",language:\"en\",confirm_price:0},SEARCH_CLASSES:{COACH:\"Coach\",BUSINESS:\"Business\",FIRST:\"First\",Private:\"Air Taxi\"},quote:function(e){return encodeURIComponent(e).replace(/%20/g,\"+\").replace(/%3A/g,\":\")},escape_location:function(n){return n=n.replace(/-/g,\"_\").replace(/\\ /g,\"-\").replace(/-and-/g,\"_and_\").replace(/-to-/g,\"_to_\"),e.quote(n)},encode_locations:function(e){var n,t,o,a;if(1===e.length)return this.escape_location(e[0]);if(0===e.length%2)return a=function(){var a,c,i;for(i=[],o=a=0,c=e.length;c>a;o=a+=2)t=this.escape_location(e[o]),n=this.escape_location(e[o+1]),i.push(\"\"+t+\"-to-\"+n);return i}.call(this),a.join(\"-and-\");throw\"invalid locations length\"}},hm[\"export\"]({urlcodec_common:e})}.call(this);\n!function(){var e,t,n,o,i,a,r,s,c,l,u,p,d,h;h=hm.urlcodec_common,r=h.TAB_DEFAULTS,p=h.quote,l=h.escape_location,c=h.encode_locations,u=hm.utils.parse_int,t={tab:0,reason:\"\"},s=\";\",n=\"~\",i=\",\",e={from0:[\"locations\",0],to0:[\"locations\",1],date0:[\"dates\",0],date1:[\"dates\",1],flight_pax:[\"pax\"],flight_infant_lap:[\"infants_lap\"],flight_infant_seat:[\"infants_seat\"],flight_children:[\"children\"],flight_seniors:[\"seniors\"],cabin:[\"cabin\"]},o={where:[\"locations\",0],check_in:[\"dates\",0],check_out:[\"dates\",1],hotel_pax:[\"pax\"],rooms:[\"rooms\"]},d=function(e){return decodeURIComponent(e.replace(/\\+/g,\" \"))},window.LocationsMangler=function(){function e(){}return e.prototype.escape_location=l,e.prototype.unescape_location=function(e){return e=e.replace(/_and_/g,\" and \").replace(/_to_/g,\" to \").replace(/-/g,\" \").replace(/_/g,\"-\"),d(e)},e.prototype.encode=c,e.prototype.decode=function(e){var t,n,o,i,a,r,s,c,l,u;if(null==e)return[];if(o=[],0===e.indexOf(\"to-\"))i=e.substr(3),i=this.unescape_location(i),o=[\"\",i];else for(l=e.split(\"-and-\"),a=0,s=l.length;s>a;a++)for(n=l[a],u=n.split(\"-to-\"),r=0,c=u.length;c>r;r++)t=u[r],o.push(this.unescape_location(t));return o},e}(),window.ParamsCodec=function(){function e(e){this.defaults=e}return e.prototype.encode=function(e){var t,n,o,a,r,s,c,l,u,d,h;s=[],h=this.defaults;for(r in h)if(t=h[r],l=e[r],null!==l&&!$.hipmunk.utils.equals(l,t)){switch(typeof l){case\"undefined\":continue;case\"number\":o=l.toString();break;case\"string\":o=p(l);break;case\"object\":for(c=[],u=0,d=l.length;d>u;u++)a=l[u],n=p(a),c.push(n);o=c.join(i)}s.push(\"\"+r+\"=\"+o)}return s.join(\"&\")},e.prototype.decode=function(e){var t,n,o,a,r,s,c,l,p,h,f,_,g,m;if(r=$.hipmunk.utils.deepcopy(this.defaults),!e)return r;for(_=e.split(\"&\"),l=0,h=_.length;h>l;l++){switch(a=_[l],g=a.split(\"=\"),o=g[0],c=g[1],typeof this.defaults[o]){case\"undefined\":continue;case\"number\":s=u(c);break;case\"string\":s=d(c);break;case\"object\":for(s=[],m=c.split(i),p=0,f=m.length;f>p;p++)n=m[p],t=d(n),s.push(t)}r[o]=s}return r},e}(),a=function(){function e(e,t){this.kind=e,this.mapping=t}return e.prototype.defaults=r,e.prototype.has_mapping=function(e){\" Decide if we can translate the query_params to those expected\\nin tabs.coffee/accounts.coffee \";var t,n,o,i;for(i=_.keys(this.mapping),n=0,o=i.length;o>n;n++)if(t=i[n],null!=e[t])return!0;return!1},e.prototype.parse_value=function(e,t){\" Parses the query param value into the proper type based-off\\nthe default params expected in tabs.coffee/accounts.coffee \";var n;if(null==t)return void 0;switch(typeof this.defaults[e]){case\"undefined\":return void 0;case\"number\":return n=u(t);case\"string\":return n=d(t);case\"object\":return t}},e.prototype.decode=function(e){\" See if this instance can decode the query params based off\\nits mapping, if so return the translated query params. \";var t,n,o,i,a,r,s;if(a=$.hipmunk.utils.deepcopy(this.defaults),null==e)return!1;if(!this.has_mapping(e))return!1;a.kind=this.kind,s=this.mapping;for(n in s)o=s[n],i=o[0],t=o[1],r=this.parse_value(i,e[n]),null!=r&&(null!=t?a[i][t]=r:a[i]=r);return a},e}(),window.UrlCodec=function(){function i(n){this.encode_to_path=null!=n?n:!0,this.tab_codec=new ParamsCodec(r),this.global_codec=new ParamsCodec(t),this.specific_search_codecs=[this.flight_params_codec=new a(\"flight\",e),this.hotel_params_codec=new a(\"hotel\",o)]}return i.prototype.tab_to_path=function(e){var t,n,o;if(e=$.hipmunk.utils.deepcopy(e),t=e.kind,e.landing)o=\"/\"+e.kind;else if(n=(new LocationsMangler).encode(e.locations),\"hotel\"===t)o=\"/hotels/\"+n;else if(\"calendar\"===t)o=\"/pricegraph/\"+n;else if(\"flight\"===t)o=\"/flights/\"+n;else{if(\"multi\"!==t)return;o=\"/flights/\"+n}return delete e.kind,delete e.locations,[e,o]},i.prototype.path_to_tab=function(e){var t,n,o,i,a;if(n=e.split(\"/\"),n.length<2)return{};if(a=n[0],o=n[1],t=n[2],i={},\"flights-search\"===o||\"hotels-search\"===o)return i.kind=o,i.landing=!0,i;switch(i.locations=(new LocationsMangler).decode(t),o){case\"hotels\":i.kind=\"hotel\";break;case\"pricegraph\":i.kind=\"calendar\";break;case\"flexcal\":i.kind=\"calendar\";break;case\"flights\":i.kind=\"flight\",i.locations.length>2&&(i.kind=\"multi\")}return i},i.prototype.encode=function(e,t){var o,i,a,r,c,l,u,p,d;for(r=\"/\",i=[],a=u=0,p=e.length;p>u;a=++u)l=e[a],this.encode_to_path&&0===a&&(d=this.tab_to_path(l),l=d[0],r=d[1]),i.push(this.tab_codec.encode(l));return c=i.join(s),o=this.global_codec.encode(t),o&&(c+=\"\"+n+o),[r,c]},i.prototype.decode=function(e,t){var o,i,a,r,c,l,u,p,d,h,f,_,g,m,b;for(g=t.split(n),r=g[0],o=g[1],a=r.split(s),d=[],l=f=0,_=a.length;_>f;l=++f){if(i=a[l],p=this.tab_codec.decode(i),0===l){m=this.path_to_tab(e);for(u in m)h=m[u],$.hipmunk.utils.equals(p[u],this.tab_codec.defaults[u])&&(p[u]=h)}(null!=(b=p.kind)?b.indexOf(\"-search\"):void 0)>0&&(p.landing=!0),d.push(p)}return c=this.global_codec.decode(o),[d,c]},i.prototype.query_params_decode=function(e){var t,n,o,i,a;for(a=this.specific_search_codecs,o=0,i=a.length;i>o;o++)if(t=a[o],n=t.decode(e))return[[n],{}];return[[],{}]},i}()}.call(this);\n!function(){var n;n=function(){function n(){var n,t,e,l,r,a,i,o,s,u,h,c,f,p,_,g=this;for(this.safeiden_table={},i=\"?:+*,~. \",o=\"QC_SOTD_\",n=h=0,p=i.length;p>=0?p>=h:h>=p;n=p>=0?++h:--h)this.safeiden_table[i.charAt(n)]=o.charAt(n);for(l=\"[A-Za-z+ ][A-Za-z+ ][A-Za-z+ ]+\",t=\"[A-Za-z]{3}[0-9][0-9]?([pm]*[0-9])?\",s=[[\"^(\"+l+\")_(\"+l+\"),(\"+t+\")\",function(n){return\"\"+n[1]+\".\"+n[2]+\",\"+n[3]}],[\"^(\"+l+\")_(\"+l+\"),(\"+t+\")_(\"+t+\")\",function(n){return\"\"+n[1]+\".\"+n[2]+\",\"+n[3]+\".\"+n[5]}],[\"^(\"+l+\"),(\"+t+\")_(\"+t+\")\",function(n){return\"\"+n[1]+\",\"+n[2]+\".\"+n[4]}],[\"^(\"+l+\")_(\"+l+\"),(\"+t+\")_(\"+t+\")_(C[0-9]*-?[0-9]*)\",function(n){return\"\"+n[1]+\".\"+n[2]+\",\"+n[3]+\".\"+n[5]+\".\"+n[7]}],[\"^(\"+l+\")_(\"+l+\")/(\"+l+\")_(\"+l+\"),(\"+t+\")_(\"+t+\")\",function(n){return\"\"+n[1]+\".\"+n[2]+\"/\"+n[3]+\".\"+n[4]+\",\"+n[5]+\".\"+n[7]}],[\"^(\"+l+\")_(\"+l+\")/(\"+l+\")_(\"+l+\")/(\"+l+\")_(\"+l+\"),(\"+t+\")_(\"+t+\")_(\"+t+\")\",function(n){return\"\"+n[1]+\".\"+n[2]+\"/\"+n[3]+\".\"+n[4]+\"/\"+n[5]+\".\"+n[6]+\",\"+n[7]+\".\"+n[9]+\".\"+n[11]}]],this.backwards_idens=[],u=function(n){return g.backwards_idens.push([a,function(t){return n(t)+\"&\"+t[t.length-1]}])},c=0,f=s.length;f>c;c++)_=s[c],r=_[0],e=_[1],this.backwards_idens.push([new RegExp(r+\"$\"),e]),a=new RegExp(r+\",([,A-Za-z0-9]+)$\"),u(e)}return n.prototype.safe_iden=function(n){var t,e;return e=n.toLowerCase(),e=function(){var n,l,r,a;for(r=e.split(\"\"),a=[],n=0,l=r.length;l>n;n++)t=r[n],a.push(this.safeiden_table[t]||t);return a}.call(this).join(\"\"),e=e.replace(/\\W/g,\"_\")},n.prototype.backwards_iden=function(n){var t,e,l,r,a,i,o,s;for(o=this.backwards_idens,a=0,i=o.length;i>a;a++)if(s=o[a],r=s[0],e=s[1],l=null!=n?n.match(r):void 0)return t=e(l),console.log(\"Molested\",n,\"to\",t),t;return n},n.prototype.parse_tab_iden=function(n){var t,e,l,r,a,i,o,s,u,h,c,f,p,_,g,d,b,w,m,v,A,k,x,C,z,Z,y,I,M,D,j,E,O,R,T;for(s=/([A-Z][a-z]+[0-9]+|today|tom.*|yes.*|next.*)(.*)/,C=/C([0-9]+)-([0-9]+)/,n=this.backwards_iden(n),d=n.split(\"&\"),y=d[0].split(\",\"),g=y.slice(0,+(y.length-2)+1||9e9).join(\",\"),g=g.replace(/\\ /g,\"+\").replace(/_/g,\" \"),_=[],T=g.split(/\\.|\\//),j=0,O=T.length;O>j;j++)p=T[j],-1!==p.indexOf(\"::\")?_.push(p):_.push(p.replace(/\\+/g,\" \"));for(o=y[y.length-1],M=o.split(\".\"),t=d.length>1?d[1].split(\",\"):[],u=[],x=null,E=0,R=M.length;R>E;E++)I=M[E],I=I.replace(/\\+/g,\" \"),i=s.exec(I),r=C.exec(I),i?u.push($.trim(i[1]+i[2])):r?(w=parseInt(r[1]),b=parseInt(r[2]),e=Math.floor((w+b)/2),m=Math.floor((b-w)/2),k=Math.ceil((b-w)/2),x=m===k?\"\"+e+\"pm\"+k:\"\"+e+\"p\"+k+\"m\"+m):\"C\"===I&&(x=\"\");return t[0]&&(v=function(){var n,e,l,r;for(l=t[0].split(\"-\"),r=[],n=0,e=l.length;e>n;n++)D=l[n],r.push(parseInt(D));return r}(),A=v[0],h=v[1],c=v[2],a=v[3],Z=v[4]),1===_.length?(f=\"hotel\",null==A&&(A=2),z=t.length>=2?t[1]:1):(null==A&&(A=1),l=t.length>=2?t[1]:\"Coach\",f=null!=x?\"calendar\":1===u.length?\"flight\":2===u.length&&2===_.length?\"flight\":\"multi\"),(\"flight\"===f||\"calendar\"===f||\"multi\"===f)&&_.length<2?(console.log(\"Dropping \"+n+\" because of too few locations (\"+_+\")\"),null):(\"hotel\"===f||\"multi\"===f)&&u.length<2?(console.log(\"Dropping \"+n+\" because of too few dates (\"+u+\")\"),null):{tab_iden:n,search_iden:this.safe_iden(n),kind:f,locations:_,dates:u,range:x?x:\"\",pax:A,infants_lap:null!=h?h:0,infants_seat:null!=c?c:0,children:null!=a?a:0,seniors:null!=Z?Z:0,total_seats:A+(null!=c?c:0)+(null!=a?a:0)+(null!=Z?Z:0),cabin:l,rooms:z}},n}(),window.TabIdenCodec=n}.call(this);\n!function(){var t;t=hm.utils.parse_int,window.ToolTip=function(){function t(t,o,e){var p,n;this.$control=t,this.$popup=o,n=null!=e?e:{},this.auto_hide=n.auto_hide,p=n.single_use,null==this.auto_hide&&(this.auto_hide=!0),p&&this.$popup.data(\"single_use\",!0)}return t.prototype.event_namespace=\"tooltip\",t.last_tooltip=null,t.prototype.show=function(){return t.last_tooltip&&t.last_tooltip.stop_close_timer(),$.close_all_tooltips(),this.$popup.off(\".\"+this.event_namespace),this.$control.off(\".\"+this.event_namespace),this.auto_hide&&this.setup_handlers(),$.show_popup_group(\"tooltip\",this.$popup,$.container),this.position_self_and_triangle(),t.last_tooltip=this},t.prototype.setup_handlers=function(){var t,o=this;return t=\"mouseleave.\"+this.event_namespace+\" mouseenter.\"+this.event_namespace,this.$popup.add(this.$control).on(t,function(t){\"mouseleave\"===t.type?o.start_close_timer():o.stop_close_timer()})},t.prototype.start_close_timer=function(){var t=this;return this.stop_close_timer(),this.timeout=set_timeout(100,function(){return t.timed_out()})},t.prototype.stop_close_timer=function(){return this.timeout?(clearTimeout(this.timeout),this.timeout=null):void 0},t.prototype.timed_out=function(){return this.hide()},t.prototype.hide=function(){return $.close_all_tooltips()},t.prototype.position_self_and_triangle=function(){var t,o,e,p,n,i,s,u,r,l,h,_,a,c,d;return o=10,e=8,t=this.$popup.find(\".tri\"),d=this.$control.offset(),i=d.left,s=d.top,u=this.$control.outerWidth(),n=this.$control.outerHeight(),this.$popup.hasClass(\"exp-side\")?(p=$(window).width()-$(\".sidebar-box\").width(),a=this.$popup.width()+o+e,r=this.$popup.hasClass(\"exp-left\")&&i-a>=0||i+a>p,r?(this.$popup.css(\"left\",i-this.$popup.outerWidth()-e),t.addClass(\"right\"),t.css(\"left\",this.$popup.outerWidth()-2)):(this.$popup.css(\"left\",i+this.$control.width()+e),t.addClass(\"left\"),t.css(\"left\",-e)),t.css(\"top\",this.$popup.outerHeight()/2-t.height()/2-1),this.$popup.css(\"top\",s-this.$popup.outerHeight()/2+n/2)):(h=s+n+e,l=i+u/2-this.$popup.width()/2,_=$(window).width()-(l+this.$popup.outerWidth())-o,c=this.$popup.width()/2-t.width()/2,0>_&&(l+=_,c-=_),0>l&&(c+=l,l=0),t.css({left:c}),this.$popup.css({left:l,top:h}))},t.setup_autoshow=function(o,e,p){return null==p&&(p=null),p||(p=$(document.body)),p.on(\"mouseenter\",o,function(o){var p,n,i;p=$(o.currentTarget),n=p.find(e),n.length&&(i=new t(p,n),i.show())})},t}(),$.close_all_tooltips=function(){return $.close_popup_group(\"tooltip\")},$._popups={current:{},close_fn:{}},$.show_popup=function(t,o,e){return $.show_popup_group(\"popup\",t,o,e)},$.show_slide_popup=function(t,o,e){var p,n,i;i=null!=e?e:{},p=i.close_fn,n=i.show_fn,t.addClass(\"m-animation\"),$.show_popup(t,o,function(){t.removeClass(\"m-animation m-visible\"),\"function\"==typeof p&&p()}),_.defer(function(){t.addClass(\"m-visible\"),\"function\"==typeof n&&n()})},$.show_popup_group=function(o,e,p,n){var i,s,u,r,l,h,a,c,d,f,g,w,m,v,y,b,x;if(null==n&&(n=null),u=e.data(\"old_parent\")||e.parent(),!Lightbox.is_open_and_does_not_have_element(u)){if(null!=$._popups.current[o]&&(s=$.close_popup_group(o)),!(null!=e?e.length:void 0)>0)return!0;if(s&&s.get(0)===e.get(0))return!0;if(i=e.parent(),!e.data(\"old_left\"))for(b=[\"top\",\"left\",\"bottom\",\"right\"],w=0,v=b.length;v>w;w++)c=b[w],e.data(\"old_\"+c,e.css(c));if(e.appendTo(p).show(),e.css(\"height\",\"auto\"),f=t(e.css(\"top\")),g=.8,e.height()+f>$(window).height()?e.css(\"height\",\"\"+(g*$(window).height()-f)+\"px\"):e.css(\"height\",\"\"),(null!=i?i.length:void 0)>0)for(e.data(\"old_parent\",i),d=i.offset(),x=[\"top\",\"left\",\"bottom\",\"right\"],m=0,y=x.length;y>m;m++)c=x[m],a=e.data(\"old_\"+c),r=t(a),isNaN(r)?e.css(c,a):(\"left\"===c||\"top\"===c?h=d[c]:\"right\"===c?h=$(window).width()-d.left-i.outerWidth():\"bottom\"===c&&(h=-d.top-i.outerHeight()),l=Math.round(r+h),e.css(c,l));$(document.body).append(p),$._popups.current[o]=e,null!=n&&($._popups.close_fn[o]=n),$._popups.launching=!0,_.defer(function(){return $._popups.launching=!1,$.hipmunk.utils.first_show(e),$(window).one(\"resize.popup_resize\",$.handle_resize)})}},$.handle_resize=function(){return $.close_non_lightbox_popups()},$.close_non_lightbox_popups=function(){return $(\"#overlay-main\").is(\":visible\")?void 0:$.close_popups()},$.close_popups=function(){var t,o,e,p;e=$._popups.current,p=[];for(t in e)o=e[t],null!=o?p.push($.close_popup_group(t)):p.push(void 0);return p},$.close_popup_group=function(t){var o,e,p,n,i,s,u;if(o=$._popups.current[t]){if(o.hide(),o.data(\"single_use\"))o.remove();else for(o.detach(),null!=(s=o.data(\"old_parent\"))&&s.append(o),u=[\"top\",\"left\",\"bottom\",\"right\"],n=0,i=u.length;i>n;n++)e=u[n],o.css(e,o.data(\"old_\"+e));\"function\"==typeof(p=$._popups.close_fn)[t]&&p[t]()}return delete $._popups.current[t],delete $._popups.close_fn[t],$(window).unbind(\"resize.popup_resize\"),o},$.show_dropdown=function(t,o,e){return $.show_popup_group(\"dropdown\",t,o,e)},$.close_dropdowns=function(){return $.close_popup_group(\"dropdown\")},$.make_container=function(){var t,o;return t=$(document.body),o=$('<div class=\"event-sink\"></div>'),t.append(o),o},$.tap_anywhere=function(t){return $(window).one(\"touchend\",t)},$._init_popups=function(){var t;return t=$(document.body),t.on(\"click\",function(t){var o,e,p,n;if(2!==t.which){n=$._popups.current;for(e in n)p=n[e],o=$._popups.current[e],!o||$._popups.launching||$(t.target).closest(o).length||$.close_popup_group(e)}})}}.call(this);\n!function(){var t=function(t,n){return function(){return t.apply(n,arguments)}};window.Lightbox=function(){function n(o,e,s,i){this.name=o,this.$content=e,this.$container=null!=s?s:n.make_container(),this.close=t(this.close,this),this.show=t(this.show,this),this.focus_hack=t(this.focus_hack,this),this.$container||(this.$container=null),this.on_close=$.Callbacks(),i&&this.on_close.add(i)}return n.prototype.track_args={},n.prototype.user_cant_close=!1,n.prototype.focus_hack=function(){$.hipmunk.utils.first_show(this.$content)},n.prototype.show=function(){var t;return this.render(),window.Lightbox.close_current(),$.close_popups(),this.$old_parent=this.$content.parent(),n.current=this,_.defer($.hipmunk.utils.first_show,this.$content),$(\"#overlay-main\").show(),$(document.body).addClass(\"noscroll\"),$(\"#results-area\").on(\"focusin\",this.focus_hack),$(\"#header-wrapper\").on(\"focusin\",this.focus_hack),$(\"#header\").on(\"focusin\",this.focus_hack),$(\"#lightbox-scroll\").append(this.$container||this.$content).show(),null!=(t=this.$container)&&t.append(this.$content),this.$content.show(),$.hipmunk.utils.track(\"lightbox_pop\",this.name,this.track_args)},n.prototype.close=function(){var t;return n.current=null,this.$content.detach(),null!=(t=this.$container)&&t.detach(),this.$content.hide(),this.$old_parent.append(this.$content),$(\"#overlay-main\").hide(),$(document.body).removeClass(\"noscroll\"),$(\"#results-area\").off(\"focusin\",this.focus_hack),$(\"#header-wrapper\").off(\"focusin\",this.focus_hack),$(\"#header\").off(\"focusin\",this.focus_hack),$(\"#lightbox-scroll\").hide(),this.on_close.fire(),$.hipmunk.utils.track(\"lightbox_close\",this.name)},n.prototype.render=function(){},n.close_current=function(){var t;return null!=(t=n.current)?t.close():void 0},n.user_close=function(){return n.current&&!n.current.user_cant_close?n.current.close():void 0},n.make_container=function(){return $('<div class=\"lightbox-container\"></div>')},n.is_open_and_does_not_have_element=function(t){var o,e;return o=null!=(e=n.current)?e.$content:void 0,o&&o.is(\":visible\")&&!t.closest(o).length},n}(),$(function(){var t,n;return t=$(document.body),n=$('<div id=\"lightbox-scroll\"></div>'),t.prepend(n),t.on(\"click\",\"div#lightbox-scroll .close-x, div#lightbox-scroll .x\",function(){Lightbox.user_close()}),n.on(\"click\",function(t){var n;n=$(t.target),n.is(\"#lightbox-scroll, .lightbox-container\")&&Lightbox.user_close()})})}.call(this);\n!function(){var t,n,e,r,i,o,s,u,l,a,c,h,p,_,d,f,m,g,y,w,v,x,b,k,C={}.hasOwnProperty,Z=function(t,n){function e(){this.constructor=t}for(var r in n)C.call(n,r)&&(t[r]=n[r]);return e.prototype=n.prototype,t.prototype=new e,t.__super__=n.prototype,t},j=[].slice;m=function(t,n){var e;return null==n&&(n=\",\"),e=\"\"+t+\"(\"+n+t+\")*$\",new RegExp(e)},t=\"(X:)?[A-Z]{3}\",n=m(t),u=\"([CFO]:)?([A-Z0-9]{2})([0-9]+(-[0-9]+)?)?\",a=new RegExp(u),l=m(u),_=m(\"[A-Z]{3}\"),d=function(){function t(t){this.content=t,this._inverted=!1,this._min=1,this._max=1}return t.prototype.description=function(){return\"\"+this._quantity()+\" \"+(\"function\"==typeof this._kind?this._kind():void 0)+\" <b>\"+this._what()+\"</b>\"},t.prototype._what=function(){var t,n;return this.content instanceof Array?(t=function(){var t,e,r,i;for(r=this.content,i=[],t=0,e=r.length;e>t;t++)n=r[t],i.push(null!=(null!=n?n._what:void 0)?n._what():n);return i}.call(this),1===t.length?t[0]:2===t.length?t.join(\" or \"):(t[t.length-1]=\"or \"+t[t.length-1],t.join(\", \"))):null!=this.content._what?this.content._what():this.content},t.prototype._quantity=function(){return this._min!==this._max?null===this._max?\"\"+this._min+\" or more\":\"\"+this._min+\" or \"+this._max:\"\"+this._min},t.prototype._kind=function(){throw\"kind not implemented\"},t.prototype.print=function(){var t,n;return n=\"\",t=this._inverted?\"~\":\"\",this._min!==this._max&&(n=null===this._max?1===this._min?\"+\":\"*\":\"?\"),\"\"+t+this._code()+n},t.prototype._code=function(){var t;return this.content instanceof Array?function(){var n,e,r,i;for(r=this.content,i=[],n=0,e=r.length;e>n;n++)t=r[n],i.push(null!=(null!=t?t._code:void 0)?t._code():t);return i}.call(this).join(\",\"):null!=this.content._code?this.content._code():this.content},t}(),h=function(t){function n(){return g=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n.prototype._kind=function(){var t;return t=this._max===this._min&&1===this._min?\"\":\"s\",this._inverted?\"leg\"+t+\" not by\":\"leg\"+t+\" by\"},n}(d),c=function(t){function n(){return y=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n}(h),p=function(t){function n(){return w=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n.prototype._what=function(){return null!=this.content?n.__super__._what.call(this):\"anyone\"},n.prototype._quantity=function(){return\"1 nonstop\"},n.prototype._code=function(){return null!=this.content?\"N:\"+n.__super__._code.call(this):\"N\"},n}(c),i=function(t){function n(){return v=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n.prototype._what=function(){return\"anyone\"},n.prototype._code=function(){return\"F\"},n}(h),s=function(t){function n(){return x=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n.prototype._kind=function(){var t;return t=this._max===this._min&&1===this._min?\"\":\"s\",this._inverted?\"connection\"+t+\" not in\":\"connection\"+t+\" in\"},n}(d),e=function(t){function n(){return b=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n}(s),r=function(t){function n(){return k=n.__super__.constructor.apply(this,arguments)}return Z(n,t),n.prototype._what=function(){return\"anywhere\"},n.prototype._code=function(){return\"X\"},n}(s),f=function(t){var o,s,u,a,h,_,d,m,g,y;if(\"~\"===t.substr(0,1)&&(g=f(t.substr(1)),null!=g))return g._inverted=!0,g;if(_=t.substr(t.length-1),t.length>=2&&(\"?\"===_||\"*\"===_||\"+\"===_)){switch(g=f(t.substr(0,t.length-1)),_){case\"?\":g._min=0;break;case\"*\":g._min=0,g._max=null;break;case\"+\":g._max=null}return g}if(\"?\"===t||\"*\"===t||\"+\"===t)return f(\"X\"+t);if(\"F\"===t)return new i;if(\"X\"===t)return new r;if(\"N\"===t)return new p;if(\"N:\"===t.substr(0,2)){if(y=new p,m=f(t.substr(2)),null==m||!m instanceof c)return;return y.content=m.content,y}return(a=t.match(n))?(h=t.split(\",\"),h=function(){var t,n,e;for(e=[],t=0,n=h.length;n>t;t++)u=h[t],e.push(\"X:\"===u.substr(0,2)?app.substr(0,2):u);return e}(),new e(h)):(s=t.match(l),s?(d=function(){var n,e,r,i;for(r=t.split(\",\"),i=[],n=0,e=r.length;e>n;n++)o=r[n],i.push(o);return i}(),new c(d)):void 0)},o=function(){function t(t){this.$form=t}return t.prototype.find_ac=function(){},t.prototype.show=function(){},t.prototype.hide=function(){},t.prototype._explain_rule=function(t,n,e){var r;return this.add_explanation(t,\"\"+n+\"::\"+function(){var t,n,i;for(i=[],t=0,n=e.length;n>t;t++)r=e[t],i.push(r.print());return i}().join(\" \"),e[e.length-1].description())},t.prototype._examples=function(t,n,e,r){var o,s,u,l,a;return o=e[e.length-1],null!=r&&this._explain_rule(t,n,e),o instanceof p||(u=[0,1],o._min=u[0],o._max=u[1],this._explain_rule(t,n,e),l=[0,null],o._min=l[0],o._max=l[1],this._explain_rule(t,n,e),a=[1,null],o._min=a[0],o._max=a[1],this._explain_rule(t,n,e)),o instanceof i||o instanceof p?void 0:(s=[1,1],o._min=s[0],o._max=s[1],o._inverted=!0,this._explain_rule(t,n,e))},t.prototype._leg_examples=function(t,n,e,r){var o;return null!=r||0===e.length?(r=new h(null!=r?r:\"ZZ\"),e=e.slice(),o=!0):(r=e[e.length-1],r=r instanceof p?new p(r.content):r instanceof c?new h(r.content):new i,e=e.slice(0,e.length-1)),e.push(r),this._examples(t,n,e,o)},t.prototype._conn_examples=function(t,n,i,o){var u;return null!=o||0===i.length?(o=new s(null!=o?o:\"XYZ\"),i=i.slice(),u=!0):(o=i[i.length-1],o=o instanceof r?new r:new e(o.content),i=i.slice(0,i.length-1)),i.push(o),this._examples(t,n,i,u)},t.prototype._misc_examples=function(t,n,e){var o,s,u,l,a,c;for(a=[r,p,i],c=[],u=0,l=a.length;l>u;u++)o=a[u],s=e.slice(),s.push(new o),c.push(this._explain_rule(t,n,s));return c},t.prototype.route_search=function(t,n,e,r){var i,o,s,u,l,a,c,p,_;if(this.routelang=!0,n.html(\"\"),n.append(this.$rspec_template.clone()),u=e.join(\",\"),r.length){for(i=[],a=0,p=r.length;p>a;a++)l=r[a],i.length&&null!=l&&(s=i[i.length-1],s._what()===l._what())?(s._min+=l._min,null!==s._max&&(null===l._max?s._max=null:s._max+=l._max)):null!=l&&i.push(l);for(o=[],c=0,_=i.length;_>c;c++)l=i[c],o.push(l.description());o=o.join(\", then \"),this.add_row(n,\"From <b>\"+u+\"</b> with \"+o,\"routespec\")}return r.length&&!t.val().match(new RegExp(\" $\"))?(s=r[r.length-1],s instanceof h?this._leg_examples(n,u,r):this._conn_examples(n,u,r)):(this.add_row(n,\"To pick airline with code ZZ:\",\"routespec\"),this._leg_examples(n,u,r,\"ZZ\"),this.add_row(n,\"To force a connection in airport XYZ\",\"routespec\"),this._conn_examples(n,u,r,\"XYZ\"),this.add_row(n,\"Other wildcards\",\"routespec\"),this._misc_examples(n,u,r)),this.show(n)},t.prototype.loc_search=function(t,n){var e,r,i=this;return this.routelang=!1,e=t.val(),r=\"/autocomplete?loc=\"+e+\"&d=\"+n.attr(\"id\"),t.hasClass(\"city\")&&(r+=\"&city=1\"),$.bare_ajax({type:\"GET\",url:r,cache:!0,success:function(n){return t.is(\":focus\")&&t.val()===e?i.add_rows(n.drop_id,n.loc_str,n.rows):i.hide()},error:function(){return i.hide()}}),this.held_down=!1},t.prototype.add_row=function(t,n,e){var r,i;return this.routelang?(i=$(\"<tr><td colspan='2'>\"+n+\"</td></tr>\"),t.find(\"tbody\").append(i)):(r=t.children(\"li\"),i=this.$row_template.clone(),i.html(n),t.append(i)),null!=e?i.addClass(e):void 0},t.prototype.add_explanation=function(t,n,e){var r;return this.routelang?(r=$(\"<tr><th>\"+n+\"</th><td>\"+e+\"</td></tr>\"),t.find(\"tbody\").append(r),r.addClass(\"ac-row\")):void 0},t.prototype.add_rows=function(t,n,e){var r,i,o,s;if(r=$(\"#\"+t),0===e.length)return this.hide(),void 0;for(r.html(\"\"),o=0,s=e.length;s>o;o++)i=e[o],this.add_row(r,$.hipmunk.utils.bold_search(n,i));return e.length>0?this.show(r):this.hide()},t.prototype.down=function(t){var n,e,r,i,o,s,u,l;if(e=$(t.currentTarget),n=this.find_ac(e),r=this.routelang?n.find(\"tr.ac-row\"):n.children(\"li\"),38===t.keyCode||40===t.keyCode){if(!n.is(\":visible\"))return;return o=38===t.keyCode&&\"up\"||\"down\",i=r.filter(\".selected:first\"),s=r.first(),u=r.last(),l=null,l=\"down\"===o?i.length?i.get(0)===u.get(0)?null:i.nextAll(\".ac-row:first\"):s:i.length?i.get(0)===s.get(0)?null:i.prevAll(\".ac-row:first\"):u,l?(l.selectButton(),this.routelang?e.val(l.children(\"th\").text()):e.val(l.text())):(i.removeClass(\"selected\"),e.val(e.data(\"orig_loc\"))),!1}13===t.keyCode&&n.is(\":visible\")&&r.filter(\".selected\").size()>0&&(this.hide(),t.preventDefault())},t.prototype.up=function(t){var n,e,r,i,o,s,u,l,a,c,h,p,d,m,g;if(e=$(t.currentTarget),n=this.find_ac(e),o=e.data(\"orig_loc\"),r=e.val(),i=window.old_loc||\"\",window.old_loc=r,\"\"===r||!e.is(\":visible\"))return this.hide();if(38===t.keyCode||40===t.keyCode||9===t.keyCode);else{if(27===t.keyCode&&o)return e.val(o),this.hide();if(r!==i){if(e.data(\"orig_loc\",r),r.indexOf(\"::\")>=0){if(e.hasClass(\"routelang\")&&(m=r.split(\"::\"),s=m[0],a=2<=m.length?j.call(m,1):[],a=$.trim(a.join(\"::\").toUpperCase()),s=$.trim(s.toUpperCase()),s.match(_))){for(u=s.split(\",\"),h=[],g=a.split(new RegExp(\" +\")),p=0,d=g.length;d>p;p++)l=g[p],l&&(c=f(l))&&h.push(c);return this.route_search(e,n,u,h),void 0}return this.hide()}return this.loc_search(e,n)}}},t.prototype.blur=function(t){var n,e;return e=$(t.currentTarget),n=this.find_ac(e),this.held_down?void 0:this.hide()},t}(),hm[\"export\"]({widgets:{AutocompleteBase:o}})}.call(this);\n!function(){var t,o,r=function(t,o){return function(){return t.apply(o,arguments)}},e={}.hasOwnProperty,n=function(t,o){function r(){this.constructor=t}for(var n in o)e.call(o,n)&&(t[n]=o[n]);return r.prototype=o.prototype,t.prototype=new r,t.__super__=o.prototype,t};o=hm.widgets.AutocompleteBase,t=function(t){function o(t){var o=this;this.$form=t,this._signal_closed=r(this._signal_closed,this),this.on_hide=$.Callbacks(),this.$row_template=$(\".ac-row.stub:first\").clone(),this.$row_template.removeClass(\"stub\"),this.$rspec_template=$(\".ac-table.stub:first\").clone(),this.$rspec_template.removeClass(\"stub\"),this.$mouse_row=[0],this.$container=$.make_container(),this.$form.on(\"keyup\",\"input.autocomplete\",function(t){return o.up(t)}).on(\"keydown\",\"input.autocomplete\",function(t){return o.down(t)}).on(\"blur\",\"input.autocomplete\",function(t){return o.blur(t)}),this.$container.on(\"mouseover\",\"li.ac-row, tr.ac-row\",function(t){return o.row_over(t)}).on(\"mouseup\",\"li.ac-row, tr.ac-row\",function(t){return o.row_up(t)}).on(\"mousedown\",\"li.ac-row, tr.ac-row\",function(t){return o.row_down(t)})}return n(o,t),o.prototype.find_ac=function(t){var o;return o=t.cdata(\"ac_id\"),$(\"#\"+o)},o.prototype.show=function(t){return t.is(\":visible\")?void 0:$.show_dropdown(t,this.$container,this._signal_closed)},o.prototype.hide=function(){return $.close_dropdowns()},o.prototype._signal_closed=function(){return this.on_hide.fire()},o.prototype.row_over=function(t){var o;return o=$(t.currentTarget),o.selectButton()},o.prototype.row_down=function(t){var o,r;return this.held_down=!0,r=$(t.currentTarget),o=r.parent(),this.$mouse_row=r,t.stopPropagation()},o.prototype.row_up=function(t){var o,r,e;return this.held_down=!1,e=$(t.currentTarget),o=e.parents(\"ul:first\"),r=o.data(\"old_parent\").closest(\".input-row\").find(\"input.autocomplete\"),this.$mouse_row.get(0)===e.get(0)?(this.routelang?r.val(e.children(\"th\").text()):r.val(e.text()),this.hide()):void 0},o}(o),hm[\"export\"]({widgets:{Autocomplete:t}})}.call(this);\n!function(){var a;a=function(a,n,t){var e,l,i,r,o,f,h,c,s,_,d,m,u,g,p,x,k,v,M,b,D,$;if(h=t.kind,s=t.locations,i=t.dates,u=t.range,m=t.pax,e=t.cabin,g=t.rooms,o=t.infants_lap,f=t.infants_seat,l=t.children,p=t.seniors,v=t.tab_kind,c=t.kind_suffix,k=function(n,t){a.find(\"[name='\"+n+\"']\").val(t)},x=function(a,n){var t,e;n&&(e=n.replace(/([A-Za-z])(\\d+)/,\"$1 $2\"),t=Date.parse(e),(!t||t<Date.today())&&(n=\"\"),n&&n!==e&&(n=e)),k(a,n)},/^hotel/.test(h))k(\"where\",s[0]),x(\"check_in\",i[0]),x(\"check_out\",i[1]),k(\"hotel_pax\",m),k(\"rooms\",g);else{for(_=\"multi\"===h?n(i.legnth):2,d=Math.min(Math.max(i.length,s.length),_),r=M=0,D=Math.max(1,d);D>=0?D>M:M>D;r=D>=0?++M:--M)k(\"from\"+r,s[2*r]),k(\"to\"+r,s[2*r+1]),\"calendar\"!==h&&x(\"date\"+r,i[r]);for(r=b=$=Math.max(d,1);_>=$?_>b:b>_;r=_>=$?++b:--b)k(\"from\"+r),k(\"to\"+r),\"calendar\"!==h&&x(\"date\"+r);k(\"flight_pax\",m),k(\"flight_infant_lap\",null!=o?o:0),k(\"flight_infant_seat\",null!=f?f:0),k(\"flight_children\",null!=l?l:0),k(\"flight_seniors\",null!=p?p:0),k(\"cabin\",e.replace(\"+\",\" \")),\"calendar\"!==h&&k(\"nights\",u)}},hm[\"export\"]({searchform_utils:{prefill_form:a}})}.call(this);\n!function(){var t,e,n,i,r,o,s,a,h,u,l,c,d,p,f,m,g,v,k,b,x,w,y,C,T,M,P,S,D,z,A=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},F={}.hasOwnProperty,q=function(t,e){function n(){this.constructor=t}for(var i in e)F.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},O=[].slice,j=function(t,e){return function(){return t.apply(e,arguments)}};for(S=hm.widgets,n=S.Calendar,h=S.InlineCalendar,t=S.Autocomplete,x=hm.utils.parse_int,w=hm.searchform_utils.prefill_form,o=2,s=11,a=2,p=function(t,e){return\"\"+t+\"_\"+e},e={},e[p(o,s)]=drykup.render($.templates.render_datepicker({num_cals:o,months:s})),window.get_cal_html=function(t,n){var i,r;return null==t&&(t=2),null==n&&(n=11),i=p(t,n),A.call(e,i)>=0?e[i]:(r=drykup.render($.templates.render_datepicker({num_cals:t,months:n})),e[i]=r,r)},m=function(t){var e;return e=t.data(\"date_delta\"),null!=e?x(e):a},window.init_search_form=function(t,e,n,i){var r;return r=$(\"#\"+t),r.length>0?new c(r,e,n,i):void 0},window.to_date_text=function(t,e){return null==e&&(e=\" \"),t.toString(\"MMM\")+e+t.toString(\"d\")},k=[[\"to0\",\"where\"],[\"date0\",\"check_in\"],[\"date1\",\"check_out\"]],g={},C=0,M=k.length;M>C;C++)D=k[C],b=D[0],y=D[1],g[b]=y;for(v={},T=0,P=k.length;P>T;T++)z=k[T],b=z[0],y=z[1],v[y]=b;f=function(t,e){return e.indexOf(\"::\")&&!t.hasClass(\"routelang\")?e.split(\"::\")[0]:e},window.select_form=function(t){var e,n,i,r,o,s;n=t.kind,s=t.tab_kind,i=t.kind_suffix,e=$.hipmunk[\"searchform_\"+n],o=$.hipmunk.cur_form.kind,toggle_form(n),w(e.$this,function(t){return e.ensure_rows(t)},t),e.refresh_custom_control_display(),r=o!==n,r&&$.hipmunk.frontpage.shrink_both_forms(),$.hipmunk.frontpage.expand_form(n,{tab_kind:s,kind_suffix:i,prepatory:r})},window.toggle_form=function(t,e){var n,i,r,o,s;null==e&&(e=t),$.hipmunk.utils.track(\"change_form\",\"Front\",{form_type:t}),$.close_popups(),i=$.hipmunk.cur_form,null!=i&&(o={},r=$.hipmunk[\"searchform_\"+e],n=r.$this,/^hotel/.test(t)||n.closestAll(\".search-form-wrapper\").hide(),$.hipmunk.cur_form=r,r.select_tab(),\"calendar\"!==t&&i.$this.find(\"input,select\").each(function(){var e,s,a,h,u,l,c,d,_,p,m;if(a=$(this),d=a.cdata(\"field\"),_=a.val(),\"nights\"===d)return _===x(parse_flex(_)[0])&&(\"hotel\"===t?(s=r.$get_input(\"check_out\"),h=date_parse(o.check_in)):(s=r.$get_input(\"date1\"),h=date_parse(o.date0)),h)?(h.add(_).days(),s.val(to_date_text(h)),void 0):\"hotel\"===t?r.reset_input_by_tag(\"check_out\"):r.reset_input_by_tag(\"date1\");if(\"\"===_)d&&(r.reset_input_by_tag(d),\"date1\"===d&&\"calendar\"===t&&r.reset_input_by_tag(\"nights\"));else if(d)return\"hotel\"===t?(d=null!=(p=g[d])?p:d,(\"check_in\"===d||\"check_out\"===d)&&(_=parse_flex(_)[0])):d=null!=(m=v[d])?m:d,\"calendar\"===t&&((\"date0\"===d||\"date1\"===d)&&(_=parse_flex(_)[0]),\"date1\"===d&&null!=o.date0&&(h=date_parse(o.date0),u=date_parse(_),l=(u-h)/864e5,l=Math.round(l),s=n.find(\".field-nights\"),s.val(format_flex(l+\"\",[-2,2])))),e=i.$this.find(\"input.tag-date1\"),\"multi\"===t&&(c=!1,\"to0\"===d&&(c=\"from1\"),\"from0\"===d&&(c=\"to1\"),c&&(s=$(\".field-\"+c),s.val(f(s,_)))),s=n.find(\".field-\"+d),s.val(f(s,_)),s.closest(\".input-row\").find(\".flexdate-button\")&&maybe_grayout_flex(s),o[d]=_}),r.show(),null!=(s=r.calendar)&&s.update_date_xs(),$.hipmunk.utils.first_show(n))},i=function(){function t(){}return t.prototype.show_next=!0,t.prototype.which_date_input=function(t){var e,n,i,r;for(n=i=0,r=this.$date_inputs.size();r>=0?r>i:i>r;n=r>=0?++i:--i)if(e=$(this.$date_inputs[n]),e.cdata(\"tag\")===t)return e},t.prototype.$next_date_input=function(t){var e,n,i,r,o,s;if(this.show_next){for(n=null,r=!1,i=o=0,s=this.$date_inputs.size();s>=0?s>o:o>s;i=s>=0?++o:--o){if(e=$(this.$date_inputs[i]),r&&e.is(\":visible\"))return e;e.cdata(\"tag\")===t&&(r=!0),\"\"!==e.val().trim()||n||(n=e)}return null!=n?n:!1}},t.prototype.$date_input=function(t){return $(this.$date_inputs[t])},t.prototype.$get_input=function(t){return this.$this.find(\".tag-\"+t)},t.prototype.get_val=function(t){var e;return e=this.$get_input(t),e.hasClass()?void 0:e.val()},t.prototype.set_val=function(t,e){var n;return n=this.$get_input(t),n.val()!==e&&(n.val(e),this.val_changed(n)),n},t.prototype.reset_input_by_tag=function(t){return this.reset_input(this.$get_input(t))},t.prototype.reset_input=function(t){return t.siblings(\"label\").length&&t.val(\"\"),t.closest(\".input-row\").find(\".flexdate-button\").length&&maybe_grayout_flex(t),this.val_changed(t),t},t.prototype.bind_calendar=function(t,e,i,r){var a;return null==e&&(e=o),null==i&&(i=s),null==r&&(r=n),this.$calendars.replaceWith(get_cal_html(e,i)),this.$calendars=t.find(\"div.calendars\"),a=new r(this,this.$calendars,e)},t.prototype.use_inline_calendar=function(t,e,n){this.$calendars=t.find(\"div.calendars\"),this.$date_inputs=t.find(\"input.date\"),this.calendar=this.bind_calendar(t,e,n,h),this.prefill_dates()},t.prototype.date_allowed=function(){return!0},t.prototype.hover_date=function(){},t.prototype.val_changed=function(){},t}(),c=function(e){function n(e,n,i,r){var o,s=this;this.$this=e,this.can_submit=!0,this.form_tag=this.$this.get(0),this.form_id=this.$this.attr(\"id\"),this.$wrapper=this.$this.parent(),this.kind=this.$this.cdata(\"form\"),this.track=r,this.support_intent_media_checkboxes=!1,this.current_intent_media_params=\"none\",this.intent_media_selected_checkboxes={},this.is_frontpage_search_form=!1,this.is_showing_intent_media_checkboxes=!1,this.support_search_both_cta=!1,$.hipmunk[\"searchform_\"+this.form_id]=this,n&&(this.ac=new t(this.$this),this.ac.on_hide.add(function(){s.refresh_intent_media_checkboxes()})),i&&(this.init_calendars(),this.prefill_dates()),this.$this.delegate(\"input.flex\",\"blur keyup\",function(t){return maybe_grayout_flex($(t.currentTarget))}).delegate(\"input:text, input:password\",\"input propertychange\",function(t){$.hipmunk.form_utils.input_change(t.currentTarget)}).delegate(\"input:text, input:password\",\"change\",function(){s.refresh_intent_media_checkboxes()}).delegate(\"div.flex-plus\",\"click\",function(t){s.flex_button(t.currentTarget,1),t.stopPropagation()}).delegate(\"div.flex-minus\",\"click\",function(t){s.flex_button(t.currentTarget,-1),t.stopPropagation()}).delegate(\"div.add-flight\",\"click\",function(){s.add_flight()}).delegate(\"div.clear-flight\",\"click\",function(t){s.clear_flight(t)}).delegate(\"button\",\"focus\",function(){return $.close_dropdowns()}).on(\"click\",\"a.frontbox__search-both-link\",function(){s.submit_form(\"search_both_cta\")}).on(\"submit\",function(t){t.preventDefault(),s.submit_form()}).on(\"click\",\"a.frontbox__checkbox-link\",function(t){var e;e=$(t.currentTarget),s.$this.find(\".frontbox__checkbox-row-checkbox-container input\").attr(\"checked\",e.hasClass(\"m-all\"))}),this.$this.find(\".input-container label\").inFieldLabels(),o=$.make_container(),this.$pax_menu=new u(this.$this.find(\".flight-menu-pax\"),o),this.$cabin_menu=new d(this.$this.find(\".menu-cabin\"),o),this.$hotel_pax_menu=new d(this.$this.find(\".menu-hotel_pax\"),o),this.$room_menu=new d(this.$this.find(\".menu-rooms\"),o),this.$pax_menu.on_change.add(function(){return s.refresh_intent_media_checkboxes()}),this.refresh_custom_control_display()}return q(n,e),n.init=function(){var t,e;return t=arguments[0],e=2<=arguments.length?O.call(arguments,1):[],t.length?function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,[t].concat(O.call(e)),function(){}):void 0},n.prototype.init_calendars=function(){return this.$calendars=this.$this.find(\"div.calendars\"),this.$date_inputs=this.$this.find(\"input.date\"),this.calendar=this.bind_calendar(this.$this,o,s)},n.prototype.show=function(){return this.$wrapper.show(),this.refresh_custom_control_display(),this.refresh_intent_media_checkboxes()},n.prototype.prefill_dates=function(){var t,e,n,i;t=5,i=new Date,e=t-i.getDay(),0>=e&&(e+=7),n=(new Date).addDays(e),this.$this.find(\"input.date\").each(function(t){var e,i;return t>1?!1:(e=$(this),e.val()?!1:(e.val(to_date_text(n)),i=m(e),n.addDays(i),void 0))})},n.prototype.refresh_custom_control_display=function(){var t,e;return null!=(t=this.calendar)&&t.fields_changed(),this.$pax_menu.update_title(),this.$cabin_menu.update_title(),this.$hotel_pax_menu.update_title(),this.$room_menu.update_title(),null!=(e=this.calendar)&&e.update_date_xs(),$(\".flexdate-button\").closest(\".input-row\").find(\"input:text\").each(function(){return maybe_grayout_flex($(this))})},n.prototype.refresh_intent_media_checkboxes=function(){var t,e,n,i,r,o,s,a,h,u=this;if(t=this.$this.find(\".frontbox__checkbox-row\"),e=t.find(\".frontbox__checkbox-row-checkbox-container\"),this.support_intent_media_checkboxes){if(\"US\"!==(null!=(a=$.hipmunk.user)?a.country:void 0))return t.removeClass(\"m-have-checkboxes\"),void 0;if(this.$this.is(\":visible\")&&$.hipmunk.intent_media_manager&&(this.is_showing_intent_media_checkboxes=!0,r=$.hipmunk.intent_media_manager.form_to_params(this.$this,this.$pax_menu),!$.hipmunk.utils.equals(r,this.current_intent_media_params))){for(this.current_intent_media_params=r,h=e.find(\"input\"),o=0,s=h.length;s>o;o++)i=h[o],n=$(i),this.intent_media_selected_checkboxes[n.data(\"provider_name\")]=i.checked;return e.empty(),r?($.hipmunk.utils.track(\"intent_media_request_checkboxes\"),$.hipmunk.intent_media_manager.request(r,function(n){var i,o,s,a;if($.hipmunk.utils.equals(u.current_intent_media_params,r)&&0!==n.length)return t.addClass(\"m-have-checkboxes\"),a=!$.browser.chrome&&!$.browser.msie,o=drykup.render($.templates.frontpage_intent_media_checkboxes(n,u.intent_media_selected_checkboxes,a)),e.html(o),s=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.ad_display_name);return r}(),$.hipmunk.utils.track(\"intent_media_shown_checkboxes\",null,{num_shown:s.length,shown_providers:s})})):void 0}}},n.prototype.open_intent_media_popups=function(){var t,e,n,i,r,o,s,a,h,u,l,c,d,_,p,f,m,g,v,k,b,x,w,y,C,T,M,P;for(e=this.$this.find(\".frontbox__checkbox-row input\"),f=[],i=[],w=[],s=\"none\",y=0,T=e.length;T>y;y++)o=e[y],t=$(o),l=t.data(\"provider_name\"),x=t.data(\"url\"),f.push(l),s=t.attr(\"type\"),t.is(\":checked\")&&(i.push(l),w.push(x));if(b={num_shown:f.length,num_checked:i.length,shown_providers:f,checked_providers:i,input_type:s},$.hipmunk.utils.track(\"intent_media_opened_popups\",null,b),0!==w.length){for(n=$(window),p=n.width(),c=n.height(),_=window.screenTop||window.screenY||0,d=window.screenLeft||window.screenX||0,u=.8*p,h=.8*c,m=40,g=d+(p-u)/2,v=_+(c-h)/2,g-=m*(w.length-1),v-=m*(w.length-1),w.reverse(),P=[],r=C=0,M=w.length;M>C;r=++C)x=w[r],k=v+r*m,a=g+r*m,k=Math.max(k,0),a=Math.max(a,0),P.push(window.open(x,\"_blank\",\"height=\"+h+\",width=\"+u+\",top=\"+k+\",left=\"+a+\",scrollbars=yes,resizable=yes\"));return P}},n.prototype.val_changed=function(){return n.__super__.val_changed.apply(this,arguments),this.refresh_intent_media_checkboxes()},n.prototype.menu_control_changed=function(){return this.refresh_intent_media_checkboxes()},n.prototype.select_tab=function(){var t;if(\"hotel\"!==this.form_id)return t=this.$this.closest(\".frontbox\"),t.find(\".small-button.form-\"+this.form_id).selectButton()},n.prototype.add_flight=function(){var t;t=this.$this.find(\".frontbox__row:not(:visible)\").first(),t.removeClass(\"m-hidden\"),0===t.nextAll(\".frontbox__row\").length&&this.$this.find(\".frontbox__add-another-row\").hide()},n.prototype.clear_flight=function(t){var e,n,i,r,o=this;i=$(t.currentTarget).closest(\".row\"),n=i.nextAll(),e=i,n.each(function(t,n){var i,r,o,s,a,h,u,l;if(o=$(n),r=o.find(\"input:visible\"),0!==r.length){for(a=_.zip(e.find(\"input\"),r),u=0,l=a.length;l>u;u++)h=a[u],s=$(h[0]),i=$(h[1]),s.val(i.val());return e=o}}),e.addClass(\"m-hidden\").find(\"input\").each(function(t,e){return o.reset_input($(e))}),this.$this.find(\".frontbox__add-another-row\").show(),null!=(r=this.calendar)&&r.fields_changed()},n.prototype.get_form_data=function(){var t,e;return t=this.$this.serializeArray(),null!=(null!=(e=$.hipmunk)?e.user:void 0)&&(t.push({name:\"country\",value:$.hipmunk.user.country}),t.push({name:\"language\",value:$.hipmunk.user.language})),t},n.prototype.flex_button=function(t,e){var n,i,r;return n=$(t),i=n.closest(\".input-row\").find(\"input\"),this.calendar.select_date(i),\"\"!==i.val()?(incr_flex_date(i,e),r=i.cdata(\"tag\"),this.calendar.mark_date(r,i.val()),maybe_grayout_flex(i),!1):void 0},n.prototype.submit_form=function(t){var e,n,i,r,o,s=this;return null==t&&(t=\"default\"),this.can_submit?(this.is_showing_intent_media_checkboxes&&this.open_intent_media_popups(),null!=(r=$.hipmunk.url)&&(r.show_detailed_hotel_tab=!1),this.support_search_both_cta&&(\"search_both_cta\"===t&&null!=(o=$.hipmunk.url)&&(o.show_detailed_hotel_tab=!0),$.hipmunk.utils.track(\"front_roundtrip_search\",null,{means:t})),n=this.get_form_data(),this.$this.find(\".haserror\").removeClass(\"haserror\"),this.$this.find(\"div.error\").html(\"\"),this.$this.find(\"div.error-status\").hide(),this.$this.find(\".no-results\").hide(),e=this.$this.find(\".status\"),e.data(\"old_text\")||e.data(\"old_text\",e.text()),e.text(\"Submitting...\"),this.$this.find(\"div.success-status\").hide(),n.push({name:\"form\",value:this.form_id}),$.ajax({url:this.form_tag.action,type:this.form_tag.method,error:function(){var t,n,i;return n=drykup.render($.templates.error_message()),t=s.$this.find(\".error-status\").html(n).fadeIn(1e3),e=s.$this.find(\".status\"),i=e.data(\"old_text\"),i?e.text(i):void 0},data:n}),this.track&&(i=this.kind,\"hotel\"!==this.kind&&(i=\"flight - \"+this.kind),adroll_event(i)),record_activity(\"search\"),!1):void 0},n.prototype.ensure_rows=function(t){var e,n,i;if(n=this.$this.find(\".js-multirow\").filter(\":visible\").length,t>n)for(e=i=n;t>=n?t>i:i>t;e=t>=n?++i:--i)this.add_flight();return t||2},n}(i),l=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.$this.data(\"success\",function(t,e){var n,i,r,o,s;return o=new UrlCodec,s=o.encode([t],e),i=s[0],n=s[1],r=i,n&&(r+=\"#!\"+n),location.href=r})}return q(e,t),e}(c),u=function(){function t(t,e){var n=this;this.$menu=t,this.$container=e,this.signal_closed=j(this.signal_closed,this),this.on_change=$.Callbacks(),this.on_close=$.Callbacks(),this.$popup=this.$menu.find(\"div.dd-popup\"),this.$menu.delegate(\"\",\"click\",function(t){$.show_dropdown(n.$popup,n.$container,n.signal_closed),t.stopPropagation()}),this.$popup.delegate(\"select\",\"change\",function(){n.handle_change()}),this.update_title()}return t.prototype.handle_change=function(){return this.$menu.closest(\".haserror\").removeClass(\"haserror\"),this.update_title(),this.on_change.fire(this)},t.prototype.signal_closed=function(){return this.on_close.fire(this)},t.prototype.update_title=function(){var t,e,n,i,r,o,s;for(t=this.$popup.find(\"select\"),e=5,r=0,n=o=0,s=e-1;s>=0?s>=o:o>=s;n=s>=0?++o:--o)r+=+$(t[n]).val();return i=1===r?\"1 person\":\"\"+r+\" people\",this.$menu.find(\".button-text\").text(i)},t.prototype.form_data=function(){var t;return t={},this.$popup.find(\"select\").each(function(){var e;return e=+$(this).val(),e?t[$(this).cdata(\"field\")]=e:void 0}),t},t}(),d=function(){function t(t,e){var n=this;this.$menu=t,this.$container=e,this.$popup=this.$menu.find(\"div.dd-popup\"),this.on_select=$.Callbacks(),this.$menu.delegate(\"\",\"click\",function(t){$.show_dropdown(n.$popup,n.$container),t.stopPropagation()}),this.$popup.delegate(\"div.dd-option\",\"click\",function(t){n.click_option($(t.currentTarget)),t.stopPropagation()}),this.update_title()}return t.prototype.click_option=function(t){return this.set_selected(t.attr(\"value\")),$.close_dropdowns(),this.on_select.fire(this)},t.prototype.set_selected=function(t){return this.$popup.find(\"input\").val(t),this.update_title()},t.prototype.update_title=function(){var t,e;return e=this.value(),t=this.$popup.find('div.dd-option[value=\"'+e+'\"]'),this.$menu.find(\".button-text\").text(t.find(\".name\").text()),t.selectButton(\"div.dd-option\")},t.prototype.value=function(){return this.$popup.find(\"input\").val()},t}(),r=function(){function t(t){var e,n,i,r,o,s,a;for(this.$el=t.$el,i=t.use_autocomplete,r=t.use_calendar,n=t.track,this.update=j(this.update,this),this.$forms=this.$el.find(\".form-flight, .form-hotel\"),a=this.$forms,o=0,s=a.length;s>o;o++)e=a[o],l.init($(e),i,r,n);this.search_menu=new d(this.$el.find(\".wide-combo-search-header__toggle\"),$.make_container()),this.search_menu.on_select.add(this.update),this.update()}return t.prototype.update=function(){var t;return this.$forms.hide(),t=this.search_menu.value(),$(\".form-\"+t).show()},t.init=function(t){return t.$el.length?new this(t):void 0},t}(),hm[\"export\"]({widgets:{CalendarEnabled:i,SearchForm:c,RedirectingSearchForm:l,PassengersMenu:u,ComboSearchForm:r}})}.call(this);\n!function(){var t,e,i;t=90,e=91,i=92,window.IntentMediaManager=function(){function t(t){this.production=null!=t?t:!1}return t.prototype._production_url=\"http://a.intentmedia.net/api/aft/flights/v1/impressions\",t.prototype._test_url=\"http://alpha.intentmedia.net/api/aft/flights/v1/impressions\",t.prototype.form_to_params=function(t,e){var i,n,a,r,o;return(a=this._validate_locations(t))?(n=this._validate_dates(t),n.length?(i=\"yyyyMMdd\",r={page_id:t.attr(\"id\"),flight_origin:a[0],flight_destination:a[1],travel_date_start:n[0].toString(i)},1===n.length?(r.trip_type=\"one_way\",r.travel_date_end=n[0].toString(i)):(r.trip_type=\"round_trip\",r.travel_date_end=n[1].toString(i)),o=this._validate_pax(e),$.extend(r,o),r):null):null},t.prototype._validate_locations=function(t){var e,i,n,a,r,o,s,l;for(e=t.find(\"input.autocomplete\"),i=[],s=0,l=e.length;l>s;s++){if(n=e[s],o=new RegExp(\"^([A-Za-z]{3})\\\\b\"),r=o.exec($(n).val()),a=null!=r?r[0]:void 0,!a)return null;i.push(a)}return i},t.prototype._validate_dates=function(t){var e,i,n,a,r,o;for(e=t.find(\"input.date\"),i=[],r=0,o=e.length;o>r&&(n=e[r],a=Date.parse($(n).val()),a);r++)a=this._choose_year(a),i.push(a);return i},t.prototype._choose_year=function(t){var e;return e=new Date,e.setHours(0),e.setMinutes(0),e.setSeconds(0),e.setMilliseconds(0),t.getTime()<e.getTime()&&t.setFullYear(t.getFullYear()+1),t},t.prototype._validate_pax=function(t){var e,i,n,a;e=t.form_data(),a=0;for(i in e)n=e[i],a+=n;return{travelers:a,adults:e.flight_pax||0,children:e.flight_children||0}},t.prototype.request=function(t,e){var n,a;return n={ad_unit_id:i,visitor_id:this.visitor_id,timestamp:(new Date).getTime()},t=$.extend({},n,t),a=this.production?this._production_url:this._test_url,$.ajax({url:a,dataType:\"jsonp\",data:t,success:function(t){return e(t.ads)}})},t}()}.call(this);\n!function(){var t=function(t,s){return function(){return t.apply(s,arguments)}};window.BasicForm=function(){function s(s,i,n){this.$el=s,null==i&&(i=this.$el.submit),null==n&&(n=!0),this.toggle_submit_state=t(this.toggle_submit_state,this),this._submit_handler=t(this._submit_handler,this),this._setup_handlers=t(this._setup_handlers,this),this.can_submit=!0,this.submit_fn=i,this._setup_handlers()}return s.prototype._setup_handlers=function(){return this.$el.on(\"submit\",this._submit_handler)},s.prototype._submit_handler=function(t){return t.preventDefault(),this.can_submit?(this.toggle_submit_state(!0),this.submit_fn(t)):void 0},s.prototype.toggle_submit_state=function(t){return this.button=this.$el.find(\".submit\"),this.can_submit=!t,t?(this.button.text(this.button.data(\"loading\")),$.hipmunk.utils.animate_ellipses(this.button)):($.hipmunk.utils.animate_ellipses(this.button,!1),this.button.text(this.button.data(\"default\"))),this.button.css({\"pointer-events\":t?\"none\":\"auto\",cursor:t?\"default\":\"pointer\"})},s}(),$.hipmunk.form_utils={input_change:function(t){var s;return s=$(t).closest(\".haserror\"),s.removeClass(\"haserror\")}}}.call(this);\n!function(e){e(function(){e.focused_field=null,e(document.body).on(\"focus\",\"input\",function(n){e.focused_field=n.currentTarget}),e(document.body).on(\"blur\",\"input\",function(){e.focused_field=null})}),e.InFieldLabels=function(n,i){var l=this;l.$label=e(n),l.label=n,l.$field=e(i),l.field=i,l.$label.data(\"InFieldLabels\",l),l.$field.data(\"InFieldLabels\",l),l.showing=!0,l.$label.bind(\"mousedown\",function(n){e.focused_field&&e(e.focused_field).blur(),l.$field.focus(),n.preventDefault()}),l.init=function(){\"\"!==l.$field.val()?l.hide():(l.prepForShow(),l.show()),l.$field.focus(function(){l.fadeOnFocus()}).blur(function(){l.checkForEmpty(),l.$label.removeClass(\"label-faded\")}).bind(\"paste\",function(){l.hide()})},l.fadeOnFocus=function(){l.showing&&l.fade()},l.fade=function(){l.$label.addClass(\"label-faded\")},l.show=function(){l.showing=!0,l.$label.show()},l.hide=function(){l.showing=!1,l.$label.removeClass(\"label-faded\"),l.$label.hide()},l.checkForEmpty=function(){\"\"===l.$field.val()?(l.prepForShow(),l.show()):l.hide()},l.prepForShow=function(){l.$field.bind(\"keydown.infieldlabel\",function(e){l.hideOnChange(e)})},l.hideOnChange=function(e){16!==e.keyCode&&9!==e.keyCode&&(l.showing&&(l.$label.hide(),l.showing=!1),l.$field.unbind(\"keydown.infieldlabel\"))},l.init()},e.fn.inFieldLabels=function(){return this.each(function(){if(!e(this).data(\"InFieldLabels\")){var n,i=e(this).attr(\"for\");i&&(n=e(\"input#\"+i+\"[type='text'],\"+\"input#\"+i+\"[type='search'],\"+\"input#\"+i+\"[type='tel'],\"+\"input#\"+i+\"[type='url'],\"+\"input#\"+i+\"[type='email'],\"+\"input#\"+i+\"[type='password'],\"+\"textarea#\"+i),0!==n.length&&new e.InFieldLabels(this,n[0]))}})};var n=e.fn.val;e.fn.val=function(){return returnValue=n.apply(this,arguments),arguments.length&&this.each(function(){e(this).data(\"InFieldLabels\")&&e(this).data(\"InFieldLabels\").checkForEmpty()}),returnValue}}(jQuery);\n!function(){var n,M,r,N;for(window.MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"Jun\",\"Jul\",\"Aug\",\"Sep\",\"Oct\",\"Nov\",\"Dec\"],window.rMONTHS={},n=r=0,N=MONTHS.length;N>r;n=++r)M=MONTHS[n],rMONTHS[M]=n}.call(this);\n!function(){var t,e,s,a,i,n,r,o,l,h=function(t,e){return function(){return t.apply(e,arguments)}},d=[].indexOf||function(t){for(var e=0,s=this.length;s>e;e++)if(e in this&&this[e]===t)return e;return-1},_={}.hasOwnProperty,u=function(t,e){function s(){this.constructor=t}for(var a in e)_.call(e,a)&&(t[a]=e[a]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};s=425,e=10,o=Date.now().getFullYear()+1,l=hm.utils.parse_int,window.date_parse=function(t){var e;return e=Date.parse(t),!e||e<Date.today()?Date.parse(t+\" \"+o):e},n=/^([^+\\-]+)(\\s*[+\\-][\\s+\\-\\d]+)/,window.format_flex=function(t,e){var s,a,i;return a=e[0],s=e[1],i=[],(a||s)&&(a===-s?i.push(\"+- \"+s):(0>a&&i.push(\"\"+a),s>0&&i.push(\"+\"+s))),t.replace(/\\s+$/,\"\")+\" \"+i.join(\" \")},i=function(t,e){var s,a,i,n,o,l,h,d,_,u,c,p,f;return _=parse_flex(t.val()),s=_[0],u=_[1],i=u[0],a=u[1],c=r(t),l=c[0],o=c[1],d=t.hasClass(\"flex-symmetric\"),d?(i!==-a&&(0>e?a=-i:i=-a),a+e>=0&&(i-=e,a+=e)):(!d&&i&&a&&(0>e?a=0:i=0),i?(i+=e,i>0&&(p=[0,i],i=p[0],a=p[1])):(a+=e,0>a&&(f=[a,0],i=f[0],a=f[1]))),h=function(){var t,e,s,r;for(s=[i,a],r=[],t=0,e=s.length;e>t;t++)n=s[t],l>n?r.push(l):n>o?r.push(o):r.push(n);return r}(),[s,h]},window.incr_flex_date=function(t,e){var s,a,n;return n=i(t,e),s=n[0],a=n[1],t.val(format_flex(s,a))},window.parse_flex=function(t){var e,s,a,i,r,o,h,d,_,u,c,p;if(r=n.exec(t),h=0,i=0,t=r?r[1]:t,null!=r&&null!=r[2])for(s=r[2].replace(/\\s/g,\"\").replace(/(\\d+)/g,\"$1 \"),c=s.split(\" \"),_=0,u=c.length;u>_;_++){e=c[_];try{p=/^([+-]+)(\\d+)$/.exec(e),a=p[0],d=p[1],o=p[2],o=l(o),\"+\"===d?h=o:\"-\"===d?i=-o:(\"+-\"===d||\"-+\"===d)&&(h=o,i=-o)}catch(f){}}return[null!=t?t.replace(/\\s+$/,\"\"):void 0,[i,h]]},window.parse_date_flexdays=function(t){var e,s,a;return a=parse_flex(t),e=a[0],s=a[1],e=date_parse(e),[e,s]},r=function(t,e,s){var a,i,n,r;return null==e&&(e=-2),null==s&&(s=2),i=t.data(\"flex-range\"),null==i&&(a=t.closest(\".input-row\").find(\".range\"),r=l(a.find(\"*[name=flex-min]\").val()||e),n=l(a.find(\"*[name=flex-max]\").val()||s),t.data({\"flex-range\":i=[r,n]})),i},window.maybe_grayout_flex=function(t){var e,s,a,i,n,o,l;return o=r(t),i=o[0],a=o[1],\"\"===t.val()?t.closest(\".input-row\").find(\"div.flexdate-button\").addClass(\"grayout\"):(n=t.hasClass(\"flex-symmetric\"),l=parse_flex(t.val()),e=l[0],s=l[1],n?t.closest(\".input-row\").find(\"div.flex-minus\").toggleClass(\"grayout\",0===s[1]):t.closest(\".input-row\").find(\"div.flex-minus\").toggleClass(\"grayout\",s[0]<=i),t.closest(\".input-row\").find(\"div.flex-plus\").toggleClass(\"grayout\",s[1]>=a))},t=function(){function t(t,e,s){var a,i,n,r,o,l,d,_,u=this;this.form=t,this.$cals=e,null==s&&(s=2),this.toggle_month=h(this.toggle_month,this),this.set_closed_listener=h(this.set_closed_listener,this),this.set_opened_listener=h(this.set_opened_listener,this),this.signal_closed=h(this.signal_closed,this),this.signal_opened=h(this.signal_opened,this),this.num_show=s,this.prevent_date_event=0,this.opened_listener=$.Callbacks(),this.closed_listener=$.Callbacks(),this.calendar_search=\"calendar\"===this.form.kind,this.can_do_flex=!this.calendar_search&&\"hotel\"!==this.form.kind,this.$dates=null!=(r=this.form.$this)?r.find(\"input.date\"):void 0,this.$cal_icons=null!=(o=this.form.$this)?o.find(\".icon.calendar-icon\"):void 0,this.$cals.delegate(\"div.day\",\"mouseover\",function(t){return u.day_in(t.currentTarget)}).delegate(\"div.day\",\"mouseout\",function(t){return u.day_out(t.currentTarget)}).on(\"click\",\"div.day\",function(t){return u.clicked_date(t.currentTarget)}).delegate(\"div.prev\",\"click\",function(){return u.show_prev()}).delegate(\"div.next\",\"click\",function(){return u.show_next()}).mouseenter(function(t){return u.cal_in(t.currentTarget)}).mouseleave(function(t){return u.cal_out(t.currentTarget)}),null!=(l=this.form.$this)&&l.delegate(\"input.date\",\"focus click\",function(t){t.stopPropagation(),u.select_date(t.currentTarget)}).delegate(\"input.date\",\"blur\",function(t){return u.unselect_date(t.currentTarget)}).delegate(\"input.date\",\"keyup\",function(t){return u.typed_date(t.currentTarget)}).delegate(\"input.field-nights\",\"blur, keyup\",function(){return u.flexcal()}).delegate(\"button.submit\",\"mousedown\",function(){return!1}).on(\"click\",function(){return u.close_date_picker()}),null!=(d=this.$cal_icons)&&d.on(\"click\",function(t){return u.cal_clicked(t)}),this.$calendars=this.$cals.find(\"div.calendar\"),this.$date_picker_popup=null!=(_=this.form.$this)?_.find(\".date-picker\"):void 0,this.$container=$.make_container(),n=Date.today(),this.months=[],this.$calendars.each(function(t,e){var s,a,i;return s=$(e),a={},s.find(\"div.day\").each(function(t,e){var s,i;return s=$(e),i=u.day_to_date(s),null==u.first_month&&(u.first_month=i.getMonth()),n.equals(i)&&s.addClass(\"today\"),e={date:i,tag:s.cdata(\"day\"),n:u.date_to_n(i),\"this\":e,$this:s,visible:s.is(\":visible\")},a[i.getDate()]=e}),i={num:u.months.length,\"this\":e,$this:s,days:a,visible:u.months.length<2},u.months.push(i)}),this.date_input_tag=this.form.$date_input(0).cdata(\"tag\"),a=this.get_cal_month(),this.show_cal(function(){var t,e,s;for(s=[],i=t=1,e=this.num_show;e>=1?e>=t:t>=e;i=e>=1?++t:--t)s.push(a+i-1);return s}.call(this)),this.set_cal_arrows(),this.sel_dates={},this.$sel_days={},this.fields_changed(),this.request_grayout()}return t.prototype.first_vis_cal_class=\"\",t.prototype.second_vis_cal_calss=\"\",t.prototype.month_index=function(t){var e;return e=(t.getMonth()-this.first_month)%12,0>e?e+12:e},t.prototype.date_to_n=function(t){return t?1e3*this.month_index(t)+t.getDate():void 0},t.prototype.day_to_date=function(t){var e,s,a,i,n;return s=t.cdata(\"day\"),n=l(t.cdata(\"year\")),i=s.split(\"_\"),e=l(i[1],10),a=rMONTHS[i[0]],new Date(n,a,e)},t.prototype.date_to_day=function(t){var e,s;return t?(e=this.month_index(t),null!=(s=this.months[e])?s.days[t.getDate()]:void 0):void 0},t.prototype.date_to_month=function(t){return t?this.months[this.month_index(t)]:void 0},t.prototype.on_cls=function(t,e,s){return t?e.addClass(s):e.removeClass(s)},t.prototype.clear=function(){var t,e,s;this.date_input_tag=this.form.$date_input(0).cdata(\"tag\"),s=this.sel_dates;for(e in s)t=s[e],this.clear_date(e);return this.request_grayout()},t.prototype.fields_changed=function(){var t,e=this;return t=$(this.form.$date_inputs.get().reverse()),t.each(function(t,s){return e.typed_date(s)})},t.prototype.clean_date_picker_popup_data=function(){return this.$date_picker_popup.css({left:\"\",top:\"\",width:\"\"}).removeData(\"old_left old_top\")},t.prototype.show_date_picker=function(){var t,a,i,n,r;this.focused_date&&null!=this.$date_picker_popup&&(this.close_date_picker(),t=$(this.focused_date),a=t.closest(\".input-container\"),a.is(\":visible\")&&(a.append(this.$date_picker_popup),this.clean_date_picker_popup_data(),this.$date_picker_popup.toggleClass(\"haserror\",a.closest(\".full-row\").hasClass(\"haserror\")),n=t.offset().left,i=n+s,r=$(window).width(),i>=r&&this.$date_picker_popup.css(\"left\",r-i-e),$.show_dropdown(this.$date_picker_popup,this.$container,this.signal_closed),this.signal_opened()))},t.prototype.close_date_picker=function(){this.cal_highlight_label(),this.update_date_xs(),null!=this.$date_picker_popup&&$.close_dropdowns()},t.prototype.signal_opened=function(){this.opened_listener.fire(this.$date_picker_popup)},t.prototype.signal_closed=function(){this.cal_highlight_label(),this.closed_listener.fire(this.$date_picker_popup)},t.prototype.set_opened_listener=function(t){return this.opened_listener.add(t),this},t.prototype.set_closed_listener=function(t){return this.closed_listener.add(t),this},t.prototype.select_date=function(t){var e;return this.prevent_date_event>0?(this.prevent_date_event-=1,void 0):(this.focused_date=t,e=$(t),this.show_date_picker(),this.date_input_tag=$(t).cdata(\"tag\"),this.cal_highlight_label(),this.update_date_xs())},t.prototype.unselect_date=function(t){return this.focused_date=!1,this.cal_highlight_label(),this.try_cal_default(t),this.update_date_xs()},t.prototype.cal_clicked=function(t){var e;e=$(t.currentTarget),e.hasClass(\"x\")?this.rm_date(e.cdata(\"tag\")):e.parent().find(\"input\").select(),this.update_date_xs(),t.stopPropagation()},t.prototype.try_cal_default=function(t){var e,s,a,i,n;return e=$(t),this.calendar_search&&\"date0\"===e.attr(\"name\")?(n=!1,e.val()&&(i=this.form.$date_input(1),a=parse_date_flexdays(e.val())[0],(null!=a?a.add(30).days():void 0)&&(s=this.date_to_day(a),s&&(this.date_input_tag=\"date1\",this.clicked_date(s.$this),n=!0))),n||this.rm_date(\"date1\"),this.date_input_tag=e.cdata(\"tag\")):void 0},t.prototype.request_grayout=function(){var t,e=this;for(t in this.sel_dates)this.$cals.removeClass(t);return this.$cals.addClass(this.date_input_tag),this.grayout_requested?void 0:(this.grayout_requested=!0,set_timeout(0,function(){return e.grayout_requested=!1,e.grayout()}))},t.prototype.grayout=function(){var t,e,s,a,i,n,r;for(n=this.months,r=[],a=0,i=n.length;i>a;a++)s=n[a],s.visible?r.push(function(){var a,i;for(i=[],t=a=0;31>=a;t=++a)e=s.days[t],null!=e?i.push(this.grayout_day(e)):i.push(void 0);return i}.call(this)):r.push(void 0);return r},t.prototype.grayout_day=function(t){var e,s,a,i,n,r,o,h,d,_,u,c,p;a=function(t,e){var s,a;return a=[t.slice(0,4),l(t.slice(4,t.length))],t=a[0],s=a[1],[t+(s+e),s]},this.form.date_allowed(this.date_input_tag,t.date)?t.$this.removeClass(\"disabled-\"+this.date_input_tag):t.$this.addClass(\"disabled-\"+this.date_input_tag),u=this.sel_dates;for(n in u)d=u[n],r=null!=d?d.n:void 0,c=a(n,1),_=c[0],i=c[1],o=null!=(p=this.sel_dates[_])?p.n:void 0,null!=r&&t.n>r&&null!=o&&t.n<o?t.$this.addClass(\"trip\"+i):t.$this.removeClass(\"trip\"+i),e=t.$this.attr(\"class\"),t.$this.toggleClass(\"trip\",null!=e.match(/trip\\d/));return this.date_input_tag?(s=!1,\"date0\"===this.date_input_tag?s=this.sel_dates.date1&&t.n>this.sel_dates.date1.n:(h=a(this.date_input_tag,-1)[0],s=this.sel_dates[h]&&t.n<this.sel_dates[h].n),s?t.$this.addClass(\"nopick\"):t.$this.removeClass(\"nopick\")):void 0},t.prototype.overlap_cls=function(t,e){var s,a,i,n,r,o;for(n=function(){var t;t=[];for(a in this.sel_dates)t.push(a);return t}.call(this),n.sort(),s=\"\",r=0,o=n.length;o>r;r++)i=n[r],(t.hasClass(i)||i===e)&&(s+=\"-\"+i);return s&&s!==\"-\"+e?\"overlap\"+s:e},t.prototype.simulate_click=function(t,e){var s;return s=this.date_to_day(e),this.clicked_date(s.$this,t,!0)},t.prototype.simulate_hover=function(t,e){var s,a;return a=this.date_to_day(e),s=this.month_index(e),this.show_cal([s]),this.day_in(a.$this,t)},t.prototype.clear_hover=function(){return null!=this.current_hover?this.day_out(this.current_hover):void 0},t.prototype.day_in=function(t,e){var s;return null==e&&(e=this.date_input_tag),this.clear_hover(e),this.current_hover=t,s=$(t),s.hasClass(\"disabled-\"+e)?void 0:(s.addClass(e+\" date-hover\"),this.form.hover_date(this.day_to_date(s),e))},t.prototype.day_out=function(t){var e,s,a,i,n,r,o,l;for(this.current_hover=null,e=$(t),e.removeClass(\"date-hover\"),a=e.cdata(\"day\")+\"_\"+e.cdata(\"year\"),i=this.$sel_days[a],o=e.attr(\"class\").split(\" \"),l=[],n=0,r=o.length;r>n;n++)s=o[n],s.match(/^date\\d+/)&&null==(null!=i?i[s]:void 0)?l.push(e.removeClass(s)):l.push(void 0);return l},t.prototype.update_date_xs=function(){var t=this;if(this.$dates)return this.$dates.each(function(e,s){var a;return a=$(s),t.$cal_icons.filter(\".tag-\"+a.cdata(\"tag\")).toggleClass(\"x\",\"\"!==a.val())})},t.prototype.cal_highlight_label=function(){var t,e;return $(\"div.full-row\").removeClass(\"date0-highlight\").removeClass(\"date1-highlight\").removeClass(\"date2-highlight\").removeClass(\"date3-highlight\").removeClass(\"date4-highlight\").removeClass(\"date5-highlight\"),this.date_input_tag&&(null!=(t=this.$date_picker_popup)?\"function\"==typeof t.is?t.is(\":visible\"):void 0:void 0)&&null!=(e=this.form.$this)&&e.find(\".highlight-\"+this.date_input_tag).addClass(this.date_input_tag+\"-highlight\"),this.request_grayout()},t.prototype.cal_in=function(){return this.cal_highlight_label()},t.prototype.cal_out=function(){return this.cal_highlight_label()},t.prototype.rm_date=function(t){var e;return this.clear_date(t),e=this.form.reset_input_by_tag(t),maybe_grayout_flex(e)},t.prototype.clicked_date=function(t,e,s){var a,i,n,r,o,l,h;this.show_date_picker(),this.update_date_xs(),null==e&&(e=this.date_input_tag),a=$(t),null==s&&a.hasClass(\"disabled-\"+e)||(o=a.cdata(\"day\").replace(\"_\",\" \"),r=this.day_to_date(a),i=this.form.set_val(e,o,r),i.closest(\".full-row\").removeClass(\"haserror\"),this.mark_date(e,o),maybe_grayout_flex(i),l=this.sel_dates,h=e,\"date0\"===h&&l.date0?(l.date1&&l.date0.n>l.date1.n&&this.rm_date(\"date1\"),l.date2&&l.date0.n>l.date2.n&&this.rm_date(\"date2\")):\"date1\"===h&&l.date1?(l.date2&&l.date1.n>l.date2.n&&this.rm_date(\"date2\"),l.date0&&l.date1.n<l.date0.n&&this.rm_date(\"date0\")):\"date2\"===h&&l.date2&&(l.date0&&l.date2.n<l.date0.n&&this.rm_date(\"date0\"),l.date1&&l.date2.n<l.date1.n&&this.rm_date(\"date1\")),n=this.form.$next_date_input(e),n&&(this.date_input_tag=n.cdata(\"tag\")),this.request_grayout(),this.cal_highlight_label(),this.try_cal_default(i),this.close_date_picker(),n?n.focus():(this.prevent_date_event+=$.browser.msie?2:1,i.focus()))},t.prototype.get_cal_month=function(){var t,e,s,a,i,n;for(t=this.months.length-this.num_show,n=this.months,a=0,i=n.length;i>a;a++)if(e=n[a],e.visible)return s=e.num,s>t&&(s=t),s;return 0},t.prototype.set_cal_month=function(t,e){var s,a,i,n,r;return i=this.months.length-this.num_show,t>i&&(t=i),(null!=(n=this.months[t])?n.visible:void 0)?void 0:(s=0,!e&&this.num_show>1&&t>0&&(s=1),a=function(){r=[];for(var t=0,e=this.num_show-1;e>=0?e>=t:t>=e;e>=0?t++:t--)r.push(t);return r}.apply(this),this.toggle_all_months(function(e){var i;return i=e.num-t+s,d.call(a,i)>=0}))},t.prototype.show_next=function(){var t,e;return t=this.get_cal_month(),this.show_cal(function(){var s,a,i;for(i=[],e=s=1,a=this.num_show;a>=1?a>=s:s>=a;e=a>=1?++s:--s)i.push(t+e);return i}.call(this))},t.prototype.show_prev=function(){var t,e;return t=this.get_cal_month(),this.show_cal(function(){var s,a,i;for(i=[],e=s=1,a=this.num_show;a>=1?a>=s:s>=a;e=a>=1?++s:--s)i.push(t+e-2);return i}.call(this))},t.prototype.get_visible_cal_class=function(t){switch(t){case 0:return this.first_vis_cal_class;case 1:return this.second_vis_cal_calss;default:return\"\"}},t.prototype.toggle_month=function(t,e){var s;return s=t.$this,s.removeClass(\"\"+this.first_vis_cal_class+\" \"+this.second_vis_cal_calss),t.visible?s.show().removeClass(\"hidden\").addClass(this.get_visible_cal_class(e)):s.hide().addClass(\"hidden\"),s},t.prototype.toggle_all_months=function(t){var e,s,a,i,n;for(s=0,n=this.months,a=0,i=n.length;i>a;a++)e=n[a],e.visible=t(e),this.toggle_month(e,s),e.visible&&(s+=1);return this.request_grayout(),this.set_cal_arrows()},t.prototype.show_cal=function(t){this.toggle_all_months(function(e){var s;return s=e.num,d.call(t,s)>=0})},t.prototype.set_cal_arrows=function(){var t,e,s,a,i,n;for(s=this.get_cal_month(),n=[],e=a=0,i=this.num_show;i>=0?i>a:a>i;e=i>=0?++a:--a)t=this.months[s+e].$this,t.find(\".prev\").toggle(0===e&&0!==s),n.push(t.find(\".next\").toggle(e===this.num_show-1&&s!==this.$calendars.length-1));return n},t.prototype.mark_date=function(t,e){var s,a,i;return this.calendar_search?this.flexcal():t&&(this.clear_date(t),e.length>1&&(i=parse_date_flexdays(e),s=i[0],a=i[1],this.form.set_val(t,e,s),this.can_do_flex||(a=[0,0]),this.day_iter(s,t,a),s=this.date_to_month(s)))?this.set_cal_month(s.num,\"date0\"===t):void 0},t.prototype.day_iter=function(t,e,s){var a,i,n,r,o,l,h,d,_,u,c,p,f,g,v;r=s[0],n=s[1],i=this.date_to_day(t),this.sel_dates[e]=i,g=this.$sel_days;for(_ in g)if(c=g[_],null!=(a=c[e])){a.removeClass(e),delete c[e];try{for(u in c)throw\"non-empty\"}catch(y){o=y;continue}a.removeClass(\"selected-date\"),delete this.$sel_days[_]}if(i){for(v=[],d=f=r;n>=r?n>=f:f>=n;d=n>=r?++f:--f)l=t.clone().add(d).days(),h=this.date_to_day(l),h?(h.$this.addClass(e).addClass(\"selected-date\"),_=h.$this.cdata(\"day\")+\"_\"+h.$this.cdata(\"year\"),null==(p=this.$sel_days)[_]&&(p[_]={}),v.push(this.$sel_days[_][e]=h.$this)):v.push(void 0);return v}},t.prototype.flexcal=function(t){var e,s,a,i,n,r,o,h,d,_,u;return null==t&&(t=30),this.clear_date(\"date0\"),this.clear_date(\"date1\"),e=date_parse(this.form.get_val(\"date0\")),o=this.form.get_val(\"nights\"),e&&null!=(n=this.date_to_month(e))&&(s=e.clone().add(t).days(),this.set_cal_month(n.num,!0),d=parse_flex(o),h=d[0],_=d[1],i=_[0],a=_[1],h=l(h),u=[Math.max(h+i,0),h+a],i=u[0],a=u[1],i=i||0,a=a||0,this.day_iter(e,\"date0\",[0,t-i]),h&&null!=(r=this.date_to_month(s)))?(this.set_cal_month(r,!1),this.day_iter(s,\"date1\",[-t+i,0])):void 0},t.prototype.clear_date=function(t){return this.day_iter(null,t,[0,0])},t.prototype.typed_date=function(t){var e,s,a;return e=$(t),a=e.cdata(\"tag\"),s=e.val(),s?this.mark_date(a,s):this.rm_date(a),this.try_cal_default(t),this.request_grayout()},t.prototype.select_month=function(t){var e,s,a,i;return e=t.closest(\"div.calendar\"),i=l(e.cdata(\"cal\")),s=l($(\"#calendars div.calendar:visible\").cdata(\"cal\")),s!==i-1&&s!==i?s>i?(10===i&&i--,this.show_cal(function(){var t,e,s;for(s=[],a=t=1,e=this.num_show;e>=1?e>=t:t>=e;a=e>=1?++t:--t)s.push(i+a);return s}.call(this))):(0===i&&i++,this.show_cal(function(){var t,e,i;for(i=[],a=t=1,e=this.num_show;e>=1?e>=t:t>=e;a=e>=1?++t:--t)i.push(s+a-2);return i}.call(this))):void 0},t}(),a=function(t){function e(t,s,a){var i;this.form=t,this.$cals=s,null==a&&(a=2),this.show_date_picker=h(this.show_date_picker,this),e.__super__.constructor.apply(this,arguments),this.$date_picker_popup.addClass(this.CAL_CLASS),null!=(i=this.form.$this)&&i.find(\"input.date\").addClass(this.CAL_CLASS)}return u(e,t),e.prototype.CAL_CLASS=\"inline-calendars\",e.prototype.first_vis_cal_class=\"left-padding\",e.prototype.second_vis_cal_calss=\"right-padding\",e.prototype.show_date_picker=function(){var t,e,s;this.focused_date&&null!=this.$date_picker_popup&&(this.close_date_picker(),t=$(this.focused_date),e=t.closest(\".row\"),e.is(\":visible\")&&(e.append(this.$date_picker_popup),this.clean_date_picker_popup_data(),this.$date_picker_popup.css(\"width\",this.$date_picker_popup.outerWidth()),s=t.closest(\".row\").find(\".full-row\").hasClass(\"haserror\"),this.$date_picker_popup.toggleClass(\"haserror\",s),$.show_dropdown(this.$date_picker_popup,this.$container,this.signal_closed),this.signal_opened()))},e}(t),hm[\"export\"]({widgets:{InlineCalendar:a,Calendar:t}})}.call(this);\n!function(){var t,e,n,i,r,o,s,a,h,u,l,c,d,p,f,m,g,v,k,b,x,w,y,C,T,M,P,S,D,z,A=[].indexOf||function(t){for(var e=0,n=this.length;n>e;e++)if(e in this&&this[e]===t)return e;return-1},F={}.hasOwnProperty,q=function(t,e){function n(){this.constructor=t}for(var i in e)F.call(e,i)&&(t[i]=e[i]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t},O=[].slice,j=function(t,e){return function(){return t.apply(e,arguments)}};for(S=hm.widgets,n=S.Calendar,h=S.InlineCalendar,t=S.Autocomplete,x=hm.utils.parse_int,w=hm.searchform_utils.prefill_form,o=2,s=11,a=2,p=function(t,e){return\"\"+t+\"_\"+e},e={},e[p(o,s)]=drykup.render($.templates.render_datepicker({num_cals:o,months:s})),window.get_cal_html=function(t,n){var i,r;return null==t&&(t=2),null==n&&(n=11),i=p(t,n),A.call(e,i)>=0?e[i]:(r=drykup.render($.templates.render_datepicker({num_cals:t,months:n})),e[i]=r,r)},m=function(t){var e;return e=t.data(\"date_delta\"),null!=e?x(e):a},window.init_search_form=function(t,e,n,i){var r;return r=$(\"#\"+t),r.length>0?new c(r,e,n,i):void 0},window.to_date_text=function(t,e){return null==e&&(e=\" \"),t.toString(\"MMM\")+e+t.toString(\"d\")},k=[[\"to0\",\"where\"],[\"date0\",\"check_in\"],[\"date1\",\"check_out\"]],g={},C=0,M=k.length;M>C;C++)D=k[C],b=D[0],y=D[1],g[b]=y;for(v={},T=0,P=k.length;P>T;T++)z=k[T],b=z[0],y=z[1],v[y]=b;f=function(t,e){return e.indexOf(\"::\")&&!t.hasClass(\"routelang\")?e.split(\"::\")[0]:e},window.select_form=function(t){var e,n,i,r,o,s;n=t.kind,s=t.tab_kind,i=t.kind_suffix,e=$.hipmunk[\"searchform_\"+n],o=$.hipmunk.cur_form.kind,toggle_form(n),w(e.$this,function(t){return e.ensure_rows(t)},t),e.refresh_custom_control_display(),r=o!==n,r&&$.hipmunk.frontpage.shrink_both_forms(),$.hipmunk.frontpage.expand_form(n,{tab_kind:s,kind_suffix:i,prepatory:r})},window.toggle_form=function(t,e){var n,i,r,o,s;null==e&&(e=t),$.hipmunk.utils.track(\"change_form\",\"Front\",{form_type:t}),$.close_popups(),i=$.hipmunk.cur_form,null!=i&&(o={},r=$.hipmunk[\"searchform_\"+e],n=r.$this,/^hotel/.test(t)||n.closestAll(\".search-form-wrapper\").hide(),$.hipmunk.cur_form=r,r.select_tab(),\"calendar\"!==t&&i.$this.find(\"input,select\").each(function(){var e,s,a,h,u,l,c,d,_,p,m;if(a=$(this),d=a.cdata(\"field\"),_=a.val(),\"nights\"===d)return _===x(parse_flex(_)[0])&&(\"hotel\"===t?(s=r.$get_input(\"check_out\"),h=date_parse(o.check_in)):(s=r.$get_input(\"date1\"),h=date_parse(o.date0)),h)?(h.add(_).days(),s.val(to_date_text(h)),void 0):\"hotel\"===t?r.reset_input_by_tag(\"check_out\"):r.reset_input_by_tag(\"date1\");if(\"\"===_)d&&(r.reset_input_by_tag(d),\"date1\"===d&&\"calendar\"===t&&r.reset_input_by_tag(\"nights\"));else if(d)return\"hotel\"===t?(d=null!=(p=g[d])?p:d,(\"check_in\"===d||\"check_out\"===d)&&(_=parse_flex(_)[0])):d=null!=(m=v[d])?m:d,\"calendar\"===t&&((\"date0\"===d||\"date1\"===d)&&(_=parse_flex(_)[0]),\"date1\"===d&&null!=o.date0&&(h=date_parse(o.date0),u=date_parse(_),l=(u-h)/864e5,l=Math.round(l),s=n.find(\".field-nights\"),s.val(format_flex(l+\"\",[-2,2])))),e=i.$this.find(\"input.tag-date1\"),\"multi\"===t&&(c=!1,\"to0\"===d&&(c=\"from1\"),\"from0\"===d&&(c=\"to1\"),c&&(s=$(\".field-\"+c),s.val(f(s,_)))),s=n.find(\".field-\"+d),s.val(f(s,_)),s.closest(\".input-row\").find(\".flexdate-button\")&&maybe_grayout_flex(s),o[d]=_}),r.show(),null!=(s=r.calendar)&&s.update_date_xs(),$.hipmunk.utils.first_show(n))},i=function(){function t(){}return t.prototype.show_next=!0,t.prototype.which_date_input=function(t){var e,n,i,r;for(n=i=0,r=this.$date_inputs.size();r>=0?r>i:i>r;n=r>=0?++i:--i)if(e=$(this.$date_inputs[n]),e.cdata(\"tag\")===t)return e},t.prototype.$next_date_input=function(t){var e,n,i,r,o,s;if(this.show_next){for(n=null,r=!1,i=o=0,s=this.$date_inputs.size();s>=0?s>o:o>s;i=s>=0?++o:--o){if(e=$(this.$date_inputs[i]),r&&e.is(\":visible\"))return e;e.cdata(\"tag\")===t&&(r=!0),\"\"!==e.val().trim()||n||(n=e)}return null!=n?n:!1}},t.prototype.$date_input=function(t){return $(this.$date_inputs[t])},t.prototype.$get_input=function(t){return this.$this.find(\".tag-\"+t)},t.prototype.get_val=function(t){var e;return e=this.$get_input(t),e.hasClass()?void 0:e.val()},t.prototype.set_val=function(t,e){var n;return n=this.$get_input(t),n.val()!==e&&(n.val(e),this.val_changed(n)),n},t.prototype.reset_input_by_tag=function(t){return this.reset_input(this.$get_input(t))},t.prototype.reset_input=function(t){return t.siblings(\"label\").length&&t.val(\"\"),t.closest(\".input-row\").find(\".flexdate-button\").length&&maybe_grayout_flex(t),this.val_changed(t),t},t.prototype.bind_calendar=function(t,e,i,r){var a;return null==e&&(e=o),null==i&&(i=s),null==r&&(r=n),this.$calendars.replaceWith(get_cal_html(e,i)),this.$calendars=t.find(\"div.calendars\"),a=new r(this,this.$calendars,e)},t.prototype.use_inline_calendar=function(t,e,n){this.$calendars=t.find(\"div.calendars\"),this.$date_inputs=t.find(\"input.date\"),this.calendar=this.bind_calendar(t,e,n,h),this.prefill_dates()},t.prototype.date_allowed=function(){return!0},t.prototype.hover_date=function(){},t.prototype.val_changed=function(){},t}(),c=function(e){function n(e,n,i,r){var o,s=this;this.$this=e,this.can_submit=!0,this.form_tag=this.$this.get(0),this.form_id=this.$this.attr(\"id\"),this.$wrapper=this.$this.parent(),this.kind=this.$this.cdata(\"form\"),this.track=r,this.support_intent_media_checkboxes=!1,this.current_intent_media_params=\"none\",this.intent_media_selected_checkboxes={},this.is_frontpage_search_form=!1,this.is_showing_intent_media_checkboxes=!1,this.support_search_both_cta=!1,$.hipmunk[\"searchform_\"+this.form_id]=this,n&&(this.ac=new t(this.$this),this.ac.on_hide.add(function(){s.refresh_intent_media_checkboxes()})),i&&(this.init_calendars(),this.prefill_dates()),this.$this.delegate(\"input.flex\",\"blur keyup\",function(t){return maybe_grayout_flex($(t.currentTarget))}).delegate(\"input:text, input:password\",\"input propertychange\",function(t){$.hipmunk.form_utils.input_change(t.currentTarget)}).delegate(\"input:text, input:password\",\"change\",function(){s.refresh_intent_media_checkboxes()}).delegate(\"div.flex-plus\",\"click\",function(t){s.flex_button(t.currentTarget,1),t.stopPropagation()}).delegate(\"div.flex-minus\",\"click\",function(t){s.flex_button(t.currentTarget,-1),t.stopPropagation()}).delegate(\"div.add-flight\",\"click\",function(){s.add_flight()}).delegate(\"div.clear-flight\",\"click\",function(t){s.clear_flight(t)}).delegate(\"button\",\"focus\",function(){return $.close_dropdowns()}).on(\"click\",\"a.frontbox__search-both-link\",function(){s.submit_form(\"search_both_cta\")}).on(\"submit\",function(t){t.preventDefault(),s.submit_form()}).on(\"click\",\"a.frontbox__checkbox-link\",function(t){var e;e=$(t.currentTarget),s.$this.find(\".frontbox__checkbox-row-checkbox-container input\").attr(\"checked\",e.hasClass(\"m-all\"))}),this.$this.find(\".input-container label\").inFieldLabels(),o=$.make_container(),this.$pax_menu=new u(this.$this.find(\".flight-menu-pax\"),o),this.$cabin_menu=new d(this.$this.find(\".menu-cabin\"),o),this.$hotel_pax_menu=new d(this.$this.find(\".menu-hotel_pax\"),o),this.$room_menu=new d(this.$this.find(\".menu-rooms\"),o),this.$pax_menu.on_change.add(function(){return s.refresh_intent_media_checkboxes()}),this.refresh_custom_control_display()}return q(n,e),n.init=function(){var t,e;return t=arguments[0],e=2<=arguments.length?O.call(arguments,1):[],t.length?function(t,e,n){n.prototype=t.prototype;var i=new n,r=t.apply(i,e);return Object(r)===r?r:i}(this,[t].concat(O.call(e)),function(){}):void 0},n.prototype.init_calendars=function(){return this.$calendars=this.$this.find(\"div.calendars\"),this.$date_inputs=this.$this.find(\"input.date\"),this.calendar=this.bind_calendar(this.$this,o,s)},n.prototype.show=function(){return this.$wrapper.show(),this.refresh_custom_control_display(),this.refresh_intent_media_checkboxes()},n.prototype.prefill_dates=function(){var t,e,n,i;t=5,i=new Date,e=t-i.getDay(),0>=e&&(e+=7),n=(new Date).addDays(e),this.$this.find(\"input.date\").each(function(t){var e,i;return t>1?!1:(e=$(this),e.val()?!1:(e.val(to_date_text(n)),i=m(e),n.addDays(i),void 0))})},n.prototype.refresh_custom_control_display=function(){var t,e;return null!=(t=this.calendar)&&t.fields_changed(),this.$pax_menu.update_title(),this.$cabin_menu.update_title(),this.$hotel_pax_menu.update_title(),this.$room_menu.update_title(),null!=(e=this.calendar)&&e.update_date_xs(),$(\".flexdate-button\").closest(\".input-row\").find(\"input:text\").each(function(){return maybe_grayout_flex($(this))})},n.prototype.refresh_intent_media_checkboxes=function(){var t,e,n,i,r,o,s,a,h,u=this;if(t=this.$this.find(\".frontbox__checkbox-row\"),e=t.find(\".frontbox__checkbox-row-checkbox-container\"),this.support_intent_media_checkboxes){if(\"US\"!==(null!=(a=$.hipmunk.user)?a.country:void 0))return t.removeClass(\"m-have-checkboxes\"),void 0;if(this.$this.is(\":visible\")&&$.hipmunk.intent_media_manager&&(this.is_showing_intent_media_checkboxes=!0,r=$.hipmunk.intent_media_manager.form_to_params(this.$this,this.$pax_menu),!$.hipmunk.utils.equals(r,this.current_intent_media_params))){for(this.current_intent_media_params=r,h=e.find(\"input\"),o=0,s=h.length;s>o;o++)i=h[o],n=$(i),this.intent_media_selected_checkboxes[n.data(\"provider_name\")]=i.checked;return e.empty(),r?($.hipmunk.utils.track(\"intent_media_request_checkboxes\"),$.hipmunk.intent_media_manager.request(r,function(n){var i,o,s,a;if($.hipmunk.utils.equals(u.current_intent_media_params,r)&&0!==n.length)return t.addClass(\"m-have-checkboxes\"),a=!$.browser.chrome&&!$.browser.msie,o=drykup.render($.templates.frontpage_intent_media_checkboxes(n,u.intent_media_selected_checkboxes,a)),e.html(o),s=function(){var t,e,r;for(r=[],t=0,e=n.length;e>t;t++)i=n[t],r.push(i.ad_display_name);return r}(),$.hipmunk.utils.track(\"intent_media_shown_checkboxes\",null,{num_shown:s.length,shown_providers:s})})):void 0}}},n.prototype.open_intent_media_popups=function(){var t,e,n,i,r,o,s,a,h,u,l,c,d,_,p,f,m,g,v,k,b,x,w,y,C,T,M,P;for(e=this.$this.find(\".frontbox__checkbox-row input\"),f=[],i=[],w=[],s=\"none\",y=0,T=e.length;T>y;y++)o=e[y],t=$(o),l=t.data(\"provider_name\"),x=t.data(\"url\"),f.push(l),s=t.attr(\"type\"),t.is(\":checked\")&&(i.push(l),w.push(x));if(b={num_shown:f.length,num_checked:i.length,shown_providers:f,checked_providers:i,input_type:s},$.hipmunk.utils.track(\"intent_media_opened_popups\",null,b),0!==w.length){for(n=$(window),p=n.width(),c=n.height(),_=window.screenTop||window.screenY||0,d=window.screenLeft||window.screenX||0,u=.8*p,h=.8*c,m=40,g=d+(p-u)/2,v=_+(c-h)/2,g-=m*(w.length-1),v-=m*(w.length-1),w.reverse(),P=[],r=C=0,M=w.length;M>C;r=++C)x=w[r],k=v+r*m,a=g+r*m,k=Math.max(k,0),a=Math.max(a,0),P.push(window.open(x,\"_blank\",\"height=\"+h+\",width=\"+u+\",top=\"+k+\",left=\"+a+\",scrollbars=yes,resizable=yes\"));return P}},n.prototype.val_changed=function(){return n.__super__.val_changed.apply(this,arguments),this.refresh_intent_media_checkboxes()},n.prototype.menu_control_changed=function(){return this.refresh_intent_media_checkboxes()},n.prototype.select_tab=function(){var t;if(\"hotel\"!==this.form_id)return t=this.$this.closest(\".frontbox\"),t.find(\".small-button.form-\"+this.form_id).selectButton()},n.prototype.add_flight=function(){var t;t=this.$this.find(\".frontbox__row:not(:visible)\").first(),t.removeClass(\"m-hidden\"),0===t.nextAll(\".frontbox__row\").length&&this.$this.find(\".frontbox__add-another-row\").hide()},n.prototype.clear_flight=function(t){var e,n,i,r,o=this;i=$(t.currentTarget).closest(\".row\"),n=i.nextAll(),e=i,n.each(function(t,n){var i,r,o,s,a,h,u,l;if(o=$(n),r=o.find(\"input:visible\"),0!==r.length){for(a=_.zip(e.find(\"input\"),r),u=0,l=a.length;l>u;u++)h=a[u],s=$(h[0]),i=$(h[1]),s.val(i.val());return e=o}}),e.addClass(\"m-hidden\").find(\"input\").each(function(t,e){return o.reset_input($(e))}),this.$this.find(\".frontbox__add-another-row\").show(),null!=(r=this.calendar)&&r.fields_changed()},n.prototype.get_form_data=function(){var t,e;return t=this.$this.serializeArray(),null!=(null!=(e=$.hipmunk)?e.user:void 0)&&(t.push({name:\"country\",value:$.hipmunk.user.country}),t.push({name:\"language\",value:$.hipmunk.user.language})),t},n.prototype.flex_button=function(t,e){var n,i,r;return n=$(t),i=n.closest(\".input-row\").find(\"input\"),this.calendar.select_date(i),\"\"!==i.val()?(incr_flex_date(i,e),r=i.cdata(\"tag\"),this.calendar.mark_date(r,i.val()),maybe_grayout_flex(i),!1):void 0},n.prototype.submit_form=function(t){var e,n,i,r,o,s=this;return null==t&&(t=\"default\"),this.can_submit?(this.is_showing_intent_media_checkboxes&&this.open_intent_media_popups(),null!=(r=$.hipmunk.url)&&(r.show_detailed_hotel_tab=!1),this.support_search_both_cta&&(\"search_both_cta\"===t&&null!=(o=$.hipmunk.url)&&(o.show_detailed_hotel_tab=!0),$.hipmunk.utils.track(\"front_roundtrip_search\",null,{means:t})),n=this.get_form_data(),this.$this.find(\".haserror\").removeClass(\"haserror\"),this.$this.find(\"div.error\").html(\"\"),this.$this.find(\"div.error-status\").hide(),this.$this.find(\".no-results\").hide(),e=this.$this.find(\".status\"),e.data(\"old_text\")||e.data(\"old_text\",e.text()),e.text(\"Submitting...\"),this.$this.find(\"div.success-status\").hide(),n.push({name:\"form\",value:this.form_id}),$.ajax({url:this.form_tag.action,type:this.form_tag.method,error:function(){var t,n,i;return n=drykup.render($.templates.error_message()),t=s.$this.find(\".error-status\").html(n).fadeIn(1e3),e=s.$this.find(\".status\"),i=e.data(\"old_text\"),i?e.text(i):void 0},data:n}),this.track&&(i=this.kind,\"hotel\"!==this.kind&&(i=\"flight - \"+this.kind),adroll_event(i)),record_activity(\"search\"),!1):void 0},n.prototype.ensure_rows=function(t){var e,n,i;if(n=this.$this.find(\".js-multirow\").filter(\":visible\").length,t>n)for(e=i=n;t>=n?t>i:i>t;e=t>=n?++i:--i)this.add_flight();return t||2},n}(i),l=function(t){function e(){e.__super__.constructor.apply(this,arguments),this.$this.data(\"success\",function(t,e){var n,i,r,o,s;return o=new UrlCodec,s=o.encode([t],e),i=s[0],n=s[1],r=i,n&&(r+=\"#!\"+n),location.href=r})}return q(e,t),e}(c),u=function(){function t(t,e){var n=this;this.$menu=t,this.$container=e,this.signal_closed=j(this.signal_closed,this),this.on_change=$.Callbacks(),this.on_close=$.Callbacks(),this.$popup=this.$menu.find(\"div.dd-popup\"),this.$menu.delegate(\"\",\"click\",function(t){$.show_dropdown(n.$popup,n.$container,n.signal_closed),t.stopPropagation()}),this.$popup.delegate(\"select\",\"change\",function(){n.handle_change()}),this.update_title()}return t.prototype.handle_change=function(){return this.$menu.closest(\".haserror\").removeClass(\"haserror\"),this.update_title(),this.on_change.fire(this)},t.prototype.signal_closed=function(){return this.on_close.fire(this)},t.prototype.update_title=function(){var t,e,n,i,r,o,s;for(t=this.$popup.find(\"select\"),e=5,r=0,n=o=0,s=e-1;s>=0?s>=o:o>=s;n=s>=0?++o:--o)r+=+$(t[n]).val();return i=1===r?\"1 person\":\"\"+r+\" people\",this.$menu.find(\".button-text\").text(i)},t.prototype.form_data=function(){var t;return t={},this.$popup.find(\"select\").each(function(){var e;return e=+$(this).val(),e?t[$(this).cdata(\"field\")]=e:void 0}),t},t}(),d=function(){function t(t,e){var n=this;this.$menu=t,this.$container=e,this.$popup=this.$menu.find(\"div.dd-popup\"),this.on_select=$.Callbacks(),this.$menu.delegate(\"\",\"click\",function(t){$.show_dropdown(n.$popup,n.$container),t.stopPropagation()}),this.$popup.delegate(\"div.dd-option\",\"click\",function(t){n.click_option($(t.currentTarget)),t.stopPropagation()}),this.update_title()}return t.prototype.click_option=function(t){return this.set_selected(t.attr(\"value\")),$.close_dropdowns(),this.on_select.fire(this)},t.prototype.set_selected=function(t){return this.$popup.find(\"input\").val(t),this.update_title()},t.prototype.update_title=function(){var t,e;return e=this.value(),t=this.$popup.find('div.dd-option[value=\"'+e+'\"]'),this.$menu.find(\".button-text\").text(t.find(\".name\").text()),t.selectButton(\"div.dd-option\")},t.prototype.value=function(){return this.$popup.find(\"input\").val()},t}(),r=function(){function t(t){var e,n,i,r,o,s,a;for(this.$el=t.$el,i=t.use_autocomplete,r=t.use_calendar,n=t.track,this.update=j(this.update,this),this.$forms=this.$el.find(\".form-flight, .form-hotel\"),a=this.$forms,o=0,s=a.length;s>o;o++)e=a[o],l.init($(e),i,r,n);this.search_menu=new d(this.$el.find(\".wide-combo-search-header__toggle\"),$.make_container()),this.search_menu.on_select.add(this.update),this.update()}return t.prototype.update=function(){var t;return this.$forms.hide(),t=this.search_menu.value(),$(\".form-\"+t).show()},t.init=function(t){return t.$el.length?new this(t):void 0},t}(),hm[\"export\"]({widgets:{CalendarEnabled:i,SearchForm:c,RedirectingSearchForm:l,PassengersMenu:u,ComboSearchForm:r}})}.call(this);\n!function(){var t,e,i,n,o,a,r=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,_=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};n=function(){function t(t,e){this.id=t,this.tab_params=e,this.on_calendar_event_cache_changed=r(this.on_calendar_event_cache_changed,this),this.calendar_event_manager=CalendarEventManager.shared_instance(),this.calendar_event_manager.event_cache_changed_callback.add(this.on_calendar_event_cache_changed),this.$tab=$(\"#tab-\"+this.id),this.$tabicon=this.$tab.find(\".tabicon\"),this.load_start_time=null}return t.prototype.serialize=function(){return this.tab_params},t.prototype.refresh=function(){},t.prototype.remove=function(){$(\"#tab-\"+this.id).remove(),$(\"#results-\"+this.id).remove(),$.hipmunk.url.progress_indicator.update_indicator()},t.prototype.did_content_init=!1,t.prototype.adjust_for_scroll=function(){},t.prototype.on_activate=function(){return this.did_content_init?this.on_content_activate():void 0},t.prototype.on_deactivate=function(){return this.did_content_init?this.on_content_deactivate():void 0},t.prototype.on_content_init=function(){return this.did_content_init=!0,this===$.hipmunk.url.active_tab?this.on_content_activate():void 0},t.prototype.on_content_activate=function(){},t.prototype.on_content_deactivate=function(){},t.prototype.on_calendar_event_cache_changed=function(){},t.prototype.on_params_change=function(){},t.prototype.get_content_top=function(){var t;return t=$(\"#header\"),t.offset().top+t.outerHeight()},t.prototype.start_loading=function(){return null==this.load_start_time&&(this.load_start_time=$.now()),this.$tabicon.addClass(\"small_loading\"),$.hipmunk.url.progress_indicator.update_indicator()},t.prototype.finish_loading=function(t){var e,i,n;return this.$tabicon.removeClass(\"small_loading\").addClass(t),null!=this.load_start_time?(e={timing:($.now()-this.load_start_time)/1e3},n=this.serialize(),i=n.kind+\"_\"+n.dates.length,$.hipmunk.utils.track(\"tab_load_timing\",i,e),this.load_start_time=null,$.hipmunk.url.progress_indicator.update_indicator()):void 0},t}(),o=function(t){function e(t,i,n,o){this.sidebar_types=null!=o?o:[\"Bizclass\"],e.__super__.constructor.call(this,t,i,n),this.sidebar=this.pick_sidebar(),this.$results_area=$(\"#results-area\"),this.$body=$(document.body)}return _(e,t),e.prototype.pick_sidebar=function(){var t,e,i,n,o;for(o=this.sidebar_types,i=0,n=o.length;n>i;i++)if(e=o[i],t=window[\"\"+e+\"Sidebar\"],t.is_enabled())return new t(e.toLowerCase(),this);return null},e.prototype.add_sidebar_layout=function(){this.$results_area.addClass(this.sidebar.spacer_classes),this.$body.addClass(\"clear-background\")},e.prototype.remove_sidebar_layout=function(){this.$results_area.removeClass(this.sidebar.spacer_classes),this.$body.removeClass(\"clear-background\")},e.prototype.show_sidebar=function(){return this.sidebar?(this.add_sidebar_layout(),this.sidebar.show()):void 0},e.prototype.hide_sidebar=function(){return this.sidebar?(this.remove_sidebar_layout(),this.sidebar.hide()):void 0},e.prototype.on_content_deactivate=function(){return e.__super__.on_content_deactivate.apply(this,arguments),this.hide_sidebar()},e.prototype.on_content_activate=function(){return e.__super__.on_content_activate.apply(this,arguments),this.show_sidebar()},e}(n),i=function(e){function i(t){this.id=t,this.classname=\"SearchTab\",this.first_show=!0,this.$header=$(\"#header\"),this.$topmessage=$(\"#topmessage\")}return _(i,e),i.prototype.did_content_init=!0,i.prototype.remove=function(){return $(\"#tab-\"+this.id).addClass(\"hidden\"),this.active=!1},i.prototype.header_offset=function(){var t;return t=this.$header.height(),this.$topmessage.is(\":visible\")&&(t+=this.$topmessage.height()),t},i.prototype.update_header=function(){var t;t=this.header_offset(),$(\"#results-area\").css({position:\"absolute\",top:t})},i.prototype.serialize=function(){return{}},i.prototype.on_content_activate=function(){var e;i.__super__.on_content_activate.apply(this,arguments),$(\"body\").removeClass(\"flights-loading\"),this.first_show&&!this instanceof t?this.first_show=!1:($.hipmunk.update_recent_searches(),set_timeout(0,$.hipmunk.frontpage.adjust_wrapper_height)),null!=(e=$.hipmunk.cur_form)&&e.refresh_intent_media_checkboxes()},i.prototype.refresh=function(){},i}(n),t=function(t){function e(t,i){this.kind=t,this.kind_suffix=i,e.__super__.constructor.call(this,\"\"+t+\"s\"+i+\"-search\"),this.active=!1,this.classname=\"LandingSearchTab\"}return _(e,t),e.prototype.serialize=function(){return{kind:this.id,landing:!0}},e.prototype.select_form=function(t){var e;e=$.hipmunk.utils.deepcopy(t),e.tab_kind=this.kind,e.kind+=this.kind_suffix+$.hipmunk.landing_form_suffix,e.kind_suffix=this.kind_suffix,select_form(e)},e}(i),e=function(){function t(t,e){this.id=t,this.tab_params=e,this.classname=\"LoadingTab\"}return t.prototype.on_params_change=function(){},t.prototype.adjust_for_scroll=function(){},t.prototype.serialize=function(){return this.tab_params},t.prototype.refresh=function(){},t}(),a={Tab:n,TabWithSidebar:o,SearchTab:i,LandingSearchTab:t,LoadingTab:e},hm[\"export\"]({tabs:a})}.call(this);\n!function(){var t,e,a,n,s,i,r,o,h,c,u,l,p,d,b,f=function(t,e){return function(){return t.apply(e,arguments)}},g=[].indexOf||function(t){for(var e=0,a=this.length;a>e;e++)if(e in this&&this[e]===t)return e;return-1};a=[\"kind\",\"locations\",\"dates\",\"pax\",\"children\",\"seniors\",\"infants_seat\",\"infants_lap\",\"cabin\",\"range\",\"rooms\",\"country\"],b=hm.utils,u=b.log,l=b.parse_int,p=b.query_params,d=b.remove,c=function(t){return\"hotel\"===t},n={select:!1},t=\"#!\",e=\"+\",s=/\\s/g,r=/(#!)([^@]*)@?(.*)/,o=/;/g,i=/,/g,h=function(){function n(){this.on_url_change=f(this.on_url_change,this),this.search_tab=this.active_tab=null,this.tabs=[],this.custom_init(),this.set_active(this.search_tab),this.use_pushstate=\"undefined\"!=typeof history.pushState,this.url_codec_regexp=/\\/(hotels|pricegraph|flights|flexcal)/,this.url_codec=new UrlCodec(this.use_pushstate),this.tab_iden_codec=new TabIdenCodec,this.tab_counter=0,this.do_jquery_lookups(),this.loaded_tabs=[],this.queued_tabs=[],this.fake_hotel_tab_params=null,this.on_url_change(!0),this.setup_handlers()}return n.LANDING_TAB_TYPES=[\"flight\",\"hotel\"],n.LANDING_TAB_SUFFIXES=[\"\",\"-custom\"],n.prototype.custom_init=function(){},n.prototype.do_jquery_lookups=function(){},n.prototype.setup_handlers=function(){var t,e,a=this;e=window.location.href,t=$(window),t.bind(\"hashchange popstate\",function(t){return window.location.href===e&&\"popstate\"===t.type?(e=null,void 0):(a.on_url_change(),void 0)})},n.prototype.get_tab_by_tab_id=function(t){var e,a,n,s;for(s=this.tabs,a=0,n=s.length;n>a;a++)if(e=s[a],e.id===t)return e;return null},n.prototype.get_tab_by_params=function(t){var e,a,n,s;for(s=this.tabs,a=0,n=s.length;n>a;a++)if(e=s[a],this.tabs_are_equal(t,e.serialize()))return e;return null},n.prototype.tabs_are_equal=function(t,e){return hm.utils.equals(this.get_search_from_tab(t),this.get_search_from_tab(e))},n.prototype.get_search_from_tab=function(t){var e,n,s,i;for(n={},s=0,i=a.length;i>s;s++)e=a[s],n[e]=hm.utils.deepcopy(t[e]);return n},n.prototype.landing_page_recent_search=function(t){var e,a,n,s,i,r;for(t=t.replace(\"s-search\",\"\"),a=c(t),r=null!=(i=$.hipmunk.saved_searches)?i:[],n=0,s=r.length;s>n;n++)if(e=r[n],c(e.kind)===a)return e;return null},n.prototype.prepopulates_search=function(t){var e,a,n,s;return/^hotel/.test(t.kind)?(a=1===t.locations.length,n=function(){var a,n,s,i;for(s=t.dates,i=[],a=0,n=s.length;n>a;a++)e=s[a],e&&i.push(e);return i}().length,s=2===n,!(a&&s)):\"\"!==t.kind?0===t.dates.length||t.locations.length<2:!1},n.prototype.prepopulate_initial_search=function(){},n.prototype.tab_state_is_correct=function(t){var e,a,n,s,i;if(e=this.serialize_current_tabs(),t.length!==e.length)return!1;for(a=s=0,i=t.length;i>s;a=++s)if(n=t[a],!this.tabs_are_equal(n,e[a]))return!1;return!0},n.prototype.update_global_active_tab=function(t){null!=t.tab&&this.active_tab!==this.tabs[t.tab]&&this.select_tab(this.tabs[t.tab])},n.prototype.on_url_change=function(t){var e,a,n,s,i,r,o,h,_,c,u,l,p,d;if(p=this.parse_location(),r=p[0],n=p[1],1===r.length&&(i=r[0],this.prepopulates_search(i)))return this.prepopulate_initial_search(i);if(this.tab_state_is_correct(r,n))for(_=0,l=r.length;l>_;_++)i=r[_],s=this.get_tab_by_params(i),null!=s&&\"function\"==typeof s.on_params_change&&s.on_params_change(i);else{for(e={select:!1,reason:n.reason},a=[],o=0,c=r.length;c>o;o++)i=r[o],s=this.add_tab(i,e),null!=s&&(s.on_params_change(i),a.push(s));for(d=this.tabs,h=0,u=d.length;u>h;h++)s=d[h],g.call(a,s)<0&&($(\"#tab-\"+s.id).addClass(\"hidden\"),this.remove_tab(s));this.tabs=a}this.update_global_active_tab(n),this.update_ui(),t||\"undefined\"==typeof _gaq||null===_gaq||_gaq.push([\"_trackPageview\",window.location])},n.prototype.get_location=function(){var e,a;return a={},a.path=window.location.pathname,e=window.location.hash,0===e.indexOf(t)&&(e=t+window.location.href.split(t)[1]),a.hash=e,a},n.prototype.get_serializeable_tabs=function(){return[]},n.prototype.serialize_current_tabs=function(){var t;return function(){var e,a,n,s;for(n=this.get_serializeable_tabs(),s=[],e=0,a=n.length;a>e;e++)t=n[e],s.push(t.serialize());return s}.call(this)},n.prototype.update_url=function(e,a){var n,s,i,r,o,h,_,c,u,l;u=this.serialize_current_tabs(),e&&(s=this.tabs.indexOf(e),r=$.extend({},u[s],a),u[s]=r,e.on_params_change(r)),c=this.tabs.indexOf(this.active_tab),n={tab:c>0?c:0},l=this.url_codec.encode(u,n),h=l[0],o=l[1],o&&(o=t+o),i=this.get_location(),this.use_pushstate?(i.path!==h||i.hash!==o)&&(_=h+o,\"Headless Hipmunk 1.0\"===navigator.userAgent&&(_=\"/\"+encodeURIComponent(_.slice(1))),history.pushState({},\"\",_),e||this.on_url_change()):i.hash!==o&&(window.location.hash=o)},n.prototype.parse_location=function(){var e,a,n,s;return s=this.get_location(),a=0===s.hash.indexOf(t),s.path.match(this.url_codec_regexp)||a&&s.hash.indexOf(\"=\")>=0?(n=s.hash.substr(t.length),this.url_codec.decode(s.path,n)):a?this.parse_tab_iden_hash(s.hash):(e=p(),_.keys(e).length>0?this.url_codec.query_params_decode(e):[[],{}])},n.prototype.hash_to_hash_parts=function(t){var a;return t=decodeURI(t),t=t.replace(s,e),a=t.match(r),a?a:[]},n.prototype.parse_tab_iden_hash=function(t){var e,a,n,s,r,h,_,c,p,d,b,f,g,y,v,m,w,x,k;if(s=this.hash_to_hash_parts(t),!s.length)return[];if(y=s[0],y=s[1],p=s[2],_=s[3],b=[],p)for(k=p.split(o),v=0,w=k.length;w>v;v++)r=k[v],a=this.tab_iden_codec.backwards_iden(r),a!==r&&u(\"Molested\",r,\"to\",a),b.push(a);for(h=[],_&&(h=_.split(i)),n={tab:l(h[0])||0},e=l(h[1])||0,g=[],f=m=0,x=b.length;x>m;f=++m)d=b[f],c=this.tab_iden_codec.parse_tab_iden(d),null!=c&&(c.group=n.tab===f?e:0,g.push(c));return[g,n]},n.prototype.new_tab_id=function(){return this.tab_counter+=1,this.tab_counter.toString()},n.prototype.cleaned_tab_params=function(t){return $.extend({},this.url_codec.tab_codec.defaults,t)},n.prototype.add_tab=function(t,e){var a,n,s;s=null!=e?e:{},n=s.select,a=s.reason},n.prototype.remove_tab=function(t){var e;t!==this.search_tab&&(e=this.tabs.indexOf(t),this.active_tab===t&&(e===this.tabs.length-1?this.select_tab(this.tabs[e-1]):this.select_tab(this.tabs[e+1])),this.tabs=d(this.tabs,t),t.remove())},n.prototype.reselect_tab=function(){this.select_tab(this.active_tab)},n.prototype.set_active=function(){},n.prototype.select_tab=function(){},n.prototype.save_searches=function(){var t,e,a,n,s,i,r,o;if(!hm.headless){for(a={},o=this.loaded_tabs,t=i=0,r=o.length;r>i;t=++i)s=o[t],n=this.get_tab_by_tab_id(s),null!=n&&(e=this.get_search_from_tab(n.serialize()),\"hotel\"===e.kind&&e.dates.length<2||(a[t]=JSON.stringify(e)));$.ajax({url:\"/savesearches\",data:a}),this.loaded_tabs=[]}},n.prototype.update_ui=function(){},n.prototype.tab_iden_to_url=function(t){var e,a,n,s;return e=this.tab_iden_codec.parse_tab_iden(t),s=this.url_codec.encode([e],{}),a=s[0],n=s[1],\"\"+a+\"#!\"+n},n}(),hm[\"export\"]({urls:{URLManagerBase:h,SEARCH_PARAMETERS:a,SELECT_FALSE:n}})}.call(this);\n!function(){var t,e,a,s,i,r,n,o,h,l,c,u,b,d,p=function(t,e){return function(){return t.apply(e,arguments)}},f={}.hasOwnProperty,g=function(t,e){function a(){this.constructor=t}for(var s in e)f.call(e,s)&&(t[s]=e[s]);return a.prototype=e.prototype,t.prototype=new a,t.__super__=e.prototype,t};u=hm.urls,h=u.URLManagerBase,i=u.SELECT_FALSE,b=hm.tabs,n=b.Tab,o=b.TabWithSidebar,r=b.SearchTab,e=b.LandingSearchTab,a=b.LoadingTab,c=hm.utils.parse_int,t=\"//www.mapquest.com\",s=function(){function t(){NProgress.configure({showSpinner:!1,trickleRate:.1,trickleSpeed:4e3,minimum:.3})}return t.prototype.num_tabs_searching=0,t.prototype.update_indicator=function(){var t,e,s,i,r;for(t=this.num_tabs_searching,this.num_tabs_searching=0,r=$.hipmunk.url.tabs,s=0,i=r.length;i>s;s++)e=r[s],(e.load_start_time||e instanceof a)&&this.num_tabs_searching++;return 0===this.num_tabs_searching?(NProgress.done(),void 0):this.configure_for_experiment()?0===t?NProgress.start():this.num_tabs_searching<t?NProgress.inc():void 0:void 0},t.prototype.configure_for_experiment=function(){switch($.hipmunk.experiments.get_option(\"progress_bar\")){case\"control\":case\"null\":return!1;case\"theme_1\":NProgress.configure({showSpinner:!1,trickleRate:.04,trickleSpeed:1e3,minimum:.3});break;case\"theme_2\":NProgress.configure({showSpinner:!1,trickleRate:.1,trickleSpeed:3e3,minimum:.3})}return!0},t}(),l=function(n){function o(){return this.resize_tabs=p(this.resize_tabs,this),this.scroll_adjustments=p(this.scroll_adjustments,this),this.create_queued_tabs=p(this.create_queued_tabs,this),this.create_tab=p(this.create_tab,this),this.on_click_fake_hotel_tab=p(this.on_click_fake_hotel_tab,this),d=o.__super__.constructor.apply(this,arguments)}var l;return g(o,n),o.prototype.custom_init=function(){var a,i,n,o,_,l,c,u,b,d,p=this;for(this._type_dict=null,this.search_tab=new r(\"search\"),this.landing_search_tabs={},u=h.LANDING_TAB_TYPES,o=0,l=u.length;l>o;o++)for(a=u[o],b=h.LANDING_TAB_SUFFIXES,_=0,c=b.length;c>_;_++)i=b[_],n=new e(a,i),this.landing_search_tabs[a+i]=n;$(\"#tab-\"+this.search_tab.id).addClass(\"hidden\"),this.fake_hotel_tab_params=null,this.query_referer=hm.utils.query_param(\"referer\"),this.mapquest_linkback_url=null!=(d=hm.utils.query_param(\"linkback_url\"))?d:t,main_js_callback().done(function(){p.progress_indicator=new s})},o.prototype.do_jquery_lookups=function(){this.$tab_loading=$(\"#tab-loading\"),this.$results_template=$(\"#results-template\"),this.$results_area=$(\"#results-area\"),this.$header=$(\"#header\"),this.$both_headers=$(\"#header, #hipheader\"),this.$body=$(\"body\"),this.$white_sep=$(\"#results-search .white-sep\"),this.$tip_texts=$(\"#tip-texts\"),this.$hip_is_great=$(\"#hipmunk-is-great\"),this.$results_tabs=$(\"#results-tabs\"),this.$fake_hotel_tab=$(\"#tab-hotel\"),this.$signup_harass=this.$both_headers.find(\".signup-harass\"),this.$mapquest_tab=$(\"#tab-mapquest\")},o.prototype.setup_handlers=function(){var t,a=this;o.__super__.setup_handlers.apply(this,arguments),t=$(window),t.on(\"message\",function(t){var e,s,i,r;if(s=null!=(r=t.originalEvent)?r.data:void 0,s&&\"string\"==typeof s)switch(s){case\"house_hotel_click\":if(e=a.active_tab.tab_params,!e||\"hotel\"===e.kind)return;i=a.add_hotel_tab_from_flight_tab(a.active_tab),hm.utils.track(\"hotel_house_ad_click\",\"Hotels\",{hotel_city:i.tab_params.locations[0]})}}),this.$results_tabs.on(\"click\",\"li.tab\",function(t){var e,s,i;if(!t.isPropagationStopped()){if(s=$(t.currentTarget).cdata(\"tab\"),\"mapquest\"===s)return hm.utils.track(\"mapquest_tab_clicked\"),location.href=a.mapquest_linkback_url,void 0;e=a.get_tab_by_tab_id(s),e.id!==a.active_tab.id&&(e.switch_count=(null!=(i=e.switch_count)?i:0)+1,hm.utils.track(\"tab_switch\",e.classname,{to:e.classname,from:a.active_tab.classname,switch_count:e.switch_count}),a.select_tab(e),a.update_url())}}),this.$results_tabs.on(\"click\",\"li.tab div.close\",function(t){var s,i;i=$(t.currentTarget).closest(\"li.tab\").cdata(\"tab\"),s=a.get_tab_by_tab_id(i),s instanceof e&&(s.active=!1),a.remove_tab(s),a.update_url(),$.close_popups(),t.stopPropagation(),s instanceof e&&a.update_ui(),$.hipmunk.utils.track(\"tab_close\",\"Close\",{tab:s.classname})}),this.$results_tabs.on(\"click\",\".edit-search\",function(){a.active_tab.edit_search_toggle()}),this.$fake_hotel_tab.on(\"click\",this.on_click_fake_hotel_tab),this.$both_headers.on(\"click\",\".js-homepage-tab\",function(t){var e,s;t.preventDefault(),e=$(t.currentTarget),s=e.attr(\"href\").slice(1),a.add_tab(a.get_landing_search_tab({kind:s}).serialize())})},o.prototype.get_serializeable_tabs=function(){var t;return function(){var a,s,i,n;for(i=this.tabs,n=[],a=0,s=i.length;s>a;a++)t=i[a],(!(t instanceof r)||t instanceof e)&&n.push(t);return n}.call(this)},o.prototype.get_loading_tabs=function(){var t;return function(){var e,s,i,r;for(i=this.tabs,r=[],e=0,s=i.length;s>e;e++)t=i[e],t instanceof a&&r.push(t);return r}.call(this)},o.prototype.on_click_fake_hotel_tab=function(t){var e;t.stopPropagation(),this.add_tab(this.fake_hotel_tab_params),this.$fake_hotel_tab.hide(),e=this.fake_hotel_tab_params.locations[0],hm.utils.track(\"hotel_search_tab_suggestion\",\"Hotels\",{hotel_city:e})},o.prototype.show_fake_hotel_tab=function(t,e,a){null!=t&&(this.fake_hotel_tab_params=t,this.show_detailed_hotel_tab&&a?this.$fake_hotel_tab.find(\".flex-wrapper\").html(a):this.$fake_hotel_tab.find(\".flex-wrapper\").html(e),this.$fake_hotel_tab.show(),this.resize_tabs())},o.prototype.type_to_tab_class=function(t){return this._type_dict||(this._type_dict={hotel:NewHotelTab,calendar:CalendarTab,flight:FlightTab}),this._type_dict[t]},o.prototype.prepopulate_initial_search=function(t){var e,a,s,r,n;for(e=this.get_landing_search_tab(t),n=this.tabs,s=0,r=n.length;r>s;s++)a=n[s],this.remove_tab(a);this.tabs=[this.add_tab(e.serialize(),i)],this.select_tab(e),this.update_ui(),(t.dates.length>0||t.locations.length>0)&&(t.kind=t.kind.replace(\"s-search\",\"\"),e.select_form(t))},o.prototype.create_loading_tab=function(t,e){var s,i,r,n,o;return r=(null!=e?e:{}).reason,o=this.new_tab_id(),i=this.$tab_loading.clone(),i.attr(\"id\",\"tab-\"+o),i.removeClass(\"nodisplay\"),s=this.$results_template.clone(),s.attr(\"id\",\"results-\"+o),this.$results_template.before(s),n=new a(o,t),this.tabs.push(n),\"hotel\"!==t.kind?$.ajax({url:\"/createtab\",data:{tab_id:o,search_params:JSON.stringify(t),editable:!0,reason:r},error:function(){return s.children(\"div.errorbox\").show()}}):$.ajax({url:\"/create_hotel_tab\",data:{tab_id:o,search_params:JSON.stringify(t),reason:r},error:function(){return s.children(\"div.errorbox\").show()}}),[n,i]},o.prototype.tab_loaded=function(t,e,a,s,i){this.loaded_tabs.push(t),this.loaded_tab_hotel_params=a,1===this.tabs.length&&\"hotel\"!==e?this.show_fake_hotel_tab(a,s,i):this.$fake_hotel_tab.hide(),this.reselect_tab()},o.prototype.create_tab=function(t,e,a){var s,i,r,n,o;return null!=this.loaded_tab_hotel_params&&(a=_.extend({},a,{hotel_tab_params:this.loaded_tab_hotel_params}),this.loaded_tab_hotel_params=null),$.hipmunk.main_finished?(s=this.type_to_tab_class(e),i=this.get_tab_by_tab_id(t),null!=i&&(n=this.tabs.indexOf(i),o=i.serialize(),r=new s(t,o,a),this.tabs[n]=r,this.reselect_tab(),this.active_tab===i&&this.set_active(r),0===this.get_loading_tabs().length&&this.save_searches(),this.resize_tabs()),void 0):(this.queued_tabs.push(arguments),this.resize_tabs(),void 0)},o.prototype.create_queued_tabs=function(){var t,e,a,s,i,r=this;for(i=this.queued_tabs,e=function(t){return set_timeout(0,function(){return r.create_tab.apply(r,t)})},a=0,s=i.length;s>a;a++)t=i[a],e(t);this.queued_tabs=[]},o.prototype.show_error_tab=function(){this.reselect_tab(),this.resize_tabs()},o.prototype.get_landing_search_tab=function(t){var e,a,s;return e=t.kind,s=t.locations,a=_.any(s)?\"-custom\":\"\",e=e.replace(\"-custom\",\"\").replace(\"-search\",\"\"),e=\"hotels\"===e||\"hotel\"===e?\"hotel\":\"flight\",this.landing_search_tabs[e+a]},o.prototype.activate_landing_search_tab=function(t){var e;t.active=!0,1===this.tabs.length&&this.tabs[0]instanceof r&&(this.tabs[0].remove(),this.tabs.length=0),this.tabs.push(t),e=$(\"#tab-\"+t.id).removeClass(\"hidden\"),this.$results_tabs.append(e)},o.prototype.deactivate_landing_search_tab=function(t){var e;e=this.get_landing_search_tab({kind:t}),e.active&&(e.active=!1,$(\"#tab-\"+e.id).addClass(\"hidden\"),this.tabs=hm.utils.remove(this.tabs,e))},o.prototype.add_tab=function(t,e){var a,s,i,r,n,o,_,h;return _=null!=e?e:{},n=_.select,i=_.reason,null==n&&(n=!0),t.landing?(s=this.get_landing_search_tab(t),s.active||(this.activate_landing_search_tab(s),r=this.landing_page_recent_search(t.kind),r&&s.select_form(r)),n&&(this.select_tab(s),this.update_url(),this.update_ui()),s):(t=this.cleaned_tab_params(t),o=this.get_tab_by_params(t),o?(a=$(\"#tab-\"+o.id),a.remove()):(h=this.create_loading_tab(t,{reason:i}),o=h[0],a=h[1]),this.$fake_hotel_tab.before(a),n&&(this.deactivate_landing_search_tab(t.kind),this.select_tab(o),this.update_url()),this.$signup_harass.hide(),o)},o.prototype.set_active=function(t){var e,a;show_country_dropdown(),set_country(null!=t?t.country:void 0,null!=t&&!(t instanceof r)),t!==this.active_tab&&(null!=(e=this.active_tab)&&\"function\"==typeof e.on_deactivate&&e.on_deactivate(),this.active_tab=t,null!=(a=this.active_tab)&&\"function\"==typeof a.on_activate&&a.on_activate())},o.prototype.switch_tab=function(t){$(\"#tab-\"+t.id).selectButton(\".tab\"),$(\"#results-\"+t.id).show().siblings().hide()},o.prototype.select_tab=function(t){return null==t?this.select_tab(this.search_tab):(this.switch_tab(t),this.set_active(t),t.refresh(),void 0)},o.prototype.scroll_adjustments=function(){this.active_tab.adjust_for_scroll()},o.prototype.update_ui=function(t){var e,a,s,i;a=this.tabs.length>1||null!=this.tabs[0]&&!(this.tabs[0]instanceof r),this.$white_sep.toggle(a),this.$body.toggleClass(\"tabs-mode\",a),this.$header.toggleClass(\"m-fixed-size\",!a),this.$tip_texts.toggle(!a),this.$hip_is_great.toggle(!a),a&&(e=this.$header.offset().top+this.$header.outerHeight(),null==this.active_tab.update_header&&this.$results_area.css(\"position\",\"absolute\").css(\"top\",e),null!=(i=this.active_tab.sidebar)&&i.set_top(),\"mapquest\"===this.query_referer&&($.hipmunk.utils.track(\"mapquest_tab_shown\"),this.$mapquest_tab.removeClass(\"hidden\"))),\"function\"==typeof(s=this.active_tab).update_header&&s.update_header(t),this.resize_tabs()},l=[\"padding-left\",\"padding-right\",\"border-left-width\",\"border-right-width\"],o.prototype.resize_tabs=function(){var t,e,a,s,i;t=this.$results_tabs.find(\".tab\").filter(\":visible\"),a=\".3\",i=100-(t.length-1)*a,s=t.length-1,e=i/s,t.each(function(t,e){var a,s,i,r,n,o;for(a=$(e),s=a.find(\".flex-option:last-child .flex-content\").width(),r=0,n=0,o=l.length;o>n;n++)i=l[n],r+=c(a.find(\".tab-border\").css(i))||0;return r+=1,a.css(\"max-width\",s+r+\"px\")}),t.css({\"margin-right\":a+\"%\",width:e+\"%\"}),t.last().css({width:e+\"%\",\"margin-right\":\"0\"})},o.prototype.add_hotel_tab_from_flight_tab=function(t){var e,a,s,i,r;return a=hm.utils.deepcopy(t.tab_params),a.kind=\"hotel\",a.locations=a.locations.slice(-1),e=null!=(i=t.search)?i.groups:void 0,(null!=e?null!=(r=e[0].to_loc)?r.display_name:void 0:void 0)&&(s=e[0].to_loc.display_name,a.locations=[s.replace(\",\",\"\")]),a.selected_flights=[],this.add_tab(a)},o}(h),hm[\"export\"]({urls:{WebUrlManager:l}})}.call(this);\n!function(){var t,e,s=function(t,e){return function(){return t.apply(e,arguments)}},i={}.hasOwnProperty,o=function(t,e){function s(){this.constructor=t}for(var o in e)i.call(e,o)&&(t[o]=e[o]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};window.Sidebar=function(t){function e(t,i){this.type=t,this.tab=i,this.set_top=s(this.set_top,this),e.__super__.constructor.call(this),this.$el.addClass(\"sidebar-box \"+this.type+\"-sidebar-box\"),this.spacer_classes=\"sidebar-spacer \"+this.type+\"-sidebar-spacer\"}return o(e,t),e.is_enabled=function(){return!0},e.prototype.show=function(){return this.$el.is(\":empty\")&&this.render(),this.appendTo(\"body\"),this.set_top()},e.prototype.hide=function(){return this.$el.detach()},e.prototype.set_top=function(){return this.$el.css(\"top\",this.tab.get_content_top())},e}($.hipmunk.View),window.BizclassSidebar=function(e){function i(){return this.set_top=s(this.set_top,this),this.scroll=s(this.scroll,this),this.update_cal_top=s(this.update_cal_top,this),t=i.__super__.constructor.apply(this,arguments)}return o(i,e),i.prototype.MIN_TOP=12,i.is_enabled=function(){return $.hipmunk.bizclass_sidebar_enabled&&$.hipmunk.trip_planner_enabled},i.prototype.render=function(){},i.prototype.attach_cal_overlay=function(){var t;if(this.cal_attached)return t=this.tab.$event_overlay,t.data(\"old_parent\",t.parent()),t.detach(),this.$el.append(t),this.tab.$event_overlay.css(\"left\",-6).css(\"width\",\"auto\")},i.prototype.update_cal_top=function(){var t;if(this.cal_attached)return t=this.$el.find(\"#manage-trips-popup\"),this.tab.$event_overlay.css(\"top\",t.height()+15)},i.prototype.detach_cal_overlay=function(){var t;if(this.cal_attached)return t=this.tab.$event_overlay,this.tab.$event_overlay.detach(),t.data(\"old_parent\").append(t),t.css(\"top\",\"\").css(\"left\",\"\").css(\"width\",\"\")},i.prototype.show=function(){i.__super__.show.call(this),this.$el.is(\":empty\")&&(trip_planner.popup.attach_to_sidebar(this),this.tab instanceof NewHotelTab&&(this.cal_attached=!0,this.attach_cal_overlay()))},i.prototype.hide=function(){this.$el.is(\":empty\")||(trip_planner.popup.detach_from_sidebar(this),this.tab instanceof NewHotelTab&&this.detach_cal_overlay()),i.__super__.hide.call(this)},i.prototype.scroll=function(){this.set_top()},i.prototype.set_top=function(){var t;t=Math.max(this.MIN_TOP,this.tab.get_content_top()-$(document).scrollTop()),this.$el.css(\"top\",t),this.cal_attached&&this.update_cal_top()},i}(Sidebar),window.AdsSidebar=function(t){function i(){return this.set_top=s(this.set_top,this),this.scroll=s(this.scroll,this),e=i.__super__.constructor.apply(this,arguments)}return o(i,t),i.is_enabled=function(){return $.hipmunk.dfp.ads_on()},i.prototype.show=function(){i.__super__.show.call(this),this.$el.find(\".ads\").addClass(\"hidden\"),$.hipmunk.dfp.display_flight_ads(this.tab)},i.prototype.render=function(){var t;return t=$.hipmunk.dfp.get_slot_group(\"flights\"),this.render_drykup($.templates.ads_sidebar_box(t))},i.prototype.hide=function(){i.__super__.hide.call(this),$.hipmunk.dfp.clear_timeout()},i.prototype.scroll=function(){this.set_top()},i.prototype.adjust_position=function(t,e){this.$el.css(\"position\",t),this.$el.css(\"top\",e)},i.prototype.set_top=function(){var t,e,s,i,o,n,r,a;return i=this.tab.get_content_top(),n=$(document).scrollTop(),r=i-n,this.$el.is(\":visible\")?(0>=r?(this.adjust_position(\"fixed\",0),a=$(window).height(),t=this.$el.autoOuterHeight(!0),e=t-a,e>0&&(o=(n-i)/($(document).height()-a),s=e*o,i=-s,this.adjust_position(\"fixed\",i))):this.adjust_position(\"absolute\",i),void 0):(this.$el.css(\"top\",0),void 0)},i}(Sidebar)}.call(this);\n!function(){var t,i,e,n=function(t,i){return function(){return t.apply(i,arguments)}},o={}.hasOwnProperty,a=function(t,i){function e(){this.constructor=t}for(var n in i)o.call(i,n)&&(t[n]=i[n]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t};i=hm.widgets.SearchForm,t=700,e=function(t,i,e){var n;return n=i.innerText,$.hipmunk.utils.ga_track(t+\"Book\",\"ClickButton\",n,e),record_activity(\"book\")},window.click_flight_book=function(t,i,n,o,a){return e(\"Flight\",t,i),adroll_event(\"hipmunk_button\"),$.hipmunk.utils.track(\"flight_book\",\"Flight\",{price:i,currency:n,position:\"\"+(o+1)+\" out of \"+a}),track_flight_book()},window.click_hotel_book=function(t,i,n,o,a,l,r){var s,c,u;return e(\"Hotel\",t,i),adroll_event(\"hotel_conversion\"),s={price:i,currency:n,source:o,position:a,provider:l,booking_label:r},null!=(null!=(c=$.hipmunk.url)?null!=(u=c.active_tab)?u.map_mode:void 0:void 0)&&(s.map_mode=$.hipmunk.url.active_tab.map_mode?\"large_map\":\"small_map\"),$.hipmunk.utils.track(\"hotel_book\",\"Hotel\",s),\"function\"==typeof track_hotel_book?track_hotel_book():void 0},window.BookingOverlay=function(){function e(t,i){this.tab=t,this.$container=i,this.show_email_section=n(this.show_email_section,this),this.$booking_box=null,this.$tooltip=null,this.setup_handlers()}return e.prototype.setup_handlers=function(){var i=this;return this.$container.on(\"click\",\".details-link\",function(t){$(t.currentTarget).closest(\".info-panels\").find(\".details\").show().end().find(\".overview, .title, .details-link\").hide(),$.hipmunk.utils.track(\"flight_booking_details\",\"Flight Booking Popup\")}),this.$container.delegate(\"a.search-hotel\",\"click\",function(){$.hipmunk.url.add_hotel_tab_from_flight_tab(i.tab),Lightbox.close_current()}),this.$container.on(\"click\",\".mail-link\",this.show_email_section),this.$container.on(\"onpaste keydown\",\"#mail-message\",function(){i.$container.find(\".reset-itin-mail\").show()}),this.$container.on(\"click\",\".send-itin-mail\",function(){var t,e;e=i.$container.find(\".from-email-area\").val(),e=e&&\"your email\"!==e?e:void 0,t=i.$container.find(\".mail-email-area\").val(),t=t&&\"their email\"!==t?t:void 0,$.hipmunk.user.email=e,$.hipmunk.user.last_shared_email=t}),this.$container.on(\"click\",\".reset-itin-mail\",function(t){var e;t.preventDefault(),i.$container.find(\".success-status\").hide(),e=i.$container.find(\"#mail-itin-\"+i.tab.id),e.data(\"message-body\")&&e.find(\"#mail-message\").val(e.data(\"message-body\")),$(t.currentTarget).hide()}),this.$container.on(\"click\",\".cancel-itin-mail\",function(e){e.preventDefault(),i.$container.find(\".info-panels\").find(\".overview, .title, .details-link\").fadeIn(t).end().find(\".mail-panel\").hide(),i.$container.hasClass(\"standalone\")&&Lightbox.close_current()}),this.$container.delegate(\".social-icons a\",\"click\",function(t){var i,e,n;t.preventDefault(),i=$(t.currentTarget),n=i.attr(\"href\"),e=window.open(n,\"\",\"height=300,width=500\"),e.focus(),$.hipmunk.utils.track(\"social_click\",\"Results\",{title:i.attr(\"title\")})}),this.$container.on(\"click\",\"a.icon-link\",function(t){var i;return i=$(t.currentTarget),-1!==i.attr(\"title\").indexOf(\"Outlook\")?$.hipmunk.utils.track(\"add_to_calendar\",\"outlook-download\"):-1!==i.attr(\"title\").indexOf(\"iCal\")?$.hipmunk.utils.track(\"add_to_calendar\",\"iCal-download\"):void 0}),this.$container.on(\"click\",\".add-itin-to-trip .trip-add\",function(t){trip_planner.handle_add_flights_to_traveler(t,i.tab,i.itin),t.stopPropagation()}),this.$container.on(\"click\",\".booking-fees a\",function(){return $.hipmunk.utils.track(\"flight_bag_fees\",\"click\")}),this.$container.on(\"click\",\".gcal-button\",function(t){var e,n,o;e=$(t.currentTarget),n=e.find(\".gcal_icon\"),o=new CalendarAdder(i.itin,i.flight_data),$.hipmunk.show_gcal_dropdown(i.$buybox.find(\".gcal-popup\"),n,i.tab,o)})},e.prototype.show=function(t,i,e){var n;return this.flight_data=t,this.itin=i,this.calendar_adder=new CalendarAdder(this.itin,this.flight_data),this.$buybox=$(drykup.render($.templates.flight_buybox(this.tab,this.itin,this.flight_data,this.calendar_adder))),new Lightbox(\"flight_book\",this.$buybox,this.$container).show(),this.$buybox.find(\".search-hotel .flex-wrapper\").sortChildrenByWidth(\".flex-content\"),this.$buybox.css({\"margin-left\":-this.$buybox.outerWidth()/2}),null!=e&&(n={group_num:e,price_shown:Math.round(this.itin.price)},$.hipmunk.utils.track(\"flight_booking_popup\",\"Book\",n)),adroll_event(\"hipmunk_conversion\")},e.prototype.show_email_section=function(){var e,n;e=this.$container.find(\"#mail-itin-\"+this.tab.id),e.data(\"intialized\")||(new i(e),e.data(\"intialized\",!0),e.data(\"message-body\",e.find(\"#mail-message\").val())),n=this.$container.find(\".info-panels\"),n.find(\".mail-panel\").fadeIn(t).end().find(\".overview, .title, .details, .details-link\").hide()},e}(),window.BookingSlideout=function(){function t(t){this.tab=t}return t.prototype.show=function(t,e){var n,o,a,l,r=this;return a=new CalendarAdder(e,this.tab.flight_data),o=$(drykup.render($.templates.booking_slideout(e,this.tab,a))),n=o.find(\"#share-flight-form-\"+this.tab.id),n.data(\"success\",function(){var t;return t=n.closest(\".slideout-box\"),t.addClass(\"show-share-success\"),n.slideUp(200,function(){return t.removeClass(\"show-share-form\"),n.css(\"display\",\"\")}),n.find(\"#to_email-\"+r.tab.id).val(\"\")}),t.addClass(\"slideout\"),t.find(\".slideout-container\").replaceWith(o),new i(n),$.hipmunk.utils.track(\"flight_slideout_open\"),l=this.tab.did_content_init?0:1e3,set_timeout(l,function(){var t,i,e,n,a;return a=$(window).scrollTop(),n=$(window).height(),e=o.offset().top,i=o.height(),e+i>a+n?(t=e-.5*Math.abs(i-n),$(\"html, body\").animate({scrollTop:t})):a>e?(t=e,$(\"html, body\").animate({scrollTop:t})):void 0})},t}(),window.HotelUpsellLightbox=function(t){function i(){i.__super__.constructor.call(this,\"hotel_upsell_box\"),this.setup_handlers()}return a(i,t),i.prototype.nearby_hotels=null,i.prototype.tab=null,i.prototype.setup_handlers=function(){var t=this;return this.on_close.add(function(){return hm.utils.track(\"hotel_upsell_close\",\"hotel_upsell\")}),this.$container.on(\"click\",\".hotel-upsell-modal__see-all-hotels, .hotel-upsell-modal__top-content\",function(){t.close(),$.hipmunk.url.add_hotel_tab_from_flight_tab(t.tab)}),this.$container.on(\"click\",\".hotel-upsell-modal__hotel-boxes a\",function(){hm.utils.track(\"hotel_upsell_hotel_click\",\"hotel_upsell\")}),this.$container.on(\"click\",\".hotel-upsell-modal__see-all-hotels, .hotel-upsell-modal__top-content\",function(){hm.utils.track(\"hotel_upsell_see_all_hotels_click\",\"hotel_upsell\")}),this.$container.one(\"mousemove\",function(){hm.utils.track(\"hotel_upsell_view\",\"hotel_upsell\")})},i.prototype.show=function(){var t,e;return e=$(drykup.render($.templates.hotel_upsell_modal(this.nearby_hotels,this.tab.search.groups))),t=new AppHeaderedBox(\"hotel-upsell-modal m-smaller\"),t.set_content(e),t.set_header({title:\"Need a hotel?\"}),this.$content=t.$el,hm.components.MiniHotelModule.init(t.$el),i.__super__.show.apply(this,arguments)},i}(Lightbox),$.hipmunk.show_gcal_dropdown=function(t,i,e,n){var o,a,l,r,s;return l=function(t){return i.removeClass(\"loading-state success-state failure-state init-tooltip\"),t?(i.addClass(t+\"-state\"),\"success\"===t?(i.addClass(\"init-tooltip\"),i.find(\".tooltip-text\").text(\"The flight information has been added to your calendar!\")):(i.addClass(\"init-tooltip\"),i.find(\".tooltip-text\").text(\"An error occurred adding the events to your calendar.\"))):void 0},r=new Spinner({color:\"#666\",lines:10,length:3,width:2,radius:3}),s=function(){return r.stop(),l(\"success\")},a=function(){return r.stop(),l(\"failure\")},l(null),o=$.make_container(),o.on(\"click\",\".add-to-gcal-via-api\",function(t){var i;return i=$(t.currentTarget).data(\"calendar-id\"),n.ajax_add_via_google_api(i,s,a),$.close_popups(),r.spin($icon[0]),l(\"loading\"),$.hipmunk.utils.track(\"add_to_calendar\",\"google-api\")}),o.on(\"click\",\"a.add-event\",function(){return $.hipmunk.utils.track(\"add_to_calendar\",\"google-link\")}),t.html(drykup.render($.templates.gcal_button_dropdown(e,n))),$.show_popup(t,o),$.hipmunk.utils.track(\"open_gcal_popup\")}}.call(this);\n!function(){var e,n,t,i,r,u,a,o,s,c=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};s={},r=function(e){var n;return e=$.hipmunk.utils.deepcopy(e),e.dates=function(){var i,r,u,a;for(u=e.dates,a=[],i=0,r=u.length;r>i;i++)n=u[i],a.push(t(n));return a}(),e.range=i(e.range),e},t=function(e){var n,t,i,r,u;return null!=e&&(t=e.match(/([A-Za-z]+)(\\d+)(.*)/),t&&(u=t[0],i=t[1],n=t[2],r=t[3],e=\"\"+i+\" \"+n,r&&(e+=(\" \"+r).replace(/m/g,\"-\").replace(/p/g,\"+\")))),e},i=function(e){return null!=e&&(e=e.replace(/(\\d+)/,\"$1 \").replace(/m/g,\"-\").replace(/p/g,\"+\")),e},o=function(e){return e&&$.hipmunk.use_recent},e=[2,5,8,15,20],a=function(n){var t;null==$.hipmunk.use_main_js||n||(t=get_activity(\"visit\"),c.call(e,t)<0||$.hipmunk.url&&1!==$.hipmunk.url.tabs.length||$(\"#header\").find(\".signup-harass\").delay(750).fadeIn(750).delay(3e3).fadeOut(750))},n=function(){var e;return record_activity(\"visit\"),e=get_activity_registered(),a(e),e?adroll_event(\"registered_user\"):void 0},u=function(){\" see if we have a top message cookie otherwise\\ncheck if we need to send any user specific messages \";var e;return e=$.cookie(\"hm_message\"),e?show_top_message(e):void 0},$.hipmunk.update_recent_searches=function(){var e;return e=$.hipmunk.set_recent_searches($.hipmunk.saved_searches||[])},$.hipmunk.set_recent_searches=function(e){var n,t,i,u,a,o,c,h;for(i=[],n=null,t=o=0,c=e.length;c>o;t=++o)u=e[t],\"{\"===u[0]&&(a=JSON.parse(u),null!=a&&(a=r(a),s[t]=a,i.push(a),n||(n=a)));return i.length>0?$.hipmunk.saved_searches=i:(null!=(h=$.hipmunk.saved_searches)?h.length:void 0)>0&&\"object\"==typeof $.hipmunk.saved_searches[0]&&(n=$.hipmunk.saved_searches[0]),n},window.accounts_init=function(){var e,t,i,r,a,s,c;return i=$(document.body),e=$(\"#header\").find(\".account-menu\"),u(),$.hipmunk.logged_in?(a=e.find(\".signed-in\"),t=e.find(\".account-popup\"),a.find(\".button-text\").text($.hipmunk.user.email),t.find(\".am-user\").text($.hipmunk.user.email)):a=e.find(\".signed-out\"),r=$(\"#gift-popup\").find(\".not-registered\"),$.hipmunk.logged_in?r.remove():r.show(),a.removeClass(\"hidden\").show(),s=$.hipmunk.update_recent_searches(),o(s)&&!(null!=(c=$.hipmunk.frontpage)?c.is_open():void 0)&&select_form(s),$.hipmunk.frontpage.toggle_animation(!0),i.on(\"click\",\".google-auth-button, .google-button-area\",function(e){$.hipmunk.utils.popup_window(\"/google/calendar-login-redirect\",500,500),$.hipmunk.google_auth_complete=function(){return $.reload()},e.stopPropagation(),$.hipmunk.utils.track(\"overlay_google_calendar\")}),n()}}.call(this);\n!function(){var e,t,n,r,i,o,a,u,c,s,l,f,m,p,d,h,g,b,v,y,x,k,w,z,Y,S,H,B,C,D,E,T,A=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};T=window.drykup,v=T.render,i=T.div,k=T.span,w=T.table,C=T.thead,z=T.tbody,D=T.tr,Y=T.td,B=T.th,S=T.text,H=T.textarea,r=T.button,s=T.hr,l=T.iframe,b=T.raw,e=T.a,n=T.br,t=T.b,f=T.img,p=T.label,o=T.form,m=T.input,E=T.ul,d=T.li,u=T.h1,c=T.h2,x=T.select,h=T.option,g=T.p,y=T.script,$.templates.manage_trips_box=function(){return i(\"#manage-trips-popup.newbox\",function(){return i(\".r.header\",function(){return i(\".x\"),i(\".sliced_bizmunk\"),i(\".biz_logo\")}),i(\".lightbox-content\",function(){return i(\".details-column\"),i(\".sidebar-column\")})})},$.templates.sidebar_item_with_type=function(e,t,n,r){var i;return i=\".item-\"+e,e===n&&(i+=\".selected\"),$.templates.sidebar_item(i,t,r)},$.templates.sidebar_item=function(e,t,n){var r;return r=\"z-index:\"+n+\";\",i(\".sidebar-item\"+e,{style:r},function(){return i(\".icon\",function(){return i(\".img\")}),i(\".text-container\",function(){return i(t)})})},$.templates.sidebar_traveler_overview=function(e){return i(\".traveler-overview\",function(){var t,n,r,o,a,u,c;if($.hipmunk.utils.dict_size(e.groups)){for(a=trip_planner.sort_groups(e.groups),c=[],r=0,o=a.length;o>r;r++)u=a[r],t=u[0],n=u[1],c.push(i(\".decision\",function(){var e,t,r,o;inline_img(\".decision-icon.\"+n.type),i(\".decision-name\",function(){return i(function(){return $.templates.decision_name(n)})}),i(\".size-icon\",function(){return S($.hipmunk.utils.dict_size(n.choices))}),r=!1,o=n.choices;for(e in o)t=o[e],r|=t.chosen;return r?i(\".chosen-icon\"):void 0}));return c}return i(\".no-decisions\",function(){return S(\"No trip decisions\")})})},$.templates.biz_class_sidebar=function(e,t,n){var r,o,a,u,c,s,l,f,m,p,d,h;if(s=999,$.templates.sidebar_item_with_type(\"new-traveler\",\"Add Traveler\",t,s--),_.isString(e))i(\".traveler-overview.status\",function(){return S(e)});else for(l=0,m=e.length;m>l;l++)a=e[l],r=\".item-traveler.traveler_id-\"+a.id,a.id!==n||\"traveler\"!==t&&\"edit-traveler\"!==t&&null!==t||(r+=\".selected\"),$.templates.sidebar_item(r,a.name,s--),a.id===n&&$.templates.sidebar_traveler_overview(a);for(o=[[\"invite\",\"Invite People\"],[\"subscription\",\"Subscription\"],[\"help\",\"Help\"]],h=[],f=0,p=o.length;p>f;f++)d=o[f],c=d[0],u=d[1],h.push($.templates.sidebar_item_with_type(c,u,t,s--));return h},$.templates.traveler_list_items=function(t,n){var r,o,a,u,c;if($.hipmunk.utils.dict_size(t)){for(c=[],a=0,u=t.length;u>a;a++)o=t[a],r=n===o?\".selected\":\"\",c.push(e(\".sidebar-list-item\"+r,function(){return i(\".main-content\",function(){var e;return S(null!=(e=o.name)?e:\"New Traveler\")}),i(\".secondary-content\",function(){var e,t,n,r,a,u,c;for(a=trip_planner.sort_groups(o.groups),c=[],n=0,r=a.length;r>n;n++)u=a[n],e=u[0],t=u[1],c.push(i(function(){var e,n,r,i;S(t.name),r=!1,i=t.choices;for(e in i)n=i[e],r|=n.chosen;return r?inline_img(\".icon\"):void 0}));return c})}));return c}return i(\".no-travelers\",\"No travelers\")},$.templates.no_travelers=function(){return i(\".no-travelers-content.details-content\",function(){return i(\".yield\",function(){return S(\"You haven't created any travelers.\"),n(),S(\"Create a traveler or run a search to get started.\")})})},$.templates.traveler_details=function(t){return i(\".traveler-details\",function(){var n,r,o,a,u,c,s,l,f;if(i(\".traveler-section.traveler-info\",function(){return i(\".section-icon\"),i(\".section-content\",function(){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".labeled-data\",function(){return i(\".label\",\"TRAVELER\"),i(\".value\",t.name)}),i(\".clear\")}),i(\".email\",t.email)})}),i(\".section-link\",function(){return e(\"\",\"Edit Traveler\")})}),$.hipmunk.utils.dict_size(t.groups)){for(s=trip_planner.sort_groups(t.groups),f=[],u=0,c=s.length;c>u;u++)l=s[u],r=l[0],o=l[1],n=\".traveler-section.decision-section.g-\"+r,\"flights\"===o.type?(a=$.templates.traveler_group_flights,n+=\".flight-decision\"):\"hotels\"===o.type&&(a=$.templates.traveler_group_hotels,n+=\".hotel-decision\"),f.push(i(n,function(){return i(\".section-icon\"),i(\".section-content\",function(){return a(t,r,o)}),i(\".section-link\",function(){return e(\"\",{title:\"Delete this decision and all of the choices in it\"},\"Delete\")})}));return f}return i(\".traveler-section.no-decisions\",function(){return i(\".section-icon\"),i(\".section-content\",function(){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".section-title\",\"Add some flights or hotels\"),i(\".section-description\",function(){return S(\"Search to start planning trips for \"+t.name+\".\")})}),i(\".button-container\",function(){return i(\".small-button.search-flight\",function(){return inline_img(\".icon\"),S(\"Search for flights\")}),i(\".small-button.search-hotel\",function(){return inline_img(\".icon\"),S(\"Search for hotels\")})})})})})})},$.templates.decision_name=function(e){return\"flights\"===e.type?$.templates.flight_decision_name(e):\"hotels\"===e.type?$.templates.hotel_decision_name(e):void 0},$.templates.flight_decision_name=function(e){var t,n,r,i,o,a,u,c,s,l;i=[],u=[],c=e.choices;for(n in c)t=c[n],a=t.legs,r=a[0],o=a[a.length-1],s=r.from_code,A.call(i,s)<0&&i.push(r.from_code),l=o.to_code,A.call(u,l)<0&&u.push(o.to_code);return S(i[0]+(i.length>1?\"...\":\"\")),inline_img(\".arrow\"),S(u[0]+(u.length>1?\"...\":\"\"))},$.templates.hotel_decision_name=function(e){return e.city?S(e.city):0===e.name.indexOf(\"Hotels in \")?S(e.name.substr(10)):S(e.name)},$.templates.traveler_group_flights=function(e,t,n){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".labeled-data\",function(){return i(\".label\",\"TRIP\"),i(\".value\",function(){return $.templates.flight_decision_name(n)})}),i(\".labeled-data\",function(){return i(\".label\",\"DEPARTING\"),i(\".value\",function(){return $.templates.range_for_flight_group(n)})}),i(\".clear\"),$.templates.traveler_decision_send_button(t,e)}),i(\".choices\",function(){var e,t,r,o,a,u,c,s,l,m;for(o=trip_planner.calc_header(n),f({src:trip_planner.img_header(o),height:25,width:500}),r=function(e,t){return t.legs[0].depart_sec},s=$.hipmunk.utils.sort_dict(n.choices,r),m=[],a=u=0,c=s.length;c>u;a=++u)l=s[a],e=l[0],t=l[1],m.push(i(\".choice.ch-\"+e,function(){return i(\".choice-top\",function(){return i(\".bar\",function(){return f({src:trip_planner.img_routing(a,t,o),height:29,width:500}),$.templates.expand_button()}),$.templates.bizclass_choice_buttons(t)}),i(\".choice-details\",function(){return $.templates.flight_choice_details(t),$.templates.flight_choice_buttons(t)})}));return m})})},$.templates.expand_button=function(){return i(\".expand-button\",function(){return i(\".chevron\")})},$.templates.flight_choice_details=function(e){var n,r,o,a,u,c,s,l;for(a=null,s=e.legs,l=[],r=u=0,c=s.length;c>u;r=++u)o=s[r],a&&(n=duration(o.depart_sec,a.arrive_sec),i(\".layover\",function(){return k(\".time.total\",n),k(\".layoverlabel\",\" layover in \"),k(\".place\",o.from_city),a.to_code!==o.from_code?i(\".airport-switch\",function(){return t(\"Airport Switch\"),\" From \"+a.to_code+\" to \"+o.from_code}):void 0})),i(\".flight-info\",function(){return k(\".flight-name\",o.flight_name),S(\" in \"+o.cabin_str+\" on a \"),k(\".flight-equipment\",o.equipment[0]),o.wifi?inline_img(\".wifi\"):void 0}),o.marketing_name&&i(\".flight-info\",function(){return t(\"*\"),S(\" marketed by \"+o.marketing_name)}),i(\".flight-time\",function(){var e;return e=function(e,t){var n;return n=$.hipmunk.utils.tz_fix(new Date(1e3*e),$.hipmunk.utils.parse_offset(t)),$.hipmunk.utils.pretty_time(n)},i(function(){return k(\".time\",function(){return b(e(o.depart_sec,o.depart))}),S(\" \"),k(\".place\",\"\"+o.from_city+\" (\"+o.from_code+\")\")}),i(\".duration\",function(){return inline_img(\".down-arrow\"),k(\"(\"+$.trim(duration(o.arrive_sec,o.depart_sec))+\")\")}),i(function(){return k(\".time\",function(){return b(e(o.arrive_sec,o.arrive))}),S(\" \"),k(\".place\",\"\"+o.to_city+\" (\"+o.to_code+\")\")})}),l.push(a=o);return l},$.templates.flight_choice_buttons=function(t){return i(\".info-space\",function(){var t;return t={href:\"javascript:;\"},e(\".small-button.add-tab\",t,function(){return S(\"Repeat the search for this flight\")})}),i(\".booking-buttons\",function(){return t.new_booking_urls?$.templates.trip_flight_booking_urls(trip_planner.booking_cache[t.iden]):i(\".spinner-area\",function(){return k(\".spinner\"),k(\".msg\",\"fetching up to date booking links\")})})},$.templates.range_for_flight_group=function(e){var t,n,r,i,o,a;return i=function(e){var t,n;return t=new Date(1e3*e.legs[0].depart_sec),n=$.hipmunk.utils.parse_offset(e.legs[0].depart),$.hipmunk.utils.tz_fix(t,n)},o=function(){var n,r;n=e.choices,r=[];for(a in n)t=n[a],r.push(i(t));return r}(),o.sort(),n=o[0],r=o[o.length-1],$.templates.date_range_text(n,r)},$.templates.range_for_hotel_group=function(e,t){var n,r,i,o,a;return r=function(){var r,i;r=e.choices,i=[];for(a in r)n=r[a],i.push($.hipmunk.utils.iso_to_date(n.dates[t]));return i}(),r.sort(),i=r[0],o=r[r.length-1],$.templates.date_range_text(i,o)},$.templates.date_range_text=function(e,t){return S(e.toString(\"MMM dd, yyyy\")),$.hipmunk.utils.dates_equal(e,t)?void 0:S(\"...\")},$.templates.trip_flight_booking_urls=function(t){var n,r,o,a;if(null!=t){for(a=[],r=0,o=t.length;o>r;r++)n=t[r],a.push(i(\".info-space\",function(){var t;return t={href:n.url,target:\"_blank\"},e(\".small-button\",t,function(){var e;return k(\".buy\",\"Buy on \"),k(\".source\",n.name),S(\": \"),k(\".price\",\"$\"+Math.round(n.price)),e=n.total_seats,e>1?S(\" x \"+e):void 0})}));return a}},$.templates.bizclass_choice_buttons=function(e){return i(\".delete-icon\",{title:\"Delete this choice\"}),i(\".small-button.choose-button\"+(e.chosen?\".selected\":\"\"),{title:\"Mark approved\"},function(){return inline_img(\".checkmark\")})},$.templates.hotel_choice_details=function(t){return i(\".details\",function(){var n,r,o,a,u;for(i(\".info-space\",function(){var t;return t={href:\"javascript:;\"},e(\".small-button.add-tab\",t,function(){return S(\"Repeat the search for this hotel\")})}),a=t.booking_urls,u=[],r=0,o=a.length;o>r;r++)n=a[r],u.push(i(\".info-space\",function(){var t;return t={href:n.url,target:\"_blank\"},e(\".small-button\",t,function(){return S(\"Buy on \"+n.name+\": $\"+Math.round(n.price))})}));return u})},$.templates.traveler_decision_send_button=function(e,t){return i(\".small-button.send-button.hover\",{title:\"Email these choices to the traveler for approval.\"},function(){return inline_img(\".gray-mail\"),k(function(){return S(\"Send Decision\")})}),i(\".send-popup\",function(){return i(\".tri\"),i(\".recipient-section\",function(){return i(\".label\",\"To:\"),i(\".input-container\",function(){return m(\"#to_\"+e,{type:\"text\",value:t.email}),p({\"for\":\"to_\"+e},\"email address\")}),i(\".clear\")}),i(\".message-section\",function(){return i(\".input-container\",function(){return H(\"#message_\"+e+\".email-message\"),p({\"for\":\"message_\"+e},\"Write a personal message...\")})}),i(\".button-section\",function(){return i(\".error-status\",function(){return i(\".error-message\",\"we're sorry, there was a problem sending the email\")}),i(\".success-status\",function(){return i(\".success-message\",\"Email Sent!\")}),i(\".small-button.cancel\",function(){return S(\"Cancel\")}),i(\".small-button.send.primary\",function(){return inline_img(\".white-mail\"),k(function(){return S(\"Send\")})})})})},$.templates.traveler_group_hotels=function(e,t,n){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".labeled-data\",function(){return i(\".label\",\"CITY\"),i(\".value\",function(){return $.templates.hotel_decision_name(n)})}),i(\".labeled-data\",function(){return i(\".label\",\"CHECK IN\"),i(\".value\",function(){return $.templates.range_for_hotel_group(n,0)})}),i(\".labeled-data\",function(){return i(\".label\",\"CHECK OUT\"),i(\".value\",function(){return $.templates.range_for_hotel_group(n,1)})}),i(\".clear\"),$.templates.traveler_decision_send_button(t,e)}),i(\".choices\",function(){var e,t,r,o,a,u,c,s,l,m;for(s=$.hipmunk.utils.sort_dict(n.choices,function(e,t){return t.stay_info.name}),m=[],o=u=0,c=s.length;c>u;o=++u)l=s[o],e=l[0],t=l[1],r=t.hotel_iden,a=t.stay_info,m.push(i(\".choice.ch-\"+e,function(){return i(\".choice-top\",function(){return i(\".bar\",function(){var e;return i(\".hotel-header\",function(){return null!=a.img&&\"\"!==a.img&&f(\".hotel-picture\",{src:a.img,width:75,height:50}),i(\".hotel-name\",function(){return S(a.name)}),i(\".date\",function(){var e;return e=\"MMM dd\",S($.hipmunk.utils.iso_to_date(t.dates[0]).toString(e)),b(\" &ndash; \"),S($.hipmunk.utils.iso_to_date(t.dates[1]).toString(e))}),i(\".industry-stars \"+a.star_cls)}),e=\"/trip/circle.png?n=\"+(o+1),f(\".circle\",{src:e,height:29,width:29}),$.templates.expand_button()}),$.templates.bizclass_choice_buttons(t)}),i(\".choice-details\",function(){return $.templates.hotel_choice_details(t)})}));return m})})},$.templates.biz_welcome_lightbox=function(t){return i(\"#biz-class-welcome\",function(){return centerbox(function(){return i(\".heading\",function(){return S(\"Welcome to Hipmunk for Business!\"),i(\".x\")}),i(\".content\"),i(\".footing\",function(){return i(\".progress\",function(){var e,n,r;for(r=[],e=n=1;t>=1?t>=n:n>=t;e=t>=1?++n:--n)r.push(i(\".progress-ball\"));return r}),i(function(){return r(\".darkbookingbutton.next-step\",function(){return b(\"Add some travelers &raquo;\")}),r(\".darkbookingbutton.next-step\",function(){return b(\"Start Using Hipmunk!\")})}),e(\".quit.hiplink\",\"Just let me start using Hipmunk\")})})})},$.templates.biz_welcome_calendars=function(){return i(\".add-calendars\",function(){return i(\".explain-text\",function(){var e;return e=\"Google or Exchange\",$.hipmunk.user.preferences.exchange_enabled&&(e=\"Google\"),S(\"Setup your \"+e+\" account and we'll import your calendar events and the events from all the calendars that have been shared with you. Super useful!\")}),i(\".cal-integ-options\",function(){return $.hipmunk.user.preferences.exchange_enabled||i(\".exchange.option\"),$.hipmunk.user.preferences.google_calendar?void 0:i(\".gcal.option\")}),i(\".default-content\",function(){return i(\"\")}),i(\".exchange-content\",function(){return o(\"#biz-welcome-exchange-form\",{action:\"/exchange/auth\",method:\"POST\"},function(){return i(function(){return i(\".input-container\",function(){var e;return e=$.hipmunk.user.preferences.exchange_email||$.hipmunk.user.email,m(\"#exchange_email\",{type:\"text\",name:\"exchange_email\",autocomplete:\"off\",value:e}),p({\"for\":\"exchange_email\"},\"Your exchange email\"),i(\".error-row.error.error-exchange_email\")})}),i(function(){return i(\".input-container\",function(){return m(\"#exchange_password\",{type:\"password\",name:\"exchange_password\",value:\"\"}),p({\"for\":\"exchange_password\"},\"Your exchange password\"),i(\".error-row.error.error-exchange_password\")})}),i(function(){return r(\".small-button.hover.status\",{type:\"submit\"},\"Import Exchange Calendars\"),m({type:\"hidden\",name:\"exchange_enabled\",value:\"true\"})})}),i(\".success-status\",function(){return i(\".success-message\",function(){return S(\"Your Exchange account has been setup successfully.\")})})}),i(\".google-content\",function(){return i(\".success-status\",function(){return i(\".success-message\",function(){return S(\"Your Google account has been setup successfully.\")})})})})},$.templates.biz_welcome_add_travelers=function(){return i(\".add-travelers.small-form\",function(){return i(\".explain-text\",function(){return S(\"Who are you planning travel for? Add any number of 'travelers' so you can keep track of each of their travel choices and airline preferences.\")}),o(\"#biz-welcome-add-travelers\",{method:\"POST\"},function(){return i(function(){return i(\".input-container\",function(){return m(\"#traveler_name\",{type:\"text\",name:\"traveler_name\",autocomplete:\"off\",value:\"\"}),p({\"for\":\"traveler_name\"},\"Name\"),i(\".error-row.error.error-traveler_name\")})}),i(function(){return i(\".input-container\",function(){return m(\"#traveler_email\",{type:\"text\",name:\"traveler_email\",autocomplete:\"off\",value:\"\"}),p({\"for\":\"traveler_email\"},\"Email\"),i(\".error-row.error.error-traveler_email\")})}),i(function(){return r(\".small-button.hover.status\",{type:\"submit\"},\"Add Traveler\")})}),i(\".section-title\",\"Added Travelers\"),i(\".section-content.traveler-list\")})},$.templates.biz_welcome_traveler_list=function(e){var t,n,r,o;if(e.length){for(o=[],n=0,r=e.length;r>n;n++)t=e[n],o.push(i(\".traveler\",function(){return i(\".name\",t.name),i(\".email\",t.email),i(\".clear\")}));return o}return b(\"<em>You haven't added any travelers yet.</em>\")},$.templates.payment_wait=function(){return i(\".pay-section\",function(){return c(\"Please wait, loading account info...\")})},$.templates.payment_content=function(t){var r,o,a,u,s,l,f;return a=t.customer,o=t.charges,l=t.status,f=t.trial_days_left,s=t.plan,u=t.flags,r=null!=a?a.active_card:void 0,i(\".pay-section.small-form\",function(){var t;switch(t=null,i(\".section-title\",\"Your Subscription Status\"),i(\".section-content\",function(){switch(l){case\"hm_trialing\":c(\"\",\"Your trial expires \"+$.hipmunk.utils.humanize_days(f)+\".\"),g(\"\",\"Enter your billing info now for uninterrupted service.\"),g(\"\",\"You won't be charged until the end of the trial period.\"),t=\"form\";break;case\"hm_trial_expired\":c(\"\",function(){return S(\"Your trial has ended.\"),n(),S(\"Subscribe below to continue using Hipmunk for Business.\")}),t=\"form\";break;case\"trialing\":c(\"\",\"You are subscribed to Hipmunk for Business.\"),g(\"\",\"You'll be billed when your trial expires \"+$.hipmunk.utils.humanize_days(f)+\".\"),t=\"edit\";break;case\"active\":c(\"\",\"You are subscribed to Hipmunk for Business.\"),t=\"edit\";break;case\"hm_free\":c(\"\",\"Your Hipmunk for Business account is active.\"),t=\"none\";break;case\"past_due\":c(function(){return S(\"Your payment is past due - we were unable to charge your credit card.\"),n(),S(\"Please update your credit card info below.\")}),t=\"edit\";break;case\"unpaid\":c(\"\",\"Your Hipmunk for Business plan is no longer active because we were unable to charge your credit card. Please update your credit card info below.\"),t=\"edit\"}return g(function(){return e(\".hiplink\",{target:\"_blank\",href:\"/tos\"},\"View Terms of Service\")})}),$.templates.payment_plan(s,u),t){case\"edit\":$.templates.payment_edit(r);break;case\"form\":$.templates.payment_form()}return $.templates.payment_history(o),$.templates.bizclass_cancel(l),$.templates.bizclass_contact()})},a=function(e){return\"$\"+(e/100).toFixed(2)},$.templates.bizclass_contact=function(){return i(\".section-title\",\"Contact Us\"),i(\".section-content\",function(){return g(function(){return S(\"Have any questions? Contact us at \"),e(\".hiplink\",{target:\"_blank\",href:\"mailto:bizfeedback@hipmunk.com\"},\"bizfeedback@hipmunk.com\")})})},$.templates.payment_history=function(e){return e&&e.length?i(\".pay-history\",function(){return i(\".section-title\",\"Payment History\"),w(\".section-content\",function(){var t,n,r,i,o;for(D(function(){return B(\"\",\"Date\"),B(\"\",\"Amount\")}),o=[],r=0,i=e.length;i>r;r++)t=e[r],n=t.paid?t.amount_refunded?\" (refunded \"+a(t.amount_refunded)+\")\":\"\":\" (unpaid)\",o.push(D(function(){return Y(\"\",new Date(1e3*t.created).toDateString()),Y(\"\",a(t.amount)+n)}));return o})}):void 0},$.templates.payment_edit=function(t){return i(\".section-title\",\"Your card\"),i(\".section-content\",function(){return i(\".success-status\",function(){return i(\".success-message\")}),k(\"\",\"Card number: xxxx-xxxx-xxxx-\"+t.last4),e(\"#update-card.hiplink\",{href:\"javascript:;\"},\"Update credit card\"),o(\"#payment-edit-form.search-form\",function(){return i(\".payment\",function(){return $.templates.credit_card_form()}),r(\".darkbookingbutton\",{type:\"submit\"},\"Save my new card\"),e(\"#cancel-update-card.hiplink.button-link\",{href:\"javascript:;\"},\"Cancel\")})})},$.templates.payment_plan=function(e,t){return i(\".section-title\",\"Your Plan\"),i(\".section-content\",function(){var n,r,o,u,c;if(i(\".content-line\",function(){return S(\"\"+a(e.amount)+\" / \"+e.interval)}),\"bizclass\"!==e.id&&i(\".content-line\",function(){return 0===e.id.indexOf(\"domain\")?b(\"<b>Discount applied for users on domain: @\"+$.hipmunk.user.email.split(\"@\")[1]+\"</b>\"):b(\"<b>Discount applied: \"+e.id+\"</b>\")}),r={},r.unconfirmed_plan=\"Your email address shows you are eligible for a discount. Your email address must be confirmed to claim the discount. <a class='hiplink send_confirm'>Resend the confirmation email</a>\",t){for(c=[],o=0,u=t.length;u>o;o++)n=t[o],r[n]?c.push(i(\".content-line.warning\",function(){return b(r[n])})):c.push(void 0);return c}})},$.templates.payment_form=function(){return i(\".section-title\",\"Credit Card Info\"),i(\".section-content\",function(){return o(\"#payment-form.search-form\",function(){return i(\".payment\",function(){return i(\".success-status\",function(){return i(\".success-message\")}),$.templates.credit_card_form(),r(\".darkbookingbutton\",{type:\"submit\"},\"Subscribe\")})})})},$.templates.bizclass_cancel=function(t){var r,o,a,u,c;return a=\"If you disable Hipmunk for Business, all Hipmunk for Business features will be removed from your account. You can re-enable Hipmunk for Business again in the future but you will not get another free trial.\",\"hm_trialing\"===t||\"hm_free\"===t||\"hm_trial_expired\"===t?(u=\"Disable Hipmunk for Business\",r=\"Disable Hipmunk for Business\",c=\"Are you sure you want to disable Hipmunk for Business?\",o=\"Yes, disable Hipmunk for Business\"):(u=\"Cancel Subscription\",r=\"Cancel Hipmunk for Business subscription\",c=\"Are you sure you want to cancel your Hipmunk for Business subscription?\",o=\"Yes, cancel my Hipmunk for Business subscription\",a+=\"<br><br>You will be refunded the prorated amount for the time remaining in this billing cycle.\"),i(\".section-title\",u),i(\".section-content\",function(){return i(\".confirm-control.cancel-subscription\",function(){return e(\".hiplink.confirm-default.confirm-default-content\",{href:\"javascript:;\"},r),k(\".confirm-alternate-content\",function(){return S(c),n(),i(\".prefs-helptext\",function(){return b(a)}),i(function(){return e(\".confirm-confirm.hiplink\",o),S(\" / \"),e(\".confirm-cancel.hiplink\",\"Cancel\")})})})})},$.templates.credit_card_form=function(){return i(\".message\"),simple_form_row(\"card number\",\"card-number\",\"card-number\",function(){return i(\".input-container.number\",function(){return m(\"#card-number\",{name:\"card-number\",type:\"text\",value:\"\"}),p({\"for\":\"card-number\"},\"**** **** **** ****\")})}),i(\".sec-code-container.cvc\",function(){return simple_form_row(\"sec. code\",\"sec-code\",\"sec-code\",function(){return i(\".input-container\",function(){return m(\"#sec-code\",{name:\"sec-code\",type:\"text\",value:\"\",maxlength:\"4\"}),p({\"for\":\"sec-code\"},\"***\"),i(\".cvc-tip-button\"),i(\".tile-explanation\",function(){return i(\".tri\"),i(\".strong\",\"Visa or Mastercard\"),i(\".text\",\"The security code is the 3 digit number that appears on the back of your card.\"),i(\".strong\",\"American Express\"),i(\".text\",\"The security code is the 4 digit number that appears on the front of your card above your credit card number.\")})})})}),i(\".exp-container.expiry\",function(){return simple_form_row(\"expiration\",\"exp-month\",\"exp-month\",function(){return i(\".input-container\",function(){return m(\"#exp-month.expiryMonth\",{name:\"exp-month\",type:\"text\",value:\"\",maxlength:\"2\"}),p({\"for\":\"exp-month\"},\"MM\")}),i(\".input-container\",function(){return m(\"#exp-year.expiryYear\",{name:\"exp-year\",type:\"text\",value:\"\",maxlength:\"4\"}),p({\"for\":\"exp-year\"},\"YY\")})})}),i(\".clear\")},$.templates.send_invites=function(e){return i(\".send-invites-content.details-content\",function(){return u(function(){return S(\"Share this link with everyone!\")}),g(function(){return S(\"You can copy this link and paste it into an email or IM:\")}),m(\".hipmunk-share-link\",{type:\"text\",value:e,readonly:\"readonly\"})})},$.templates.traveler_form=function(e,t){var n;return n=t?\".new-traveler\":\".edit-traveler\",i(\".traveler-details\",function(){return i(\".traveler-section.traveler-form\"+n,function(){return i(\".section-icon\"),i(\".section-content\",function(){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".section-title\",function(){return t?S(\"Add a traveler\"):S(\"Edit traveler details\")}),i(\".section-description\",function(){return S(\"Enter the name and email address of the person you're planning trips for.\")})}),i(\".hip-form\",function(){return o({method:\"post\"},function(){return i(\".label-row\",function(){return S(\"Name\")}),i(\".input-row\",function(){var t;return m(\".name\",{type:\"text\",value:null!=(t=e.name)?t:\"\"})}),i(\".label-row\",function(){return S(\"Email\")}),i(\".input-row\",function(){var t;return m(\".email\",{type:\"text\",value:null!=(t=e.email)?t:\"\"})}),i(\".button-row\",function(){return r(\".small-button.primary\",{type:\"submit\"},\"Save\"),i(\".small-button.secondary\",\"Cancel\")})})})})})}),t?void 0:i(\".traveler-section.traveler-delete\",function(){return i(\".section-icon\"),i(\".section-content\",function(){return i(\".section-details\",function(){return i(\".section-header\",function(){return i(\".section-title\",function(){return S(\"Delete this traveler\")}),i(\".section-description\",function(){return S(\"Deleting the traveler will permanently remove all their trip data and preferences.\")})}),i(\".hip-form\",function(){return i(\".button-row\",function(){return r(\".small-button.destructive.delete-traveler\",\"Delete traveler\")})})})})})})}}.call(this);\n!function(){var t,e,i,n,r;t=\"visit_count\",e=null,n=function(){return{registered:!1,events:{}}},i=function(){var i,r;r=n();try{e=JSON.parse($.cookie(t))}catch(o){i=o,e=r}return _.isObject(e)||(e=r),_.defaults(e,r)},r=function(t){var i,n;return i=e.events,\"search\"!==t&&\"book\"!==t&&\"visit\"!==t||1!==(n=i[t])&&5!==n&&10!==n?void 0:adroll_event(\"activity_\"+t+\"_\"+i[t])},window.record_activity=function(n){var o;return i(),e.registered||(e.registered=$.hipmunk.logged_in),null!=n&&(o=e.events,_.has(o,n)?o[n]+=1:o[n]=1,r(n)),$.cookie(t,JSON.stringify(e))},window.get_activity=function(t){var n;return i(),null!=(n=e.events[t])?n:0},window.get_activity_registered=function(){return i(),e.registered}}.call(this);\n!function(e){var n=[],t=function(e,n){this.path=e,this.fn=n,this.keys=[],this.regex=r(this.path,this.keys,!1,!1);var t=a();o(t,this)};t.prototype.match=function(e,n){var t=this.regex.exec(e);if(!t)return!1;for(var r=1,i=t.length;i>r;++r){this.keys[r-1];var a=\"string\"==typeof t[r]?decodeURIComponent(t[r]):t[r];n.push(a)}return!0};var r=function(e,n,t,r){return e instanceof RegExp?e:(e instanceof Array&&(e=\"(\"+e.join(\"|\")+\")\"),e=e.concat(r?\"\":\"/?\").replace(/\\/\\(/g,\"(?:/\").replace(/\\+/g,\"__plus__\").replace(/(\\/)?(\\.)?:(\\w+)(?:(\\(.*?\\)))?(\\?)?/g,function(e,t,r,i,a,o){return n.push({name:i,optional:!!o}),t=t||\"\",\"\"+(o?\"\":t)+\"(?:\"+(o?t:\"\")+(r||\"\")+(a||r&&\"([^/.]+?)\"||\"([^/]+?)\")+\")\"+(o||\"\")}).replace(/([\\/.])/g,\"\\\\$1\").replace(/__plus__/g,\"(.+)\").replace(/\\*/g,\"(.*)\"),new RegExp(\"^\"+e+\"$\",t?\"\":\"i\"))},i=function(e,r){if(\"function\"==typeof r)n.push(new t(e,r));else if(\"object\"==typeof e)for(var i in e)n.push(new t(i,e[i]));else\"undefined\"==typeof r&&(window.location.hash=e)},a=function(){return window.location.hash.substring(1)},o=function(e,n){var t=[];return n.match(e,t)?(n.fn.apply(n,t),!0):!1},s=function(){for(var e=a(),t=0,r=n.length;r>t;t++){var i=n[t];if(o(e,i))return}};e.addEventListener?e.addEventListener(\"hashchange\",s,!1):e.attachEvent(\"onhashchange\",s),e.routie=i}(window);\n!function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}};window.googletag=window.googletag||{},googletag.cmd=googletag.cmd||[],t=\"MM/dd/yyyy\",window.DFPManager=function(){function o(){this.check_ads=e(this.check_ads,this),this.slots={},this.slots_defined=!1,this.shown_slots={},this.generate_slots({flights:[[160,600,\"Flight_Results_160x600\"],[728,90,\"Flight_Results_728x90\"]],deals:[[160,600,\"Deal_Results_160x600\"],[728,90,\"Deal_Results_728x90\"]],hotels:[[160,600,\"Hotel_results_160_right\"],[728,90,\"Hotel_results_728_bottom\"]]}),$.hipmunk.utils.load_js(\"//www.googletagservices.com/tag/js/gpt.js\"),this.gtagcmd(function(){googletag.pubads().set(\"adsense_background_color\",\"FFFFFF\"),googletag.pubads().enableSingleRequest()})}return o.prototype.min_width=1100,o.prototype.timeout_len=100,o.prototype.max_attempts=10,o.prototype.gtagcmd=function(t){googletag.cmd.push(function(){t()})},o.prototype.generate_slots=function(t){var e,o,s,a,i,r,n;this.ad_slots={},s=0;for(o in t){for(i=t[o],e=[],r=0,n=i.length;n>r;r++)a=i[r],e.push({id:\"dfp-ad-slot-\"+s,width:a[0],height:a[1],size:[a[0],a[1]],name:a[2],dfp_obj:null}),s+=1;this.ad_slots[o]=e}},o.prototype.target_all=function(t,e){googletag.pubads().setTargeting(t,e)},o.prototype.ads_on=function(){var t;return $(window).width()>this.min_width?(t=$.hipmunk.experiments.get_option(\"flight_ads\"),\"show\"===t):!1},o.prototype.get_slot_group=function(t){return this.ad_slots[t]||[]},o.prototype.get_slots_and_track=function(t){return hm.utils.track(\"web_show_ad\",\"web\",{group_name:t}),this.get_slot_group(t)},o.prototype.ad_unit=function(t){return\"/\"+$.hipmunk.dfp_network_code+\"/\"+t},o.prototype.define_slots=function(t){var e,o,s,a,i;if(!this.slots_defined){this.slots_defined=!0,i=this.ad_slots;for(e in i)for(t=i[e],s=0,a=t.length;a>s;s++)o=t[s],o.dfp_obj=googletag.defineSlot(this.ad_unit(o.name),o.size,o.id).addService(googletag.pubads())}},o.prototype.format_date=function(e){return Date.parse(e).toString(t)},o.prototype.within_14=function(t){var e;return e=Date.parse(t),e<(new Date).addDays(14)},o.prototype.this_weekend=function(t){var e,o,s;return e=Date.parse(t),o=(new Date).isWeekday(),s=!e.isWeekday()&&e<(new Date).addDays(7),o&&s},o.prototype.display_slots=function(t){var e,o,s;for(o=0,s=t.length;s>o;o++)e=t[o],googletag.display(e.id)},o.prototype.refresh_slot_group=function(t){var e,o,s,a;for(e=[],s=0,a=t.length;a>s;s++)o=t[s],e.push(o.dfp_obj);googletag.pubads().refresh(e)},o.prototype.show_slot_group=function(t){var e;googletag.enableServices(),e=this.get_slots_and_track(t),this.shown_slots[t]?this.refresh_slot_group(e):(this.shown_slots[t]=!0,this.display_slots(e))},o.prototype.display_flight_ads=function(t){var e=this;this.clear_timeout(),this.gtagcmd(function(){var o,s,a,i,r,n,l,_;e.define_slots(),_=t.search,i=_.groups,s=i[0].from_loc.airports[0],o=i[0].to_loc.airports[0],a=i[0].date,e.target_all(\"dep_airport\",s),e.target_all(\"depairport\",s),e.target_all(\"arr_airport\",o),e.target_all(\"arrairport\",o),e.target_all(\"route\",s+o),e.target_all(\"date1\",e.format_date(a)),e.target_all(\"within14\",\"\"+e.within_14(a)),e.target_all(\"weekend\",\"\"+e.this_weekend(a)),l=_.roundtrip,r=\"multi\"===_.form,n=!l&&!r,e.target_all(\"one_way\",n.toString()),n||e.target_all(\"date2\",e.format_date(i[1].date)),e.show_slot_group(\"flights\")}),this.attempt=0,this.try_later(this.check_ads)},o.prototype.display_deals_ads=function(){var t=this;this.gtagcmd(function(){t.define_slots(),t.target_all(\"dealscity\",$.hipmunk.deals_city_id),t.show_slot_group(\"deals\")})},o.prototype._clean_city_name=function(t){return t=t.replace(/,/g,\"\"),t.replace(/\\ /g,\"-\")},o.prototype.display_hotels_ads=function(t){var e=this;this.clear_timeout(),this.gtagcmd(function(){e.define_slots(),e.target_all(\"city\",e._clean_city_name(t.city_name)),e.target_all(\"check_in\",t.search.check_in),e.target_all(\"check_out\",t.search.check_out),e.show_slot_group(\"hotels\")}),this.attempt=0,this.try_later(this.check_ads)},o.prototype.clear_timeout=function(){null!=this.timeout&&clearTimeout(this.timeout)},o.prototype.try_later=function(t){return this.attempt>=this.max_attempts?this.clear_timeout():(this.attempt+=1,this.timeout=setTimeout(t,this.timeout_len),void 0)},o.prototype.check_ads=function(){var t,e,o,s,a,i,r,n,l,_;r=!1,_=this.ad_slots;for(s in _)for(i=_[s],n=0,l=i.length;l>n;n++)a=i[n],t=$(\"#\"+a.id),t.removeClass(\"hidden\"),e=t.find(\"iframe\").first().contents().find(\"body\"),o=e.height()>0,o||(t.addClass(\"hidden\"),r=!0);this.try_later(this.check_ads)},o.prototype.debug_log=function(t){var e,o,s,a,i;if(null==t&&(t=\"\"),$.debug&&null!=(null!=(a=googletag.debug_log)?a.F:void 0))for(i=googletag.debug_log.F,o=0,s=i.length;s>o;o++)e=i[o],\"\"===t?print(e.Da):e.Ba.indexOf(t)>-1&&print(e.Da)},o}()}.call(this);\n!function(){var e,r;r=10,e=\"hm_exchange_problem\",window.ExchangeSettings=function(){function r(){}return r.prototype.set_mode=function(e){var r;return r=e.logged_in,$(\"#exchange-logout-form\").toggle(r),$(\"#exchange-login-form\").toggle(!r),$(\"#exchange-continue\").hide()},r.prototype.display_error=function(e,r){var o;return o=$(e).parents(\".full-row\").addClass(\"haserror\"),o.find(\".error-row\").text(r).show()},r.prototype.on_open_popup=function(){if(this.set_mode({logged_in:!1}),$.hipmunk.user.preferences.exchange_enabled){if(\"MISSING_PASSWORD\"===!$.cookie(e))return this.display_error(\"#exchange_password\",\"for security purposes, please re-enter your exchange password\"),void 0;if(\"UNAUTHORIZED\"===$.cookie(e))return this.display_error(\"#exchange_email\",\"there was a problem contacting your exchange server, please try re-entering your login information\"),void 0;this.set_mode({logged_in:!0})}},r}()}.call(this);\n!function(){var t;t=function(){function t(t){this.endpoint=t}return t.prototype.setPublishableKey=function(t){return this.key=t},t.prototype.createToken=function(t,n){return $.ajax({url:this.endpoint+\"/token\",async:!0,dataType:\"jsonp\",data:{card:t,_method:\"POST\",key:this.key},success:function(t){return n(t.status,t.response)}})},t}(),window.Hippay=new t(\"https://hp1.hipmunk.com\")}.call(this);\n!function(){var e,t=function(e,t){return function(){return e.apply(t,arguments)}},n={}.hasOwnProperty,r=function(e,t){function r(){this.constructor=e}for(var s in t)n.call(t,s)&&(e[s]=t[s]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};e=hm.widgets.SearchForm,window.NewAccountSettingsLightbox=function(n){function s(){this.close_fn=t(this.close_fn,this),s.__super__.constructor.call(this,\"new_settings\"),this.setup_handlers(),this.displayed_section=\"basic\",this.on_close.add(this.close_fn)}return r(s,n),s.prototype.setup_handlers=function(){var e=this;return this.$container.on(\"click\",\".new-settings__menu-item\",function(t){var n;n=$(t.currentTarget).cdata(\"item\"),e.select_section(n),$.hipmunk.utils.track(\"settings_menu_item_click\",n)}),this.$container.on(\"click\",\".delete-card\",function(t){var n;$.hipmunk.utils.track(\"settings_delete_card_click\"),confirm(\"Are you sure you want to delete this card?\")&&(n=$(t.currentTarget).cdata_closest(\"cardid\"),$.ajax(\"/api/credit_cards/\"+n+\"/delete\",{type:\"POST\",success:function(){return $.hipmunk.creditcards=$.grep($.hipmunk.creditcards,function(e){return e.id!==n}),e.refresh_display()},error:function(){return alert(\"An error occurred deleting your credit card.\"),e.refresh_display()}}),$.hipmunk.utils.track(\"settings_delete_card_confirm\"))}),this.$container.on(\"click\",\".see-fares\",function(t){var n,r,s,i,o,a;for(s=$(t.currentTarget).closest(\".fare-alert\").cdata(\"alert-id\"),a=$.hipmunk.farealerts,i=0,o=a.length;o>i;i++)if(n=a[i],n.id===s){r=n;break}return $.hipmunk.url.add_tab(r.tab_params),$.hipmunk.utils.track(\"settings_see_fares\"),e.close()}),this.$container.on(\"click\",\".fare-alert .unsubscribe\",function(e){var t,n,r,s;return t=$(e.currentTarget).closest(\".fare-alert\"),s=t.cdata(\"alert-id\"),$.hipmunk.farealerts=function(){var e,t,i,o;for(i=$.hipmunk.farealerts,o=[],e=0,t=i.length;t>e;e++)n=i[e],n.id!==s?o.push(n):r=n;return o}(),t.slideUp(),0===$.hipmunk.farealerts.length&&t.siblings(\".no-alerts\").slideDown(),null!=r?(farealert_remove(r),$.hipmunk.utils.track(\"settings_fare_unsubscribe\")):void 0}),this.$container.on(\"click\",\".deal-alert .unsubscribe\",function(e){var t,n;t=$(e.currentTarget).closest(\".deal-alert\"),n=t.cdata(\"city\"),$.ajax({url:\"/deals/\"+n+\"/unsubscribe\",success:function(){var e;return delete $.hipmunk.user.deal_alerts[n],t.slideUp(),0===_.keys($.hipmunk.user.deal_alerts).length&&t.siblings(\".no-deals\").slideDown(),null!=(e=$.hipmunk.deals)?e.update_subscribe_button():void 0},error:function(){return alert(\"Sorry, there was an error unusbscribing from that alert\")}}),$.hipmunk.utils.track(\"settings_deal_unsubscribe\")}),this.$container.on(\"change\",\".calendar-item input\",function(){var t,n,r,s,i,o;for(n=[],o=e.$content.find(\".calendar-item input:checkbox:not(:checked)\"),s=0,i=o.length;i>s;s++)t=o[s],r=$(t).cdata(\"cal\"),n.push(e.cal_collection.calendars[r].id);$.prefs.disabled_cals=n,$.prefs.save(),e.refresh_active_tab_on_close=!0,$.hipmunk.utils.track(\"settings_calendar_toggle\")}),this.$container.on(\"click\",\".google-cal-button\",function(){$.hipmunk.user.preferences.google_calendar?($.hipmunk.utils.track(\"settings_google_deactivate_click\"),$.ajax(\"/prefs/google\",{type:\"POST\",success:function(){return $.reload()}})):($.hipmunk.utils.track(\"settings_google_activate_click\"),$.hipmunk.utils.popup_window(\"/google/calendar-login-redirect\",500,500),$.hipmunk.google_auth_complete=function(){return $.reload()})}),this.$container.on(\"click\",\".link-services .google.unlinked\",function(){$.hipmunk.utils.track(\"settings_google_link_click\"),$.hipmunk.utils.popup_window(\"/google/login-redirect\",500,500),$.hipmunk.google_auth_complete=function(){return $.reload()}}),this.$container.on(\"click\",\".link-services .facebook.unlinked\",function(){$.hipmunk.utils.track(\"settings_facebook_link_click\"),do_fb_login()}),this.$container.on(\"click\",\".booking-list .booking .small-button\",function(){e.close(),$.hipmunk.utils.track(\"my_bookings_view_receipt\")})},s.prototype.open=function(){return this.open_with_section(\"basic\")},s.prototype.show=function(){return s.__super__.show.apply(this,arguments),this.refresh_active_tab_on_close=!1},s.prototype.open_with_section=function(e){var t,n;return n=$(drykup.render($.templates.new_account_settings_lightbox())),t=new AppHeaderedBox(\"new-settings m-stretch-to-height\"),t.set_content(n),t.set_header({title:\"Account Settings\"}),this.$content=t.$el,this.show(),this.select_section(e)},s.prototype.select_section=function(t){var n,r,s=this;switch(this.displayed_section=t,this.$content.find(\".new-settings__menu-item.item-\"+this.displayed_section).addClass(\"selected\").siblings().removeClass(\"selected\"),this.displayed_section){case\"basic\":n=$(drykup.render($.templates.new_account_settings_basic()));break;case\"payments\":n=$(drykup.render($.templates.new_account_settings_payments()));break;case\"bookings\":$.hipmunk.utils.track(\"my_bookings\"),this.bookings?n=this.render_bookings():(n=$(drykup.render($.templates.new_account_settings_bookings())),this.fetch_bookings(n));break;case\"email\":n=this.render_alerts_and_email(),fetch_alerts(function(){return n.closest(\".new-settings__alerts\").replaceWith(s.render_just_alerts())});break;case\"calendar\":r=calendar_on(),n=$(drykup.render($.templates.new_account_settings_calendar(r))),r&&this.fetch_calendars(n)}return this.$content.find(\".new-settings__main-content\").html(n),this.$content.find(\"form\").each(function(){return new e($(this),!0)}),this.$content.find(\"select.month\").chosen({inherit_select_classes:!0,placeholder_text:\"Month\"}),this.$content.find(\"select.date\").chosen({inherit_select_classes:!0,placeholder_text:\"Date\"})},s.prototype.refresh_display=function(){return this.select_section(this.displayed_section)},s.prototype.render_alerts_and_email=function(){return $(drykup.render($.templates.new_account_settings_email($.hipmunk.user,$.hipmunk.farealerts,$.hipmunk.url)))},s.prototype.render_just_alerts=function(){return $(drykup.render($.templates.new_account_settings_alerts($.hipmunk.user,$.hipmunk.farealerts,$.hipmunk.url)))},s.prototype.render_bookings=function(){return $(drykup.render($.templates.new_account_settings_bookings(this.bookings)))},s.prototype.fetch_bookings=function(e){var t=this;return $.ajax(\"/api/bookings/\",{type:\"GET\",success:function(n){var r,s,i,o,a,c,l,u,_,d,p;for(i=null!=(_=n.hotels)?_:[],t.bookings=null!=(d=n.bookings)?d:[],t.bookings.sort(function(e,t){return e.created<t.created?1:-1}),o={},a=0,l=i.length;l>a;a++)s=i[a],o[s.id]=new HotelModel(s,n.amens);for(p=t.bookings,c=0,u=p.length;u>c;c++)r=p[c],r.hotel=o[r.hotel_id];return e.replaceWith(t.render_bookings())},error:function(){}})},s.prototype.fetch_calendars=function(e){var t=this;return $.ajax(\"/calendar/events\",{type:\"GET\",data:{start:1e3,stop:1001},dataType:\"json\",success:function(n){var r;return t.cal_collection=new CalendarCollection(n),r=$(drykup.render($.templates.new_account_settings_calendar_list(t.cal_collection))),e.find(\".calendar-list\").html(r)},error:function(){return console.log(\"error\")}})},s.prototype.close_fn=function(){var e,t;return this.refresh_active_tab_on_close?null!=(e=$.hipmunk.url)?null!=(t=e.active_tab)?\"function\"==typeof t.refresh?t.refresh():void 0:void 0:void 0:void 0},s}(Lightbox),window.CalendarCollection=function(){function e(e){this.calendars=e,this.process()}return e.prototype.process=function(){var e,t,n,r,s,i;for(s=this.calendars,i=[],n=0,r=s.length;r>n;n++)e=s[n],e.faint_color=luma(e.color,.95),e.light_color=luma(e.color,.6),e.dark_color=luma(e.color,.3),e.enabled=$.prefs.is_calendar_enabled(e.id),e.restricted=\"exchange\"===e.type&&!$.hipmunk.user.has_bizclass_access,e.restricted&&(e.enabled=!1),e.expanded=_.include($.prefs.expanded_cals,e.id),i.push(function(){var n,r,s,i;for(s=e.events,i=[],n=0,r=s.length;r>n;n++)t=s[n],t.cal=e,t.color=luma(e.color,.5),t.light_color=luma(e.color,.75),t.start_time=$.hipmunk.utils.trim_leading_zeroes(t.start_time),t.end_time=$.hipmunk.utils.trim_leading_zeroes(t.end_time),i.push(t.disabled=_.include($.prefs.disabled_events,t.id));return i}());return i},e.prototype.attach_data_for_flight_tab=function(e){var t,n,r,s,i,o,a;for(o=this.calendars,a=[],s=0,i=o.length;i>s;s++)t=o[s],a.push(function(){var s,i,o,a;for(o=t.events,a=[],s=0,i=o.length;i>s;s++)n=o[s],r=100/(e.last-e.first),(n.stop<e.first||n.start>e.last)&&(n.cutoff=!0),n.start<e.first&&(n.start=e.first),n.stop>e.last&&(n.stop=e.last),n.pstart=(n.start-e.first)*r,n.pstop=(n.stop-e.first)*r,n.pstop-n.pstart<1&&(n.pstop=n.pstart+1),a.push(n.width=n.pstop-n.pstart);return a}());return a},e}()}.call(this);\n!function(){var e,t,n,s={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=hm.utils.parse_int,t=function(e){function t(e){var n,s;s=null!=e?e:{},n=s.attrs,this.items_per_page=s.items_per_page,this.show_pages=s.show_pages,this.max_num_pages=s.max_num_pages,this.label=s.label,this.show_num_items=s.show_num_items,this.spinner=s.spinner,null==n&&(n=\".m-theme1.m-medium\"),null==this.show_pages&&(this.show_pages=!0),t.__super__.constructor.call(this,{attrs:n}),this.on_page_change=$.Callbacks(),this._setup_handlers()}return i(t,e),t.prototype.attrs=\".paginator\",t.prototype.render=function(){var e;return this.render_drykup($.templates.paginator({current_page:this.current_page,num_items:this.num_items,items_per_page:this.items_per_page,show_pages:this.show_pages,max_num_pages:this.max_num_pages,label:this.label,show_num_items:this.show_num_items,search_done:this.search_done})),this.search_done?void 0:this.$el.find(\".js-spinner-container\").append(null!=(e=this.spinner)?e.$el:void 0)},t.prototype.update=function(e){var t,n,s,i;return n=e.current_page,s=e.num_items,i=e.search_done,t=!1,null!=n&&n!==this.current_page&&(this.current_page=n,t=!0),null!=s&&s!==this.num_items&&(this.num_items=s,t=!0),null!=i&&i!==this.search_done&&(this.search_done=i,t=!0),t?this.render():void 0},t.prototype._setup_handlers=function(){var e=this;return this.$el.on(\"click\",\".paginator__block\",function(t){var s,i;s=$(t.currentTarget),s.hasClass(\"m-disabled\")||s.hasClass(\"m-selected\")||(i=s.text(),\"<\"===i?e.current_page--:\">\"===i?e.current_page++:e.current_page=n(i)-1,e.render(),e.on_page_change.fire(e.current_page))})},t}($.hipmunk.View),window.AppHeaderedBox=function(){function e(e){this.$el=$(drykup.render($.templates.app_headered_box_component())),e&&this.$el.addClass(e),this.set_header_class(\"m-default\")}return e.prototype.title=\"Hipmunk\",e.prototype.loading=!1,e.prototype.loading_text=\"Loading\",e.prototype.set_content=function(e){var t;return t=$(e).detach(),this.$el.find(\".app-headered-box__content\").html(t)},e.prototype.set_header_class=function(e){var t,n;return n=\"app-headered-box__header\",t=this.$el.find(\".\"+n),t.attr(\"class\",n+\" \"+e)},e.prototype.set_header=function(e){var t,n,s,i;return i=e.title,n=e.loading,s=e.loading_text,t=e.cls,null!=t&&this.set_header_class(t),null!=i&&(this.title=i),null!=n&&(this.loading=n),null!=s&&(this.loading_text=s),this.update_display()},e.prototype.update_display=function(){var e,t;return e=this.$el.find(\".app-headered-box__header-ellipses\"),e.toggle(this.loading),this.loading?($.hipmunk.utils.animate_ellipses(e),t=this.loading_text):($.hipmunk.utils._reset_animate_ellipses(e),t=this.title),this.$el.find(\".app-headered-box__header-text\").text(t)},e.prototype.set_close_button_visible=function(e){return null==e&&(e=!0),this.$el.find(\".app-header-box__close-button\").toggle(e)},e}(),e=function(){function e(){}return e.init=function(e){var t;return t=e.find(\".mini-hotel-module__image img\"),t.imagesLoaded(function(){var e,n,s,i,r;for(r=[],s=0,i=t.length;i>s;s++)n=t[s],e=$(n),e.height()<e.parent().height()?(e.css(\"height\",e.parent().height()),e.css(\"width\",\"auto\"),r.push(e.css(\"left\",(e.parent().width()-e.width())/2))):r.push(void 0);return r})},e}(),hm[\"export\"]({components:{Paginator:t,AppHeaderedBox:AppHeaderedBox,MiniHotelModule:e}})}.call(this);\n!function(){var e,t,n,a,r,l,o,i,p,u,s,_,m,c,d,h,b,g,f,x,k,v,w,y,M,j,q,D,z,A,B,C,E;E=window.drykup,k=E.render,r=E.div,w=E.span,y=E.table,A=E.thead,M=E.tbody,B=E.tr,j=E.td,z=E.th,q=E.text,D=E.textarea,a=E.button,u=E.hr,s=E.iframe,x=E.raw,e=E.a,n=E.br,t=E.b,_=E.img,c=E.label,l=E.form,m=E.input,C=E.ul,d=E.li,o=E.h1,i=E.h2,p=E.h4,v=E.select,g=E.option,f=E.p,h=E.meta,b=$.hipmunk.utils.ntext,$.templates.paginator=function(e){var t,n,a,l,o,i,p,u,s,_,m,c,d;return d=null!=e?e:{},t=d.current_page,i=d.num_items,a=d.items_per_page,c=d.show_pages,o=d.max_num_pages,l=d.label,m=d.show_num_items,_=d.search_done,null==_&&(_=!1),p=Math.ceil(i/a),n=t*a,s=n+1,u=Math.min(i,n+a),null!=l&&(w(\".paginator__label\",l),w(\".paginator__label.m-number\",function(){return x(\" \"+s+\"&mdash;\"+u)}),m&&(w(\".paginator__label\",function(){return x(\"&nbsp;of&nbsp;\")}),_?w(\".paginator__label.m-number\",\" \"+i+\" \"):w(\".js-spinner-container\"))),r(\".paginator__blocks\",function(){return $.templates.paginator_blocks({current_page:t,num_pages:p,show_pages:c,max_num_pages:o})})},$.templates.paginator_block=function(e,t){var n,a,l,o;return o=null!=t?t:{},n=o.cls,l=o.selected,a=o.disabled,null==n&&(n=\"\"),n+=\".paginator__block\",a?n+=\".m-disabled\":l&&(n+=\".m-selected\"),r(n,function(){return q(e)})},$.templates.paginator_blocks=function(e){var t,n,a,r,l,o,i,p,u,s,_,m;return u=null!=e?e:{},t=u.current_page,l=u.num_pages,i=u.show_pages,a=u.max_num_pages,null==i&&(i=!0),$.templates.paginator_block(\"<\",{cls:\".m-arrow\",disabled:0===t}),i&&(n=function(e){var n,a,r,o;for(o=[],a=0,r=e.length;r>a;a++)n=e[a],o.push($.templates.paginator_block(n,{selected:n-1===t,disabled:1===l}));return o},!a||a>=l?n(function(){s=[];for(var e=1;l>=1?l>=e:e>=l;l>=1?e++:e--)s.push(e);return s}.apply(this)):(p=t-Math.floor((a-4)/2)+1,r=0,1>p&&(p=1),p>1&&(r++,$.templates.paginator_block(1),p>2&&(r++,$.templates.paginator_block(\"...\",{cls:\".m-ellipsis\",disabled:!0}))),l>p+a-r?(o=function(){_=[];for(var e=p,t=p+a-r-3;t>=p?t>=e:e>=t;t>=p?e++:e--)_.push(e);return _}.apply(this),n(o),$.templates.paginator_block(\"...\",{cls:\".m-ellipsis\",disabled:!0}),$.templates.paginator_block(l)):(p=l-a+r+1,o=function(){m=[];for(var e=p;l>=p?l>=e:e>=l;l>=p?e++:e--)m.push(e);return m}.apply(this),n(o)))),$.templates.paginator_block(\">\",{cls:\".m-arrow.m-last-child\",disabled:t===l-1})},$.templates.app_headered_box_component=function(){return r(\".app-headered-box\",function(){return r(\".app-headered-box__header\",function(){return r(\".app-header-box__close-button.close-x\"),r(\".app-headered-box__header-content\",function(){return r(\".app-headered-box__header-image\"),r(\".app-headered-box__header-label\",function(){return r(\".app-headered-box__header-text\"),r(\".app-headered-box__header-ellipses\")})})}),r(\".app-headered-box__content-wrapper\",function(){return r(\".app-headered-box__margin-collapse\",function(){return x(\"&nbsp;\")}),r(\".app-headered-box__content\"),r(\".app-headered-box__margin-collapse\",function(){return x(\"&nbsp;\")})})})},$.templates.mini_hotel_module=function(t,n){var a;return null==n&&(n=\"\"),a={href:t.details_url(),target:\"_blank\",\"js-track-event\":\"frontpage_hotel_click\"},e(\".mini-hotel-module\"+n,a,function(){var e;return r(\".mini-hotel-module__image-wrapper\",function(){return r(\".mini-hotel-module__image\",function(){var e,n;return _({src:null!=(e=null!=(n=t.media)?n[0]:void 0)?e:\"/static/no-hotel.png\"})})}),r(\".mini-hotel-module__name\",t.name),r(\".mini-hotel-module__rating-row\",function(){return $.templates.industry_stars(t),t.has_percs()?r(\".inline-percs\",function(){return $.templates.hotel_percs(t)}):void 0}),t.has_rating()&&r(\".mini-hotel-module__rating-row\",function(){return r(\".rating\",function(){return $.templates.hotel_rating(t)})}),e=\".mini-hotel-module__details-button.small-button.silver.taller\",r(e,function(){return x(\"Details &raquo;\")}),r(\".mini-hotel-module__price-disclaimer\",\"prices from\"),r(\".mini-hotel-module__price\",\"$\"+Math.round(t.minrate)),r(\".clear\")})}}.call(this);\n!function(){var t;window.HotelModel=function(){function i(i,e){var s,o,r,n,h,a,l,d,u,c,_,p,f;for(null==this.id&&(this.id=i.id),this.hood_id=i.hood_id,this.name=i.name,this.stars=i.stars,this.base_ecstasy=i.base_ecstasy,this.ecstasy_factors=i.ecstasy_factors,this.img_count=i.img_count,this.description=i.description,this.hotel_header=i.hotel_header,this.name_url=i.name_url,this.location_url=i.location_url,this.minrate=i.minrate,s=t(e),this.amens=s(i.amens),this.chains={},_=i.chains,a=0,u=_.length;u>a;a++)o=_[a],this.chains[o]=!0;if(this.property_types={},null!=i.property_types)for(p=i.property_types,l=0,c=p.length;c>l;l++)n=p[l],this.property_types[n]=!0;for(this.render_kind=i.kind,this.thumbnail=this.get_thumbnail_url(),this.media=[],r=this.MEDIA_URL.replace(\"<hotel_id>\",this.id),h=d=0,f=this.img_count;f>=0?f>d:d>f;h=f>=0?++d:--d)this.media.push(r.replace(\"<num>\",h));this.reviews={},this.wifinder={},this.update(i),this.raw_loc=i.loc}return i.prototype.MEDIA_URL=\"/api/hotel2/media/<hotel_id>/<num>\",i.prototype.THUMB_URL=\"/api/hotel2/thumbnail/<hotel_id>\",i.prototype.NO_HOTEL_URL=\"/static/no-hotel.png\",i.prototype.update=function(t){var i,e,s,o,r;return _.extend(this.reviews,t.reviews),_.extend(this.wifinder,t.wifinder),this.review_kind=null!=(i=this.reviews)?i.provider:void 0,this.freewifi=(null!=(e=this.wifinder)?e.wifi:void 0)&&0===(null!=(s=this.wifinder)?s.wifi_price:void 0),this.freeparking=(null!=(o=this.wifinder)?o.parking:void 0)&&0===(null!=(r=this.wifinder)?r.parking_price:void 0),null==this.address&&(this.address=t.address),null==this.city_name&&(this.city_name=t.city_name),null==this.state_code&&(this.state_code=t.state_code),null==this.country_code&&(this.country_code=t.country_code),null==this.postal_code&&(this.postal_code=t.postal_code),null==this.phone&&(this.phone=t.phone),null==this.description&&(this.description=t.description),null==this.bathrooms&&(this.bathrooms=t.bathrooms),null==this.bedrooms&&(this.bedrooms=t.bedrooms),null==this.square_feet&&(this.square_feet=t.square_feet),null!=this.capacity?this.capacity:this.capacity=t.capacity},i.prototype.get_thumbnail_url=function(){var t;return t=this.img_count>0?this.THUMB_URL.replace(\"<hotel_id>\",this.id):this.NO_HOTEL_URL},i.prototype.formatted_address=function(){var t,i;return t=\"\"+this.address+\" \"+this.city_name+\", \"+this.state_code,(null!=(i=this.postal_code)?i.length:void 0)&&(t+=\" \"+this.postal_code),t},i.prototype.formatted_address_line_2=function(){var t,i;return t=\"\"+this.city_name,t+=null!=this.state_code?\", \"+this.state_code:\", \"+this.country_code,(null!=(i=this.postal_code)?i.length:void 0)&&(t+=\" \"+this.postal_code),t},i.prototype.url_encoded_address=function(){return encodeURIComponent(this.formatted_address())},i.prototype.google_maps_url=function(){var t;return t=this.url_encoded_address(),\"https://maps.google.com/maps?daddr=\"+t+\"&saddr=\"},i.prototype.details_url=function(t){var i;return null==t&&(t=null),i=\"/hotel/\"+this.location_url+\"/\"+this.name_url,t&&(i+=\"?\"+$.param(t)),i},i.prototype.formatted_phone=function(){return this.phone?hm.utils.format_phone(this.phone):null},i.prototype.has_percs=function(){return!(!this.freewifi&&!this.freeparking)},i.prototype.has_rating=function(){var t,i;return!!((null!=(t=this.reviews)?t.mean:void 0)&&(null!=(i=this.reviews)?i.count:void 0)>0)},i.init_rooms_list=function(t,i){var e;return function(){var s,o;for(o=[],e=s=0;i>=0?i>s:s>i;e=i>=0?++s:--s)o.push({adults:Math.ceil((t-e)/i),child_ages:[]});return o}()},i}(),t=function(t){return function(i){var e,s,o,r,n;for(o={},e=1,r=0,n=t.length;n>r;r++)s=t[r],e&i&&(o[s]=!0),e<<=1;return o}}}.call(this);\n!function(){var t,e,n,r,a,i=function(t,e){return function(){return t.apply(e,arguments)}};e=\"OUTSTANDING REQUEST\",a={},r=\"wait\",t=\"error\",n=65,window.calendar_on=function(){return null==$.hipmunk.user.email?!1:$.hipmunk.user.preferences.google_calendar||$.hipmunk.user.preferences.exchange_enabled},window.UserCalendar=function(){function e(t,e,n,r,a){var s;this.tab=t,this.iden=e,this.$group=n,this.$container=r,this.kind=a,this.update_calendars=i(this.update_calendars,this),this.update_popup=i(this.update_popup,this),s=$(\"#calendars-button-\"+this.iden),s.html(drykup.render($.templates.calendars_button(this.iden,this))),this.$dropdown=s.find(\"#calendars-dropdown-\"+this.iden),this.setup_event_handlers(),\"flight\"===this.kind?this.flight_events():\"hotel\"===this.kind&&this.hotel_events(),this.geolocator_cache={},this.update_calendars(),this.onoff=!0,this.error=!1,this.current_key=null,this.timeinfo=null}return e.prototype.preload=function(e){var i,s=this;return i=this.to_key(e),i in a&&this.current_key===i&&(this.calendars=calendars,this.refresh()),null!=e.min_time&&null!=e.max_time?(a[i]=r,$.ajax(\"/calendar/events\",{type:\"GET\",processData:!0,data:{start:e.min_time,stop:e.max_time},dataType:\"json\",success:function(e){return a[i]=0===e.length?e=t:e,s.current_key===i?(s.calendars=e,s.refresh()):void 0},timeout:1e3*n,error:function(){return a[i]=t,s.current_key===i?s.refresh():void 0}})):void 0},e.prototype.clear_all_calendars=function(){return a={},this.current_key=null},e.prototype.refresh=function(e){var n,i,s,o;return $(\"#stain-pane-\"+this.iden).toggle(!0),$(\"#calendar-holder-\"+this.iden).toggle(!0),null==e||_.isEqual(e,this.timeinfo)||(this.timeinfo=e,i=this.to_key(e),this.current_key=i,this.calendars=a[i],this.geolocated=!1,null!=(s=this.tab.$event_overlay)&&s.empty(),null!=(o=this.tab.sidebar)&&\"function\"==typeof o.update_cal_top&&o.update_cal_top()),this.error=!1,n=$(\"#calendar-loadingmsg-\"+this.iden),this.calendars===r?(this.calendars=[],n.show(),n.html(\"Loading calendars...\")):this.calendars===t?(this.calendars=[],n.show(),n.html(\"There was an error loading your calendars.\"),this.error=!0):null==this.calendars?(this.preload(e),this.calendars=[],n.show(),n.html(\"Fetching calendars...\"),this.error=!0):(this.update_calendars(),n.hide()),this.update_popup()},e.prototype.check_cull_flights=function(){var t;return\"function\"==typeof(t=this.tab).update_conflicts_button&&t.update_conflicts_button(),$.hipmunk.url.active_tab.calcut?$.hipmunk.url.active_tab.build_graph():void 0},e.prototype.to_key=function(t){var e,n;return n=t.min_time,e=t.max_time,t.max_time+\" to \"+t.max_time},e.prototype.setup_event_handlers=function(){var t=this;return this.tab.$results.on(\"click\",\"div.calendars-button\",function(e){var n,r;if(null!=(null!=(n=t.calendars)?n.length:void 0))return null!=(r=t.tab.tip)&&r.close(),$.show_dropdown(t.$dropdown,t.$container),t.update_popup(),e.stopPropagation()}),this.$group.delegate(\".calendar-hider\",\"click\",function(e){t.onoff=!t.onoff,t.refresh(),e.stopPropagation()}),this.$container.on(\"click\",\"input.calendar-toggle\",function(e){var n,r;n=$(e.currentTarget),r=t.calendars[n.cdata_closest(\"cal\")],$.prefs.setlist(\"disabled_cals\",r.id,!n.prop(\"checked\")),$.prefs.save(),t.refresh(),t.check_cull_flights(),e.stopPropagation()}),this.$container.on(\"click\",\"div.active-calendar .box\",function(e){var n,r;n=$(e.currentTarget),r=t.calendars[n.cdata_closest(\"cal\")],$.prefs.setlist(\"expanded_cals\",r.id,!r.expanded),$.prefs.save(),t.refresh(),e.stopPropagation()}),this.$container.on(\"click\",\"input.event-toggle\",function(e){var n,r,a;n=$(e.currentTarget),r=t.calendars[n.cdata_closest(\"cal\")],a=r.events[n.cdata_closest(\"event-num\")],$.prefs.setlist(\"disabled_events\",a.id,!a.disabled),$.prefs.save(),t.refresh(),t.check_cull_flights(),e.stopPropagation()}),this.$container.on(\"click\",\".biz-billing\",function(){trip_planner.popup.show(ManageTripsPopup.VIEW_BILLING)})},e.prototype.flight_events=function(){return this.$group.delegate(\"div.event .title\",\"mouseenter\",function(t){var e,n;return e=$(t.currentTarget).parent(),n=e.find(\"div.event-info\"),n.width()+e.offset().left>$(window).width()&&\"auto\"===n.css(\"right\")&&n.css(\"right\",n.css(\"left\")).css(\"left\",\"auto\"),n.show()}),this.$group.delegate(\"div.event\",\"mouseleave\",function(t){var e,n;return e=$(t.currentTarget),n=e.find(\"div.event-info\"),n.hide()})},e.prototype.update_popup=function(){return this.$dropdown.html($(drykup.render($.templates.dropdown_calendars(this))))},e.prototype.process=function(t){var e;return e=new CalendarCollection(t),\"flight\"===this.kind?e.attach_data_for_flight_tab(this.tab):void 0},e.prototype.update_calendars=function(){var t;null!=this.calendars&&this.process(this.calendars),\"flight\"===this.kind&&(this.$cal_header=$(\"#calendar-header-\"+this.iden),this.$stain_pane=$(\"#stain-pane-\"+this.iden),null!=this.calendars&&(this.$cal_header.html(drykup.render($.templates.flight_event_header(this.calendars))),this.$stain_pane.html(drykup.render($.templates.flight_event_stain(this.calendars))),\"function\"==typeof(t=this.tab).update_conflicts_button&&t.update_conflicts_button()))},e.prototype.is_calcut=function(t){var e,n,r,a,i,s,o,l;if(this.onoff===!1)return!1;for(o=this.calendars,r=0,i=o.length;i>r;r++)if(e=o[r],e.enabled)for(l=e.events,a=0,s=l.length;s>a;a++)if(n=l[a],!n.disabled&&n.start<=t.arr&&n.stop>=t.dep)return!0;return!1},e}(),window.CalendarEventList=function(){function t(t){var e,n,r,a,i,s,o,l,c;for(this.calendars=t,l=this.calendars,a=0,s=l.length;s>a;a++)for(e=l[a],e.events.sort(function(t,e){return t.start-e.start}),c=e.events,r=i=0,o=c.length;o>i;r=++i)n=c[r],n.number=r+1,n.flag_color=luma(e.color,.6).slice(1),n.calendar=e}return t}(),window.CalendarEventManager=function(){function t(){}return t.CEM_CACHE_STATUS_EMPTY=\"empty\",t.CEM_CACHE_STATUS_RUNNING=\"running\",t.CEM_CACHE_STATUS_DONE=\"done\",t.CEM_CACHE_STATUS_ERROR=\"error\",t.EMPTY_STATUS_OBJECT={status:t.CEM_CACHE_STATUS_EMPTY,data:null},t._shared_instance=null,t.prototype._event_cache={},t.prototype.event_cache_changed_callback=$.Callbacks(),t.shared_instance=function(){return this._shared_instance||(this._shared_instance=new t),this._shared_instance},t.timeinfo_to_key=function(t){var e,n;return n=t.min_time,e=t.max_time,n+\" to \"+e},t.prototype.status_for_timeinfo=function(e){var n,r;return r=this.constructor.timeinfo_to_key(e),n=this._event_cache[r],n?n:t.EMPTY_STATUS_OBJECT},t.prototype._set_status_for_key=function(t,e,n){return null==n&&(n=null),this._event_cache[t]={status:e,data:n},this.fire_callback(t)},t.prototype.fetch_events_for_timeinfo=function(e){var r,a=this;return r=this.constructor.timeinfo_to_key(e),this._set_status_for_key(r,t.CEM_CACHE_STATUS_RUNNING,null),$.ajax(\"/calendar/events\",{type:\"GET\",processData:!0,data:{start:e.min_time,stop:e.max_time},dataType:\"json\",success:function(e){var n;return 0===e.length?a._set_status_for_key(r,t.CEM_CACHE_STATUS_ERROR,null):(n=new CalendarEventList(e),a._set_status_for_key(r,t.CEM_CACHE_STATUS_DONE,n))},timeout:1e3*n,error:function(){return a._set_status_for_key(r,t.CEM_CACHE_STATUS_ERROR,null)}})},t.prototype.fire_callback=function(t){return this.event_cache_changed_callback.fire(t)},t}()}.call(this);\n!function(){var r,n,t,o;r=function(r){var n,t,o,a;return o=parseInt(r.slice(1),16),a=o>>16,n=255&o>>8,t=255&o,[a,t,n]},t=function(r,n,t){return r=(16>r?\"0\":\"\")+Math.floor(r).toString(16),n=(16>n?\"0\":\"\")+Math.floor(n).toString(16),t=(16>t?\"0\":\"\")+Math.floor(t).toString(16),\"#\"+r+t+n},window.luma=function(a,u){var i,e,c,f,h,l,M,s,v;return M=r(a),h=M[0],e=M[1],i=M[2],s=o(h,e,i),c=s[0],l=s[1],f=s[2],f=u,v=n(c,l,f),h=v[0],e=v[1],i=v[2],t(h,e,i)},window.darken=function(a,u){var i,e,c,f,h,l,M,s,v;return M=r(a),h=M[0],e=M[1],i=M[2],s=o(h,e,i),c=s[0],l=s[1],f=s[2],f-=u,0>f&&(f=0),f>1&&(f=1),v=n(c,l,f),h=v[0],e=v[1],i=v[2],t(h,e,i)},o=function(r,n,t){var o,a,u,i,e,c;return r/=255,n/=255,t/=255,i=Math.max(r,n,t),e=Math.min(r,n,t),u=(i+e)/2,i===e?a=c=0:(o=i-e,c=u>.5?o/(2-i-e):o/(i+e),a=function(){switch(i){case r:return(n-t)/o+(t>n?6:0);case n:return(t-r)/o+2;case t:return(r-n)/o+4}}(),a/=6),[a,c,u]},n=function(r,n,t){var o,a,u,i,e,c;return 0===n?c=a=o=t:(u=function(r,n,t){return 0>t&&(t+=1),t>1&&(t-=1),1/6>t?r+6*(n-r)*t:.5>t?n:2/3>t?r+6*(n-r)*(2/3-t):r},e=.5>t?t*(1+n):t+n-t*n,i=2*t-e,c=u(i,e,r+1/3),a=u(i,e,r),o=u(i,e,r-1/3)),[Math.floor(255*c),Math.floor(255*a),Math.floor(255*o)]}}.call(this);\n!function(){var s=function(s,t){return function(){return s.apply(t,arguments)}},t=[].indexOf||function(s){for(var t=0,e=this.length;e>t;t++)if(t in this&&this[t]===s)return t;return-1};window.Prefs=function(){function e(t){this.load=s(this.load,this),this.save=s(this.save,this),this.persona=\"default\",this.pref_keys={airlines:[],airlines_show:!1,non_stop:!1,disabled_cals:[],expanded_cals:[],disabled_events:[],cal_cut:!1},this.load_defaults(),this.load(t)}return e.prototype.load_defaults=function(){var s,t,e,r;e=this.pref_keys,r=[];for(s in e)t=e[s],r.push(this[s]=t);return r},e.prototype.setlist=function(s,t,e){var r;if(s=this[s],r=_.indexOf(s,t),e===!0){if(-1===r)return s.push(t)}else if(-1!==r)return s.splice(r,1)},e.prototype.save=function(){var s;return this.save_current_person(),s={persona:this.persona,personas:this.personas},$.ajax(\"/prefs/save\",{data:JSON.stringify(s)})},e.prototype.save_current_person=function(){var s,t,e,r;this.personas[this.persona]={},e=this.pref_keys,r=[];for(s in e)t=e[s],r.push(this.personas[this.persona][s]=this[s]||t);return r},e.prototype.load=function(s){var t,e;return this.prefs=s||$.hipmunk.user.preferences,this.personas=this.prefs.personas=null!=(t=this.prefs.personas)?t:{},this.persona=null!=(e=this.prefs.persona)?e:\"default\",this.load_current_person()},e.prototype.load_current_person=function(){var s,t,e,r;if(null!=this.personas[this.persona]){e=this.pref_keys,r=[];for(s in e)t=e[s],r.push(this[s]=this.personas[this.persona][s]||t);return r}return this.load_defaults()},e.prototype.select=function(s){return this.save_current_person(),this.persona=s,this.load_current_person(),this.save()},e.prototype.is_calendar_enabled=function(s){return t.call(this.disabled_cals,s)<0},e}()}.call(this);\n!function(){var e,n,t,i,r,u,a,o,s,c=[].indexOf||function(e){for(var n=0,t=this.length;t>n;n++)if(n in this&&this[n]===e)return n;return-1};s={},r=function(e){var n;return e=$.hipmunk.utils.deepcopy(e),e.dates=function(){var i,r,u,a;for(u=e.dates,a=[],i=0,r=u.length;r>i;i++)n=u[i],a.push(t(n));return a}(),e.range=i(e.range),e},t=function(e){var n,t,i,r,u;return null!=e&&(t=e.match(/([A-Za-z]+)(\\d+)(.*)/),t&&(u=t[0],i=t[1],n=t[2],r=t[3],e=\"\"+i+\" \"+n,r&&(e+=(\" \"+r).replace(/m/g,\"-\").replace(/p/g,\"+\")))),e},i=function(e){return null!=e&&(e=e.replace(/(\\d+)/,\"$1 \").replace(/m/g,\"-\").replace(/p/g,\"+\")),e},o=function(e){return e&&$.hipmunk.use_recent},e=[2,5,8,15,20],a=function(n){var t;null==$.hipmunk.use_main_js||n||(t=get_activity(\"visit\"),c.call(e,t)<0||$.hipmunk.url&&1!==$.hipmunk.url.tabs.length||$(\"#header\").find(\".signup-harass\").delay(750).fadeIn(750).delay(3e3).fadeOut(750))},n=function(){var e;return record_activity(\"visit\"),e=get_activity_registered(),a(e),e?adroll_event(\"registered_user\"):void 0},u=function(){\" see if we have a top message cookie otherwise\\ncheck if we need to send any user specific messages \";var e;return e=$.cookie(\"hm_message\"),e?show_top_message(e):void 0},$.hipmunk.update_recent_searches=function(){var e;return e=$.hipmunk.set_recent_searches($.hipmunk.saved_searches||[])},$.hipmunk.set_recent_searches=function(e){var n,t,i,u,a,o,c,h;for(i=[],n=null,t=o=0,c=e.length;c>o;t=++o)u=e[t],\"{\"===u[0]&&(a=JSON.parse(u),null!=a&&(a=r(a),s[t]=a,i.push(a),n||(n=a)));return i.length>0?$.hipmunk.saved_searches=i:(null!=(h=$.hipmunk.saved_searches)?h.length:void 0)>0&&\"object\"==typeof $.hipmunk.saved_searches[0]&&(n=$.hipmunk.saved_searches[0]),n},window.accounts_init=function(){var e,t,i,r,a,s,c;return i=$(document.body),e=$(\"#header\").find(\".account-menu\"),u(),$.hipmunk.logged_in?(a=e.find(\".signed-in\"),t=e.find(\".account-popup\"),a.find(\".button-text\").text($.hipmunk.user.email),t.find(\".am-user\").text($.hipmunk.user.email)):a=e.find(\".signed-out\"),r=$(\"#gift-popup\").find(\".not-registered\"),$.hipmunk.logged_in?r.remove():r.show(),a.removeClass(\"hidden\").show(),s=$.hipmunk.update_recent_searches(),o(s)&&!(null!=(c=$.hipmunk.frontpage)?c.is_open():void 0)&&select_form(s),$.hipmunk.frontpage.toggle_animation(!0),i.on(\"click\",\".google-auth-button, .google-button-area\",function(e){$.hipmunk.utils.popup_window(\"/google/calendar-login-redirect\",500,500),$.hipmunk.google_auth_complete=function(){return $.reload()},e.stopPropagation(),$.hipmunk.utils.track(\"overlay_google_calendar\")}),n()}}.call(this);\n!function(){var t;t=function(){function t(t){this.data_by_exp={},this.tracked_by_exp={},this.seed=t.seed,this.experiments=t.experiments,this.track_fn=t.track_fn}return t.prototype.get_option=function(t,e){var n,i,o;return o=(null!=e?e:{}).track,null==o&&(o=!0),i=this.get_option_data(t),n=i.option,o&&!this.tracked_by_exp[t]&&(this.tracked_by_exp[t]=!0,this.track_fn(\"experiment\",t,i)),n},t.prototype.get_option_data=function(t){return t in this.data_by_exp||(this.data_by_exp[t]=this.calculate_option_data(t)),this.data_by_exp[t]},t.prototype.calculate_option_data=function(t){var e,n,i,o,r,a,p,u,_,s,h,c,f,l,d,x,y,m,b;if(e=this.experiments[t],null==e)return{option:\"default\"};if(r=hm.utils.get_config(t))for(d=e.options,s=0,f=d.length;f>s;s++)if(x=d[s],o=x[0],p=x[1],r===o)return{option:o,override:!0};for(i=null!=(y=e.phase)?y:1,_=1,n=h=0;i>=0?i>h:h>i;n=i>=0?++h:--h)_=_*this.seed%e.uniquenum;for(u=_/(e.uniquenum-1),a=0,m=e.options,c=0,l=m.length;l>c;c++){if(b=m[c],o=b[0],p=b[1],p/=100,p+a>=u)return{option:o};a+=p}return{option:\"default\"}},t}(),hm[\"export\"]({ExperimentCore:t})}.call(this);\n!function(){var o,n,t={}.hasOwnProperty,e=function(o,n){function e(){this.constructor=o}for(var r in n)t.call(n,r)&&(o[r]=n[r]);return e.prototype=n.prototype,o.prototype=new e,o.__super__=n.prototype,o};o=hm.ExperimentCore,n=function(o){function n(){var o;o={seed:parseInt($.hipmunk.user.md5.slice(-10),16),track_fn:$.hipmunk.utils.track,experiments:{flight_ads:{uniquenum:361603,options:[[\"show\",95],[\"dont_show\",5]]},initial_map_mode:{uniquenum:405769,options:[[\"small\",100],[\"large\",0]]},responsive_page:{uniquenum:617091,options:[[\"control\",0],[\"show\",100]]},progress_bar:{uniquenum:291454,options:[[\"control\",25],[\"null\",25],[\"theme_1\",25],[\"theme_2\",25]]},nps_survey:{phase:Date.today().getMonth(),uniquenum:11822,options:[[\"control\",80],[\"show\",20]]},search_both_cta:{uniquenum:931688,options:[[\"control\",25],[\"null\",25],[\"short_cta\",25],[\"long_cta\",25]]},hotel_upsell_modal:{uniquenum:744441,options:[[\"control\",25],[\"null\",25],[\"show\",50]]}}},n.__super__.constructor.call(this,o)}return e(n,o),n}(o),hm[\"export\"]({ExperimentManager:n})}.call(this);\n!function(){var t,n={}.hasOwnProperty;t=function(){function t(){}return t.prototype.format_timing=function(t){var e,o,r,i;o={},r=t.navigationStart;for(e in t)n.call(t,e)&&(i=t[e],i>0?i-=r:i=null,o[e]=i);return o},t.prototype.get_tabs=function(){return null==$.hipmunk.url?[]:$.hipmunk.url.parse_location()[0]},t.prototype.get_page_type=function(){var t,n;return n=this.get_tabs(),0===_.size(n)?\"front\":(t=n[0],\"flight\"===t.kind?_.isEmpty(t.dates)?\"front\":\"flight_results\":\"hotel\"===t.kind?_.isEmpty(t.dates)?\"hotel_bare\":\"hotel_results\":\"unknown\")},t.prototype.log_page_load=function(){var t,n=this;if(null!=window.performance)return t=window.set_interval(100,function(){var e;if(0!==window.performance.loadEventEnd)return window.clear_interval(t),e=n.format_timing(window.performance.timing),e.tab_count=_.size(n.get_tabs())-1,e.path=window.location.pathname,$.hipmunk.utils.track(\"page_load_complete\",n.get_page_type(),e)})},t}(),$.hipmunk.performance=new t}.call(this);\n!function(){var e,a;$.hipmunk.farealerts=[],window.fetch_alerts=function(e){var a;if(null!=(null!=(a=$.hipmunk.user)?a.email:void 0))return $.ajax(\"/api/farealerts/view\",{type:\"GET\",dataType:\"json\",success:function(a){return $.hipmunk.farealerts=a.alerts,null!=e?e(a.alerts):void 0}})},e=function(e){var a;return $.ajax(\"/api/farealerts/delete\",{dataType:\"json\",data:{search_iden:e}}),$.hipmunk.farealerts=function(){var t,r,n,i;for(n=$.hipmunk.farealerts,i=[],t=0,r=n.length;r>t;t++)a=n[t],a.search_iden!==e&&i.push(a);return i}()},window.farealert_remove=function(t){var r,n;return e(t.search_iden),r=null!=(n=$.hipmunk.url)?n.active_tab:void 0,t.search_iden===r.tab_iden?a(r,!0):void 0},window.farealert_remove_tab=function(t){return a(t,!0),e(t.tab_iden)},window.set_fare_button=function(e){var t,r,n,i;for(r=$.hipmunk.farealerts,n=0,i=r.length;i>n;n++)if(t=r[n],t.search_iden===e.tab_iden)return a(e,!1),void 0;return a(e,!0)},a=function(e,a){var t,r;return r=a?\"Get Fare Alert\":\"Alert Added\",t=e.$results.find(\".fare-alert-area\"),t.show(),t.find(\".small-button\").find(\".button-text\").html(r).end().toggleClass(\"selected\",!a).find(\".icon\").toggleClass(\"green-check\",!a).toggleClass(\"mail-icon\",a)},window.farealert_add=function(e){return null!=$.hipmunk.user.email?(a(e,!1),$.ajax(\"/api/farealerts/set\",{dataType:\"json\",data:{tz_offset:-(new Date).getTimezoneOffset(),search_iden:e.tab_iden,tab_params:JSON.stringify(e.tab_params),search:JSON.stringify(e.flight_data.search)},success:function(){return fetch_alerts()}})):void 0}}.call(this);\n!function(){var t,i,e,s,n,o,h,r,a,l,d=function(t,i){return function(){return t.apply(i,arguments)}};t=200,s=106,l=158,n=216,e=15,i=10,h=998,a=$.browser.msie&&parseInt($.browser.version,10)<9,o=\"only screen and (max-width: \"+h+\"px),only screen and (max-device-width: 1024px) and (orientation: landscape),only screen and (max-device-width: 768px) and (orientation: portrait)\",window.FrontPageManager=function(){function t(){this.adjust_wrapper_height=d(this.adjust_wrapper_height,this),this.toggle_animation=d(this.toggle_animation,this),this.is_open=d(this.is_open,this),this.shrink_both_forms=d(this.shrink_both_forms,this),this.expand_form=d(this.expand_form,this);var t,i,e,s,n,o,h,a,l;for(this.views={both:new r({tab_id:\"search\",flights_id:\"flight-search\",hotels_id:\"hotel-search\"})},a=[\"flight\",\"hotel\"],s=0,o=a.length;o>s;s++)for(i=a[s],l=[\"\",\"-custom\"],n=0,h=l.length;h>n;n++)e=l[n],t={tab_id:\"\"+i+\"s\"+e+\"-search\",form_suffix:e+$.hipmunk.landing_form_suffix,solo:!0},t[\"\"+i+\"s_id\"]=\"\"+i+\"s\"+e+\"-box\",this.views[i+e]=new r(t)}return t.prototype.expand_form=function(t,i){var e;e=null!=i.tab_kind?this.views[i.tab_kind+i.kind_suffix]:this.views.both,e.expand_form(t,i)},t.prototype.shrink_both_forms=function(){return this.views.both.shrink_both_forms(arguments)},t.prototype.is_open=function(){return this.views.both.is_open()},t.prototype.toggle_animation=function(t){return this.views.both.toggle_animation(t)},t.prototype.adjust_wrapper_height=function(){var t,i,e,s;e=this.views,s=[];for(t in e)i=e[t],s.push(i.adjust_wrapper_height());return s},t}(),r=function(){function i(t){var i,e,s,n,o,h,r,a,l,f,u,c=this;if(a=null!=t?t:params,this.tab_id=a.tab_id,this.flights_id=a.flights_id,this.hotels_id=a.hotels_id,this.solo=a.solo,this.form_suffix=a.form_suffix,this.setup_events=d(this.setup_events,this),this.inline_close_listener=d(this.inline_close_listener,this),this.inline_open_listener=d(this.inline_open_listener,this),this.not_showing_my_tab=d(this.not_showing_my_tab,this),this.enable_solo_mode=d(this.enable_solo_mode,this),this.get_delay=d(this.get_delay,this),this.adjust_wrapper_height=d(this.adjust_wrapper_height,this),this.toggle_animation=d(this.toggle_animation,this),null==this.solo&&(this.solo=!1),null==this.form_suffix&&(this.form_suffix=\"\"),null==this.flights_id&&(this.flights_id=\"\"),null==this.hotels_id&&(this.hotels_id=\"\"),this.flight_forms=[],this.hotel_forms=[],this.$form_expanded=void 0,this.$selected_input=void 0,this.first_show=!0,this.animation_enabled=null,this.fused=!1,this.$container=$(\"#results-\"+this.tab_id),0===this.$container.length)return this.ignore=!0,void 0;if(this.flights_id){for(this.$flights=$(\"#\"+this.flights_id),this.oneway=init_search_form(\"oneway\"+this.form_suffix,!0,!1,!0),this.flight=init_search_form(\"flight\"+this.form_suffix,!0,!1,!0),this.multi=init_search_form(\"multi\"+this.form_suffix,!0,!1,!0),this.calendar=init_search_form(\"calendar\"+this.form_suffix,!0,!1,!0),l=[this.oneway,this.flight],e=0,o=l.length;o>e;e++)i=l[e],i.support_intent_media_checkboxes=!0;this.flight.support_search_both_cta=!0,this.flight_forms=[this.oneway,this.flight,this.multi,this.calendar],this.calendar.prefill_dates(),this.multi.show_next=!1}for(this.hotels_id&&(this.$hotels=$(\"#\"+this.hotels_id),this.hotel=init_search_form(\"hotel\"+this.form_suffix,!0,!1,!0),this.hotel_forms=[this.hotel]),f=this.flight_forms.concat(this.hotel_forms),s=0,h=f.length;h>s;s++)i=f[s],i.is_frontpage_search_form=!0;for(this.$header=$(\"#header\"),this.$topmessage=$(\"#topmessage\"),this.$narrow_toggle=this.$container.find(\".narrow-form-toggle\"),this.$footer_content=this.$container.find(\".frontpage-footer-content\"),this.search_forms=_.union(this.flight_forms,this.hotel_forms),u=this.search_forms,n=0,r=u.length;r>n;n++)i=u[n],i.$this.data(\"success\",function(){var t;return(t=$.hipmunk.url).add_tab.apply(t,arguments)});this.submit_kind=\"none\",this.set_submit_status(this.submit_kind),this.solo&&this.enable_solo_mode(),this.adjust_wrapper_height(),this.setup_events(),$.hipmunk.utils.first_show(),this.$footer_content.find(\".frontpage-city-guide\").length&&new CityGuide(this.$footer_content.find(\".frontpage-city-guide-inner\")),main_js_callback().done(function(){return c.main_loaded()})}return i.prototype.can_animate=function(){return!(this.fused||$.hipmunk.is_mobile)},i.prototype.toggle_animation=function(t){this.ignore||this.solo||(this.animation_enabled=null!=t?t:!this.animation_enabled,this.animation_enabled&&(this.animation_enabled=this.can_animate()))},i.prototype.adjust_wrapper_height=function(t){var i,e,s,n;return null==t&&(t=this.$form_expanded),!this.ignore&&this.$container.is(\":visible\")?(i=this.$container.find(\".frontpage-search-container__frontbox-wrapper\"),n=i.height(),s=0,e=40,this.$flights&&(s=Math.max(s,this.$flights.height()+e)),this.$hotels&&(s=Math.max(s,this.$hotels.height()+e)),s>n?i.height(s):void 0):void 0},i.prototype.show_recent_searches=function(){var t;this.ignore||(null!=(t=$.hipmunk.saved_searches)?t.length:void 0)&&this.adjust_wrapper_height()},i.prototype.clear_errors=function(){var t,i;null!=(t=this.$flights)&&t.find(\".haserror\").removeClass(\"haserror\").end().find(\".error-status\").hide(),null!=(i=this.$hotels)&&i.find(\".haserror\").removeClass(\"haserror\").end().find(\".error-status\").hide()},i.prototype.get_delay=function(){return Modernizr.csstransitions&&this.animation_enabled?t:0},i.prototype.is_open=function(){return this.$form_expanded&&!this.fused},i.prototype._expand_and_shrink=function(t,i){var e;t.expanded||($.close_popups(),this.$form_expanded=t,t.expanded=!0,i.expanded=!1,this.clear_errors(),$.hipmunk.utils.track(\"front_forms_expanded\",t.attr(\"id\")),e=t.add(i),null!=this.animation_enabled?(this.toggle_animation(!0),e.addClass(\"m-do-animate\"),e.addClass(\"m-animating\"),set_timeout(this.get_delay(),function(){return e.removeClass(\"m-animating\")})):e.removeClass(\"m-do-animate\"),t.addClass(\"m-expanded\").removeClass(\"m-shrunk\"),i.addClass(\"m-shrunk\").removeClass(\"m-expanded\"))},i.prototype.init_search_both_cta=function(){var t,i;switch(t=this.$container.find(\".frontbox__search-both-container\"),i=null,$.hipmunk.experiments.get_option(\"search_both_cta\")){case\"short_cta\":i=\"Search Flights + Hotel\";break;case\"long_cta\":i=\"Save More! Search Flight + Hotels\"}return i?t.show().find(\"a\").text(i):void 0},i.prototype.expand_form=function(t,i){var e,s=this;if(!this.ignore){if(this.solo)return this.flights_id&&(null!=i?i.prepatory:void 0)&&this.$container.withCss(\"display\",\"block\",function(){return s.adjust_flights()}),void 0;this.$narrow_toggle.find(\".narrow-form-toggle__tab\").removeClass(\"selected\"),_.contains([\"hotel\",\"/hotels\"],t)?(e=\"hotel\",this._expand_and_shrink(this.$hotels,this.$flights,null!=i?i.$selected_input:void 0)):(e=\"flight\",this._expand_and_shrink(this.$flights,this.$hotels,null!=i?i.$selected_input:void 0)),this.$narrow_toggle.find(\".tab-\"+e).addClass(\"selected\"),this.$selected_input=void 0,set_timeout(this.get_delay(),function(){e!==s.submit_kind&&s.set_submit_status(e)})}},i.prototype.shrink_both_forms=function(){return this.ignore||this.solo?void 0:($.hipmunk.utils.track(\"front_forms_shrunk\"),this.clear_errors(),this.$flights.add(this.$hotels).removeClass(\"m-shrunk m-expanded\"),this.$form_expanded=void 0,this.$flights.expanded=!1,this.$hotels.expanded=!1)},i.prototype.set_submit_status=function(t){var i;switch(i=function(t,i){var e,s,n,o;for(o=[],s=0,n=t.length;n>s;s++)e=t[s],o.push(e.can_cubmit=i);return o},i(this.search_forms,!1),t){case\"hotel\":i(this.hotel_forms,!0);break;case\"flight\":i(this.flight_forms,!0)}return this.submit_kind=t},i.prototype.enable_solo_mode=function(){var t;this.$form_expanded=null!=(t=this.$flights)?t:this.$hotels,this.$form_expanded.addClass(\"m-expanded m-solo\"),this.$form_expanded.expanded=!0,this.flights_id?this.set_submit_status(\"flight\"):this.set_submit_status(\"hotel\")},i.prototype.not_showing_my_tab=function(){return null!=$.hipmunk.url&&$.hipmunk.url.active_tab.id!==this.tab_id},i.prototype.inline_open_listener=function(t){var i;if(!this.not_showing_my_tab()&&null!=this.$form_expanded)return i=t.data(\"old_parent\"),i.nextAll(\".frontbox__date-picker-space\").first().height(t.height()+2*e).show()},i.prototype.inline_close_listener=function(t){var i;if(null!=this.$form_expanded)return i=t.data(\"old_parent\"),i.nextAll(\".frontbox__date-picker-space\").first().hide()},i.prototype.adjust_flights=function(){this.adjust_wrapper_height()},i.prototype.setup_fusion_event=function(){var t,i,e=this;return this.hotels_id&&this.flights_id&&!this.ignore&&!a?(this.$narrow_toggle.on(\"click\",\".narrow-form-toggle__tab\",function(t){var i,s;i=$(t.currentTarget),s=i.cdata(\"tab\"),e.expand_form(s)}),t=matchMedia(o),i=function(t){e.fused=t.matches,t.matches&&(e.$form_expanded||e.expand_form(\"hotel\"))},i(t),t.addListener(i)):void 0},i.prototype.setup_events=function(){var t,i,e,s,n,o,h,r=this;if(!this.ignore){for(this.flights_id&&(this.$flights.on(\"click\",\".frontbox__toggle-buttons .small-button\",function(t){var i,e,s;t.preventDefault(),r.clear_errors(),i=$(t.currentTarget),s=i.cdata(\"mode\"),e=i.cdata(\"form\"),toggle_form(s,e),r.adjust_flights()}),this.$flights.on(\"click dblclick keydown\",function(t){t.stopPropagation(),r.expand_form(\"flight\",{$selected_input:r.$selected_input})}),this.$flights.on(\"click\",\".add-flight, .clear-flight\",function(){r.adjust_flights()}),this.$flights.find(\"input\").on(\"focus\",function(t){r.$selected_input=$(t.currentTarget),(r.$flights.hasClass(\"shrunk\")||r.$flights.expanded&&r.$flights.hasClass(\"animation\"))&&(r.$selected_input.blur(),r.expand_form(\"flight\",{$selected_input:r.$selected_input}))}),this.$flights.on(\"click\",\".frontbox__title a\",function(t){t.preventDefault()}),this.$flights.on(\"click\",function(){$.close_dropdowns()})),this.hotels_id&&(this.$hotels.on(\"click dblclick keydown\",function(t){t.stopPropagation(),r.expand_form(\"hotel\")}),this.$hotels.on(\"click\",\".frontbox__title a\",function(t){t.preventDefault()}),this.$hotels.on(\"click\",function(){$.close_dropdowns()})),this.$container.find(\".frontpage-search-container\").on(\"dblclick\",function(t){r.$form_expanded&&!r.fused&&(r.shrink_both_forms(),t.preventDefault())}),s=function(t){r.inline_open_listener(t),r.adjust_wrapper_height()},i=function(t){r.inline_close_listener(t),r.adjust_wrapper_height()},h=this.search_forms,n=0,o=h.length;o>n;n++)e=h[n],e!==this.calendar?(e.use_inline_calendar(e.$this),t=e.calendar,t.set_opened_listener(s).set_closed_listener(i)):e.prefill_dates();return this.$container.on(\"click\",\".frontpage-house-ad__logo\",function(){adroll_event(\"mobile_download\")})}},i.prototype.main_loaded=function(){var t,i,e,s,n,o,h,r,a,l,_;if(this.init_search_both_cta(),hm.components.MiniHotelModule.init(this.$footer_content),t=this.$footer_content.find(\".minimap\"),t.length){if(h=hm.frontpage_minimap_data||{},o=new hm.views.HotelMiniMapView(t),r=[],h.route&&(a=hm.frontpage_minimap_data.route,i=\"map-pin-marker yellow plane\",o.insert_marker(i,a[0]),o.insert_marker(i,a[1]),o.center_view_from_locations(a),r=r.concat(a),o.draw_line(a)),h.locations){for(n=h.locations,e=l=0,_=n.length;_>l;e=++l)s=n[e],i=\"map-pin-marker blue\",o.insert_marker(i,s,e+1);r=r.concat(n)}if(h.marker&&(i=\"map-pin-marker \"+h.marker.cls,o.insert_marker(i,h.marker.location),r.push(h.marker.location)),h.shape&&(o.draw_shape(h.shape),r=r.concat(h.shape)),r.length)return o.center_view_from_locations(r)}},i}()}.call(this);\n!function(){window.CityGuide=function(){function i(i){var t=this;this.$el=i,this.setup_handlers(),\"undefined\"!=typeof main_js_callback&&null!==main_js_callback?\"function\"==typeof main_js_callback&&main_js_callback().done(function(){return t.main_loaded()}):this.main_loaded()}return i.prototype.setup_handlers=function(){var i=this;return this.$el.on(\"click\",\".expand-city-guide\",function(t){$(t.currentTarget).remove(),i.$el.find(\".city-block\").removeClass(\"hidden\"),$.hipmunk.utils.track(\"city_guide_expand_click\")}),this.$el.on(\"click\",\".city-block\",function(i){var t;t=$(i.currentTarget).cdata(\"city-block\"),$.hipmunk.utils.track(\"city_guide_block_click\",\"\",{city_id:t})})},i.prototype.main_loaded=function(){return this.$el.find(\".city-block\").addClass(\"load-images\")},i}()}.call(this);\n!function(){var e,t,n,r,o,i,a,l,u,c,s,h,p,m,d,f,g,b,v,k,w,y,x,M,A,D,S,T,E,j,R,C,F,O,H,q,P,L,N,W,G,I,U,z,B,V,Y,J,K,Q,X,Z,et,tt,nt,rt,ot,it,at,lt,ut,ct,st,ht,pt,_t,mt=[].indexOf||function(e){for(var t=0,n=this.length;n>t;t++)if(t in this&&this[t]===e)return t;return-1};pt=window.drykup,N=pt.render,d=pt.div,I=pt.span,J=pt.table,tt=pt.thead,K=pt.tbody,nt=pt.tr,Q=pt.td,et=pt.th,X=pt.text,Z=pt.textarea,h=pt.button,A=pt.hr,D=pt.iframe,L=pt.raw,n=pt.a,s=pt.br,i=pt.b,S=pt.img,E=pt.label,f=pt.form,T=pt.input,rt=pt.ul,j=pt.li,v=pt.h1,k=pt.h2,w=pt.h4,W=pt.select,H=pt.option,q=pt.p,C=pt.meta,_t=$.hipmunk.utils,O=_t.ntext,p=_t.days_between,z=_t.sum,ot=_t.unflatten_array,o=_t.add_ellipsis,G=_t.sort_dict,m=_t.deepcopy,t=99,B=parseInt(1e3*Math.random()),Y=function(){return S(\".ta-tracking\",{src:\"//www.tripadvisor.com/img/cdsi/partner/transparent_pixel-14580-1.gif?r=\"+B})},$.hipmunk.DEFAULT_CURRENCY={after:!1,code:\"USD\",symbol:\"$\",symbol_len:1},U=function(e,t,n,r,o){var i,a,l,u;for(a=Math.floor(e),l=Math.ceil(e-a),i=t-Math.ceil(e);a-->0;)inline_img(n);if(r)for(;l-->0;)inline_img(r);if(o){for(u=[];i-->0;)u.push(inline_img(o));return u}},V=function(e){return U(e,5,\".ta-full\",\".ta-half\",\".ta-empty\")},r=function(e){return U(e,5,\".ab-full\",\".ab-half\",\".ab-empty\")},y=function(e){return U(e,5,\".ha-full\",\".ha-half\",\".ha-empty\")},$.templates.small_stars=function(e,t){return\"airbnb\"===e.render_kind?r(t):\"homeaway\"===e.render_kind?y(t):V(t)},$.templates.big_stars=function(e,t){return\"airbnb\"===e.render_kind?a(t):\"homeaway\"===e.render_kind?l(t):u(t)},$.templates.review_count=function(e,t){var n,r;return n=t&&\"TripAdvisor\"===e.review_kind?\"\":e.review_kind,r=O(e.reviews.count,\"review\",\"\",!0),t?X(\"\"+e.reviews.count+\" \"+n+\" \"+r):(I({itemprop:\"reviewCount\"},function(){return X(e.reviews.count)}),X(\" \"+n+\" \"+r))},u=function(e){return U(e,5,\".ta-circle-full-big\",\".ta-circle-half-big\",\".ta-circle-empty-big\")},a=function(e){return U(e,5,\".ab-circle-full-big\",\".ab-circle-half-big\",\".ab-circle-empty-big\")},l=function(e){return U(e,5,\".ha-circle-full-big\",\".ha-circle-half-big\",\".ha-circle-empty-big\")},$.templates.industry_stars=function(e){return\"hotel\"===e.render_kind?d(\".stars\",function(){return U(e.stars,5,\".industry-star\",\".industry-star-gray\",\".industry-star-gray\")}):void 0},$.templates.big_industry_stars=function(e){return\"hotel\"===e.render_kind?d(\".stars\",function(){return U(e.stars,5,\".blue-star-big\",\".grey-star-big\",\".grey-star-big\")}):void 0},g=function(e,t){return\"//\"+e.replace(\".jpg\",\"_\"+t+\".jpg\")},R=function(e,t){return\"pegasus\"===t?g(e,\"D\"):\"airbnb\"===t?e.replace(/\\/[^\\/]*$/,\"/small.jpg\"):\"homeaway\"===t?e.replace(/\\..$/,\".3\"):e},b=function(e,t){var n,r,o,i,a,l,u;for(n=null,l=0,u=e.length;u>l;l++)if(a=e[l],\"pegasus\"===t?(o=a[0],i=a[1]):(o=t,i=a),r=new Image,r.src=R(i,t),r.src&&r.width&&r.height&&r.width>1.1*r.height)return[o,r.src]},$.templates.update_city_prompt=function(e,t){return d(\".update-city-prompt.m-\"+(null!=t?t:\"\"),function(){return d(\".small-button.orange.m-shorter.update-search-button\",function(){return X(\"Redo search in \"+e.city_name)})})},P=function(){return d(\".hotel-booking-dropdown\",function(){return n(\".small-button.orange.taller.select-button.segmented-first\"),d(\".small-button.orange.taller.booking-drop.segmented-last\",function(){return L(\"&#9662;\"),d(\".dd-popup.hotel-booking-dropdown__popup\")})})},$.templates.hotel_list_item=function(e,r){var o;return o=e.details_url(),d(\".ll-hotel\",{\"data-hotel_id\":e.id,href:o},function(){return d(\".ll-hotel__list-content\",function(){return d(\".thumbnail\",function(){var n;return S(),e.list_index<t?(n=e.list_index+1,$.templates.list_badge_marker(\".m-blue.m-small\",n),$.templates.list_badge_marker(\".m-orange.m-small\",n)):void 0}),d(\".name-info\",function(){return $.templates.hotel_name_info(e),n(\".ll-hotel__show-details.hiplink\",\"show details\"),n(\".ll-hotel__hide-details.hiplink\",\"hide details\")}),d(\".price\",function(){return d(\".hotel-price-wrapper\"),P(),d(\".small-button.silver.taller.hotel-details-button\",function(){return X(\"Details\"),L(\" &raquo;\")}),d(\".price__rooms-left-provider\",function(){return d(\".price__rooms-left.info-text\"),d(\".price__booking-label\")})}),d(\".clear\"),d(\".ll-hotel__bookmark-icon.hipfont-bookmark\")}),d(\".ll-hotel__expanded-content\",function(){return d(\".ll-hotel__booking-option-list\",function(){return d(\".ll-hotel__booking-option-loading\",function(){return X(\"LOADING...\")})}),d(\".small-tabs\",function(){return d(\".small-tab.m-selected\",{\"data-tab-id\":\"details\"},\"Hotel Details\"),d(\".small-tab\",{\"data-tab-id\":\"reviews\"},\"Reviews\"),d(\".clear\")}),d(\".small-tab-content.m-selected.mini-hotel-details__details\",function(){var t;return d(\".mini-hotel-details__left\",function(){return d(\".mini-hotel-details__description\",function(){return I(\".mini-hotel-details__description-text\"),n(\".hiplink\",{target:\"_blank\",href:o},function(){return X(\"see full details\")})}),d(\".ll-hotel__photo-wrapper\")}),t=e.chains.Airbnb,d(\".mini-hotel-details__right\"+(t?\".m-airbnb\":\"\"),function(){return t?(d(\".\"),d(\".mini-hotel-details__header\",\"Location\"),X(e.address),s(),X(e.formatted_address_line_2()),s(),s(),d(\".mini-hotel-details__header\",\"Additional Details\"),X(\"Accomodates: \"+e.capacity+\" people\"),s(),X(\"Bedrooms: \"+e.bedrooms),s(),X(\"Bathrooms: \"+e.bathrooms),s(),X(\"Sq. ft.: \"+e.square_feet),s(),s(),s(),s(),X(\"Property available through\"),d(\".mini-hotel-details__logo\")):(d(\".mini-hotel-details__amenities\",function(){return d(\".mini-hotel-details__header\",\"Amenities\"),$.templates.amenities(e,$.hipmunk.amenities,{num_columns:2,extra_cls:\".m-small\"})}),d(\".mini-hotel-details__hipmunk-verified\",function(){return d(\".mini-hotel-details__header.left\",\"Verified by Hipmunk\"),d(\".tiny-hipmunk.m-verified-header.left\"),d(\".clear\"),$.templates.wifinder_amenities(e,r,{extra_cls:\".m-small\"})}))})}),d(\".js-tab-content-reviews.small-tab-content.mini-hotel-details__reviews\",function(){return $.templates.hotel_reviews_link(e),d(\".mini-hotel-details__reviews-content\")})})})},$.templates.hotel_list_item_price=function(e,t){var n;return _.isFinite(e.price_info.price)?(n=$.templates.render_hotel_price,null!=e.price_info.non_sale_price&&d(\".non-sale-price.top-spacing\",function(){var r;return r={price:e.price_info.non_sale_price},n(r,t,{strike:!0})}),d(\".price-hover\",function(){return d(\".tax-info.top-spacing\",function(){return L(\"w/ taxes & fees\")}),d(\".hotel-price.w-taxes\",function(){var r;return r=m(e.price_info),r.price_no_tax=null,n(r,t)})}),d(\".hotel-price.no-taxes\",function(){return n(e.price_info,t)})):\"running\"===e.price_info.status?d(\".hotel-price.price-loading\",function(){return X(\"Loading\")}):null!=e.price_info.status?d(\".hotel-price.price-loading\",function(){return X(\"Not Available\")}):void 0},$.templates.hotel_list_item_booking_options=function(e,t){var n,r,o,i,a,l,u,c,s;if(null!=e?e.map_dropdown_stays:void 0){for(n=ot(e.map_dropdown_stays,3),a=0,u=n.length;u>a;a++)i=n[a],d(function(){var e,n,r,o;for(o=[],n=0,r=i.length;r>n;n++)e=i[n],o.push(F(e,e.booking_label,\".ll-hotel__booking-option.hiplink\",t,\"list_view_links\",\"\"));return o});for(o=e.map_dropdown_stays.length,s=[],r=l=1,c=Math.min(o,3);c>=1?c>l:l>c;r=c>=1?++l:--l)s.push(d(\".ll-hotel__booking-option-separator\",{style:\"left: \"+33*r+\"%\"}));return s}},$.templates.hood_info=function(e){var t,n,r,o;return o=e.title,r=e.name,t=e.description,n=e.has_more,d(\".desc-wrapper\",function(){return d(\".hood-name\",r),d(\".desc\",function(){return n&&d(\".more\",function(){return X(\"...\"),I(\".more-link\",function(){return L(\"more &raquo;\")})}),(null!=t?t.length:void 0)>0?X(t):void 0})})},$.templates.nh_book_onclick=function(e,t,n,r){var o,i,a,l,u,c,s;return l=null!=(s=e.price_no_tax)?s:e.price,u=e.provider_code,a=e.booking_label,i=[l,t.code,n,r,u,a],o=function(){var e,t,n;for(n=[],e=0,t=i.length;t>e;e++)c=i[e],n.push(\"'\"+c+\"'\");return n}().join(\",\"),\"click_hotel_book(this, \"+o+\")\"},c=function(e,t,n,r){var o,i;return o=$.templates.nh_book_onclick(e,t,n,r),i={href:e.url,target:\"_blank\",onclick:o}},F=function(e,t,r,o,i,a){var l,u,s,h,p;return p=null!=a?a:{},s=p.position,l=p.disclaimer,h=p.show_price,null==l&&(l=!1),null==h&&(h=!0),u=c(e,o,i,s),n(\"\"+r,u,function(){return null!=t&&L(\"\"+t+\" \"),h?$.templates.render_hotel_price(e,o,l):void 0})},$.templates.nh_book_link=F,$.templates.wifinder_price=function(e,t){return 0===e?(X(\"Free\"),void 0):$.templates.render_hotel_price({price:e},t)},$.templates.hotel_percs=function(e){return e.freewifi&&(d(\".hipfont-wifi.perc\",{title:\"Free Wifi\"}),I(\".info-text.free-text\",\"FREE\")),e.freeparking?(d(\".hipfont-parking.perc\",{title:\"Free Parking\"}),I(\".info-text.free-text\",\"FREE\")):void 0},$.templates.hotel_rating=function(e){return d(\".rating\",function(){return\"TripAdvisor\"===e.review_kind&&(Y(),inline_img(\".owl-eyes\")),$.templates.small_stars(e,e.reviews.mean),I(\".review-count\",function(){return $.templates.review_count(e,!0)})})},$.templates.hotel_name_info=function(e,t){var n,r,o,i,a,l,u,c;return c=null!=t?t:{},n=c.compact,u=c.with_badge,l=c.render_price,r=c.currency,a=c.percs,i=n?\".compact\":\"\",o=\".hotel-name\",u&&(o+=\".m-with-badge\"),k(o,function(){return X(e.name)}),l&&_.isFinite(e.price_info.price)&&(d(\".hotel-name-price\",function(){return $.templates.render_hotel_price(e.price_info,r)}),d(\".clear\")),null==a&&(a=!0),a&&(a=e.has_percs()),d(\".info-row.rating-row\"+i,function(){return $.templates.industry_stars(e),e.has_rating()&&$.templates.hotel_rating(e),a&&n?d(\".inline-percs\",function(){return $.templates.hotel_percs(e)}):void 0}),a&&!n?d(\".info-row.\"+i+\".percs\",function(){return $.templates.hotel_percs(e)}):void 0},$.templates.nh_magnified_info=function(e,t,n,r,o,i){var a;return a=t.slice(0,2),d(\".content\",function(){var t,l,u,c;for(a.length>0?(d(\".title\",function(){return X(_.pluck(a,\"name\").join(\" / \"))}),d(\".divider\",function(){return I(O(e,\"Hotel\"))})):d(\".title\",function(){return X(O(e,\"Area Hotel\"))}),c=[r,o,i],l=0,u=c.length;u>l;l++)t=c[l],d(\".rating-info\",function(){return d(\".num-hotels\",function(){return X(O(t.num,\"hotel\"))}),$.templates.industry_stars(t),1/0!==t.price?(X(\" from \"),$.templates.render_hotel_price(t,n)):void 0});return a.length>0?d(\".hood-info-row\",function(){var e,t,n,r;r=[];for(n in HOOD_CATEGORIES)t=HOOD_CATEGORIES[n],e=\".hood-info\",_.some(a,function(e){return e.categories[n]})&&(e+=\".has-category\"),r.push(d(e,function(){return X(t.name)}));return r}):void 0})},x=function(e,n){var r,o,i,a;return a=null!=n?n:{},i=a.render_price,r=a.currency,o=a.percs,d(\".hotel-box.hotel\",function(){var n,a;return a=null!=e.list_index&&e.list_index<t,a&&d(\".hotel-rank-badge.m-inline\",function(){return d(\".hotel-rank-badge__bg\",function(){return d(\".hotel-rank-badge__number\",function(){return X(e.list_index+1)})})}),n={currency:r,with_badge:a,render_price:i,percs:o},n.compact=!0,$.templates.hotel_name_info(e,n)})},M=function(){return d(\".tip\",function(){return d(\".shadow\"),d(\".white\")})},$.templates.hotel_map_hover_popup=function(e,t){return d(\".hotel-map-popup.m-hover\",function(){return x(e,{render_price:!0,percs:!1,currency:t}),M()})},$.templates.hotel_map_popup=function(e){return d(\".hotel-map-popup\",function(){return d(\".hotel-map-popup__photo-wrapper\",function(){return d(\".hotel-map-popup__bookmark.hipfont-bookmark-long.js-bookmark\"),d(\".hotel-map-popup__photo-mask\"),d(\".close.hipfont-x\"),$.templates.simple_photo_browser(e.media)}),x(e),d(\".hotel-map-popup__buttons\",function(){return d(\".hotel-map-popup__booking-buttons\",function(){return P()}),d(\".small-button.silver.taller.hotel-details-button\",function(){return X(\"Details\"),L(\" &raquo;\")})}),M()})},$.templates.stay_list_dropdown_content=function(e,t,n){var r,o,i,a,l;if(null!=e?e.length:void 0)for(a=0,l=e.length;l>a;a++)i=e[a],o=i.booking_label,r=\".dd-option.m-theme2\",i.api_bookable&&(r+=\".m-highlight\"),F(i,o,r,t,\"\"+n+\"_dropdown\",{position:\"other\"});return d(\".hbd__loading\")},$.templates.filter_dd=function(e){var t,n,r,o,i,a,l;for(a=e.members,l=[],r=o=0,i=a.length;i>o;r=++o)n=a[r],t=n in e.selected?\".selected\":\"\",l.push(d(\".dd-option.option-\"+r+t,function(){return d(\".checkmark\",function(){return L(\"&nbsp;\")}),I(\".name\",$.hipmunk.utils.title_case(n))}));return l},$.templates.render_hotel_price=function(e,t,n){var r,o,i,a,l,u;return l=null!=n?n:{},o=l.disclaimer,a=l.strike,null==o&&(o=!1),null==a&&(a=!1),i=null!=(u=e.price_no_tax)?u:e.price,null==i?(X(\"unavailable\"),void 0):(i=Math.round(i),r=function(){return I(\".currency\",function(){return L(t.symbol)})},I(\".rendered-currency\"+(a?\".m-strike\":\"\"),function(){return a&&L(\"&nbsp;\"),t.after?(X(i),r()):(r(),X(i)),a&&L(\"&nbsp;\"),o?I(\".star\",\"*\"):void 0}))},$.templates.hotel_heading=function(e){var t;return t=function(e){var t;return null!=(t=Date.parse(e))?t.toString(\"MMM d\"):void 0},e.check_in&&e.check_out?I(\".ss-content\",function(){return X(t(e.check_in)),X(\" - \"),X(t(e.check_out))}):void 0},e=\"ddd, MMMM d\",$.templates.hotel_booking_top=function(e,t){var n,r,o,i,a;return a=null!=t?t:{},n=a.check_in_date,r=a.check_out_date,i=a.rooms,o=a.extra,d(\".thumbnail\",function(){return S({src:e.thumbnail})}),d(\".name-info\",function(){return $.templates.hotel_name_info(e,{compact:!0}),o?o():n?d(\"#stay-overview.info-row\",function(){return $.templates.stay_overview(n,r,i)}):$.templates.contact_overview(e)})},$.templates.stay_dates=function(t,n){return X(t.toString(e)),L(\" &ndash; \"),X(n.toString(e)),X(\" (\"+O(p(t,n),\"night\")+\")\")},$.templates.stay_rooms=function(e){var t,n,r;return t=z(function(){var t,n,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push(r.adults);return o}()),n=z(function(){var t,n,o;for(o=[],t=0,n=e.length;n>t;t++)r=e[t],o.push(r.child_ages.length);return o}()),X(O(e.length,\"room\")),X(\", \"),X(O(t,\"adult\")),n?(X(\", \"),X(O(n,\"child\",\"children\"))):void 0},$.templates.stay_overview=function(e,t,r){return $.templates.stay_dates(e,t),L(\" &nbsp;|&nbsp; \"),$.templates.stay_rooms(r),n(\".edit-guests\",{href:\"javascript:;\"},\"edit guests\")},$.templates.contact_overview=function(e){return d(\".info-row\",function(){return X(\"Address: \"+e.formatted_address())}),e.phone?d(\".info-row\",function(){return X(\"Phone: \"+$.hipmunk.utils.format_phone(e.phone))}):void 0},$.templates.hotel_image_with_overlay=function(e,t){return null==t&&(t={}),null==t&&(t=!1),d(\".hotel-iwo\",function(){var n,r;return S(\".hotel-iwo__image\",{src:null!=(n=null!=(r=e.media)?r[0]:void 0)?n:\"/static/no-hotel.png\"}),d(\".hotel-iwo__overlay\",function(){return d(\".hotel-iwo__name\",function(){return X(e.name)}),d(\".hotel-iwo-stars\",function(){return $.templates.industry_stars(e)}),null!=t?d(\".hotel-iwo__button\",function(){return d(\".small-button.taller.orange.m-no-shadow\",function(){return X(\"Select\")})}):void 0})})},$.templates.amenity=function(e,t,n){var r;return r=\".amenity-group__amenity\",e&&(r+=\".m-highlight\"),d(r,function(){return d(\".amenity-group__icon\",function(){return e?d(\".hipfont-check\"):d(\".hipfont-x\")}),n&&e&&d(\".right\",function(){return\"function\"==typeof n?n():void 0}),X(t.toLowerCase())})},$.templates.wifinder_amenity=function(e,t,n,r){return $.templates.amenity(e,t,function(){return $.templates.wifinder_price(n,r)})},$.templates.wifinder_amenities=function(e,t,n){var r,o,i,a;return a=(null!=n?n:{}).extra_cls,r=$.templates.wifinder_amenity,i=e.wifinder,o=\".amenity-group.m-blue\",a&&(o+=a),d(o,function(){return r(i.wifi,\"Wifi\",i.wifi_price,t),r(i.parking,\"Parking\",i.parking_price,t),r(i.oversized_parking_price,\"Oversize Parking\",i.oversized_parking_price,t),r(i.resort_fee,\"Resort Fee\",i.resort_fee,t)})},$.templates.amenities=function(e,t,n){var r,o,i,a,l;return l=n.num_columns,i=n.extra_cls,r=Math.ceil(t.length/l),a=0,o=\".amenity-group\",i&&(o+=i),d(o,function(){var n,o;for(n=o=1;l>=1?l>=o:o>=l;n=l>=1?++o:--o)d(\".amenity-group__column\",function(){var n,o,i,l;for(l=[],o=i=1;(r>=1?r>=i:i>=r)&&(n=t[a],n);o=r>=1?++i:--i)$.templates.amenity(e.amens[n],n),l.push(a++);return l});return d(\".clear\")})},$.templates.hotel_reviews=function(e){var t,n,r,o,i;for(o=e.reviews.content||[],i=[],n=0,r=o.length;r>n;n++)t=o[n],i.push($.templates.hotel_review(e,t));return i},$.templates.hotel_review=function(e,t){return d(\".review\",function(){return d(\".review__top\",function(){var e;return t.publisheddate&&(e=Date.parse(t.publisheddate.substr(0,10)),I(\".date\",function(){return X(e.toString(\"MMM d, yyyy\"))}),X(\" \")),X(t.author)}),t.userrating&&d(\".ta-stars\",function(){return $.templates.small_stars(e,t.userrating)}),d(\".review__text\",function(){var r;return X(t.contentsummary),X(\" \"),t.url?(r=\".review__link\",\"TripAdvisor\"===e.review_kind&&(r+=\".js-ta-link\"),n(r,{href:t.url,target:\"_blank\",\"data-kind\":\"small\"},function(){return L(\"Read more on TripAdvisor &raquo;\")})):void 0})})},$.templates.hotel_reviews_link=function(e){var t,r;return e.reviews.url?(r=\".reviews-link\",\"TripAdvisor\"===e.review_kind&&(r+=\".js-ta-link\"),t={href:e.reviews.url,target:\"_blank\",\"data-num-reviews\":e.reviews.count,\"data-kind\":\"large\"},n(r,t,function(){return\"TripAdvisor\"===e.review_kind&&(inline_img(\".owl-eyes\"),Y()),X(\"\"+$.hipmunk.utils.ntext(e.reviews.count,\"Review\")+\" on \"+e.review_kind),L(\"&nbsp;&raquo;\")})):void 0},$.templates.simple_photo_browser=function(e,t){var n;return n=(null!=t?t:{}).max_photos,null==n&&(n=15),n&&(e=e.slice(0,+n+1||9e9)),d(\".simple-photo-browser\",function(){return d(\".simple-photo-browser__photos\",function(){var t,n,r,o,i,a;if(e.length){for(a=[],n=o=0,i=e.length;i>o;n=++o)r=e[n],t={src:r},0===n&&(t.itemprop=\"image\"),a.push(S(\".simple-photo-browser__photo\",t));return a}return S(\".simple-photo-browser__photo\",{src:\"/static/no-hotel.png\",alt:\"no image\"})}),e.length>2?(d(\".simple-photo-browser__control.m-control-left\",function(){return d(\".simple-photo-browser__control-img\")}),d(\".simple-photo-browser__control.m-control-right\",function(){return d(\".simple-photo-browser__control-img\")})):void 0})},$.templates.hotel_filter_tooltip=function(e){var t,n,r,o;return t=e.count,n=e.price,r=e.side,o=r?\".exp-side.exp-\"+r:\"\",d(\".tile-explanation.hotel-filter-tooltip\"+o,function(){return d(\".tri\"),X(O(t||\"No\",\"result\")),t?n&&1/0!==n?X(\" from $\"+n):void 0:X(\" with this filter\")})},$.templates.hotel_map_menu_neighborhoods=function(e){var t,n,r;return t=\".checklist.m-bottom-border.neighborhood-checklist.filter-checklist\",n=\".checklist-item.m-white-on-hover.m-always-show-details-icon\",r=n+\".checklist-item__reset\",d(t,{\"data-filter-kind\":\"hoods\"},function(){var t,o,i,a,l,u,c,s;for(d(n+\".checklist-item__placeholder\"),d(r,function(){return d(\".checklist-item__checkbox\",function(){return d(\".checklist-item__checkbox-icon\",function(){return d(\".hipfont-check\")})}),X(\"All Neighborhoods\")}),u=G(e,function(e,t){return-t.hotel_count}),s=[],a=0,l=u.length;l>a;a++)c=u[a],i=c[0],o=c[1],t=n+\".checklist-item__check-control.m-dark-bg-on-disabled\",o.group&&(t+=\".m-selected\"),0===o.hotel_count&&(t+=\".m-disabled\"),s.push(d(t,{\"data-filter-value\":i},function(){return d(\".checklist-item__checkbox\",function(){return d(\".checklist-item__checkbox-icon\",function(){return d(\".hipfont-check\")})}),o.should_serve_neighborhood_page&&d(\".checklist-item__details-icon\",function(){return L(\"&raquo;\")}),X(o.name),X(\" (\"+o.hotel_count+\")\")}));return s})},$.templates.hotel_map_menu_neighborhoods_empty=function(){return d(\".hotel-map-menu__button-wrapper.m-hood-empty\",function(){return X(\"There are no neighborhood listings in this area\")})},$.templates.hotel_map_menu_neighborhoods_loading=function(){return d(\".hotel-map-menu__spinner\",function(){return S({src:\"/static/loading.gif\"})})},$.templates.hotel_map_menu_heatmaps=function(){var e,t,n,r,o,i;for(e=[\"food\",\"tourism\",\"shopping\",\"nightlife\",\"vice\"],t={food:{icon:\"hipfont-food\",text:\"Food\"},tourism:{icon:\"hipfont-camera\",text:\"Tourism\"},shopping:{icon:\"hipfont-shoppingbag\",text:\"Shopping\"},nightlife:{icon:\"hipfont-cocktail\",text:\"Nightlife\"},vice:{icon:\"hipfont-dice\",text:\"Vice\"}},i=[],r=0,o=e.length;o>r;r++)n=e[r],i.push(d(\".hotel-map-menu__selectable-row\",{\"data-heatmap-type\":n},function(){return d(\".hotel-map-menu__selectable-row-icon\",function(){return d(\".\"+t[n].icon)}),d(\".hotel-map-menu__selectable-row-text\",function(){return X(t[n].text)}),d(\".clear\")}));return i},$.templates.hotel_map_menu_neighborhood_details=function(e,t,r){var o,i,a,l;for(d(\".hotel-map-neighborhood-details__close\",function(){return d(\".hipfont-x\")}),d(\".hotel-map-neighborhood-details__name\",function(){return X(e.name)}),o=e.header_image({width:270,height:150}),o&&d(\".hotel-map-neighborhood-details__image\",function(){var e;return e={src:o,width:270,height:150},S(e)}),d(\".hotel-map-neighborhood-details__description\",function(){return X($.hipmunk.utils.add_ellipsis(e.description,220)+\" \"),n(\".hiplink\",{target:\"_blank\",href:e.page_url},function(){return X(\"read more\")})}),d(\".hotel-map-neighborhood-details__summary-header\",function(){return I(\".hotel-map-neighborhood-details__summary-header-label\",function(){return X(O(e.hotel_count,\"Hotel Result\"))})}),l=[],i=a=3;5>=a;i=++a)null!==t[i].cheapest_hotel&&l.push(d(\".hotel-map-neighborhood-details__star-summary\",function(){return I(\".hotel-map-neighborhood-details__star-summary-count-label\",function(){return X(O(t[i].count,\"Hotel\"))}),I(\".hotel-map-neighborhood-details__star-summary-stars\",function(){return $.templates.industry_stars(t[i].cheapest_hotel)}),I(\".hotel-map-neighborhood-details__star-summary-price-label\",function(){return X(\"from \"),$.templates.render_hotel_price(t[i].cheapest_hotel.price_info,r)})}));return l},$.templates.hotel_map_menu_calendar_enable=function(){return d(\".hotel-map-menu__button-wrapper\",function(){return d(\".small-button.taller.blue.auto-width.google-auth-button\",function(){return X(\"Enable Google Calendar\")})}),d(\".hotel-map-menu__paragraph\",function(){return X(\"Enabling Google Calendar will allow you to see your event locations on the map.\")})},$.templates.hotel_map_menu_calendar_loading=function(){return d(\".hotel-map-menu__spinner\",function(){return S({src:\"/static/loading.gif\"})})},$.templates.hotel_map_menu_calendar_add_dates=function(){return d(\".hotel-map-menu__paragraph\",function(){return X(\"Add dates to your search to see your calendar events on the map.\")})},$.templates.hotel_map_menu_calendar_error=function(){return d(\".hotel-map-menu__paragraph\",function(){return X(\"There was an error loading your calendar events.\")})},$.templates.hotel_map_menu_calendar_list=function(e,t,n){return d(\".checklist.m-bottom-border.calendar-checklist\",function(){var r,o,i,a,l,u,c,s,h,p;for(p=[],u=0,c=e.length;c>u;u++)o=e[u],l=o.events.length>0,i=\".checklist-item.m-white-on-hover.m-smaller.m-white-check.m-dark-bg-on-disabled\",a=\"\",l&&(s=o.id,mt.call(t,s)<0)&&(i+=\".m-selected\"),h=o.id,mt.call(n,h)>=0&&(i+=\".m-expanded\",a=\"display: block;\"),l||(i+=\".m-disabled\"),r={\"data-calendar-id\":o.id},d(i,r,function(){return d(\".checklist-item__checkbox.checklist-item__check-control\",function(){return d(\".checklist-item__checkbox-bg\",{style:\"background-color: \"+o.color}),d(\".checklist-item__checkbox-icon\",function(){return d(\".hipfont-check\")})}),l&&(d(\".checklist-item__details-icon.checklist-item__expanded-icon\",function(){return L(\"&#9662;\")}),d(\".checklist-item__details-icon.checklist-item__unexpanded-icon\",function(){return L(\"&#9656;\")})),X(o.name),X(\" (\"+o.events.length+\")\"),d(\".clear\")}),l?p.push(d(\".calendar-menu-expanded-content\",{style:a},function(){return $.templates.hotel_map_menu_calendar_events(o)})):p.push(void 0);return p})},$.templates.hotel_map_menu_calendar_events=function(e){var t,r,o,i,a,l,u,c,s,h,p,_,m,f,g,b;for(i={},_=e.events,c=0,h=_.length;h>c;c++)r=_[c],i[r.start_day]||(i[r.start_day]=[]),i[r.start_day].push(r);for(m=G(i,function(e,t){return t[0].start}),b=[],s=0,p=m.length;p>s;s++)f=m[s],a=f[0],o=f[1],u=o[0].start_day,g=u.split(\" \"),l=g[0],t=g[1],t=t.replace(/\\D/g,\"\"),b.push(d(\".calendar-menu-expanded-content__day-events\",function(){return d(\".calendar-menu-expanded-content__date\",function(){return d(\".calendar-menu-expanded-content__date-day\",function(){return X(t)}),d(\".calendar-menu-expanded-content__date-month\",function(){return X(l)})}),d(\".calendar-menu-expanded-content__event-list\",function(){var e,t,i,a;for(a=[],e=t=0,i=o.length;i>t;e=++t)r=o[e],a.push(d(\".calendar-menu-expanded-content__event\",{\"data-event-id\":r.id},function(){return d(\".calendar-menu-expanded-content__event-index\",function(){return X(r.number+\".\")}),d(\".calendar-menu-expanded-content__event-info\",function(){return d(\".calendar-menu-expanded-content__event-name\",function(){return L(r.name)}),d(\".calendar-menu-expanded-content__event-time\",function(){return L(\"\"+r.start_time+\"&mdash;\"+r.end_time),n(\".calendar-menu-expanded-content__edit-icon\",{href:r.url,target:\"_blank\"},function(){return d(\".hipfont-pencil\")})}),d(\".calendar-menu-expanded-content__event-where\",function(){return r.where?(X(\"at \"),n(\".hiplink\",{href:r.where_link,target:\"_blank\"},function(){return L(r.where)})):n(\".hiplink\",{href:r.url,target:\"_blank\"},function(){return X(\"Add Location\")})})})}));return a}),d(\".clear\")}));return b},lt=function(e,t){var n;return n={value:e,name:\"where\",type:\"text\",autocomplete:\"off\"},d(\".location-field\",function(){return d(\".hip-row.input-row\",function(){return d(\".input-wrapper\",function(){return E(\".m-label-valign\",{\"for\":\"where-\"+t},\"Where\"),d(\".input-container.full-row\",function(){var e,r;return e=\".field-where.tag-where.ac_id-acwhere-\"+t,r=\".autocomplete.rounded-text-field.city.m-less-wide\",T(\"#where-\"+t+e+r,n),E({\"for\":\"where-\"+t},\"City\"),d(\".error-row.error.error-where\"),d(\".drop-row\",function(){return rt(\"#acwhere-\"+t+\".ac-drop.front-ac-drop.hotels.version2\",function(){return j(\".ac-row.stub\"),j(\".ac-table.stub\",function(){return J(function(){return K()})})})})})})})})},ht=function(e,t,n,r){var o,i,a,l;return o=function(e){return e.replace(/(?:^|\\s)\\S/g,function(e){return e.toUpperCase()})},i={type:\"text\",autocomplete:\"off\",value:(null!=e?e.toString(\"MMM d\"):void 0)||\"\",name:t},a=function(){var e,n,r,i;for(r=t.split(\"_\"),i=[],e=0,n=r.length;n>e;e++)l=r[e],i.push(o(l));return i}().join(\" \"),d(\".input-wrapper\",function(){return E(\".m-label-valign\",{\"for\":\"\"+n+\"-\"+t},\"\"+a),d(\".input-container.full-row.highlight-date\"+r,function(){var e,o;return e=\".field-\"+t+\".date.tag-date\"+r,o=\".rounded-text-field\",T(\"#\"+n+\"-\"+t+e+o,i),E({\"for\":\"\"+n+\"-\"+t},\"Date\"),d(\".error-row.error.error-\"+t)})})},ut=function(e,t,n){return d(\".dates\",function(){return d(\".hip-row\",function(){return ht(e,\"check_in\",n,0),ht(t,\"check_out\",n,1),d(\"#date-picker-0.date-picker.hidden\",function(){return d(\".calendars\")})})})},ct=function(e){var t,n,r,o,i,a,l,u,c;return c=null!=e?e:{},i=c.name,n=c.count,r=c.default_count,u=c.value,l=c.single,a=c.plural,t=c.cls,null==i&&(i=\"\"),null==n&&(n=1),null==r&&(r=1),null==u&&(u=1),null==l&&(l=\"\"),null==a&&(a=null),null==t&&(t=\"\"),o=$.hipmunk.utils.ntext(r,l,a),d(\".small-button.taller.silver.m-buttons\"+t,function(){return d(\".button-text\",\"\"+o),inline_img(\".arrow\"),d(\".dd-popup.m-taller-dropdown\",function(){var e,t;for(e=t=1;5>=t;e=++t)d(\".dd-option\",{value:e},function(){return d(\".checkmark\",function(){return L(\"&nbsp;\")}),I(\".name\",$.hipmunk.utils.ntext(e,l,a))});return T({type:\"hidden\",name:i,value:u||r})})})},at=function(e,t){return d(\".buttons\",function(){return ct({name:\"rooms\",count:5,default_count:1,value:e,single:\"room\",cls:\".menu-rooms\"}),ct({name:\"hotel_pax\",count:6,default_count:2,value:t,single:\"person\",plural:\"people\",cls:\".menu-hotel_pax\"}),h(\".small-button.taller.orange\",function(){return d(\".hotel-search-header-bar__icon.hipfont-briefcase\"),d(\".button-text\",\"Search\")})})},it=function(e){var t;return t=Date.parseExact(e,\"MMMdd\"),null==t&&(t=Date.parseExact(e,\"MMMd\")),null==t&&(t=Date.parse(e)),t?t.toString(\"MMM d\"):\"\"},$.templates.new_hotels_search_bar=function(e){var t,n,r,o,i,a,l,u,c;return c=null!=e?e:{},r=c.city_name,t=c.check_in_date,n=c.check_out_date,l=c.rooms,a=c.pax,o=c.form_id,u=c.tab_id,i=c.is_ie8,null==r&&(r=\"\"),t=t?it(t):\"\",n=n?it(n):\"\",null==l&&(l=\"\"),null==a&&(a=\"\"),null==o&&(o=\"\"),null==u&&(u=\"\"),null==i&&(i=!1),d(\".wide-search-header-bar.hotel-search-header-bar\",function(){var e;return e={action:\"/search/hotel\",method:\"POST\"},f(\"#\"+o+\".wide-hotel-search.form-hotel.hipform\",e,function(){return T({type:\"hidden\",name:\"tab_id\",value:u}),T({type:\"hidden\",name:\"reason\",value:\"results\"}),lt(r,o),ut(t,n,o),at(l,a),d(\".clear\")}),d(\"#dates-harass-\"+u+\".dates-harass.harass\",function(){return d(\".heading\",function(){return X(\"Want to see Prices?\")}),d(\".tri\"),X(\"Hipmunk's hotel search lets you explore without dates.\\nTo see prices, please enter specific dates.\")})})},st=function(e){var t,n,r,o;return r=e.header,n=e.alert,o=e.msg,t=e.action,d(\".ll-error\",function(){return n&&d(\".ll-error__thumbnail\",function(){return d(\".ll-error__icon\")}),null!=r&&d(\".ll-error__header\",function(){return X(r)}),null!=o?d(\".ll-error__text\",function(){return X(o),null!=t?t():void 0}):void 0})},$.templates.no_hotels_error=function(){var e,t;return t=\"Whoops! There are no hotels matching your search criteria.     Try removing some filters to expand your search or \",e=function(){return I(\".ll-error__filter-reset.js-no-hotels\",\"reset all filters.\")},st({msg:t,alert:!0,action:e})},$.templates.no_hotels_found_error=function(){var e;return e=\"We could not find any hotels for this search.\",st({msg:e,alert:!0})},$.templates.bookmarks_empty_error=function(){var e,t,n;return t=\"Bookmarks Empty\",n=\"Add \",e=function(){return I(\".ll-error__filter-reset.js-bookmarks\",\"hotels \"),X(\"to your bookmarks, then review them here later.\")},st({header:t,alert:!0,msg:n,action:e})},$.templates.loading_ui=function(){return d(\".loading-ui\")},$.templates.loading_box=function(e){return null==e&&(e=\"\"),d(\".loading-box\"+e,function(){return d(\".loading-box__wrapper\",function(){return d(\".loading-box__content\",function(){return $.templates.newbox_header_text(\"Searching\",!0)})})})},$.templates.offscreen_highlight=function(e){var t;return null==e&&(e=\"north\"),t={north:\".m-north\",south:\".m-south\",east:\".m-east\",west:\".m-west\"},d(\".offscreen-highlight\"+t[e])}}.call(this);\n!function(){var t,n,o={}.hasOwnProperty,r=function(t,n){function r(){this.constructor=t}for(var e in n)o.call(n,e)&&(t[e]=n[e]);return r.prototype=n.prototype,t.prototype=new r,t.__super__=n.prototype,t};t=500,n=function(n){function o(){o.__super__.constructor.call(this,\"login\"),this.setup_handlers()}return r(o,n),o.prototype.setup_handlers=function(){var n=this;return this.$container.on(\"click\",\".forgotpass\",function(){n.$container.find(\".js-signup-login-content\").slideUp(t,function(){return $(this).remove()}),n.$container.find(\".js-forgot-pass-content\").slideDown(t),n.$container.find(\"form\").attr(\"action\",\"/forgotpass\")})},o.prototype.show=function(t,n){var r,e;return r=$(drykup.render($.templates.signup_login_form(!t,n))),e=new AppHeaderedBox(\"signup-login-popup\"),e.set_content(r),e.set_header({title:\"Log in to Hipmunk\"}),this.$content=e.$el,o.__super__.show.call(this),init_search_form(\"signup-login\")},o}(Lightbox),hm[\"export\"]({registration:{RegistrationLightbox:n}})}.call(this);\n!function(){var n,o,i,t,e,a,r,s,c,u,l;n=hm.urls.WebUrlManager,s=hm.utils.parse_int,a=function(){return $.ajax({type:\"get\",async:!1,url:\"/logout\",success:null,error:null}),$.reload()},window.show_top_message=function(n,o){var i,t,e;null==o&&(o=\"\"),n=unescape(n),i=$(\"#topmessage\"),t=i.data(\"status\"),t&&$(document.body).removeClass(t),i.data(\"status\",o),i.attr(\"class\",\"\").addClass(o).show().find(\".text\").html(n),$.cookie(\"hm_message\",\"\"),null!=(e=$.hipmunk.url)&&e.update_ui(),$(document.body).addClass(\"has-topmessage \"+o),$.hipmunk.frontpage.first_show=!0,$.hipmunk.frontpage.adjust_wrapper_height()},window.next_action=function(n){var o;return null==n&&(n=\"none\"),o=$.cookie(\"hm_action\"),$.cookie(\"hm_action\",n),o},window.hide_top_message=function(){var n,o;n=$(\"#topmessage\"),$(document.body).removeClass(n.data(\"status\")).removeClass(\"has-topmessage\"),n.hide().data(\"status\",null),null!=(o=$.hipmunk.url)&&o.update_ui(!0)},window.show_country_dropdown=function(){var n;return n=$(\"#flag-icon div\").parents(\".country-dropdown\"),n.css(\"display\",\"inline-block\")},window.set_country=function(n,o){var i,t;return null==o&&(o=!1),null==n&&(n=null!=(t=$.hipmunk.user)?t.country:void 0),i=$(\"#flag-icon div\"),n&&i.cdata(\"flag\",n),i.parents(\".country-dropdown\").toggleClass(\"static\",o)},r=function(){var n,o,i,t;i=\"undefined\"!=typeof navigator&&null!==navigator?navigator.userAgent.toLowerCase():void 0,null!=i&&\"no\"!==$.cookie(\"mobile-test\")&&(n=$(\"#mobile-banner\"),i.indexOf(\"android\")>-1&&(o=n.find(\".Android\")),_.some([\"iphone\",\"ipod\",\"ipad\"],function(n){return i.indexOf(n)>-1})&&(t=navigator.appVersion.match(/OS (\\d+)_/),t=s(t[1]),(6>t||isNaN(t))&&(o=n.find(\".iOS\"))),o&&($(document.body).addClass(\"m-mobile-banner\"),n.html(o.html()),n.removeClass(\"hidden\")))},l=function(){var n,o;return(n=Date.today().toString().match(/\\((.*)\\)/))&&(o=n[1]),$.hipmunk.utils.track(\"launch\",\"web\",{location:location.toString(),location_hash:location.hash,location_hostname:location.hostname,location_pathname:location.pathname,location_protocol:location.protocol,app_code_name:navigator.appCodeName,app_name:navigator.appName,app_version:navigator.appVersion,app_minor_version:navigator.appMinorVersion,cookie_enabled:navigator.cookieEnabled,do_not_track:navigator.doNotTrack,language:navigator.language,on_line:navigator.onLine,os_platform:navigator.platform,product:navigator.product,product_sub:navigator.productSub,user_agent:navigator.userAgent,vendor:navigator.vendor,vendor_sub:navigator.vendorSub,cpu:navigator.oscpu,outer_width:window.outerWidth,outer_height:window.outerHeight,inner_width:window.innerWidth,inner_height:window.innerHeight,device_screen_size:window.screen.width+\",\"+window.screen.height,viewport_area:window.innerWidth*window.innerHeight,time_zone:o,git_js_version:$.hipmunk.git_version})},window.show_login_form=function(n){(new hm.registration.RegistrationLightbox).show(n),$(\".signup-harass\").hide()},window.store_mypoints_id=function(){var n;if(\"/business\"===window.location.pathname)return n=$.hipmunk.utils.query_param(\"mypoints_id\"),n?$.cookie(\"mypoints_id\",n):void 0},window.mypoints_pixel=function(){var n,o;return n=$.cookie(\"mypoints_id\"),n?(o=\"//mypoints.com/emp/u/\"+n+\"/A/ctr.gif\",track_pixel(pixul_url),$.cookie(\"mypoints_id\",null)):void 0},window.bizo_pixel=function(){var n;return n=\"//www.bizographics.com/collect/?fmt=gif&url=hipmunk.com&pid=2676\",track_pixel(n)},window.biz_pixel_campaigns=function(){return mypoints_pixel(),bizo_pixel()},window.do_fb_login=function(){return FB.login(function(n){return n.authResponse?$.ajax(\"/facebook/create-user\",{data:FB.getAuthResponse()}).done(function(){return window.location.reload()}):void 0},{scope:\"email,user_birthday,user_location,friends_status,friends_location\"})},u=function(){return(new hm.main.PostConfirmFlow).start()},c=function(){var n,o,i,t,e,r;return o=$(document.body),o.on(\"click\",\"a.google.auth-link\",function(n){$.hipmunk.google_auth_complete=function(n){switch(n){case\"success\":return $.reload();case\"failure\":return show_top_message(\"Failed to authorize with google\"),Lightbox.user_close()}},$.hipmunk.utils.popup_window(\"/google/login-redirect\",500,500),$.hipmunk.utils.track(\"user_clicked_login\",\"google\"),n.preventDefault()}),o.on(\"click\",\"a.facebook.auth-link\",function(n){do_fb_login(),$.hipmunk.utils.track(\"user_clicked_login\",\"facebook\"),n.preventDefault()}),o.on(\"click\",\".login, .signup\",function(n){var o;o=$(n.currentTarget),show_login_form(o.hasClass(\"login\"),o.hasClass(\"bizlink\"))}),t=$(\"#gift-popup\"),init_search_form(\"gift-form\"),i=$(\".hipfooter\"),i.on(\"click\",\"a.footer-share\",function(n){new Lightbox(\"gift\",t,$.lightbox_container).show(),t.width(t.width()),n.preventDefault(),n.stopPropagation()}),i.on(\"click\",\"a\",function(n){var o;o=$(n.currentTarget),$.hipmunk.utils.track(\"footer_links\",o.attr(\"title\")||o.text(),{url:o.attr(\"href\")})}),n=$(\".account-menu\"),t.on(\"click\",\"a.login, a.signup\",function(n){$.close_popups(),show_login_form($(n.currentTarget).hasClass(\"login\"))}),n.on(\"click\",\".option, .signup-harass\",function(n){var o;o=$(n.currentTarget),show_login_form(o.hasClass(\"login\")),n.stopPropagation()}),n.on(\"hover\",\".signup\",function(n){$(\".signup-harass\").toggle(\"mouseenter\"===n.type).clearQueue()}),$(\"#header\").on(\"click\",\".dd-button\",function(n){var o,i;o=$(n.currentTarget),i=o.children(\"div.dd-popup\"),i.parents(\".static\").length||(o.hasClass(\"country-dropdown\")&&i.css(\"left\",(o.width()-i.width())/2),$.show_dropdown(i,$.container),n.stopPropagation())}),$.container.on(\"click\",\".country-popup div.dd-option\",function(n){var o,i,t;return o=$(n.currentTarget),i=o.cdata(\"cm\"),set_country(i),$.hipmunk.user.country=i,t=[{name:\"country\",value:i}],$.ajax({url:\"/prefs/country\",data:t,success:null,error:null}),$.close_popups(),!1}),$.container.on(\"click\",\".account-popup div.dd-option\",function(n){var o,i;switch(o=$(n.currentTarget),i=o.cdata(\"am\")){case\"account\":$.hipmunk.settings_lightbox.open();break;case\"bookings\":$.hipmunk.settings_lightbox.open_with_section(\"bookings\");break;case\"business\":$.hipmunk.user.preferences.trip_planner_enabled?trip_planner.popup.show(ManageTripsPopup.VIEW_BILLING):$.redirect(\"/business\");break;case\"logout\":a()}n.stopPropagation()}),o.on(\"click\",\".login-border .option\",function(n){var o,i;o=$(n.currentTarget),o.selectButton(),i=o.cdata(\"option\"),\"register\"===i?show_login_form(!0):show_login_form()}),o.on(\"click\",\"a.send_confirm\",function(n){var o;n.stopPropagation(),o=$(n.currentTarget).parent(),o.text(\"Sending...\"),$.ajax({type:\"post\",url:\"/send_confirm\",success:function(){return o.text(\"Sent!\")}})}),o.on(\"click\",\"#topmessage .inline_x\",function(){hide_top_message()}),o.on(\"click\",\"#mobile-banner .no\",function(){$.cookie(\"mobile-test\",\"no\",{expires:365}),$(document.body).removeClass(\"m-mobile-banner\"),$(\"#mobile-banner\").hide()}),o.on(\"click\",\".assistant .login, .assistant .signup\",function(n){var o;o=$(n.currentTarget),show_login_form(o.hasClass(\"login\"),!0),n.stopPropagation()}),o.on(\"click\",\".assistant .activate-assistant\",function(n){var o;o=$(\"#activate_ta_form\"),new Lightbox(\"account\",$(\"#account-popup\"),$.lightbox_container).show(),o.show().siblings().hide(),n.stopPropagation(),$.hipmunk.utils.track(\"biz_class_click_activate\")}),o.on(\"click\",\".assistant .get-started\",function(){$.redirect(\"/#bizwelcome\")}),o.on(\"click\",\".assistant .logout\",function(){a()}),o.on(\"click\",\"a.mobile-link\",function(n){var o;o=$(n.currentTarget).cdata(\"mobile-category\"),o||(o=$.trim($(n.currentTarget).text())),null!=o&&(o=o.toLowerCase()),$.hipmunk.utils.track(\"mobile_download_link\",o)}),o.on(\"click\",\"#header a.social-icons\",function(n){var o;o=$(n.currentTarget),$.hipmunk.utils.track(\"front_social_click\",o.children(\"div\").first().attr(\"class\"))}),$(\"#biz-class-ad\").on(\"click\",function(){$.hipmunk.utils.track(\"biz_class_ad_click\")}),o.on(\"click\",\".confirm-control .confirm-default\",function(n){var o;o=$(n.currentTarget).closest(\".confirm-control\"),o.find(\".confirm-default-content\").hide().end().find(\".confirm-alternate-content\").show().end()}),o.on(\"click\",\".confirm-control .confirm-cancel\",function(n){var o;o=$(n.currentTarget).closest(\".confirm-control\"),o.find(\".confirm-default-content\").show().end().find(\".confirm-alternate-content\").hide().end()}),o.on(\"click\",\".js-tooltip-close\",function(){$.close_all_tooltips()}),o.on(\"click\",\"[js-track-event]\",function(n){var o,i;o=$(n.currentTarget),i=o.attr(\"js-track-event\"),$.hipmunk.utils.track(i)}),$.window_is_focused=!0,$(window).on(\"focus blur\",function(n){$.window_is_focused=\"focus\"===n.type}),$(document).keydown(function(n){var o;return 27===n.which&&(o=$.close_dropdowns(),null==o)?($.close_popups(),Lightbox.user_close()):void 0}),$.hipmunk.seo_frontpage_type&&$.hipmunk.utils.track(\"frontpage_loaded\",null,{page:$.hipmunk.seo_frontpage_type}),e=location.href.match(\"^.*/(flights|hotels)/([^#]*)$\"),e?$.hipmunk.utils.track(\"seo_page_hit\",e[1],{location:e[2],page_type:$.hipmunk.seo_frontpage_type}):(r=location.href.replace(location.origin+\"/\",\"\"),$.hipmunk.utils.track(\"enter_page\",r),\"business\"===r&&$.hipmunk.utils.track(\"biz_class_visit\",r)),ToolTip.setup_autoshow(\".init-tooltip\",\".tile-explanation\"),ToolTip.setup_autoshow(\".header-explore-link\",\".explore-header-link-dropdown\")},$(function(){var o;o=null!=$.debug?\"/alljs/main.js?v=\"+(new Date).getTime():\"\"+$.hipmunk.assets_url+\"/static/\"+$.hipmunk.git_version+\"/main.group.js\",hm.utils.preload_image(\"/static/halloween_background.jpg\"),$.hipmunk.frontpage=new FrontPageManager,$.hipmunk.cur_form=$.hipmunk.searchform_flight,$.hipmunk.use_main_js&&($.hipmunk.utils.load_js(o,function(){$.hipmunk.main_js_loaded=!0,hipmunk_main()}),$.hipmunk.url=new n),hipmunk_main()}),o=function(){var n,o,i;return i=$.cookie(\"hm_visit\"),o=$.cookie(\"hm_anon_user\"),n=$.cookie(\"hm_account\"),i&&(o||n)?void 0:$.hipmunk.utils.track(\"cookie_police\",\"missing\",{user_id:$.hipmunk.user.id,hm_visit:i,hm_anon_user:o,hm_account:n})},t=function(n){var o,i,t;return t=navigator.userAgent,i=\"Welcome \"+n+\" viewers! Due to high volume, we might be a bit slow. Hang tight, and check out our \",o=function(n,o){return\"<a href='\"+o+\"' target='_blank'>\"+n+\"</a>\"},i+=t.match(/(iphone|ipad|ipod)/i)?o(\"mobile app\",$.hipmunk.itunes_url)+\" too\":t.match(/(android|cros)/i)?o(\"mobile app\",$.hipmunk.android_url)+\" too\":\"mobile app on \"+o(\"iOS\",$.hipmunk.itunes_url)+\" and \"+o(\"Android\",$.hipmunk.android_url),i+=\".\",show_top_message(i,\"m-topmessage-taller\"),i},window.useragent_detection_callback=function(){return window._useragent_detection_callback||(window._useragent_detection_callback=new $.Deferred),window._useragent_detection_callback},window.main_js_callback=function(){return window._main_js_callback||(window._main_js_callback=new $.Deferred),window._main_js_callback},i=function(){var n,o,i;o=function(){var n;n=navigator.userAgent,$.hipmunk.is_mobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(n),$.hipmunk.is_mobile_phone=$.hipmunk.is_mobile,/Android/i.test(n)&&!/Mobile/i.test(n)&&($.hipmunk.is_mobile_phone=!1),/iPad/i.test(n)&&($.hipmunk.is_mobile_phone=!1),(/windows phone/i.test(n)||/iemobile/i.test(n))&&($.hipmunk.is_mobile_phone=!0)},i=function(){var n,o,i,t;if(\"show\"===$.hipmunk.experiments.get_option(\"responsive_page\")&&($(document.body).addClass(\"m-responsive-experiment\"),$.hipmunk.frontpage.views.both.setup_fusion_event(),n=$(\"#viewport-tag\"),window.screen.width>480&&window.screen.height>800&&n.attr(\"content\",\"width=device-width, initial-scale=1\"),$.hipmunk.is_mobile)){t=$.hipmunk.frontpage.views;for(o in t)i=t[o],i.$container.find(\"input.date\").attr(\"readonly\",!0)}},n=function(){o(),i(),useragent_detection_callback().resolve()},$.ajax(\"//www.hipmunk.com/api/detect/mobile\",{timeout:1e3,success:function(n){null==n.mobile||null==n.mobile_or_tablet?o():($.hipmunk.is_mobile=n.mobile_or_tablet,$.hipmunk.is_mobile_phone=n.mobile,$.hipmunk.detected_uagent=n.identification),i(),useragent_detection_callback().resolve()},error:function(){n()}})},window.hipmunk_main=function(){$.isReady&&!$.hipmunk.main_finished&&$.hipmunk.user_loaded&&($.isReady&&$.hipmunk.user_loaded&&!$.hipmunk.accounts_finished&&(accounts_init(),$.hipmunk.accounts_finished=!0),(!$.hipmunk.use_main_js||$.hipmunk.main_js_loaded)&&(o(),$.hipmunk.user&&($.hipmunk.user.md5=md5($.hipmunk.user.id)),$.hipmunk.experiments=new hm.ExperimentManager,fetch_alerts(),store_mypoints_id(),i(),useragent_detection_callback().done(function(){var n,o;r(),l(),init_search_form(\"activate_ta_form\"),$._init_popups(),$.container=$.make_container(),$.lightbox_container=Lightbox.make_container(),$.hipmunk.exchange_settings=new ExchangeSettings,$.hipmunk.settings_lightbox=new NewAccountSettingsLightbox,$.hipmunk.nearby_hotels={},$.hipmunk.hotels_toaster_closed={},null!=$.hipmunk.user&&($.prefs=new Prefs),c($.container),o={},o.sharethelove=function(){return new Lightbox(\"gift\",$(\"#gift-popup\"),$.lightbox_container).show()},$.hipmunk.user.email?(o.account_settings=function(){return $.hipmunk.settings_lightbox.open()},o.post_confirm=u,o.email_preferences=function(){return $.hipmunk.settings_lightbox.open_with_section(\"email\")},o.bookings=function(){return $.hipmunk.settings_lightbox.open_with_section(\"bookings\")}):(o.login=function(){return show_login_form(!0)},o.signup=function(){return show_login_form()},o.account_settings=function(){return show_login_form(!0)},o.email_preferences=function(){return show_login_form(!0)},o.bookings=function(){return show_login_form(!0)}),routie(o),n=next_action(),\"show_fare_alerts\"===n&&$.hipmunk.settings_lightbox.open_with_section(\"email\"),$.hipmunk.utils.load_js(\"https://secure.quantserve.com/quant.js\",function(){return null!=window._qevents?_qevents.push({qacct:\"p-63fhFBER1QOoQ\"}):void 0}),$.hipmunk.main_finished=!0,\"function\"==typeof post_user_load&&post_user_load(),main_js_callback().resolve()})))},$(window).load(function(){return e()}),e=function(){return null==$.hipmunk.main_finished?(setTimeout(e,50),void 0):$.hipmunk.performance.log_page_load()}}.call(this);\n!function(){var l,o,n;window.adroll_event=function(l){return l=l.replace(/[\\s-]+/g,\"_\"),o.push(l),n()},$.adroll_event=function(){return adroll_event.apply(null,arguments)},window.adroll_adv_id=\"ZJBUQE7CNFB6LCTULFOK2H\",window.adroll_pix_id=\"AOL55VAZCBHOXKHMAPOTOV\",o=[],n=function(){var n;if(null!=window.__adroll){for(n=[];o.length>0;)n.push(l(o.shift()));return n}},l=function(l){var o,n,r,a,t,_;return n=\"//d.adroll.com/pixel\",a=[],r=window.__adroll.get_keywords(),null!=r&&a.push(\"keyw=\"+escape(r)),a.push(\"name=\"+l),_=__adroll.get_conversion_value(),null!=_&&a.push(\"conv_value=\"+_),o=__adroll.external_data_to_qs(!0),null!=o&&a.push(o),t=__adroll.get_base_url(n,adroll_adv_id,adroll_pix_id,null,\"\",a),$.hipmunk.utils.load_js(t)},$(function(){var l,o;return l=\"https:\"===location.protocol?\"https://s.adroll.com\":\"http://a.adroll.com\",o=l+\"/j/roundtrip.js\",$.hipmunk.utils.load_js(o,n)})}.call(this);\n}catch(e){window.TraceKit&&TraceKit.report(e);throw e;}\n//# sourceMappingURL=init.group.map"
      },
      "http://static.olark.com/jsclient/loader0.js": {
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "http://static.olark.com/jsclient/loader0.js",
         "body": "window.olark=function(H,I,ha){H=function(a){var b=function(a){this.$$packages=a.packages;this.$$download=a.download;this.$$activeModules={};this.$$finishedModules={};this.$$pendingModules={};this.$$pendingUrls={};this.$$moduleListeners={};this.$$fromLegacyEmbed=a.fromLegacyEmbed?!0:!1;this.$$context=a.context||this;a=this.$$packages;for(var v=this.$$packageLookupByName={},d=0;d<a.length;d++){var q=a[d],b=q.bundledDependencies||q.bundleDependencies||[];v[q.name]=q;for(var i=0;i<b.length;i++){var z=\nb[i];v.hasOwnProperty(z)||(v[z]=q)}}var k=this;this.$$activeModules.require=function(a){var B=k.$$getModuleExports(a);if(B)return B;else if(!k.$$fromLegacyEmbed)throw Error(\"Cannot find module '\"+a+\"'\");}};b.prototype={define:function(a){a.amd=!0;return a}(function(a,v,d){typeof d===\"undefined\"&&(d=v,v=[\"require\"]);if(typeof d!==\"function\"){var b=d;d=function(){return b}}var y=this;(this.$$finishedModules[a]=function(){for(var a=[],b=!0,B=0;B<v.length;B++){var q=y.$$getModuleExports(v[B]);q?a.push(q):\nb=!1}if(b)return d.apply(y.$$context,a)})();for(a=this.$$moduleListeners[a]||[];a.length;)setTimeout(a.shift(),0)}),$$getModuleExports:function(a){var b=this.$$activeModules[a],d=this.$$finishedModules[a];if(b)return b;else if(d)return this.$$activeModules[a]=d()},$$listenForModule:function(a,b){this.$$finishedModules[a]?b():(this.$$moduleListeners[a]=this.$$moduleListeners[a]||[]).push(b)},install:function(a,b){for(var d=function(){return b.apply(q.$$context,arguments)},q=this,y=!1,i=function(){if(!y){for(var a in z)if(z.hasOwnProperty(a)&&\n!q.$$finishedModules.hasOwnProperty(a))return;y=!0;d(void 0,q.$$getModuleExports(\"require\"))}},z={},k=a.slice(0);k.length>0;){var G=k.shift(),r=this.$$packageLookupByName[G];z[G]=!0;var D=[];if(r){var u=r.dependencies;if(u)for(var E in u)u.hasOwnProperty(E)&&(k.push(E),z[E]=!0);u=this.$$pendingUrls.hasOwnProperty(r.main);var e=this.$$pendingModules.hasOwnProperty(r.name);if(!u&&!e){this.$$pendingUrls[r.main]=!0;this.$$pendingModules[r.name]=!0;u=r.bundledDependencies||r.bundleDependencies||[];for(e=\n0;e<u.length;e++)this.$$pendingModules[u[e]]=!0;D.push(r.main)}this.$$listenForModule(G,i)}else{b(Error(\"'\"+G+\"' is not in the package manager registry\"));break}for(;D.length;)this.$$download(D.shift())}}};a.PackageManager=b;return a}(typeof exports===\"undefined\"?{}:exports,typeof globals===\"undefined\"?this:globals);I=function(a,b,B){function v(a){var e=[],b=typeof a===\"string\";b&&(a=a.split(\"\"));for(var f=y(a.length,0,a.length);f.length;){var d=a.splice(f.pop()%a.length,1);e.push(d)}return b?e.join(\"\"):\ne}function d(a){a=a.replace(/[^\\d]/g,\"\").match(/\\d{1,2}/g);for(var e=\"\";a&&a.length;)e+=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\".charAt(parseInt(a.pop())%62);return e}function q(){return typeof a!==\"undefined\"&&a.crypto&&a.crypto.getRandomValues}function y(E,e,b){var f=[];if(q()){E=new Uint32Array(E);a.crypto.getRandomValues(E);f=Array.prototype.slice.call(E);for(var d=0;d<f.length;d++)f[d]=f[d]%(b-e+1)+e}else for(d=0;d<E;d++)f.push(Math.floor(Math.random()*(b-e+1))+e);return f}\nfunction i(E,e,b){var f=a.navigator;e=e?d(e):\"\";var r=(f.userLanguage||f.language).replace(/[^\\w]/g,\"\"),z=v(d(f.userAgent)),o=(new Date).getTimezoneOffset()/60+25;o=u.charAt(o%u.length);b=b.compatMode===\"CSS1Compat\"?b.documentElement:b.body;b=[b.clientWidth,b.clientHeight];b=d(\"\"+b[0]+b[1]);f=Array.prototype.slice.call(f.plugins.length?f.plugins:[]);for(var i=\"\";f.length;){var s=f.pop();s.name&&(i+=s.name);s.description&&(i+=s.description);s.version&&(i+=s.version)}f=v(d(i));s=Math.floor(D/3);i=Math.floor(D/\n4);q()&&(s=Math.floor(D/2),i=Math.floor(D/6));s=y(s,0,u.length-1);for(var k=\"\";s.length;)k+=u.charAt(s.pop());k+=e.slice(0,i);k+=b+o+f+z+r;return k.slice(0,E)}function z(){this.__http_requests=[]}function k(a,e){this.cookieManager=a;this.targetWindow=e}var G=4,r=10,D=32,u=\"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz\";(function(a){a.logHttpRequest=function(a){this.__http_requests.push(a)};a.getHttpRequests=function(){return this.__http_requests}})(z.prototype);(function(b){b.getConversationId=\nfunction(){return olark._.conversationId||this.cookieManager.get(\"wcsid\")};b.setConversationId=function(b){if(a.hbl&&(hbl.wcsid=b,hbl.client))hbl.client.sid=b,hbl.client.wcsid=b;olark._.conversationId=b;this.cookieManager.set(\"wcsid\",b)};b.deleteConversationId=function(){this.setConversationId(void 0);this.cookieManager.erase(\"wcsid\")};b.getVisitorId=function(){return olark._.visitorId};b.setVisitorId=function(b){if(a.hbl&&(hbl.hblid=b,hbl.client))hbl.client.hblid=b;olark._.visitorId=b;this.cookieManager.set(\"hblid\",\nb,63072E6)};b.getSiteId=function(){return olark._.siteId||\"missing-site-id\"};b.setSiteId=function(b){if(a.hbl&&(hbl.siteid=b,hbl.client))hbl.client.siteid=b;olark._.siteId=b};b.deleteIdentityFromCookies=function(){this.cookieManager.erase(\"wcsid\");this.cookieManager.erase(\"hblid\");this.cookieManager.erase(\"_okbk\")};b.triggerIfIdentityIsReady=function(a){olark._.siteId&&olark._.visitorId&&olark._.conversationId&&a(olark._.siteId,olark._.visitorId,olark._.conversationId)};b.isNewConversation=function(){return olark._.isNewConversation};\nb.isConversationIdAlive=function(){var a=this.cookieManager.get(\"_oklv\",!0);if(a){var b=a.split(\",\");a=parseInt(b[0]);b=b[1]||this.getConversationId();a=+new Date-a;return b===this.getConversationId()&&a<olark._.maxMillisecondsConversationCanBeIdle}else return!1};b.keepConversationIdAlive=function(){this.cookieManager.set(\"_oklv\",[(+new Date).toString(),this.getConversationId()].join(\",\"))};b.watchConversationIdForExpiration=function(a){function b(){d.isConversationIdAlive()?d.keepConversationIdAlive():\nolark(\"api.chat.onReady\",function(){d.targetWindow.hbl.client.eventmgr.handle(\"conversation_ended\",{next_conversation_id:a})});setTimeout(b,i)}var d=this,i=olark._.maxMillisecondsConversationCanBeIdle/20;b()};b.getOklvValueForPopout=function(){return[+new Date+864E5,this.getConversationId()].join(\",\")}})(k.prototype);return{downloadAssetsAndApplication:function(d,e,q,f,v,y,o,H,s){function I(){return/iphone|ipad|ipod|android|blackberry|mini|windows\\sce|palm|iemobile|windows\\sphone/i.test(navigator.userAgent.toLowerCase())}\nfunction ia(a,c){var l=a.document.createElement(\"iframe\"),m=\"anonymousframe\"+ +new Date;l.id=m;l.name=m;l.style.position=\"absolute\";l.style.left=\"-9999999px\";l.style.width=\"1px\";l.frameBorder=\"0\";l.allowTransparency=\"true\";a[m]=c||function(){};l.src=\"javascript:false\";var d=a.document;(d.getElementsByTagName(\"body\")[0]||d.body||d).appendChild(l);try{l.contentWindow.document.open()}catch(g){domainSrc='javascript:var d=document.open();d.domain=\"'+b.domain+'\";',l.src=domainSrc+\"void(0);\"}m='<head></head><body onload=\"window.parent.'+\nm+'(window)\"></body>';try{var e=l.contentWindow.document;e.write(m);e.close()}catch(o){l.src=domainSrc+'d.write(\"'+m.replace(/\"/g,String.fromCharCode(92)+'\"')+'\");d.close();'}return l}function M(a,b){b=b||x;var c=b.createElement(\"script\"),d=o.location.protocol==\"https:\"?\"https:\":\"http:\";a=a.replace(/^\\/\\//,\"\");c.src=d+\"//\"+a;c.async=!0;c.defer=!0;c.setAttribute(\"data-cfasync\",\"false\");(b.getElementsByTagName(\"head\")[0]||b.getElementsByTagName(\"body\")[0]||b.body).appendChild(c)}function ja(a){a.sort(function(a,\nb){return b.length-a.length});for(var b=0;b<a.length;b++){var c=a[b];if(!/^\\s*$/.test(c)&&(c=\".\"+c.replace(/^[\\s\\*\\.]*/,\"\"),x.location.hostname.indexOf(c.replace(/^\\./,\"\"))>=0))return c}return null}function ka(a,b){var c;typeof XMLHttpRequest!==\"undefined\"&&(c=new XMLHttpRequest);c&&\"withCredentials\"in c?c.open(a,b,!0):typeof XDomainRequest!==\"undefined\"?(c=new XDomainRequest,c.open(a,b)):c=null;return c}function la(P,d,l,m,g,e){P=[\"c=create\",\"u=\"+encodeURIComponent(x.location.href),\"r=\"+encodeURIComponent(x.referrer),\n\"s=\"+encodeURIComponent(P),\"v=\"+encodeURIComponent(d),\"i=\"+encodeURIComponent(l),\"g=\"+encodeURIComponent(m||\"ALL\"),\"q=precache\"+Math.random().toString().replace(\".\",\"\"),\"j=o0\",\"version=loader-precache\"];g&&(P.push(\"end_conversation=1\"),c._.identityManager.isNewConversation()&&P.push(\"is_new_conversation=1\"));var f=o.olark._.nrpcPrecache={response:null,responseCallback:null},h=function(a){f.response=a;f.responseCallback&&f.responseCallback(a)};g=e+\"/c?\"+P.join(\"&\");var t=ka(\"GET\",(x.location.protocol===\n\"https:\"?\"https:\":\"http:\")+\"//\"+g);if(t){t.onload=function(){(new Function(\"create\",t.responseText))(h)};var K=!1;handleCorsErrorOnce=function(){K||(K=!0,h({status:500}))};t.onerror=handleCorsErrorOnce;t.onabort=handleCorsErrorOnce;t.ontimeout=handleCorsErrorOnce;t.onprogress=function(){};c._.internalLog.logHttpRequest(g);t.send()}else{f.response={status:500};var w=\"olark_\"+Math.random().toString().replace(\".\",\"\");a[w]=function(b){h(b);a[w]=void 0;try{delete a[w]}catch(c){}};M(g+\"&cb=\"+w,b)}}function ma(a){var d=\nc._.cookieManager.get(\"_okac\")||+new Date,g=c._.cookieManager.get(\"_okla\")||!1;h.P(\"getassets\");g?M(h.assetHost+\"/a/assets/v0/site/\"+a+\".js?cb=\"+d+\"&v=\"+y,b):M(\"static.olark.com/a/assets/v0/site/\"+a+\".js?cb=\"+d+\"&v=\"+y,b)}function na(){var a=Q.match(/(olarkid=(0000-0000-0000-0000|1470-860-10-9245))/);return a&&a[2]?a[2]:null}function S(a,b){return(o.location.protocol==\"https:\"?\"https:\":\"http:\")+\"//\"+a+b}function g(){var a=!0;if(/\\#(begin_conversation|perf_.+|triggered_rule_action|cobrowsing|deprecated_mixpanel)/.test(arguments[0]||\n\"\"))a=!1;if(!(a&&Math.random()>0.15)){T++;a=+new Date;if(a-Y<=1E3){if(T>G)return}else T=0,Y=a;Z++;if(!(Z>r)){a=Array.prototype.slice.call(arguments||[]).join(\" \");var g=o.name||Math.random().toString().replace(\"0.\",\"oktab\");g=/^oktab/.test(g)?g:\"unknown\";a=[\"actor=jsclient\",\"application=\"+encodeURIComponent(d),\"location=\"+encodeURIComponent(x.location.href.toString().slice(0,50)),\"referrer=\"+encodeURIComponent(x.referrer.toString().slice(0,15)),\"message=\"+encodeURIComponent(a),\"tabname=\"+encodeURIComponent(g),\n\"cachebreak=\"+encodeURIComponent((+new Date).toString())];c._.isHypothesis&&a.push(\"hypothesis_name=\"+encodeURIComponent(c._.hypothesisName));c._.identityManager.getConversationId()&&a.push(\"conversation_id=\"+encodeURIComponent(c._.identityManager.getConversationId()));c._.identityManager.getVisitorId()&&a.push(\"visitor_id=\"+encodeURIComponent(c._.identityManager.getVisitorId()));c._.identityManager.getSiteId()&&a.push(\"site_id=\"+encodeURIComponent(c._.identityManager.getSiteId()));M(\"log.olark.com/jslog/log.js?\"+\na.join(\"&\"),b)}}}var c=o.olark;c._.P(\"loader\");try{(function(){function b(a){a=parseInt(a);return a>2E4?2E4:a}function d(){if(k&&c._.preventBoot!==!0){var a=!1,A=[];!w&&t&&l.hasOwnProperty(q)&&l.hasOwnProperty(n)&&(A.push(\"#perf_getframe.loader0,\"+m+\"=\"+l[q]),A.push(\"#perf_frame.loader0,\"+m+\"=\"+l[n]),w=!0);for(var j in K)if(K.hasOwnProperty(j)&&!K[j]){var e=l[j];typeof e!=\"number\"&&u<=0&&(e=+new Date-l[0]);typeof e==\"number\"?(A.push(\"#perf_\"+j+\".\"+s+\",\"+m+\"=\"+b(e)),K[j]=!0):a=!0}u--;g(\"tracking performance data \"+\nA.join(\" \"));a&&setTimeout(d,x)}}var l=c._.p,m=\"UnknownBrowser\",e=(o.navigator.userAgent||\"\").toLowerCase(),f=/msie\\s*6/.test(e),h=/msie\\s*7/.test(e),i=/msie/.test(e)&&!(f||h);I()?m=\"MobileBrowser\":/chrome/.test(e)?m=\"Chrome\":/safari/.test(e)?m=\"Safari\":/firefox/.test(e)?m=\"Firefox\":/opera/.test(e)?m=\"Opera\":f?m=\"IE6\":h?m=\"IE7\":i&&(m=\"IE8Plus\");var t=!1,K={application:!1,assets:!1,box:!1,connection:!1,extready:!1,getapplication:!1,getconnection:!1,idready:!1,load:!1,loader:!1},w=!1,q=1,n=2,x=3E3,\nu=5,k=Math.random()<0.1?!0:/me\\.olark\\.net/.test(a.location.href);setTimeout(d,2E3)})()}catch(ha){c(\"api.boot.onIdentityReady\",function(){g(\"performance tracking #performance_tracking_error #error\")})}var oa=/^\\s*(omp__super_properties)\\s*$/,Z=0,Y=+new Date,T=0,n=function(){function b(p,A,j,d,e,m,l){function C(){if(j){var b=new Date;b.setTime(b.getTime()+j);var C=\"; expires=\"+b.toGMTString()}else C=\"\";var N=e?\"; domain=\"+e:\"\",g=m?\"; secure\":\"\",l=\"; path=\"+d;b=escape(A.toString());u?j<0?localStorage.removeItem(k+\np):localStorage.setItem(k+p,JSON.stringify({value:b,expires:j?(new Date).getTime()+j:null})):x.cookie=p+\"=\"+b+C+N+l+g;C=f();j<0?C[p]&&C[p].length>0&&C[p].shift():C[p]?C[p][0]=b:C[p]=[b];j>0&&j<216E7&&p!=r&&a.console&&a.console.warn&&a.console.warn(\"[olark] cookie expiration set too low for cache:\",p);if(j<0){if(b=q(function(){return c(p)}),typeof b!=\"undefined\")throw Error(\"[olark] unable to delete cookie: \"+p);}else if(b=q(function(){return c(p,!0)}),b!=A.toString())throw Error(\"[olark] unable to set cookie: \"+\np+\", expected \"+A+\" but got \"+b);}var N=o!=o.top?\"#iframe_cookie\":\"\";if(A||A===0)try{C()}catch(h){if(l)throw h;else try{u?localStorage.removeItem(k+p):x.cookie=p+\"=;expires=Thu, 01-Jan-1970 00:00:01 GMT\",C(),g(\"value of cookie\",p,\"was fixed #warn #cookie_needed_cleanpath\",N)}catch(n){try{for(var i=o.location.hostname.split(\".\");i.length>2;)i.shift(),u?localStorage.removeItem(k+p):x.cookie=p+\"=; expires=Thu, 01-Jan-1970 00:00:01 GMT; domain=.\"+i.join(\".\")+\"; path=\"+d;C();g(\"value of cookie\",p,\"was fixed #warn #cookie_needed_cleandomain\",\nN)}catch(t){g(t.message,\"#error #cookie_storefail\",N)}}}else g(\"value of cookie\",p,\"was\",A,\", prevent write #error #cookie_writenull\",N)}function c(a,b){var j=function(){var b=f()[a]||[];return b.length==1?b[0]:b.length==0?{}.undefinedValue:(oa.test(a)||g(\"got multiple values for\",a,\"-\",b.join(\", \"),\"#warn #cookie_orig_multivalue\"),b[0])}();j=j?unescape(j):j;var d=b&&/^\\s*$/.test(x.cookie)?\" #emptycookie\":\"\";if(/^\\s*$/.test(j))g(\"value of cookie\",a,\"is empty string, forcing to undefined #warn #cookie_emptystring\"+\nd,\"))\"),j={}.undefinedValue;else if(j==\"null\")g(\"value of cookie\",a,\"is a string 'null', looks like it should have been null, forcing to null #warn #cookie_readnull\"+d),j=null;else if(j==\"undefined\")g(\"value of cookie\",a,\"is a string 'undefined', looks like it should have been undefined, forcing to undefined #warn #cookie_readundefined\"+d),j={}.undefinedValue;else if(j==\"**erased\")j={}.undefinedValue;return j}function d(a,c,j){b(a,\"**erased\",-2592E6,i,t,c,j)}function e(b){for(var c=a.location.search.replace(/^\\?/,\n\"\").split(/&/),d=c.length-1,g;d>=0;d--)if(g=c[d].split(/=/),g[0]==b)return g[1];return{}.undefinedValue}function f(){(s===null||v)&&h();return s}function h(){s={};if(u)for(var a in localStorage){if(a.indexOf(k)===0){var b=a.replace(k,\"\"),c=localStorage.getItem(k+b);c&&(c=JSON.parse(c),c.expires&&c.expires<(new Date).getTime()?localStorage.removeItem(k+b):s[b]=[c.value])}}else{a=x.cookie.split(\";\");for(b=0;b<a.length;b++){var d=a[b],g=d.split(\"=\")[0];c=g.replace(/^\\s*/,\"\").replace(/^\\s*/,\"\");d=d.substring(g.length+\n1,d.length);s[c]=s[c]||[];s[c].push(d)}}}function q(b){var c;try{v=!0,c=b()}catch(d){a.console&&a.console.error&&a.console.error(d)}v=!1;return c}var i=\"/\",t=null,n=!1,w={},u=/^file\\:\\/\\//.test(o.location.href)&&\"localStorage\"in a?!0:!1,k=\"OLARK-\",s={},v=!1,r=\"_okck\";return{setPath:function(a){i=a},setDomain:function(a){t=a},setSecure:function(a){n=a},useLocalStorage:function(){u=!0;h()},isAllowedToWriteCookies:function(){function a(){try{return b(r,e,null,i,t,n,!0),d(r,n,!0),!0}catch(c){return f=\nc.toString(),!1}}function c(){try{return b(r,e,5E3,i,t,n,!0),d(r,n,!0),!0}catch(a){return f=a.toString(),!1}}var e=Math.random().toString().replace(\"0.\",\"\"),m=o!=o.top?!0:!1,h=o.navigator.cookieEnabled?!1:!0,f=\"\";try{return h?(g(\"cannot set any cookies #nocookies_due_to_disabled\"),!1):q(a)?q(c)?!0:(m?g(\"cannot set expirable cookies #nocookies_with_expiry_due_to_p3p\",f):g(\"cannot set expirable cookies #nocookies_with_expiry\",f),!1):(m?g(\"cannot set session cookies #nocookies_for_session_due_to_p3p\",\nf):g(\"cannot set session cookies #nocookies_for_session\",f),!1)}catch(k){return g(\"unexpected issue testing cookies:\",k.message,\"#error #unknown_cookie_test_error\"),!1}},set:function(a,c,d){if(!w[a])try{b(a,c,d||null,i,t,n)}catch(e){g(\"failed to create cookie:\",e.toString(),\"#error  #cookie_badset\")}},get:function(a,b){try{var d=c;b&&(d=function(a){return q(function(){return c(a)})});return w[a]?e(a):d(a)}catch(f){return g(\"failed to read cookie:\",f.toString(),\"#error #cookie_badget\"),null}},setAllowingNullAndUndefinedAndEmptyString:function(a,\nc,d){if(!w[a]){c===null?c=\"**null\":typeof c==\"undefined\"?c=\"**undefined\":c==\"\"&&(c=\"**emptystr\");try{b(a,c,d||null,i,t,n)}catch(e){g(\"failed to create cookie:\",e.toString(),\"#error  #cookie_badset\")}}},getAllowingNullAndUndefinedAndEmptyString:function(a){try{var b=w[a]?e(a):c(a);b==\"**null\"?b=null:b==\"**undefined\"?b={}.undefinedValue:b==\"**emptystr\"&&(b=\"\");return b}catch(d){return g(\"failed to read cookie:\",d.toString(),\"#error #cookie_badget\"),null}},erase:function(a){if(!w[a])try{d(a)}catch(b){g(\"failed to erase cookie:\",\nb.toString(),\"#error #cookie_baderase\")}},backTheseCookiesByQueryString:function(a){for(var b=0;b<a.length;b++)w[a[b]]=!0},refresh:function(){h()}}}(),x=o.document,Q=x.cookie,$=a.olark=o.olark,h=$._,L=h.l,O=h.callstack=h.s||[],U=L.match(/((.+)\\/(loader\\d+|wc|olark|core|olark\\-shopify)\\..+)?/)[2]||\"static.olark.com/jsclient\";L=/^static\\.olark\\.com\\/(javascript|js)\\/.*$/.test(L);var V,aa=!1;c._.f=null;c._.nrpcBaseUrl=parseInt(Math.random()*1E3).toString()+\"-events.olark.com/nrpc\";c._.maxMillisecondsConversationCanBeIdle=\n12E5;c._.identityManager=new k(n,o);c._.internalLog=new z;var ba=!1;c(\"api.boot.onIdentityReady\",function(a,b,d){ba||(ba=!0,la(a,b,d,V,aa,c._.nrpcBaseUrl))});c._.hypothesisName=\"master\";c._.isHypothesis=!1;if(n.isAllowedToWriteCookies()){c._.cookieManager=n;var ca=c._.opm=new B.PackageManager({fromLegacyEmbed:a===o,packages:H,download:function(b){var d=b.replace(/^https?\\:\\/\\//,\"\"),e=function(b){typeof b.define===\"undefined\"?(b.define=function(){return ca.define.apply(ca,arguments)},b.define.amd=\n{},M(d,b.document)):(a.console&&console.warn&&console.warn(\"[olark] AMD define conflict\"),g(\"AMD define conflict #warn #amd_define_conflict\"))};a!==o?e(a):ia(o,function(a){a.olark=c;e(a)})},context:o}),da=!1;setTimeout(function(){da||c(\"load\")},900);c._.setSiteAssetHash=function(a){c._.cookieManager.set(\"_okac\",a)};c._.setLoaderUseAssets=function(a){c._.cookieManager.set(\"_okla\",a)};c._.assetHost=\"assets.olark.com\";c(\"api.boot.onIdentityReady\",function(b,d,e){function g(){var c=o.clicky;if(c&&c.olark){f=\n!1;try{c.olark(b,d,e)}catch(h){a.console&&a.console.warn&&a.console.warn(\"[olark] unable to connect with clicky: \"+h.toString())}}else f&&setTimeout(g,600)}var f=!0;c(\"api.boot.onWindowLoad\",function(){setTimeout(function(){f=!1},2E3)});g()});L&&(U=\"static.olark.com/jsclient\");c._.versions={application:d,legacy:e,storage:q,popout:f,follow:v,loader:y};c._.preventBoot=!1;c._.apiHost=\"https://api.olark.com\";try{if(/framed-by-olark/.test(o.location.hash))c._.preventBoot=!0}catch(ra){}var ea=navigator.userAgent.match(/iPad/i)!==\nnull,W=navigator.userAgent.match(/android/i)!==null&&(navigator.userAgent.match(/mobile/i)===null||navigator.userAgent.match(/tablet/i)!==null);e=/Android [1-3]/.test(navigator.userAgent);var pa=!W&&!ea&&I(),fa=!0,ga=!1,qa=!W||e,X;a:{try{a.localStorage.setItem(\"testKey\",\"testVal\"),a.localStorage.removeItem(\"testKey\")}catch(sa){if(typeof a.localStorage!==\"undefined\"&&a.localStorage!==null){X=!0;break a}}X=!1}if(b!==x)b.body.style.cssText=\"height:100%;margin:0px;padding:0px;background:transparent\";\n(function(){function e(){c._.P(\"idready\");var a,b=c._.identityManager.getSiteId(),d=c._.identityManager.getVisitorId(),g=c._.identityManager.getConversationId();if(b&&d&&g)for(a=R.length>0?R.shift():void 0;a;)a(b,d,g),a=R.length>0?R.shift():void 0}function f(){var a;if(y)for(a=p.length>0?p.shift():void 0;a;)a(),a=p.length>0?p.shift():void 0}function l(a){function b(){j=!0;c._.conversationId=i(D,a,x);n.set(\"wcsid\",c._.conversationId);n.erase(\"_okbk\");c._.isNewConversation=!0}function d(){j||g(\"creating new visitor ID when we already had a conversation ID #visitor_changed_on_conversation #warn\");\nc._.visitorId=i(D,a,x);n.set(\"hblid\",c._.visitorId,63072E6)}c._.siteId=a;var f=n.get(\"hblid\"),h=n.get(\"wcsid\"),j=!1,k=n.get(\"_okgid\");!h||!c._.identityManager.isConversationIdAlive()?b():A&&k!==V?b():RegExp(\"^[\"+u+\"]+$\").test(h)||(g(\"regenerating invalid wcsid #warn #invalid_wcsid_in_cookie\",h),b());f?RegExp(\"^[\"+u+\"]+$\").test(f)||(g(\"regenerating invalid hblid #warn #invalid_hblid_in_cookie\",f),d()):d();c._.visitorId=c._.visitorId||f;c._.conversationId=c._.conversationId||h;if(n.get(\"hblid\")!==c._.visitorId)g(\"hblid could not be set #error #noboot #unset_hblid\"),\nc._.preventBoot=!0;if(n.get(\"wcsid\")!==c._.conversationId)g(\"wcsid could not be set #error #noboot #unset_wcsid\"),c._.preventBoot=!0;if(!c._.visitorId||!c._.conversationId)c._.preventBoot=!0,o.location.protocol==\"https:\"?g(\"preventing boot due to missing hblid/wcsid #noboot_on_ssl #warn\"):g(\"preventing boot due to missing hblid/wcsid #noboot #warn\");c._.identityManager.keepConversationIdAlive();c._.identityManager.watchConversationIdForExpiration(i(D,a,x));e()}function m(a,b,d){if(!d||!L[a])switch(L[a]=\n!0,a){case \"system.asset_host\":c._.assetHost=b;break;case \"system.allow_mobile_boot\":b&&(fa=!1);break;case \"system.forced_rpc_server\":c._.nrpcBaseUrl=b;break;case \"system.allow_ipad_boot\":ga=!b;break;case \"system.ignore_window_onload\":b&&c(\"load\");break;case \"system.allow_end_conversation\":aa=!0;break;case \"system.wait_until_window_onload\":b&&(da=!0);break;case \"system.application\":z=b;break;case \"system.minimize_cookies\":b&&n.useLocalStorage();break;case \"system.path\":n.setPath(b);break;case \"system.domain\":n.setDomain(b);\nbreak;case \"system.require_secure_cookies\":n.setSecure(b);break;case \"system.allowed_domains\":b.length&&(a=ja(b.split(/\\s*,\\s*/)))&&n.setDomain(a);break;case \"system.is_single_page_application\":var e=1;setInterval(function(){c(\"api.chat.updateVisitorStatus\",{snippet:(e++).toString()})},6E5);break;case \"system.max_milliseconds_conversation_can_be_idle\":c._.maxMillisecondsConversationCanBeIdle=b;break;case \"system.group\":V=b;break;case \"system.group_change_ends_chat\":A=b?!0:!1;break;case \"system.use_querystring_for_cookies\":n.backTheseCookiesByQueryString(b||\n[]);break;case \"system.api_host\":c._.apiHost=b}}function k(){if(y&&I&&!G&&!c._.preventBoot&&(!pa||!fa)&&(!ea||!ga)&&(!W||!qa)&&!X){h.P(\"prepapplication\");c._.isHypothesis?(F=\"static.olark.com/jsclient-\"+c._.hypothesisName+\"/application.js\",J=F.split(\"application.js\")[0]):z?(F=z,g(\"using custom application from inline HTML: \"+F+\" #custom_application_from_inline\"),J=F.split(\"application.js\")[0]):w?(F=w,g(\"using custom application from asset server: \"+F+\" #custom_application_from_assets\"),J=F.split(\"application.js\")[0]):\n(F=U+\"/application.js\",J=U);var e=F,f=/olarkap=(([^;]+.)?(olark.(com|net)(%3Ad+)?|battleship:d+)[^;]+)/,i=/olarkap=([a-zA-Z0-9]+)/;f=f.test(Q)?Q.match(f)[1]:null;i=i.test(Q)?Q.match(i)[1]:null;j=f?/((assets|static)\\.olark\\.(com|net))/.test(f)?e+\"?v=\"+d:unescape(f):i?e+\"?v=\"+i:e+\"?v=\"+d;h.popout=S(J,\"/popout.html\");h.follow=S(J,\"/follow.html\");h.plugins=S(J,\"/plugins\");e=h;i=J;f=q;var l=/^static\\.olark\\.com.+$/.test(i),m=l||o.location.protocol==\"https:\";isLoadedInBrowserThatReliesOnUserData=!((typeof(a.localStorage==\n\"unknown\")?0:a.localStorage)||a.globalStorage)&&b.documentElement&&b.documentElement.addBehavior;e.storage=l&&isLoadedInBrowserThatReliesOnUserData?\"https://static.olark.com/jsclient/storage.html?v=\"+f:(m?\"https\":\"http\")+\"://\"+i+\"/storage.html?v=\"+f;h.hlog=g;H=(e=j.match(/(.+)\\/javascript\\/.+/))?e[1]:\"static.olark.com\";$.__buildinfo={olarkfile:\"/javascript/olark.js\",corefile:\"/javascript/application.js\",jshost:H,dev:/^\\s*static\\.olark\\.com\\s*$/.test(H)?!1:!0,strict:n.get(\"olarkst\")==\"1\"?!0:!1};h.P(\"getapplication\");\nM(j)}}function s(b){try{var c;switch(b[0]){case \"load\":y||(y=!0,k(),f());break;case \"api.chat.connect\":G=!1;k();break;case \"api.boot.onIdentityReady\":return R.push(b[1]),e(),[b[0],function(){}];case \"api.boot.onWindowLoad\":return p.push(b[1]),f(),[b[0],function(){}];case \"call\":switch(b[1]){case \"identify\":(c=na()||b[2][0])&&(c=c.replace(/[^\\-\\d]/g,\"\"));t?c!==t&&a.console&&a.console.warn&&a.console.warn(\"[olark] cannot call olark.identify with different identities\"):c?(t=c,ma(t)):a.console&&a.console.warn&&\na.console.warn(\"[olark] cannot call olark.identify with an empty identity\");break;case \"configure\":m(b[2][0],b[2][1])}}return b}catch(d){return g(\"unable to handle early deferred call:\",d.message,\"#warn #early_deferred_fail\"),b}}var r,v,t,y=!1,w=null,z=null,B={},G=!1,I=!1,R=[],p=[],A=!1,j,F,J,H,L={};h.s={push:function(a){O.push(a);O[O.length-1]=s(a)}};h.finish=function(b){h.P(\"assets\");I=!0;if(b)typeof b==\"string\"?w=b:(B=b,w=(B.system?B.system.application:null)||w,h.defaults=B);if(h.defaults&&h.defaults.system&&\nh.defaults.system.http_traffic_blocked)return a.console&&a.console.warn&&a.console.warn(\"[olark] Olark Chat is turned off for this website, if you own this website please contact Olark via support@olark.com\"),!1;if(b=b.system)for(var c in b)b.hasOwnProperty(c)&&m(\"system.\"+c,b[c],!0);l(t);k()};h.P(\"callstackstart\");for(r=0;r<O.length;r++)v=O[r],O[r]=s(v);h.P(\"callstackfinish\")})()}}}}(window,document,H);I.downloadAssetsAndApplication(\"dacfa619c7b41ba7f1f40baef77ae2e4\",\"8f899a4e258303eb7cb6369d2d4827ef\",\n\"cce0a334f3d808ebc04fd43470330efc\",\"851a90375f34ca09bff71d2993ad5530\",\"01d173205314c5b4ab01ccfef865d627\",\"Loader0fb4970d73edc45c57a2cb70709b9c5ed\",window.parent,[{bundledDependencies:[\"underscore\"],main:\"//static.olark.com/modules/olark-targeting-plugin.js\",name:\"olark-targeting-plugin\"}],\"loader0\");return olark}();\n"
      },
      "http://www.google-analytics.com/ga.js": {
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "http://www.google-analytics.com/ga.js",
         "body": "(function(){var aa=encodeURIComponent,ba=Infinity,ca=setTimeout,da=isNaN,m=Math,ea=decodeURIComponent;function ha(a,b){return a.name=b}\nvar n=\"push\",ia=\"test\",ja=\"slice\",p=\"replace\",ka=\"load\",la=\"floor\",ma=\"charAt\",na=\"value\",q=\"indexOf\",oa=\"match\",pa=\"port\",qa=\"createElement\",ra=\"path\",r=\"name\",g=\"getTime\",u=\"host\",v=\"toString\",w=\"length\",x=\"prototype\",sa=\"clientWidth\",y=\"split\",ta=\"stopPropagation\",ua=\"scope\",z=\"location\",va=\"search\",A=\"protocol\",wa=\"clientHeight\",xa=\"href\",B=\"substring\",ya=\"apply\",za=\"navigator\",C=\"join\",D=\"toLowerCase\",E;function Aa(a,b){switch(b){case 0:return\"\"+a;case 1:return 1*a;case 2:return!!a;case 3:return 1E3*a}return a}function Ba(a){return\"function\"==typeof a}function Ca(a){return void 0!=a&&-1<(a.constructor+\"\")[q](\"String\")}function F(a,b){return void 0==a||\"-\"==a&&!b||\"\"==a}function Da(a){if(!a||\"\"==a)return\"\";for(;a&&-1<\" \\n\\r\\t\"[q](a[ma](0));)a=a[B](1);for(;a&&-1<\" \\n\\r\\t\"[q](a[ma](a[w]-1));)a=a[B](0,a[w]-1);return a}function Ea(){return m.round(2147483647*m.random())}function Fa(){}\nfunction G(a,b){if(aa instanceof Function)return b?encodeURI(a):aa(a);H(68);return escape(a)}function I(a){a=a[y](\"+\")[C](\" \");if(ea instanceof Function)try{return ea(a)}catch(b){H(17)}else H(68);return unescape(a)}var Ga=function(a,b,c,d){a.addEventListener?a.addEventListener(b,c,!!d):a.attachEvent&&a.attachEvent(\"on\"+b,c)},Ha=function(a,b,c,d){a.removeEventListener?a.removeEventListener(b,c,!!d):a.detachEvent&&a.detachEvent(\"on\"+b,c)};\nfunction Ia(a,b){if(a){var c=J[qa](\"script\");c.type=\"text/javascript\";c.async=!0;c.src=a;c.id=b;var d=J.getElementsByTagName(\"script\")[0];d.parentNode.insertBefore(c,d);return c}}function K(a){return a&&0<a[w]?a[0]:\"\"}function L(a){var b=a?a[w]:0;return 0<b?a[b-1]:\"\"}var Ja=function(){this.prefix=\"ga.\";this.R={}};Ja[x].set=function(a,b){this.R[this.prefix+a]=b};Ja[x].get=function(a){return this.R[this.prefix+a]};Ja[x].contains=function(a){return void 0!==this.get(a)};function Ka(a){0==a[q](\"www.\")&&(a=a[B](4));return a[D]()}function La(a,b){var c,d={url:a,protocol:\"http\",host:\"\",path:\"\",d:new Ja,anchor:\"\"};if(!a)return d;c=a[q](\"://\");0<=c&&(d.protocol=a[B](0,c),a=a[B](c+3));c=a[va](\"/|\\\\?|#\");if(0<=c)d.host=a[B](0,c)[D](),a=a[B](c);else return d.host=a[D](),d;c=a[q](\"#\");0<=c&&(d.anchor=a[B](c+1),a=a[B](0,c));c=a[q](\"?\");0<=c&&(Na(d.d,a[B](c+1)),a=a[B](0,c));d.anchor&&b&&Na(d.d,d.anchor);a&&\"/\"==a[ma](0)&&(a=a[B](1));d.path=a;return d}\nfunction Oa(a,b){function c(a){var b=(a.hostname||\"\")[y](\":\")[0][D](),c=(a[A]||\"\")[D](),c=1*a[pa]||(\"http:\"==c?80:\"https:\"==c?443:\"\");a=a.pathname||\"\";0==a[q](\"/\")||(a=\"/\"+a);return[b,\"\"+c,a]}var d=b||J[qa](\"a\");d.href=J[z][xa];var e=(d[A]||\"\")[D](),f=c(d),Be=d[va]||\"\",k=e+\"//\"+f[0]+(f[1]?\":\"+f[1]:\"\");0==a[q](\"//\")?a=e+a:0==a[q](\"/\")?a=k+a:a&&0!=a[q](\"?\")?0>a[y](\"/\")[0][q](\":\")&&(a=k+f[2][B](0,f[2].lastIndexOf(\"/\"))+\"/\"+a):a=k+f[2]+(a||Be);d.href=a;e=c(d);return{protocol:(d[A]||\"\")[D](),host:e[0],\nport:e[1],path:e[2],Oa:d[va]||\"\",url:a||\"\"}}function Na(a,b){function c(b,c){a.contains(b)||a.set(b,[]);a.get(b)[n](c)}for(var d=Da(b)[y](\"&\"),e=0;e<d[w];e++)if(d[e]){var f=d[e][q](\"=\");0>f?c(d[e],\"1\"):c(d[e][B](0,f),d[e][B](f+1))}}function Pa(a,b){if(F(a)||\"[\"==a[ma](0)&&\"]\"==a[ma](a[w]-1))return\"-\";var c=J.domain;return a[q](c+(b&&\"/\"!=b?b:\"\"))==(0==a[q](\"http://\")?7:0==a[q](\"https://\")?8:0)?\"0\":a};var Qa=0;function Ra(a,b,c){1<=Qa||1<=100*m.random()||ld()||(a=[\"utmt=error\",\"utmerr=\"+a,\"utmwv=5.4.6\",\"utmn=\"+Ea(),\"utmsp=1\"],b&&a[n](\"api=\"+b),c&&a[n](\"msg=\"+G(c[B](0,100))),M.w&&a[n](\"aip=1\"),Sa(a[C](\"&\")),Qa++)};var Ta=0,Ua={};function N(a){return Va(\"x\"+Ta++,a)}function Va(a,b){Ua[a]=!!b;return a}\nvar Wa=N(),Xa=Va(\"anonymizeIp\"),Ya=N(),$a=N(),ab=N(),bb=N(),O=N(),P=N(),cb=N(),db=N(),eb=N(),fb=N(),gb=N(),hb=N(),ib=N(),jb=N(),kb=N(),lb=N(),nb=N(),ob=N(),pb=N(),qb=N(),rb=N(),sb=N(),tb=N(),ub=N(),vb=N(),wb=N(),xb=N(),yb=N(),zb=N(),Ab=N(),Bb=N(),Cb=N(),Db=N(),Eb=N(),Fb=N(!0),Gb=Va(\"currencyCode\"),Hb=Va(\"page\"),Ib=Va(\"title\"),Jb=N(),Kb=N(),Lb=N(),Mb=N(),Nb=N(),Ob=N(),Pb=N(),Qb=N(),Rb=N(),Q=N(!0),Sb=N(!0),Tb=N(!0),Ub=N(!0),Vb=N(!0),Wb=N(!0),Zb=N(!0),$b=N(!0),ac=N(!0),bc=N(!0),cc=N(!0),R=N(!0),dc=N(!0),\nec=N(!0),fc=N(!0),gc=N(!0),hc=N(!0),ic=N(!0),jc=N(!0),S=N(!0),kc=N(!0),lc=N(!0),mc=N(!0),nc=N(!0),oc=N(!0),pc=N(!0),qc=N(!0),rc=Va(\"campaignParams\"),sc=N(),tc=Va(\"hitCallback\"),uc=N();N();var vc=N(),wc=N(),xc=N(),yc=N(),zc=N(),Ac=N(),Bc=N(),Cc=N(),Dc=N(),Ec=N(),Fc=N(),Gc=N(),Hc=N(),Ic=N();N();var Mc=N(),Nc=N(),Oc=N(),Oe=Va(\"uaName\"),Pe=Va(\"uaDomain\"),Qe=Va(\"uaPath\");var Re=function(){function a(a,c,d){T($[x],a,c,d)}a(\"_createTracker\",$[x].r,55);a(\"_getTracker\",$[x].oa,0);a(\"_getTrackerByName\",$[x].u,51);a(\"_getTrackers\",$[x].pa,130);a(\"_anonymizeIp\",$[x].aa,16);a(\"_forceSSL\",$[x].la,125);a(\"_getPlugin\",Pc,120)},Se=function(){function a(a,c,d){T(U[x],a,c,d)}Qc(\"_getName\",$a,58);Qc(\"_getAccount\",Wa,64);Qc(\"_visitCode\",Q,54);Qc(\"_getClientInfo\",ib,53,1);Qc(\"_getDetectTitle\",lb,56,1);Qc(\"_getDetectFlash\",jb,65,1);Qc(\"_getLocalGifPath\",wb,57);Qc(\"_getServiceMode\",\nxb,59);V(\"_setClientInfo\",ib,66,2);V(\"_setAccount\",Wa,3);V(\"_setNamespace\",Ya,48);V(\"_setAllowLinker\",fb,11,2);V(\"_setDetectFlash\",jb,61,2);V(\"_setDetectTitle\",lb,62,2);V(\"_setLocalGifPath\",wb,46,0);V(\"_setLocalServerMode\",xb,92,void 0,0);V(\"_setRemoteServerMode\",xb,63,void 0,1);V(\"_setLocalRemoteServerMode\",xb,47,void 0,2);V(\"_setSampleRate\",vb,45,1);V(\"_setCampaignTrack\",kb,36,2);V(\"_setAllowAnchor\",gb,7,2);V(\"_setCampNameKey\",ob,41);V(\"_setCampContentKey\",tb,38);V(\"_setCampIdKey\",nb,39);V(\"_setCampMediumKey\",\nrb,40);V(\"_setCampNOKey\",ub,42);V(\"_setCampSourceKey\",qb,43);V(\"_setCampTermKey\",sb,44);V(\"_setCampCIdKey\",pb,37);V(\"_setCookiePath\",P,9,0);V(\"_setMaxCustomVariables\",yb,0,1);V(\"_setVisitorCookieTimeout\",cb,28,1);V(\"_setSessionCookieTimeout\",db,26,1);V(\"_setCampaignCookieTimeout\",eb,29,1);V(\"_setReferrerOverride\",Jb,49);V(\"_setSiteSpeedSampleRate\",Dc,132);a(\"_trackPageview\",U[x].Fa,1);a(\"_trackEvent\",U[x].F,4);a(\"_trackPageLoadTime\",U[x].Ea,100);a(\"_trackSocial\",U[x].Ga,104);a(\"_trackTrans\",U[x].Ia,\n18);a(\"_sendXEvent\",U[x].t,78);a(\"_createEventTracker\",U[x].ia,74);a(\"_getVersion\",U[x].qa,60);a(\"_setDomainName\",U[x].B,6);a(\"_setAllowHash\",U[x].va,8);a(\"_getLinkerUrl\",U[x].na,52);a(\"_link\",U[x].link,101);a(\"_linkByPost\",U[x].ua,102);a(\"_setTrans\",U[x].za,20);a(\"_addTrans\",U[x].$,21);a(\"_addItem\",U[x].Y,19);a(\"_clearTrans\",U[x].ea,105);a(\"_setTransactionDelim\",U[x].Aa,82);a(\"_setCustomVar\",U[x].wa,10);a(\"_deleteCustomVar\",U[x].ka,35);a(\"_getVisitorCustomVar\",U[x].ra,50);a(\"_setXKey\",U[x].Ca,83);\na(\"_setXValue\",U[x].Da,84);a(\"_getXKey\",U[x].sa,76);a(\"_getXValue\",U[x].ta,77);a(\"_clearXKey\",U[x].fa,72);a(\"_clearXValue\",U[x].ga,73);a(\"_createXObj\",U[x].ja,75);a(\"_addIgnoredOrganic\",U[x].W,15);a(\"_clearIgnoredOrganic\",U[x].ba,97);a(\"_addIgnoredRef\",U[x].X,31);a(\"_clearIgnoredRef\",U[x].ca,32);a(\"_addOrganic\",U[x].Z,14);a(\"_clearOrganic\",U[x].da,70);a(\"_cookiePathCopy\",U[x].ha,30);a(\"_get\",U[x].ma,106);a(\"_set\",U[x].xa,107);a(\"_addEventListener\",U[x].addEventListener,108);a(\"_removeEventListener\",\nU[x].removeEventListener,109);a(\"_addDevId\",U[x].V);a(\"_getPlugin\",Pc,122);a(\"_setPageGroup\",U[x].ya,126);a(\"_trackTiming\",U[x].Ha,124);a(\"_initData\",U[x].v,2);a(\"_setVar\",U[x].Ba,22);V(\"_setSessionTimeout\",db,27,3);V(\"_setCookieTimeout\",eb,25,3);V(\"_setCookiePersistence\",cb,24,1);a(\"_setAutoTrackOutbound\",Fa,79);a(\"_setTrackOutboundSubdomains\",Fa,81);a(\"_setHrefExamineLimit\",Fa,80)};function Pc(a){var b=this.plugins_;if(b)return b.get(a)}\nvar T=function(a,b,c,d){a[b]=function(){try{return void 0!=d&&H(d),c[ya](this,arguments)}catch(a){throw Ra(\"exc\",b,a&&a[r]),a;}}},Qc=function(a,b,c,d){U[x][a]=function(){try{return H(c),Aa(this.a.get(b),d)}catch(e){throw Ra(\"exc\",a,e&&e[r]),e;}}},V=function(a,b,c,d,e){U[x][a]=function(f){try{H(c),void 0==e?this.a.set(b,Aa(f,d)):this.a.set(b,e)}catch(Be){throw Ra(\"exc\",a,Be&&Be[r]),Be;}}},Te=function(a,b){return{type:b,target:a,stopPropagation:function(){throw\"aborted\";}}};var Rc=RegExp(/(^|\\.)doubleclick\\.net$/i),Sc=function(a,b){return Rc[ia](J[z].hostname)?!0:\"/\"!==b?!1:0!=a[q](\"www.google.\")&&0!=a[q](\".google.\")&&0!=a[q](\"google.\")||-1<a[q](\"google.org\")?!1:!0},Tc=function(a){var b=a.get(bb),c=a.c(P,\"/\");Sc(b,c)&&a[ta]()};var Zc=function(){var a={},b={},c=new Uc;this.g=function(a,b){c.add(a,b)};var d=new Uc;this.e=function(a,b){d.add(a,b)};var e=!1,f=!1,Be=!0;this.T=function(){e=!0};this.j=function(a){this[ka]();this.set(sc,a,!0);a=new Vc(this);e=!1;d.execute(this);e=!0;b={};this.n();a.Ja()};this.load=function(){e&&(e=!1,this.Ka(),Wc(this),f||(f=!0,c.execute(this),Xc(this),Wc(this)),e=!0)};this.n=function(){if(e)if(f)e=!1,Xc(this),e=!0;else this[ka]()};this.get=function(c){Ua[c]&&this[ka]();return void 0!==b[c]?b[c]:\na[c]};this.set=function(c,d,e){Ua[c]&&this[ka]();e?b[c]=d:a[c]=d;Ua[c]&&this.n()};this.Za=function(b){a[b]=this.b(b,0)+1};this.b=function(a,b){var c=this.get(a);return void 0==c||\"\"===c?b:1*c};this.c=function(a,b){var c=this.get(a);return void 0==c?b:c+\"\"};this.Ka=function(){if(Be){var b=this.c(bb,\"\"),c=this.c(P,\"/\");Sc(b,c)||(a[O]=a[hb]&&\"\"!=b?Yc(b):1,Be=!1)}}};Zc[x].stopPropagation=function(){throw\"aborted\";};\nvar Vc=function(a){var b=this;this.q=0;var c=a.get(tc);this.Ua=function(){0<b.q&&c&&(b.q--,b.q||c())};this.Ja=function(){!b.q&&c&&ca(c,10)};a.set(uc,b,!0)};function $c(a,b){b=b||[];for(var c=0;c<b[w];c++){var d=b[c];if(\"\"+a==d||0==d[q](a+\".\"))return d}return\"-\"}\nvar bd=function(a,b,c){c=c?\"\":a.c(O,\"1\");b=b[y](\".\");if(6!==b[w]||ad(b[0],c))return!1;c=1*b[1];var d=1*b[2],e=1*b[3],f=1*b[4];b=1*b[5];if(!(0<=c&&0<d&&0<e&&0<f&&0<=b))return!1;a.set(Q,c);a.set(Vb,d);a.set(Wb,e);a.set(Zb,f);a.set($b,b);return!0},cd=function(a){var b=a.get(Q),c=a.get(Vb),d=a.get(Wb),e=a.get(Zb),f=a.b($b,1);return[a.b(O,1),void 0!=b?b:\"-\",c||\"-\",d||\"-\",e||\"-\",f][C](\".\")},dd=function(a){return[a.b(O,1),a.b(cc,0),a.b(R,1),a.b(dc,0)][C](\".\")},ed=function(a,b,c){c=c?\"\":a.c(O,\"1\");var d=\nb[y](\".\");if(4!==d[w]||ad(d[0],c))d=null;a.set(cc,d?1*d[1]:0);a.set(R,d?1*d[2]:10);a.set(dc,d?1*d[3]:a.get(ab));return null!=d||!ad(b,c)},fd=function(a,b){var c=G(a.c(Tb,\"\")),d=[],e=a.get(Fb);if(!b&&e){for(var f=0;f<e[w];f++){var Be=e[f];Be&&1==Be[ua]&&d[n](f+\"=\"+G(Be[r])+\"=\"+G(Be[na])+\"=1\")}0<d[w]&&(c+=\"|\"+d[C](\"^\"))}return c?a.b(O,1)+\".\"+c:null},gd=function(a,b,c){c=c?\"\":a.c(O,\"1\");b=b[y](\".\");if(2>b[w]||ad(b[0],c))return!1;b=b[ja](1)[C](\".\")[y](\"|\");0<b[w]&&a.set(Tb,I(b[0]));if(1>=b[w])return!0;\nb=b[1][y](-1==b[1][q](\",\")?\"^\":\",\");for(c=0;c<b[w];c++){var d=b[c][y](\"=\");if(4==d[w]){var e={};ha(e,I(d[1]));e.value=I(d[2]);e.scope=1;a.get(Fb)[d[0]]=e}}return!0},hd=function(a,b){var c=Ue(a,b);return c?[a.b(O,1),a.b(ec,0),a.b(fc,1),a.b(gc,1),c][C](\".\"):\"\"},Ue=function(a){function b(b,e){if(!F(a.get(b))){var f=a.c(b,\"\"),f=f[y](\" \")[C](\"%20\"),f=f[y](\"+\")[C](\"%20\");c[n](e+\"=\"+f)}}var c=[];b(ic,\"utmcid\");b(nc,\"utmcsr\");b(S,\"utmgclid\");b(kc,\"utmgclsrc\");b(lc,\"utmdclid\");b(mc,\"utmdsid\");b(jc,\"utmccn\");\nb(oc,\"utmcmd\");b(pc,\"utmctr\");b(qc,\"utmcct\");return c[C](\"|\")},id=function(a,b,c){c=c?\"\":a.c(O,\"1\");b=b[y](\".\");if(5>b[w]||ad(b[0],c))return a.set(ec,void 0),a.set(fc,void 0),a.set(gc,void 0),a.set(ic,void 0),a.set(jc,void 0),a.set(nc,void 0),a.set(oc,void 0),a.set(pc,void 0),a.set(qc,void 0),a.set(S,void 0),a.set(kc,void 0),a.set(lc,void 0),a.set(mc,void 0),!1;a.set(ec,1*b[1]);a.set(fc,1*b[2]);a.set(gc,1*b[3]);Ve(a,b[ja](4)[C](\".\"));return!0},Ve=function(a,b){function c(a){return(a=b[oa](a+\"=(.*?)(?:\\\\|utm|$)\"))&&\n2==a[w]?a[1]:void 0}function d(b,c){c?(c=e?I(c):c[y](\"%20\")[C](\" \"),a.set(b,c)):a.set(b,void 0)}-1==b[q](\"=\")&&(b=I(b));var e=\"2\"==c(\"utmcvr\");d(ic,c(\"utmcid\"));d(jc,c(\"utmccn\"));d(nc,c(\"utmcsr\"));d(oc,c(\"utmcmd\"));d(pc,c(\"utmctr\"));d(qc,c(\"utmcct\"));d(S,c(\"utmgclid\"));d(kc,c(\"utmgclsrc\"));d(lc,c(\"utmdclid\"));d(mc,c(\"utmdsid\"))},ad=function(a,b){return b?a!=b:!/^\\d+$/[ia](a)};var Uc=function(){this.filters=[]};Uc[x].add=function(a,b){this.filters[n]({name:a,s:b})};Uc[x].execute=function(a){try{for(var b=0;b<this.filters[w];b++)this.filters[b].s.call(W,a)}catch(c){}};function jd(a){100!=a.get(vb)&&a.get(Q)%1E4>=100*a.get(vb)&&a[ta]()}function kd(a){ld(a.get(Wa))&&a[ta]()}function md(a){\"file:\"==J[z][A]&&a[ta]()}function Ge(a){He()&&a[ta]()}function nd(a){a.get(Ib)||a.set(Ib,J.title,!0);a.get(Hb)||a.set(Hb,J[z].pathname+J[z][va],!0)};var od=new function(){var a=[];this.set=function(b){a[b]=!0};this.Xa=function(){for(var b=[],c=0;c<a[w];c++)a[c]&&(b[m[la](c/6)]=b[m[la](c/6)]^1<<c%6);for(c=0;c<b[w];c++)b[c]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_\"[ma](b[c]||0);return b[C](\"\")+\"~\"}};function H(a){od.set(a)};var W=window,J=document,ld=function(a){var b=W._gaUserPrefs;if(b&&b.ioo&&b.ioo()||a&&!0===W[\"ga-disable-\"+a])return!0;try{var c=W.external;if(c&&c._gaUserPrefs&&\"oo\"==c._gaUserPrefs)return!0}catch(d){}return!1},He=function(){return W[za]&&\"preview\"==W[za].loadPurpose},We=function(a,b){ca(a,b)},pd=function(a){var b=[],c=J.cookie[y](\";\");a=RegExp(\"^\\\\s*\"+a+\"=\\\\s*(.*?)\\\\s*$\");for(var d=0;d<c[w];d++){var e=c[d][oa](a);e&&b[n](e[1])}return b},X=function(a,b,c,d,e,f){e=ld(e)?!1:Sc(d,c)?!1:He()?!1:!0;if(e){if(b&&\n0<=W[za].userAgent[q](\"Firefox\")){b=b[p](/\\n|\\r/g,\" \");e=0;for(var Be=b[w];e<Be;++e){var k=b.charCodeAt(e)&255;if(10==k||13==k)b=b[B](0,e)+\"?\"+b[B](e+1)}}b&&2E3<b[w]&&(b=b[B](0,2E3),H(69));a=a+\"=\"+b+\"; path=\"+c+\"; \";f&&(a+=\"expires=\"+(new Date((new Date)[g]()+f)).toGMTString()+\"; \");d&&(a+=\"domain=\"+d+\";\");J.cookie=a}};var qd,rd,sd=function(){if(!qd){var a={},b=W[za],c=W.screen;a.Q=c?c.width+\"x\"+c.height:\"-\";a.P=c?c.colorDepth+\"-bit\":\"-\";a.language=(b&&(b.language||b.browserLanguage)||\"-\")[D]();a.javaEnabled=b&&b.javaEnabled()?1:0;a.characterSet=J.characterSet||J.charset||\"-\";try{var d;var e=J.documentElement,f=J.body,Be=f&&f[sa]&&f[wa],b=[];e&&e[sa]&&e[wa]&&(\"CSS1Compat\"===J.compatMode||!Be)?b=[e[sa],e[wa]]:Be&&(b=[f[sa],f[wa]]);d=0>=b[0]||0>=b[1]?\"\":b[C](\"x\");a.Wa=d}catch(k){H(135)}qd=a}},td=function(){sd();for(var a=\nqd,b=W[za],a=b.appName+b.version+a.language+b.platform+b.userAgent+a.javaEnabled+a.Q+a.P+(J.cookie?J.cookie:\"\")+(J.referrer?J.referrer:\"\"),b=a[w],c=W.history[w];0<c;)a+=c--^b++;return Yc(a)},ud=function(a){sd();var b=qd;a.set(Lb,b.Q);a.set(Mb,b.P);a.set(Pb,b.language);a.set(Qb,b.characterSet);a.set(Nb,b.javaEnabled);a.set(Rb,b.Wa);if(a.get(ib)&&a.get(jb)){if(!(b=rd)){var c,d,e;d=\"ShockwaveFlash\";if((b=(b=W[za])?b.plugins:void 0)&&0<b[w])for(c=0;c<b[w]&&!e;c++)d=b[c],-1<d[r][q](\"Shockwave Flash\")&&\n(e=d.description[y](\"Shockwave Flash \")[1]);else{d=d+\".\"+d;try{c=new ActiveXObject(d+\".7\"),e=c.GetVariable(\"$version\")}catch(f){}if(!e)try{c=new ActiveXObject(d+\".6\"),e=\"WIN 6,0,21,0\",c.AllowScriptAccess=\"always\",e=c.GetVariable(\"$version\")}catch(Be){}if(!e)try{c=new ActiveXObject(d),e=c.GetVariable(\"$version\")}catch(k){}e&&(e=e[y](\" \")[1][y](\",\"),e=e[0]+\".\"+e[1]+\" r\"+e[2])}b=e?e:\"-\"}rd=b;a.set(Ob,rd)}else a.set(Ob,\"-\")};var vd=function(a){if(Ba(a))this.s=a;else{var b=a[0],c=b.lastIndexOf(\":\"),d=b.lastIndexOf(\".\");this.h=this.i=this.l=\"\";-1==c&&-1==d?this.h=b:-1==c&&-1!=d?(this.i=b[B](0,d),this.h=b[B](d+1)):-1!=c&&-1==d?(this.l=b[B](0,c),this.h=b[B](c+1)):c>d?(this.i=b[B](0,d),this.l=b[B](d+1,c),this.h=b[B](c+1)):(this.i=b[B](0,d),this.h=b[B](d+1));this.k=a[ja](1);this.Ma=!this.l&&\"_require\"==this.h;this.J=!this.i&&!this.l&&\"_provide\"==this.h}},Y=function(){T(Y[x],\"push\",Y[x][n],5);T(Y[x],\"_getPlugin\",Pc,121);T(Y[x],\n\"_createAsyncTracker\",Y[x].Sa,33);T(Y[x],\"_getAsyncTracker\",Y[x].Ta,34);this.I=new Ja;this.p=[]};E=Y[x];E.Na=function(a,b,c){var d=this.I.get(a);if(!Ba(d))return!1;b.plugins_=b.plugins_||new Ja;b.plugins_.set(a,new d(b,c||{}));return!0};E.push=function(a){var b=Z.Va[ya](this,arguments),b=Z.p.concat(b);for(Z.p=[];0<b[w]&&!Z.O(b[0])&&!(b.shift(),0<Z.p[w]););Z.p=Z.p.concat(b);return 0};E.Va=function(a){for(var b=[],c=0;c<arguments[w];c++)try{var d=new vd(arguments[c]);d.J?this.O(d):b[n](d)}catch(e){}return b};\nE.O=function(a){try{if(a.s)a.s[ya](W);else if(a.J)this.I.set(a.k[0],a.k[1]);else{var b=\"_gat\"==a.i?M:\"_gaq\"==a.i?Z:M.u(a.i);if(a.Ma){if(!this.Na(a.k[0],b,a.k[2])){if(!a.Pa){var c=Oa(\"\"+a.k[1]);var d=c[A],e=J[z][A];var f;if(f=\"https:\"==d||d==e?!0:\"http:\"!=d?!1:\"http:\"==e){var Be;t:{var k=Oa(J[z][xa]);if(!(c.Oa||0<=c.url[q](\"?\")||0<=c[ra][q](\"://\")||c[u]==k[u]&&c[pa]==k[pa]))for(var s=\"http:\"==c[A]?80:443,t=M.S,b=0;b<t[w];b++)if(c[u]==t[b][0]&&(c[pa]||s)==(t[b][1]||s)&&0==c[ra][q](t[b][2])){Be=!0;break t}Be=\n!1}f=Be&&!ld()}f&&(a.Pa=Ia(c.url))}return!0}}else a.l&&(b=b.plugins_.get(a.l)),b[a.h][ya](b,a.k)}}catch(Za){}};E.Sa=function(a,b){return M.r(a,b||\"\")};E.Ta=function(a){return M.u(a)};var yd=function(){function a(a,b,c,d){void 0==f[a]&&(f[a]={});void 0==f[a][b]&&(f[a][b]=[]);f[a][b][c]=d}function b(a,b,c){if(void 0!=f[a]&&void 0!=f[a][b])return f[a][b][c]}function c(a,b){if(void 0!=f[a]&&void 0!=f[a][b]){f[a][b]=void 0;var c=!0,d;for(d=0;d<Be[w];d++)if(void 0!=f[a][Be[d]]){c=!1;break}c&&(f[a]=void 0)}}function d(a){var b=\"\",c=!1,d,e;for(d=0;d<Be[w];d++)if(e=a[Be[d]],void 0!=e){c&&(b+=Be[d]);for(var c=[],f=void 0,ga=void 0,ga=0;ga<e[w];ga++)if(void 0!=e[ga]){f=\"\";ga!=mb&&void 0==\ne[ga-1]&&(f+=ga[v]()+Za);for(var Cd=e[ga],Jc=\"\",Yb=void 0,Kc=void 0,Lc=void 0,Yb=0;Yb<Cd[w];Yb++)Kc=Cd[ma](Yb),Lc=Ma[Kc],Jc+=void 0!=Lc?Lc:Kc;f+=Jc;c[n](f)}b+=k+c[C](t)+s;c=!1}else c=!0;return b}var e=this,f=[],Be=[\"k\",\"v\"],k=\"(\",s=\")\",t=\"*\",Za=\"!\",Ma={\"'\":\"'0\"};Ma[s]=\"'1\";Ma[t]=\"'2\";Ma[Za]=\"'3\";var mb=1;e.Ra=function(a){return void 0!=f[a]};e.A=function(){for(var a=\"\",b=0;b<f[w];b++)void 0!=f[b]&&(a+=b[v]()+d(f[b]));return a};e.Qa=function(a){if(void 0==a)return e.A();for(var b=a.A(),c=0;c<f[w];c++)void 0==\nf[c]||a.Ra(c)||(b+=c[v]()+d(f[c]));return b};e.f=function(b,c,d){if(!wd(d))return!1;a(b,\"k\",c,d);return!0};e.o=function(b,c,d){if(!xd(d))return!1;a(b,\"v\",c,d[v]());return!0};e.getKey=function(a,c){return b(a,\"k\",c)};e.N=function(a,c){return b(a,\"v\",c)};e.L=function(a){c(a,\"k\")};e.M=function(a){c(a,\"v\")};T(e,\"_setKey\",e.f,89);T(e,\"_setValue\",e.o,90);T(e,\"_getKey\",e.getKey,87);T(e,\"_getValue\",e.N,88);T(e,\"_clearKey\",e.L,85);T(e,\"_clearValue\",e.M,86)};function wd(a){return\"string\"==typeof a}\nfunction xd(a){return!(\"number\"==typeof a||void 0!=Number&&a instanceof Number)||m.round(a)!=a||da(a)||a==ba?!1:!0};var zd=function(a){var b=W.gaGlobal;a&&!b&&(W.gaGlobal=b={});return b},Ad=function(){var a=zd(!0).hid;null==a&&(a=Ea(),zd(!0).hid=a);return a},Dd=function(a){a.set(Kb,Ad());var b=zd();if(b&&b.dh==a.get(O)){var c=b.sid;c&&(a.get(ac)?H(112):H(132),a.set(Zb,c),a.get(Sb)&&a.set(Wb,c));b=b.vid;a.get(Sb)&&b&&(b=b[y](\".\"),a.set(Q,1*b[0]),a.set(Vb,1*b[1]))}};var Ed,Fd=function(a,b,c,d){var e=a.c(bb,\"\"),f=a.c(P,\"/\");d=void 0!=d?d:a.b(cb,0);a=a.c(Wa,\"\");X(b,c,f,e,a,d)},Xc=function(a){var b=a.c(bb,\"\");a.b(O,1);var c=a.c(P,\"/\"),d=a.c(Wa,\"\");X(\"__utma\",cd(a),c,b,d,a.get(cb));X(\"__utmb\",dd(a),c,b,d,a.get(db));X(\"__utmc\",\"\"+a.b(O,1),c,b,d);var e=hd(a,!0);e?X(\"__utmz\",e,c,b,d,a.get(eb)):X(\"__utmz\",\"\",c,b,\"\",-1);(e=fd(a,!1))?X(\"__utmv\",e,c,b,d,a.get(cb)):X(\"__utmv\",\"\",c,b,\"\",-1)},Wc=function(a){var b=a.b(O,1);if(!bd(a,$c(b,pd(\"__utma\"))))return a.set(Ub,!0),!1;\nvar c=!ed(a,$c(b,pd(\"__utmb\")));a.set(bc,c);id(a,$c(b,pd(\"__utmz\")));gd(a,$c(b,pd(\"__utmv\")));Ed=!c;return!0},Gd=function(a){Ed||0<pd(\"__utmb\")[w]||(X(\"__utmd\",\"1\",a.c(P,\"/\"),a.c(bb,\"\"),a.c(Wa,\"\"),1E4),0==pd(\"__utmd\")[w]&&a[ta]())};var h=0,Jd=function(a){void 0==a.get(Q)?Hd(a):a.get(Ub)&&!a.get(Mc)?Hd(a):a.get(bc)&&(Id(a),h++,1<h&&H(137))},Kd=function(a){a.get(hc)&&!a.get(ac)&&(Id(a),a.set(fc,a.get($b)))},Hd=function(a){var b=a.get(ab);a.set(Sb,!0);a.set(Q,Ea()^td(a)&2147483647);a.set(Tb,\"\");a.set(Vb,b);a.set(Wb,b);a.set(Zb,b);a.set($b,1);a.set(ac,!0);a.set(cc,0);a.set(R,10);a.set(dc,b);a.set(Fb,[]);a.set(Ub,!1);a.set(bc,!1)},Id=function(a){a.set(Wb,a.get(Zb));a.set(Zb,a.get(ab));a.Za($b);a.set(ac,!0);a.set(cc,0);a.set(R,10);\na.set(dc,a.get(ab));a.set(bc,!1)};var Ld=\"daum:q eniro:search_word naver:query pchome:q images.google:q google:q yahoo:p yahoo:q msn:q bing:q aol:query aol:q lycos:q lycos:query ask:q netscape:query cnn:query about:terms mamma:q voila:rdata virgilio:qs live:q baidu:wd alice:qs yandex:text najdi:q seznam:q rakuten:qt biglobe:q goo.ne:MT wp:szukaj onet:qt yam:k kvasir:q ozu:q terra:query rambler:query conduit:q babylon:q search-results:q avg:q comcast:q incredimail:q startsiden:q go.mail.ru:q search.centrum.cz:q 360.cn:q\".split(\" \"),\nSd=function(a){if(a.get(kb)&&!a.get(Mc)){for(var b=!F(a.get(ic))||!F(a.get(nc))||!F(a.get(S))||!F(a.get(lc)),c={},d=0;d<Md[w];d++){var e=Md[d];c[e]=a.get(e)}(d=a.get(rc))?(H(149),e=new Ja,Na(e,d),d=e):d=La(J[z][xa],a.get(gb)).d;if(\"1\"!=L(d.get(a.get(ub)))||!b)if(d=Xe(a,d)||Qd(a),d||b||!a.get(ac)||(Pd(a,void 0,\"(direct)\",void 0,void 0,void 0,\"(direct)\",\"(none)\",void 0,void 0),d=!0),d&&(a.set(hc,Rd(a,c)),b=\"(direct)\"==a.get(nc)&&\"(direct)\"==a.get(jc)&&\"(none)\"==a.get(oc),a.get(hc)||a.get(ac)&&!b))a.set(ec,\na.get(ab)),a.set(fc,a.get($b)),a.Za(gc)}},Xe=function(a,b){function c(c,d){d=d||\"-\";var e=L(b.get(a.get(c)));return e&&\"-\"!=e?I(e):d}var d=L(b.get(a.get(nb)))||\"-\",e=L(b.get(a.get(qb)))||\"-\",f=L(b.get(a.get(pb)))||\"-\",Be=L(b.get(\"gclsrc\"))||\"-\",k=L(b.get(\"dclid\"))||\"-\",s=c(ob,\"(not set)\"),t=c(rb,\"(not set)\"),Za=c(sb),Ma=c(tb);if(F(d)&&F(f)&&F(k)&&F(e))return!1;var mb=!F(f)&&!F(Be),mb=F(e)&&(!F(k)||mb),Xb=F(Za);if(mb||Xb){var Bd=Nd(a),Bd=La(Bd,!0);(Bd=Od(a,Bd))&&!F(Bd[1]&&!Bd[2])&&(mb&&(e=Bd[0]),Xb&&\n(Za=Bd[1]))}Pd(a,d,e,f,Be,k,s,t,Za,Ma);return!0},Qd=function(a){var b=Nd(a),c=La(b,!0);if(!(void 0!=b&&null!=b&&\"\"!=b&&\"0\"!=b&&\"-\"!=b&&0<=b[q](\"://\"))||c&&-1<c[u][q](\"google\")&&c.d.contains(\"q\")&&\"cse\"==c[ra])return!1;if((b=Od(a,c))&&!b[2])return Pd(a,void 0,b[0],void 0,void 0,void 0,\"(organic)\",\"organic\",b[1],void 0),!0;if(b||!a.get(ac))return!1;t:{for(var b=a.get(Bb),d=Ka(c[u]),e=0;e<b[w];++e)if(-1<d[q](b[e])){a=!1;break t}Pd(a,void 0,d,void 0,void 0,void 0,\"(referral)\",\"referral\",void 0,\"/\"+c[ra]);\na=!0}return a},Od=function(a,b){for(var c=a.get(zb),d=0;d<c[w];++d){var e=c[d][y](\":\");if(-1<b[u][q](e[0][D]())){var f=b.d.get(e[1]);if(f&&(f=K(f),!f&&-1<b[u][q](\"google.\")&&(f=\"(not provided)\"),!e[3]||-1<b.url[q](e[3]))){t:{for(var c=f,d=a.get(Ab),c=I(c)[D](),Be=0;Be<d[w];++Be)if(c==d[Be]){c=!0;break t}c=!1}return[e[2]||e[0],f,c]}}}return null},Pd=function(a,b,c,d,e,f,Be,k,s,t){a.set(ic,b);a.set(nc,c);a.set(S,d);a.set(kc,e);a.set(lc,f);a.set(jc,Be);a.set(oc,k);a.set(pc,s);a.set(qc,t)},Md=[jc,ic,\nS,lc,nc,oc,pc,qc],Rd=function(a,b){function c(a){a=(\"\"+a)[y](\"+\")[C](\"%20\");return a=a[y](\" \")[C](\"%20\")}function d(c){var d=\"\"+(a.get(c)||\"\");c=\"\"+(b[c]||\"\");return 0<d[w]&&d==c}if(d(S)||d(lc))return H(131),!1;for(var e=0;e<Md[w];e++){var f=Md[e],Be=b[f]||\"-\",f=a.get(f)||\"-\";if(c(Be)!=c(f))return!0}return!1},Td=RegExp(/^https?:\\/\\/(www\\.)?google(\\.com?)?(\\.[a-z]{2}t?)?\\/?$/i),Nd=function(a){a=Pa(a.get(Jb),a.get(P));try{if(Td[ia](a))return H(136),a+\"?q=\"}catch(b){H(145)}return a};var Ud,Vd,Wd=function(a){Ud=a.c(S,\"\");Vd=a.c(kc,\"\")},Xd=function(a){var b=a.c(S,\"\"),c=a.c(kc,\"\");b!=Ud&&(-1<c[q](\"ds\")?a.set(mc,void 0):!F(Ud)&&-1<Vd[q](\"ds\")&&a.set(mc,Ud))};var Zd=function(a){Yd(a,J[z][xa])?(a.set(Mc,!0),H(12)):a.set(Mc,!1)},Yd=function(a,b){if(!a.get(fb))return!1;var c=La(b,a.get(gb)),d=K(c.d.get(\"__utma\")),e=K(c.d.get(\"__utmb\")),f=K(c.d.get(\"__utmc\")),Be=K(c.d.get(\"__utmx\")),k=K(c.d.get(\"__utmz\")),s=K(c.d.get(\"__utmv\")),c=K(c.d.get(\"__utmk\"));if(Yc(\"\"+d+e+f+Be+k+s)!=c){d=I(d);e=I(e);f=I(f);Be=I(Be);f=$d(d+e+f+Be,k,s,c);if(!f)return!1;k=f[0];s=f[1]}if(!bd(a,d,!0))return!1;ed(a,e,!0);id(a,k,!0);gd(a,s,!0);ae(a,Be,!0);return!0},ce=function(a,b,c){var d;\nd=cd(a)||\"-\";var e=dd(a)||\"-\",f=\"\"+a.b(O,1)||\"-\",Be=be(a)||\"-\",k=hd(a,!1)||\"-\";a=fd(a,!1)||\"-\";var s=Yc(\"\"+d+e+f+Be+k+a),t=[];t[n](\"__utma=\"+d);t[n](\"__utmb=\"+e);t[n](\"__utmc=\"+f);t[n](\"__utmx=\"+Be);t[n](\"__utmz=\"+k);t[n](\"__utmv=\"+a);t[n](\"__utmk=\"+s);d=t[C](\"&\");if(!d)return b;e=b[q](\"#\");if(c)return 0>e?b+\"#\"+d:b+\"&\"+d;c=\"\";f=b[q](\"?\");0<e&&(c=b[B](e),b=b[B](0,e));return 0>f?b+\"?\"+d+c:b+\"&\"+d+c},$d=function(a,b,c,d){for(var e=0;3>e;e++){for(var f=0;3>f;f++){if(d==Yc(a+b+c))return H(127),[b,c];\nvar Be=b[p](/ /g,\"%20\"),k=c[p](/ /g,\"%20\");if(d==Yc(a+Be+k))return H(128),[Be,k];Be=Be[p](/\\+/g,\"%20\");k=k[p](/\\+/g,\"%20\");if(d==Yc(a+Be+k))return H(129),[Be,k];try{var s=b[oa](\"utmctr=(.*?)(?:\\\\|utm|$)\");if(s&&2==s[w]&&(Be=b[p](s[1],G(I(s[1]))),d==Yc(a+Be+c)))return H(139),[Be,c]}catch(t){}b=I(b)}c=I(c)}};var de=\"|\",fe=function(a,b,c,d,e,f,Be,k,s){var t=ee(a,b);t||(t={},a.get(Cb)[n](t));t.id_=b;t.affiliation_=c;t.total_=d;t.tax_=e;t.shipping_=f;t.city_=Be;t.state_=k;t.country_=s;t.items_=t.items_||[];return t},ge=function(a,b,c,d,e,f,Be){a=ee(a,b)||fe(a,b,\"\",0,0,0,\"\",\"\",\"\");var k;t:{if(a&&a.items_){k=a.items_;for(var s=0;s<k[w];s++)if(k[s].sku_==c){k=k[s];break t}}k=null}s=k||{};s.transId_=b;s.sku_=c;s.name_=d;s.category_=e;s.price_=f;s.quantity_=Be;k||a.items_[n](s);return s},ee=function(a,b){for(var c=\na.get(Cb),d=0;d<c[w];d++)if(c[d].id_==b)return c[d];return null};var he,ie=function(a){if(!he){var b;b=J[z].hash;var c=W[r],d=/^#?gaso=([^&]*)/;if(c=(b=(b=b&&b[oa](d)||c&&c[oa](d))?b[1]:K(pd(\"GASO\")))&&b[oa](/^(?:!([-0-9a-z.]{1,40})!)?([-.\\w]{10,1200})$/i))Fd(a,\"GASO\",\"\"+b,0),M._gasoDomain=a.get(bb),M._gasoCPath=a.get(P),a=c[1],Ia(\"https://www.google.com/analytics/web/inpage/pub/inpage.js?\"+(a?\"prefix=\"+a+\"&\":\"\")+Ea(),\"_gasojs\");he=!0}};var ae=function(a,b,c){c&&(b=I(b));c=a.b(O,1);b=b[y](\".\");2>b[w]||!/^\\d+$/[ia](b[0])||(b[0]=\"\"+c,Fd(a,\"__utmx\",b[C](\".\"),void 0))},be=function(a,b){var c=$c(a.get(O),pd(\"__utmx\"));\"-\"==c&&(c=\"\");return b?G(c):c},Ye=function(a){try{var b=La(J[z][xa],!1),c=ea(L(b.d.get(\"utm_referrer\")))||\"\";c&&a.set(Jb,c);var d=ea(K(b.d.get(\"utm_expid\")))||\"\";d&&(d=d[y](\".\")[0],a.set(Oc,\"\"+d))}catch(e){H(146)}},l=function(a){var b=W.gaData&&W.gaData.expId;b&&a.set(Oc,\"\"+b)};var ke=function(a,b){var c=m.min(a.b(Dc,0),100);if(a.b(Q,0)%100>=c)return!1;c=Ze()||$e();if(void 0==c)return!1;var d=c[0];if(void 0==d||d==ba||da(d))return!1;0<d?af(c)?b(je(c)):b(je(c[ja](0,1))):Ga(W,\"load\",function(){ke(a,b)},!1);return!0},me=function(a,b,c,d){var e=new yd;e.f(14,90,b[B](0,500));e.f(14,91,a[B](0,150));e.f(14,92,\"\"+le(c));void 0!=d&&e.f(14,93,d[B](0,500));e.o(14,90,c);return e},af=function(a){for(var b=1;b<a[w];b++)if(da(a[b])||a[b]==ba||0>a[b])return!1;return!0},le=function(a){return da(a)||\n0>a?0:5E3>a?10*m[la](a/10):5E4>a?100*m[la](a/100):41E5>a?1E3*m[la](a/1E3):41E5},je=function(a){for(var b=new yd,c=0;c<a[w];c++)b.f(14,c+1,\"\"+le(a[c])),b.o(14,c+1,a[c]);return b},Ze=function(){var a=W.performance||W.webkitPerformance;if(a=a&&a.timing){var b=a.navigationStart;if(0==b)H(133);else return[a.loadEventStart-b,a.domainLookupEnd-a.domainLookupStart,a.connectEnd-a.connectStart,a.responseStart-a.requestStart,a.responseEnd-a.responseStart,a.fetchStart-b,a.domInteractive-b,a.domContentLoadedEventStart-\nb]}},$e=function(){if(W.top==W){var a=W.external,b=a&&a.onloadT;a&&!a.isValidLoadTime&&(b=void 0);2147483648<b&&(b=void 0);0<b&&a.setPageReadyTime();return void 0==b?void 0:[b]}};var cf=function(a){if(a.get(Sb))try{var b;t:{var c=pd(a.get(Oe)||\"_ga\");if(c&&!(1>c[w])){for(var d=[],e=0;e<c[w];e++){var f;var Be=c[e][y](\".\"),k=Be.shift();if((\"GA1\"==k||\"1\"==k)&&1<Be[w]){var s=Be.shift()[y](\"-\");1==s[w]&&(s[1]=\"1\");s[0]*=1;s[1]*=1;f={Ya:s,$a:Be[C](\".\")}}else f=void 0;f&&d[n](f)}if(1==d[w]){b=d[0].$a;break t}if(0!=d[w]){var t=a.get(Pe)||a.get(bb),d=bf(d,(0==t[q](\".\")?t.substr(1):t)[y](\".\")[w],0);if(1==d[w]){b=d[0].$a;break t}var Za=a.get(Qe)||a.get(P);(c=Za)?(1<c[w]&&\"/\"==c[ma](c[w]-\n1)&&(c=c.substr(0,c[w]-1)),0!=c[q](\"/\")&&(c=\"/\"+c),Za=c):Za=\"/\";d=bf(d,\"/\"==Za?1:Za[y](\"/\")[w],1);b=d[0].$a;break t}}b=void 0}if(b){var Ma=(\"\"+b)[y](\".\");2==Ma[w]&&/[0-9.]/[ia](Ma)&&(H(114),a.set(Q,Ma[0]),a.set(Vb,Ma[1]),a.set(Sb,!1))}}catch(mb){H(115)}},bf=function(a,b,c){for(var d=[],e=[],f=128,Be=0;Be<a[w];Be++){var k=a[Be];if(k.Ya[c]==b)d[n](k);else if(k.Ya[c]==f)e[n](k);else k.Ya[c]<f&&(e=[k],f=k.Ya[c])}return 0<d[w]?d:e};var U=function(a,b,c){function d(a){return function(b){if((b=b.get(Nc)[a])&&b[w])for(var c=Te(e,a),d=0;d<b[w];d++)b[d].call(e,c)}}var e=this;this.a=new Zc;this.get=function(a){return this.a.get(a)};this.set=function(a,b,c){this.a.set(a,b,c)};this.set(Wa,b||\"UA-XXXXX-X\");this.set($a,a||\"\");this.set(Ya,c||\"\");this.set(ab,m.round((new Date)[g]()/1E3));this.set(P,\"/\");this.set(cb,63072E6);this.set(eb,15768E6);this.set(db,18E5);this.set(fb,!1);this.set(yb,50);this.set(gb,!1);this.set(hb,!0);this.set(ib,\n!0);this.set(jb,!0);this.set(kb,!0);this.set(lb,!0);this.set(ob,\"utm_campaign\");this.set(nb,\"utm_id\");this.set(pb,\"gclid\");this.set(qb,\"utm_source\");this.set(rb,\"utm_medium\");this.set(sb,\"utm_term\");this.set(tb,\"utm_content\");this.set(ub,\"utm_nooverride\");this.set(vb,100);this.set(Dc,1);this.set(Ec,!1);this.set(wb,\"/__utm.gif\");this.set(xb,1);this.set(Cb,[]);this.set(Fb,[]);this.set(zb,Ld[ja](0));this.set(Ab,[]);this.set(Bb,[]);this.B(\"auto\");this.set(Jb,J.referrer);Ye(this.a);this.set(Nc,{hit:[],\nload:[]});this.a.g(\"0\",Zd);this.a.g(\"1\",Wd);this.a.g(\"2\",Jd);this.a.g(\"3\",cf);this.a.g(\"4\",Sd);this.a.g(\"5\",Xd);this.a.g(\"6\",Kd);this.a.g(\"7\",d(\"load\"));this.a.g(\"8\",ie);this.a.e(\"A\",kd);this.a.e(\"B\",md);this.a.e(\"C\",Ge);this.a.e(\"D\",Jd);this.a.e(\"E\",jd);this.a.e(\"F\",Tc);this.a.e(\"G\",ne);this.a.e(\"H\",Gd);this.a.e(\"I\",nd);this.a.e(\"J\",ud);this.a.e(\"K\",Dd);this.a.e(\"L\",l);this.a.e(\"M\",d(\"hit\"));this.a.e(\"N\",oe);this.a.e(\"O\",pe);0===this.get(ab)&&H(111);this.a.T();this.H=void 0};E=U[x];\nE.m=function(){var a=this.get(Db);a||(a=new yd,this.set(Db,a));return a};E.La=function(a){for(var b in a){var c=a[b];a.hasOwnProperty(b)&&this.set(b,c,!0)}};E.K=function(a){if(this.get(Ec))return!1;var b=this,c=ke(this.a,function(c){b.set(Hb,a,!0);b.t(c)});this.set(Ec,c);return c};E.Fa=function(a){a&&Ca(a)?(H(13),this.set(Hb,a,!0)):\"object\"===typeof a&&null!==a&&this.La(a);this.H=a=this.get(Hb);this.a.j(\"page\");this.K(a)};\nE.F=function(a,b,c,d,e){if(\"\"==a||!wd(a)||\"\"==b||!wd(b)||void 0!=c&&!wd(c)||void 0!=d&&!xd(d))return!1;this.set(wc,a,!0);this.set(xc,b,!0);this.set(yc,c,!0);this.set(zc,d,!0);this.set(vc,!!e,!0);this.a.j(\"event\");return!0};E.Ha=function(a,b,c,d,e){var f=this.a.b(Dc,0);1*e===e&&(f=e);if(this.a.b(Q,0)%100>=f)return!1;c=1*(\"\"+c);if(\"\"==a||!wd(a)||\"\"==b||!wd(b)||!xd(c)||da(c)||0>c||0>f||100<f||void 0!=d&&(\"\"==d||!wd(d)))return!1;this.t(me(a,b,c,d));return!0};\nE.Ga=function(a,b,c,d){if(!a||!b)return!1;this.set(Ac,a,!0);this.set(Bc,b,!0);this.set(Cc,c||J[z][xa],!0);d&&this.set(Hb,d,!0);this.a.j(\"social\");return!0};E.Ea=function(){this.set(Dc,10);this.K(this.H)};E.Ia=function(){this.a.j(\"trans\")};E.t=function(a){this.set(Eb,a,!0);this.a.j(\"event\")};E.ia=function(a){this.v();var b=this;return{_trackEvent:function(c,d,e){H(91);b.F(a,c,d,e)}}};E.ma=function(a){return this.get(a)};\nE.xa=function(a,b){if(a)if(Ca(a))this.set(a,b);else if(\"object\"==typeof a)for(var c in a)a.hasOwnProperty(c)&&this.set(c,a[c])};E.addEventListener=function(a,b){var c=this.get(Nc)[a];c&&c[n](b)};E.removeEventListener=function(a,b){for(var c=this.get(Nc)[a],d=0;c&&d<c[w];d++)if(c[d]==b){c.splice(d,1);break}};E.qa=function(){return\"5.4.6\"};E.B=function(a){this.get(hb);a=\"auto\"==a?Ka(J.domain):a&&\"-\"!=a&&\"none\"!=a?a[D]():\"\";this.set(bb,a)};E.va=function(a){this.set(hb,!!a)};\nE.na=function(a,b){return ce(this.a,a,b)};E.link=function(a,b){if(this.a.get(fb)&&a){var c=ce(this.a,a,b);J[z].href=c}};E.ua=function(a,b){this.a.get(fb)&&a&&a.action&&(a.action=ce(this.a,a.action,b))};\nE.za=function(){this.v();var a=this.a,b=J.getElementById?J.getElementById(\"utmtrans\"):J.utmform&&J.utmform.utmtrans?J.utmform.utmtrans:null;if(b&&b[na]){a.set(Cb,[]);for(var b=b[na][y](\"UTM:\"),c=0;c<b[w];c++){b[c]=Da(b[c]);for(var d=b[c][y](de),e=0;e<d[w];e++)d[e]=Da(d[e]);\"T\"==d[0]?fe(a,d[1],d[2],d[3],d[4],d[5],d[6],d[7],d[8]):\"I\"==d[0]&&ge(a,d[1],d[2],d[3],d[4],d[5],d[6])}}};E.$=function(a,b,c,d,e,f,Be,k){return fe(this.a,a,b,c,d,e,f,Be,k)};E.Y=function(a,b,c,d,e,f){return ge(this.a,a,b,c,d,e,f)};\nE.Aa=function(a){de=a||\"|\"};E.ea=function(){this.set(Cb,[])};E.wa=function(a,b,c,d){var e=this.a;if(0>=a||a>e.get(yb))a=!1;else if(!b||!c||128<b[w]+c[w])a=!1;else{1!=d&&2!=d&&(d=3);var f={};ha(f,b);f.value=c;f.scope=d;e.get(Fb)[a]=f;a=!0}a&&this.a.n();return a};E.ka=function(a){this.a.get(Fb)[a]=void 0;this.a.n()};E.ra=function(a){return(a=this.a.get(Fb)[a])&&1==a[ua]?a[na]:void 0};E.Ca=function(a,b,c){this.m().f(a,b,c)};E.Da=function(a,b,c){this.m().o(a,b,c)};\nE.sa=function(a,b){return this.m().getKey(a,b)};E.ta=function(a,b){return this.m().N(a,b)};E.fa=function(a){this.m().L(a)};E.ga=function(a){this.m().M(a)};E.ja=function(){return new yd};E.W=function(a){a&&this.get(Ab)[n](a[D]())};E.ba=function(){this.set(Ab,[])};E.X=function(a){a&&this.get(Bb)[n](a[D]())};E.ca=function(){this.set(Bb,[])};E.Z=function(a,b,c,d,e){if(a&&b){a=[a,b[D]()][C](\":\");if(d||e)a=[a,d,e][C](\":\");d=this.get(zb);d.splice(c?0:d[w],0,a)}};E.da=function(){this.set(zb,[])};\nE.ha=function(a){this.a[ka]();var b=this.get(P),c=be(this.a);this.set(P,a);this.a.n();ae(this.a,c);this.set(P,b)};E.ya=function(a,b){if(0<a&&5>=a&&Ca(b)&&\"\"!=b){var c=this.get(Fc)||[];c[a]=b;this.set(Fc,c)}};E.V=function(a){a=\"\"+a;if(a[oa](/^[A-Za-z0-9]{1,5}$/)){var b=this.get(Ic)||[];b[n](a);this.set(Ic,b)}};E.v=function(){this.a[ka]()};E.Ba=function(a){a&&\"\"!=a&&(this.set(Tb,a),this.a.j(\"var\"))};var ne=function(a){\"trans\"!==a.get(sc)&&500<=a.b(cc,0)&&a[ta]();if(\"event\"===a.get(sc)){var b=(new Date)[g](),c=a.b(dc,0),d=a.b(Zb,0),c=m[la]((b-(c!=d?c:1E3*c))/1E3*1);0<c&&(a.set(dc,b),a.set(R,m.min(10,a.b(R,0)+c)));0>=a.b(R,0)&&a[ta]()}},pe=function(a){\"event\"===a.get(sc)&&a.set(R,m.max(0,a.b(R,10)-1))};var qe=function(){var a=[];this.add=function(b,c,d){d&&(c=G(\"\"+c));a[n](b+\"=\"+c)};this.toString=function(){return a[C](\"&\")}},re=function(a,b){(b||2!=a.get(xb))&&a.Za(cc)},se=function(a,b){b.add(\"utmwv\",\"5.4.6\");b.add(\"utms\",a.get(cc));b.add(\"utmn\",Ea());var c=J[z].hostname;F(c)||b.add(\"utmhn\",c,!0);c=a.get(vb);100!=c&&b.add(\"utmsp\",c,!0)},te=function(a,b){b.add(\"utmht\",(new Date)[g]());b.add(\"utmac\",Da(a.get(Wa)));a.get(Oc)&&b.add(\"utmxkey\",a.get(Oc),!0);a.get(vc)&&b.add(\"utmni\",1);var c=a.get(Ic);\nc&&0<c[w]&&b.add(\"utmdid\",c[C](\".\"));ff(a,b);!1!==a.get(Xa)&&(a.get(Xa)||M.w)&&b.add(\"aip\",1);M.bb||(M.bb=a.get(Wa));(1<M.ab()||M.bb!=a.get(Wa))&&b.add(\"utmmt\",1);b.add(\"utmu\",od.Xa())},ue=function(a,b){for(var c=a.get(Fc)||[],d=[],e=1;e<c[w];e++)c[e]&&d[n](e+\":\"+G(c[e][p](/%/g,\"%25\")[p](/:/g,\"%3A\")[p](/,/g,\"%2C\")));d[w]&&b.add(\"utmpg\",d[C](\",\"))},ff=function(a,b){function c(a,b){b&&d[n](a+\"=\"+b+\";\")}var d=[];c(\"__utma\",cd(a));c(\"__utmz\",hd(a,!1));c(\"__utmv\",fd(a,!0));c(\"__utmx\",be(a));b.add(\"utmcc\",\nd[C](\"+\"),!0)},ve=function(a,b){a.get(ib)&&(b.add(\"utmcs\",a.get(Qb),!0),b.add(\"utmsr\",a.get(Lb)),a.get(Rb)&&b.add(\"utmvp\",a.get(Rb)),b.add(\"utmsc\",a.get(Mb)),b.add(\"utmul\",a.get(Pb)),b.add(\"utmje\",a.get(Nb)),b.add(\"utmfl\",a.get(Ob),!0))},we=function(a,b){a.get(lb)&&a.get(Ib)&&b.add(\"utmdt\",a.get(Ib),!0);b.add(\"utmhid\",a.get(Kb));b.add(\"utmr\",Pa(a.get(Jb),a.get(P)),!0);b.add(\"utmp\",G(a.get(Hb),!0),!0)},xe=function(a,b){for(var c=a.get(Db),d=a.get(Eb),e=a.get(Fb)||[],f=0;f<e[w];f++){var Be=e[f];Be&&\n(c||(c=new yd),c.f(8,f,Be[r]),c.f(9,f,Be[na]),3!=Be[ua]&&c.f(11,f,\"\"+Be[ua]))}F(a.get(wc))||F(a.get(xc),!0)||(c||(c=new yd),c.f(5,1,a.get(wc)),c.f(5,2,a.get(xc)),e=a.get(yc),void 0!=e&&c.f(5,3,e),e=a.get(zc),void 0!=e&&c.o(5,1,e));c?b.add(\"utme\",c.Qa(d),!0):d&&b.add(\"utme\",d.A(),!0)},ye=function(a,b,c){var d=new qe;re(a,c);se(a,d);d.add(\"utmt\",\"tran\");d.add(\"utmtid\",b.id_,!0);d.add(\"utmtst\",b.affiliation_,!0);d.add(\"utmtto\",b.total_,!0);d.add(\"utmttx\",b.tax_,!0);d.add(\"utmtsp\",b.shipping_,!0);d.add(\"utmtci\",\nb.city_,!0);d.add(\"utmtrg\",b.state_,!0);d.add(\"utmtco\",b.country_,!0);xe(a,d);ve(a,d);we(a,d);(b=a.get(Gb))&&d.add(\"utmcu\",b,!0);c||(ue(a,d),te(a,d));return d[v]()},ze=function(a,b,c){var d=new qe;re(a,c);se(a,d);d.add(\"utmt\",\"item\");d.add(\"utmtid\",b.transId_,!0);d.add(\"utmipc\",b.sku_,!0);d.add(\"utmipn\",b.name_,!0);d.add(\"utmiva\",b.category_,!0);d.add(\"utmipr\",b.price_,!0);d.add(\"utmiqt\",b.quantity_,!0);xe(a,d);ve(a,d);we(a,d);(b=a.get(Gb))&&d.add(\"utmcu\",b,!0);c||(ue(a,d),te(a,d));return d[v]()},\nAe=function(a,b){var c=a.get(sc);if(\"page\"==c)c=new qe,re(a,b),se(a,c),xe(a,c),ve(a,c),we(a,c),b||(ue(a,c),te(a,c)),c=[c[v]()];else if(\"event\"==c)c=new qe,re(a,b),se(a,c),c.add(\"utmt\",\"event\"),xe(a,c),ve(a,c),we(a,c),b||(ue(a,c),te(a,c)),c=[c[v]()];else if(\"var\"==c)c=new qe,re(a,b),se(a,c),c.add(\"utmt\",\"var\"),!b&&te(a,c),c=[c[v]()];else if(\"trans\"==c)for(var c=[],d=a.get(Cb),e=0;e<d[w];++e){c[n](ye(a,d[e],b));for(var f=d[e].items_,Be=0;Be<f[w];++Be)c[n](ze(a,f[Be],b))}else\"social\"==c?b?c=[]:(c=new qe,\nre(a,b),se(a,c),c.add(\"utmt\",\"social\"),c.add(\"utmsn\",a.get(Ac),!0),c.add(\"utmsa\",a.get(Bc),!0),c.add(\"utmsid\",a.get(Cc),!0),xe(a,c),ve(a,c),we(a,c),ue(a,c),te(a,c),c=[c[v]()]):\"feedback\"==c?b?c=[]:(c=new qe,re(a,b),se(a,c),c.add(\"utmt\",\"feedback\"),c.add(\"utmfbid\",a.get(Gc),!0),c.add(\"utmfbpr\",a.get(Hc),!0),xe(a,c),ve(a,c),we(a,c),ue(a,c),te(a,c),c=[c[v]()]):c=[];return c},oe=function(a){var b,c=a.get(xb),d=a.get(uc),e=d&&d.Ua,f=0;if(0==c||2==c){var Be=a.get(wb)+\"?\";b=Ae(a,!0);for(var k=0,s=b[w];k<\ns;k++)Sa(b[k],e,Be,!0),f++}if(1==c||2==c)for(b=Ae(a),k=0,s=b[w];k<s;k++)try{Sa(b[k],e),f++}catch(t){t&&Ra(t[r],void 0,t.message)}d&&(d.q=f)};var Ce=function(a){ha(this,\"len\");this.message=a+\"-8192\"},De=function(a){ha(this,\"ff2post\");this.message=a+\"-2036\"},Sa=function(a,b,c,d){b=b||Fa;if(d||2036>=a[w])gf(a,b,c);else if(8192>=a[w]){if(0<=W[za].userAgent[q](\"Firefox\")&&![].reduce)throw new De(a[w]);hf(a,b)||Ee(a,b)}else throw new Ce(a[w]);},gf=function(a,b,c){c=c||(\"https:\"==J[z][A]||M.G?\"https://ssl.google-analytics.com\":\"http://www.google-analytics.com\")+\"/__utm.gif?\";var d=new Image(1,1);d.src=c+a;d.onload=function(){d.onload=null;d.onerror=\nnull;b()};d.onerror=function(){d.onload=null;d.onerror=null;b()}},hf=function(a,b){var c,d=(\"https:\"==J[z][A]||M.G?\"https://ssl.google-analytics.com\":\"http://www.google-analytics.com\")+\"/p/__utm.gif\",e=W.XDomainRequest;if(e)c=new e,c.open(\"POST\",d);else if(e=W.XMLHttpRequest)e=new e,\"withCredentials\"in e&&(c=e,c.open(\"POST\",d,!0),c.setRequestHeader(\"Content-Type\",\"text/plain\"));if(c)return c.onreadystatechange=function(){4==c.readyState&&(b(),c=null)},c.send(a),!0},Ee=function(a,b){if(J.body){a=aa(a);\ntry{var c=J[qa]('<iframe name=\"'+a+'\"></iframe>')}catch(d){c=J[qa](\"iframe\"),ha(c,a)}c.height=\"0\";c.width=\"0\";c.style.display=\"none\";c.style.visibility=\"hidden\";var e=J[z],e=(\"https:\"==J[z][A]||M.G?\"https://ssl.google-analytics.com\":\"http://www.google-analytics.com\")+\"/u/post_iframe.html#\"+aa(e[A]+\"//\"+e[u]+\"/favicon.ico\"),f=function(){c.src=\"\";c.parentNode&&c.parentNode.removeChild(c)};Ga(W,\"beforeunload\",f);var Be=!1,k=0,s=function(){if(!Be){try{if(9<k||c.contentWindow[z][u]==J[z][u]){Be=!0;f();\nHa(W,\"beforeunload\",f);b();return}}catch(a){}k++;ca(s,200)}};Ga(c,\"load\",s);J.body.appendChild(c);c.src=e}else We(function(){Ee(a,b)},100)};var $=function(){this.G=this.w=!1;this.C={};this.D=[];this.U=0;this.S=[[\"www.google-analytics.com\",\"\",\"/plugins/\"]];this._gasoCPath=this._gasoDomain=this.bb=void 0;Re();Se()};E=$[x];E.oa=function(a,b){return this.r(a,void 0,b)};E.r=function(a,b,c){b&&H(23);c&&H(67);void 0==b&&(b=\"~\"+M.U++);a=new U(b,a,c);M.C[b]=a;M.D[n](a);return a};E.u=function(a){a=a||\"\";return M.C[a]||M.r(void 0,a)};E.pa=function(){return M.D[ja](0)};E.ab=function(){return M.D[w]};E.aa=function(){this.w=!0};\nE.la=function(){this.G=!0};var Fe=function(a){if(\"prerender\"==J.webkitVisibilityState)return!1;a();return!0};var M=new $;var Ie=W._gat;Ie&&Ba(Ie._getTracker)?M=Ie:W._gat=M;var Z=new Y;(function(a){if(!Fe(a)){H(123);var b=!1,c=function(){!b&&Fe(a)&&(b=!0,Ha(J,\"webkitvisibilitychange\",c))};Ga(J,\"webkitvisibilitychange\",c)}})(function(){var a=W._gaq,b=!1;if(a&&Ba(a[n])&&(b=\"[object Array]\"==Object[x][v].call(Object(a)),!b)){Z=a;return}W._gaq=Z;b&&Z[n][ya](Z,a)});function Yc(a){var b=1,c=0,d;if(a)for(b=0,d=a[w]-1;0<=d;d--)c=a.charCodeAt(d),b=(b<<6&268435455)+c+(c<<14),c=b&266338304,b=0!=c?b^c>>21:b;return b};})();\n"
      },
      "http://connect.facebook.net/en_US/all.js": {
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "http://connect.facebook.net/en_US/all.js",
         "body": "/*1386734519,178572375,JIT Construction: v1041507,en_US*/\n\n/**\n * Copyright Facebook Inc.\n *\n * Licensed under the Apache License, Version 2.0\n * http://www.apache.org/licenses/LICENSE-2.0\n */\ntry {window.FB || (function(window) {\nvar self = window, document = window.document;\nvar setTimeout = window.setTimeout, setInterval = window.setInterval;var __DEV__ = 0;\nfunction emptyFunction() {};\nvar __w, __t;\n__t=function(a){return a[0];};__w=function(a){return a;};\nvar require,__d;(function(a){var b={},c={},d=['global','require','requireDynamic','requireLazy','module','exports'];require=function(e,f){if(c.hasOwnProperty(e))return c[e];if(!b.hasOwnProperty(e)){if(f)return null;throw new Error('Module '+e+' has not been defined');}var g=b[e],h=g.deps,i=h.length,j,k=[];for(var l=0;l<i;l++){switch(h[l]){case 'module':j=g;break;case 'exports':j=g.exports;break;case 'global':j=a;break;case 'require':j=require;break;case 'requireDynamic':j=require;break;case 'requireLazy':j=null;break;default:j=require.call(null,h[l]);}k.push(j);}g.factory.apply(a,k);c[e]=g.exports;return g.exports;};__d=function(e,f,g,h){if(typeof g=='function'){b[e]={factory:g,deps:d.concat(f),exports:{}};if(h===3)require.call(null,e);}else c[e]=g;};})(this);\nvar ES5 = function(){\n__d(\"ES5ArrayPrototype\",[],function(a,b,c,d,e,f){var g={};g.map=function(h,i){if(typeof h!='function')throw new TypeError();var j,k=this.length,l=new Array(k);for(j=0;j<k;++j)if(j in this)l[j]=h.call(i,this[j],j,this);return l;};g.forEach=function(h,i){g.map.call(this,h,i);};g.filter=function(h,i){if(typeof h!='function')throw new TypeError();var j,k,l=this.length,m=[];for(j=0;j<l;++j)if(j in this){k=this[j];if(h.call(i,k,j,this))m.push(k);}return m;};g.every=function(h,i){if(typeof h!='function')throw new TypeError();var j=new Object(this),k=j.length;for(var l=0;l<k;l++)if(l in j)if(!h.call(i,j[l],l,j))return false;return true;};g.some=function(h,i){if(typeof h!='function')throw new TypeError();var j=new Object(this),k=j.length;for(var l=0;l<k;l++)if(l in j)if(h.call(i,j[l],l,j))return true;return false;};g.indexOf=function(h,i){var j=this.length;i|=0;if(i<0)i+=j;for(;i<j;i++)if(i in this&&this[i]===h)return i;return -1;};e.exports=g;});\n__d(\"ES5FunctionPrototype\",[],function(a,b,c,d,e,f){var g={};g.bind=function(h){if(typeof this!='function')throw new TypeError('Bind must be called on a function');var i=this,j=Array.prototype.slice.call(arguments,1);function k(){return i.apply(h,j.concat(Array.prototype.slice.call(arguments)));}k.displayName='bound:'+(i.displayName||i.name||'(?)');k.toString=function l(){return 'bound: '+i;};return k;};e.exports=g;});\n__d(\"ES5StringPrototype\",[],function(a,b,c,d,e,f){var g={};g.trim=function(){if(this==null)throw new TypeError('String.prototype.trim called on null or undefined');return String.prototype.replace.call(this,/^\\s+|\\s+$/g,'');};e.exports=g;});\n__d(\"ES5Array\",[],function(a,b,c,d,e,f){var g={};g.isArray=function(h){return Object.prototype.toString.call(h)=='[object Array]';};e.exports=g;});\n__d(\"ES5Object\",[],function(a,b,c,d,e,f){var g={};g.create=function(h){var i=typeof h;if(i!='object'&&i!='function')throw new TypeError('Object prototype may only be a Object or null');var j=new Function();j.prototype=h;return new j();};g.keys=function(h){var i=typeof h;if(i!='object'&&i!='function'||h===null)throw new TypeError('Object.keys called on non-object');var j=[];for(var k in h)if(Object.prototype.hasOwnProperty.call(h,k))j.push(k);var l=!({toString:true}).propertyIsEnumerable('toString'),m=['toString','toLocaleString','valueOf','hasOwnProperty','isPrototypeOf','prototypeIsEnumerable','constructor'];if(l)for(var n=0;n<m.length;n++){var o=m[n];if(Object.prototype.hasOwnProperty.call(h,o))j.push(o);}return j;};e.exports=g;});\n__d(\"ES5Date\",[],function(a,b,c,d,e,f){var g={};g.now=function(){return new Date().getTime();};e.exports=g;});\n/**\n * @providesModule JSON3\n * @preserve-header\n *\n *! JSON v3.2.3 | http://bestiejs.github.com/json3 | Copyright 2012, Kit Cambridge | http://kit.mit-license.org\n */__d(\"JSON3\",[],function(a,b,c,d,e,f){(function(){var g={}.toString,h,i,j,k=e.exports={},l='{\"A\":[1,true,false,null,\"\\\\u0000\\\\b\\\\n\\\\f\\\\r\\\\t\"]}',m,n,o,p,q,r,s,t,u,v,w,x,y,z,aa,ba=new Date(-3509827334573292),ca,da,ea;try{ba=ba.getUTCFullYear()==-109252&&ba.getUTCMonth()===0&&ba.getUTCDate()==1&&ba.getUTCHours()==10&&ba.getUTCMinutes()==37&&ba.getUTCSeconds()==6&&ba.getUTCMilliseconds()==708;}catch(fa){}if(!ba){ca=Math.floor;da=[0,31,59,90,120,151,181,212,243,273,304,334];ea=function(ga,ha){return da[ha]+365*(ga-1970)+ca((ga-1969+(ha=+(ha>1)))/4)-ca((ga-1901+ha)/100)+ca((ga-1601+ha)/400);};}if(typeof JSON==\"object\"&&JSON){k.stringify=JSON.stringify;k.parse=JSON.parse;}if((m=typeof k.stringify==\"function\"&&!ea)){(ba=function(){return 1;}).toJSON=ba;try{m=k.stringify(0)===\"0\"&&k.stringify(new Number())===\"0\"&&k.stringify(new String())=='\"\"'&&k.stringify(g)===j&&k.stringify(j)===j&&k.stringify()===j&&k.stringify(ba)===\"1\"&&k.stringify([ba])==\"[1]\"&&k.stringify([j])==\"[null]\"&&k.stringify(null)==\"null\"&&k.stringify([j,g,null])==\"[null,null,null]\"&&k.stringify({result:[ba,true,false,null,\"\\0\\b\\n\\f\\r\\t\"]})==l&&k.stringify(null,ba)===\"1\"&&k.stringify([1,2],null,1)==\"[\\n 1,\\n 2\\n]\"&&k.stringify(new Date(-8.64e+15))=='\"-271821-04-20T00:00:00.000Z\"'&&k.stringify(new Date(8.64e+15))=='\"+275760-09-13T00:00:00.000Z\"'&&k.stringify(new Date(-62198755200000))=='\"-000001-01-01T00:00:00.000Z\"'&&k.stringify(new Date(-1))=='\"1969-12-31T23:59:59.999Z\"';}catch(fa){m=false;}}if(typeof k.parse==\"function\")try{if(k.parse(\"0\")===0&&!k.parse(false)){ba=k.parse(l);if((r=ba.A.length==5&&ba.A[0]==1)){try{r=!k.parse('\"\\t\"');}catch(fa){}if(r)try{r=k.parse(\"01\")!=1;}catch(fa){}}}}catch(fa){r=false;}ba=l=null;if(!m||!r){if(!(h={}.hasOwnProperty))h=function(ga){var ha={},ia;if((ha.__proto__=null,ha.__proto__={toString:1},ha).toString!=g){h=function(ja){var ka=this.__proto__,la=ja in (this.__proto__=null,this);this.__proto__=ka;return la;};}else{ia=ha.constructor;h=function(ja){var ka=(this.constructor||ia).prototype;return ja in this&&!(ja in ka&&this[ja]===ka[ja]);};}ha=null;return h.call(this,ga);};i=function(ga,ha){var ia=0,ja,ka,la,ma;(ja=function(){this.valueOf=0;}).prototype.valueOf=0;ka=new ja();for(la in ka)if(h.call(ka,la))ia++;ja=ka=null;if(!ia){ka=[\"valueOf\",\"toString\",\"toLocaleString\",\"propertyIsEnumerable\",\"isPrototypeOf\",\"hasOwnProperty\",\"constructor\"];ma=function(na,oa){var pa=g.call(na)==\"[object Function]\",qa,ra;for(qa in na)if(!(pa&&qa==\"prototype\")&&h.call(na,qa))oa(qa);for(ra=ka.length;qa=ka[--ra];h.call(na,qa)&&oa(qa));};}else if(ia==2){ma=function(na,oa){var pa={},qa=g.call(na)==\"[object Function]\",ra;for(ra in na)if(!(qa&&ra==\"prototype\")&&!h.call(pa,ra)&&(pa[ra]=1)&&h.call(na,ra))oa(ra);};}else ma=function(na,oa){var pa=g.call(na)==\"[object Function]\",qa,ra;for(qa in na)if(!(pa&&qa==\"prototype\")&&h.call(na,qa)&&!(ra=qa===\"constructor\"))oa(qa);if(ra||h.call(na,(qa=\"constructor\")))oa(qa);};return ma(ga,ha);};if(!m){n={\"\\\\\":\"\\\\\\\\\",'\"':'\\\\\"',\"\\b\":\"\\\\b\",\"\\f\":\"\\\\f\",\"\\n\":\"\\\\n\",\"\\r\":\"\\\\r\",\"\\t\":\"\\\\t\"};o=function(ga,ha){return (\"000000\"+(ha||0)).slice(-ga);};p=function(ga){var ha='\"',ia=0,ja;for(;ja=ga.charAt(ia);ia++)ha+='\\\\\"\\b\\f\\n\\r\\t'.indexOf(ja)>-1?n[ja]:ja<\" \"?\"\\\\u00\"+o(2,ja.charCodeAt(0).toString(16)):ja;return ha+'\"';};q=function(ga,ha,ia,ja,ka,la,ma){var na=ha[ga],oa,pa,qa,ra,sa,ta,ua,va,wa,xa,ya,za,ab,bb,cb;if(typeof na==\"object\"&&na){oa=g.call(na);if(oa==\"[object Date]\"&&!h.call(na,\"toJSON\")){if(na>-1/0&&na<1/0){if(ea){ra=ca(na/86400000);for(pa=ca(ra/365.2425)+1970-1;ea(pa+1,0)<=ra;pa++);for(qa=ca((ra-ea(pa,0))/30.42);ea(pa,qa+1)<=ra;qa++);ra=1+ra-ea(pa,qa);sa=(na%86400000+86400000)%86400000;ta=ca(sa/3600000)%24;ua=ca(sa/60000)%60;va=ca(sa/1000)%60;wa=sa%1000;}else{pa=na.getUTCFullYear();qa=na.getUTCMonth();ra=na.getUTCDate();ta=na.getUTCHours();ua=na.getUTCMinutes();va=na.getUTCSeconds();wa=na.getUTCMilliseconds();}na=(pa<=0||pa>=10000?(pa<0?\"-\":\"+\")+o(6,pa<0?-pa:pa):o(4,pa))+\"-\"+o(2,qa+1)+\"-\"+o(2,ra)+\"T\"+o(2,ta)+\":\"+o(2,ua)+\":\"+o(2,va)+\".\"+o(3,wa)+\"Z\";}else na=null;}else if(typeof na.toJSON==\"function\"&&((oa!=\"[object Number]\"&&oa!=\"[object String]\"&&oa!=\"[object Array]\")||h.call(na,\"toJSON\")))na=na.toJSON(ga);}if(ia)na=ia.call(ha,ga,na);if(na===null)return \"null\";oa=g.call(na);if(oa==\"[object Boolean]\"){return \"\"+na;}else if(oa==\"[object Number]\"){return na>-1/0&&na<1/0?\"\"+na:\"null\";}else if(oa==\"[object String]\")return p(na);if(typeof na==\"object\"){for(ab=ma.length;ab--;)if(ma[ab]===na)throw TypeError();ma.push(na);xa=[];bb=la;la+=ka;if(oa==\"[object Array]\"){for(za=0,ab=na.length;za<ab;cb||(cb=true),za++){ya=q(za,na,ia,ja,ka,la,ma);xa.push(ya===j?\"null\":ya);}return cb?(ka?\"[\\n\"+la+xa.join(\",\\n\"+la)+\"\\n\"+bb+\"]\":(\"[\"+xa.join(\",\")+\"]\")):\"[]\";}else{i(ja||na,function(db){var eb=q(db,na,ia,ja,ka,la,ma);if(eb!==j)xa.push(p(db)+\":\"+(ka?\" \":\"\")+eb);cb||(cb=true);});return cb?(ka?\"{\\n\"+la+xa.join(\",\\n\"+la)+\"\\n\"+bb+\"}\":(\"{\"+xa.join(\",\")+\"}\")):\"{}\";}ma.pop();}};k.stringify=function(ga,ha,ia){var ja,ka,la,ma,na,oa;if(typeof ha==\"function\"||typeof ha==\"object\"&&ha)if(g.call(ha)==\"[object Function]\"){ka=ha;}else if(g.call(ha)==\"[object Array]\"){la={};for(ma=0,na=ha.length;ma<na;oa=ha[ma++],((g.call(oa)==\"[object String]\"||g.call(oa)==\"[object Number]\")&&(la[oa]=1)));}if(ia)if(g.call(ia)==\"[object Number]\"){if((ia-=ia%1)>0)for(ja=\"\",ia>10&&(ia=10);ja.length<ia;ja+=\" \");}else if(g.call(ia)==\"[object String]\")ja=ia.length<=10?ia:ia.slice(0,10);return q(\"\",(oa={},oa[\"\"]=ga,oa),ka,la,ja,\"\",[]);};}if(!r){s=String.fromCharCode;t={\"\\\\\":\"\\\\\",'\"':'\"',\"/\":\"/\",b:\"\\b\",t:\"\\t\",n:\"\\n\",f:\"\\f\",r:\"\\r\"};u=function(){z=aa=null;throw SyntaxError();};v=function(){var ga=aa,ha=ga.length,ia,ja,ka,la,ma;while(z<ha){ia=ga.charAt(z);if(\"\\t\\r\\n \".indexOf(ia)>-1){z++;}else if(\"{}[]:,\".indexOf(ia)>-1){z++;return ia;}else if(ia=='\"'){for(ja=\"@\",z++;z<ha;){ia=ga.charAt(z);if(ia<\" \"){u();}else if(ia==\"\\\\\"){ia=ga.charAt(++z);if('\\\\\"/btnfr'.indexOf(ia)>-1){ja+=t[ia];z++;}else if(ia==\"u\"){ka=++z;for(la=z+4;z<la;z++){ia=ga.charAt(z);if(!(ia>=\"0\"&&ia<=\"9\"||ia>=\"a\"&&ia<=\"f\"||ia>=\"A\"&&ia<=\"F\"))u();}ja+=s(\"0x\"+ga.slice(ka,z));}else u();}else{if(ia=='\"')break;ja+=ia;z++;}}if(ga.charAt(z)=='\"'){z++;return ja;}u();}else{ka=z;if(ia==\"-\"){ma=true;ia=ga.charAt(++z);}if(ia>=\"0\"&&ia<=\"9\"){if(ia==\"0\"&&(ia=ga.charAt(z+1),ia>=\"0\"&&ia<=\"9\"))u();ma=false;for(;z<ha&&(ia=ga.charAt(z),ia>=\"0\"&&ia<=\"9\");z++);if(ga.charAt(z)==\".\"){la=++z;for(;la<ha&&(ia=ga.charAt(la),ia>=\"0\"&&ia<=\"9\");la++);if(la==z)u();z=la;}ia=ga.charAt(z);if(ia==\"e\"||ia==\"E\"){ia=ga.charAt(++z);if(ia==\"+\"||ia==\"-\")z++;for(la=z;la<ha&&(ia=ga.charAt(la),ia>=\"0\"&&ia<=\"9\");la++);if(la==z)u();z=la;}return +ga.slice(ka,z);}if(ma)u();if(ga.slice(z,z+4)==\"true\"){z+=4;return true;}else if(ga.slice(z,z+5)==\"false\"){z+=5;return false;}else if(ga.slice(z,z+4)==\"null\"){z+=4;return null;}u();}}return \"$\";};w=function(ga){var ha,ia,ja;if(ga==\"$\")u();if(typeof ga==\"string\"){if(ga.charAt(0)==\"@\")return ga.slice(1);if(ga==\"[\"){ha=[];for(;;ia||(ia=true)){ga=v();if(ga==\"]\")break;if(ia)if(ga==\",\"){ga=v();if(ga==\"]\")u();}else u();if(ga==\",\")u();ha.push(w(ga));}return ha;}else if(ga==\"{\"){ha={};for(;;ia||(ia=true)){ga=v();if(ga==\"}\")break;if(ia)if(ga==\",\"){ga=v();if(ga==\"}\")u();}else u();if(ga==\",\"||typeof ga!=\"string\"||ga.charAt(0)!=\"@\"||v()!=\":\")u();ha[ga.slice(1)]=w(v());}return ha;}u();}return ga;};y=function(ga,ha,ia){var ja=x(ga,ha,ia);if(ja===j){delete ga[ha];}else ga[ha]=ja;};x=function(ga,ha,ia){var ja=ga[ha],ka;if(typeof ja==\"object\"&&ja)if(g.call(ja)==\"[object Array]\"){for(ka=ja.length;ka--;)y(ja,ka,ia);}else i(ja,function(la){y(ja,la,ia);});return ia.call(ga,ha,ja);};k.parse=function(ga,ha){z=0;aa=ga;var ia=w(v());if(v()!=\"$\")u();z=aa=null;return ha&&g.call(ha)==\"[object Function]\"?x((ba={},ba[\"\"]=ia,ba),\"\",ha):ia;};}}}).call(this);});\n__d(\"ES5\",[\"ES5ArrayPrototype\",\"ES5FunctionPrototype\",\"ES5StringPrototype\",\"ES5Array\",\"ES5Object\",\"ES5Date\",\"JSON3\"],function(a,b,c,d,e,f){var g=b('ES5ArrayPrototype'),h=b('ES5FunctionPrototype'),i=b('ES5StringPrototype'),j=b('ES5Array'),k=b('ES5Object'),l=b('ES5Date'),m=b('JSON3'),n=Array.prototype.slice,o=Object.prototype.toString,p={'JSON.stringify':m.stringify,'JSON.parse':m.parse},q={array:g,'function':h,string:i,Object:k,Array:j,Date:l};for(var r in q){if(!q.hasOwnProperty(r))continue;var s=q[r],t=r===r.toLowerCase()?window[r.replace(/^\\w/,function(x){return x.toUpperCase();})].prototype:window[r];for(var u in s){if(!s.hasOwnProperty(u))continue;var v=t[u];p[r+'.'+u]=v&&/\\{\\s+\\[native code\\]\\s\\}/.test(v)?v:s[u];}}function w(x,y,z){var aa=n.call(arguments,3),ba=z?/\\s(.*)\\]/.exec(o.call(x).toLowerCase())[1]:x,ca=p[ba+'.'+y]||x[y];if(typeof ca==='function')return ca.apply(x,aa);}e.exports=w;});ES5 = require('ES5');\nreturn ES5.apply(null, arguments);\n};\n\n__d(\"sdk.RuntimeConfig\",[],{\"locale\":\"en_US\",\"rtl\":false});__d(\"XDConfig\",[],{\"XdUrl\":\"connect\\/xd_arbiter.php?version=28\",\"Flash\":{\"path\":\"https:\\/\\/connect.facebook.net\\/rsrc.php\\/v1\\/yS\\/r\\/NoZWYE2GRkt.swf\"},\"useCdn\":true});__d(\"UrlMapConfig\",[],{\"www\":\"www.facebook.com\",\"m\":\"m.facebook.com\",\"connect\":\"connect.facebook.net\",\"business\":\"business.facebook.com\",\"api_https\":\"api.facebook.com\",\"api_read_https\":\"api-read.facebook.com\",\"graph_https\":\"graph.facebook.com\",\"fbcdn_http\":\"static.ak.fbcdn.net\",\"fbcdn_https\":\"fbstatic-a.akamaihd.net\",\"cdn_http\":\"static.ak.facebook.com\",\"cdn_https\":\"s-static.ak.facebook.com\"});__d(\"PluginPipeConfig\",[],{\"threshold\":0,\"enabledApps\":{\"209753825810663\":1,\"187288694643718\":1}});__d(\"CssConfig\",[],{\"rules\":\".fb_hidden{position:absolute;top:-10000px;z-index:10001}\\n.fb_invisible{display:none}\\n.fb_reset{background:none;border:0;border-spacing:0;color:#000;cursor:auto;direction:ltr;font-family:\\\"lucida grande\\\", tahoma, verdana, arial, sans-serif;font-size:11px;font-style:normal;font-variant:normal;font-weight:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal}\\n.fb_reset > div{overflow:hidden}\\n.fb_link img{border:none}\\n.fb_dialog{background:rgba(82, 82, 82, .7);position:absolute;top:-10000px;z-index:10001}\\n.fb_dialog_advanced{padding:10px;-moz-border-radius:8px;-webkit-border-radius:8px;border-radius:8px}\\n.fb_dialog_content{background:#fff;color:#333}\\n.fb_dialog_close_icon{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yq\\/r\\/IE9JII6Z1Ys.png) no-repeat scroll 0 0 transparent;_background-image:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yL\\/r\\/s816eWC-2sl.gif);cursor:pointer;display:block;height:15px;position:absolute;right:18px;top:17px;width:15px;top:8px\\\\9;right:7px\\\\9}\\n.fb_dialog_mobile .fb_dialog_close_icon{top:5px;left:5px;right:auto}\\n.fb_dialog_padding{background-color:transparent;position:absolute;width:1px;z-index:-1}\\n.fb_dialog_close_icon:hover{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yq\\/r\\/IE9JII6Z1Ys.png) no-repeat scroll 0 -15px transparent;_background-image:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yL\\/r\\/s816eWC-2sl.gif)}\\n.fb_dialog_close_icon:active{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yq\\/r\\/IE9JII6Z1Ys.png) no-repeat scroll 0 -30px transparent;_background-image:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yL\\/r\\/s816eWC-2sl.gif)}\\n.fb_dialog_loader{background-color:#f2f2f2;border:1px solid #606060;font-size:24px;padding:20px}\\n.fb_dialog_top_left,\\n.fb_dialog_top_right,\\n.fb_dialog_bottom_left,\\n.fb_dialog_bottom_right{height:10px;width:10px;overflow:hidden;position:absolute}\\n.fb_dialog_top_left{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/ye\\/r\\/8YeTNIlTZjm.png) no-repeat 0 0;left:-10px;top:-10px}\\n.fb_dialog_top_right{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/ye\\/r\\/8YeTNIlTZjm.png) no-repeat 0 -10px;right:-10px;top:-10px}\\n.fb_dialog_bottom_left{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/ye\\/r\\/8YeTNIlTZjm.png) no-repeat 0 -20px;bottom:-10px;left:-10px}\\n.fb_dialog_bottom_right{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/ye\\/r\\/8YeTNIlTZjm.png) no-repeat 0 -30px;right:-10px;bottom:-10px}\\n.fb_dialog_vert_left,\\n.fb_dialog_vert_right,\\n.fb_dialog_horiz_top,\\n.fb_dialog_horiz_bottom{position:absolute;background:#525252;filter:alpha(opacity=70);opacity:.7}\\n.fb_dialog_vert_left,\\n.fb_dialog_vert_right{width:10px;height:100\\u0025}\\n.fb_dialog_vert_left{margin-left:-10px}\\n.fb_dialog_vert_right{right:0;margin-right:-10px}\\n.fb_dialog_horiz_top,\\n.fb_dialog_horiz_bottom{width:100\\u0025;height:10px}\\n.fb_dialog_horiz_top{margin-top:-10px}\\n.fb_dialog_horiz_bottom{bottom:0;margin-bottom:-10px}\\n.fb_dialog_iframe{line-height:0}\\n.fb_dialog_content .dialog_title{background:#6d84b4;border:1px solid #3b5998;color:#fff;font-size:14px;font-weight:bold;margin:0}\\n.fb_dialog_content .dialog_title > span{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/yd\\/r\\/Cou7n-nqK52.gif)\\nno-repeat 5px 50\\u0025;float:left;padding:5px 0 7px 26px}\\nbody.fb_hidden{-webkit-transform:none;height:100\\u0025;margin:0;overflow:visible;position:absolute;top:-10000px;left:0;width:100\\u0025}\\n.fb_dialog.fb_dialog_mobile.loading{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/ya\\/r\\/3rhSv5V8j3o.gif)\\nwhite no-repeat 50\\u0025 50\\u0025;min-height:100\\u0025;min-width:100\\u0025;overflow:hidden;position:absolute;top:0;z-index:10001}\\n.fb_dialog.fb_dialog_mobile.loading.centered{max-height:590px;min-height:590px;max-width:500px;min-width:500px}\\n#fb-root #fb_dialog_ipad_overlay{background:rgba(0, 0, 0, .45);position:absolute;left:0;top:0;width:100\\u0025;min-height:100\\u0025;z-index:10000}\\n#fb-root #fb_dialog_ipad_overlay.hidden{display:none}\\n.fb_dialog.fb_dialog_mobile.loading iframe{visibility:hidden}\\n.fb_dialog_content .dialog_header{-webkit-box-shadow:white 0 1px 1px -1px inset;background:-webkit-gradient(linear, 0\\u0025 0\\u0025, 0\\u0025 100\\u0025, from(#738ABA), to(#2C4987));border-bottom:1px solid;border-color:#1d4088;color:#fff;font:14px Helvetica, sans-serif;font-weight:bold;text-overflow:ellipsis;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0;vertical-align:middle;white-space:nowrap}\\n.fb_dialog_content .dialog_header table{-webkit-font-smoothing:subpixel-antialiased;height:43px;width:100\\u0025\\n}\\n.fb_dialog_content .dialog_header td.header_left{font-size:12px;padding-left:5px;vertical-align:middle;width:60px\\n}\\n.fb_dialog_content .dialog_header td.header_right{font-size:12px;padding-right:5px;vertical-align:middle;width:60px\\n}\\n.fb_dialog_content .touchable_button{background:-webkit-gradient(linear, 0\\u0025 0\\u0025, 0\\u0025 100\\u0025, from(#4966A6),\\ncolor-stop(0.5, #355492), to(#2A4887));border:1px solid #29447e;-webkit-background-clip:padding-box;-webkit-border-radius:3px;-webkit-box-shadow:rgba(0, 0, 0, .117188) 0 1px 1px inset,\\nrgba(255, 255, 255, .167969) 0 1px 0;display:inline-block;margin-top:3px;max-width:85px;line-height:18px;padding:4px 12px;position:relative}\\n.fb_dialog_content .dialog_header .touchable_button input{border:none;background:none;color:#fff;font:12px Helvetica, sans-serif;font-weight:bold;margin:2px -12px;padding:2px 6px 3px 6px;text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\\n.fb_dialog_content .dialog_header .header_center{color:#fff;font-size:16px;font-weight:bold;line-height:18px;text-align:center;vertical-align:middle}\\n.fb_dialog_content .dialog_content{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/y9\\/r\\/jKEcVPZFk-2.gif) no-repeat 50\\u0025 50\\u0025;border:1px solid #555;border-bottom:0;border-top:0;height:150px}\\n.fb_dialog_content .dialog_footer{background:#f2f2f2;border:1px solid #555;border-top-color:#ccc;height:40px}\\n#fb_dialog_loader_close{float:left}\\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_button{text-shadow:rgba(0, 30, 84, .296875) 0 -1px 0}\\n.fb_dialog.fb_dialog_mobile .fb_dialog_close_icon{visibility:hidden}\\n.fb_iframe_widget{display:inline-block;position:relative}\\n.fb_iframe_widget span{display:inline-block;position:relative;text-align:justify}\\n.fb_iframe_widget iframe{position:absolute}\\n.fb_iframe_widget_lift{z-index:1}\\n.fb_hide_iframes iframe{position:relative;left:-10000px}\\n.fb_iframe_widget_loader{position:relative;display:inline-block}\\n.fb_iframe_widget_fluid{display:inline}\\n.fb_iframe_widget_fluid span{width:100\\u0025}\\n.fb_iframe_widget_loader iframe{min-height:32px;z-index:2;zoom:1}\\n.fb_iframe_widget_loader .FB_Loader{background:url(http:\\/\\/static.ak.fbcdn.net\\/rsrc.php\\/v2\\/y9\\/r\\/jKEcVPZFk-2.gif) no-repeat;height:32px;width:32px;margin-left:-16px;position:absolute;left:50\\u0025;z-index:4}\\n.fb_connect_bar_container div,\\n.fb_connect_bar_container span,\\n.fb_connect_bar_container a,\\n.fb_connect_bar_container img,\\n.fb_connect_bar_container strong{background:none;border-spacing:0;border:0;direction:ltr;font-style:normal;font-variant:normal;letter-spacing:normal;line-height:1;margin:0;overflow:visible;padding:0;text-align:left;text-decoration:none;text-indent:0;text-shadow:none;text-transform:none;visibility:visible;white-space:normal;word-spacing:normal;vertical-align:baseline}\\n.fb_connect_bar_container{position:fixed;left:0 !important;right:0 !important;height:42px !important;padding:0 25px !important;margin:0 !important;vertical-align:middle !important;border-bottom:1px solid #333 !important;background:#3b5998 !important;z-index:99999999 !important;overflow:hidden !important}\\n.fb_connect_bar_container_ie6{position:absolute;top:expression(document.compatMode==\\\"CSS1Compat\\\"? document.documentElement.scrollTop+\\\"px\\\":body.scrollTop+\\\"px\\\")}\\n.fb_connect_bar{position:relative;margin:auto;height:100\\u0025;width:100\\u0025;padding:6px 0 0 0 !important;background:none;color:#fff !important;font-family:\\\"lucida grande\\\", tahoma, verdana, arial, sans-serif !important;font-size:13px !important;font-style:normal !important;font-variant:normal !important;font-weight:normal !important;letter-spacing:normal !important;line-height:1 !important;text-decoration:none !important;text-indent:0 !important;text-shadow:none !important;text-transform:none !important;white-space:normal !important;word-spacing:normal !important}\\n.fb_connect_bar a:hover{color:#fff}\\n.fb_connect_bar .fb_profile img{height:30px;width:30px;vertical-align:middle;margin:0 6px 5px 0}\\n.fb_connect_bar div a,\\n.fb_connect_bar span,\\n.fb_connect_bar span a{color:#bac6da;font-size:11px;text-decoration:none}\\n.fb_connect_bar .fb_buttons{float:right;margin-top:7px}\\n.fb_edge_widget_with_comment{position:relative;*z-index:1000}\\n.fb_edge_widget_with_comment span.fb_edge_comment_widget{position:absolute}\\n.fb_edge_widget_with_comment span.fb_send_button_form_widget{z-index:1}\\n.fb_edge_widget_with_comment span.fb_send_button_form_widget .FB_Loader{left:0;top:1px;margin-top:6px;margin-left:0;background-position:50\\u0025 50\\u0025;background-color:#fff;height:150px;width:394px;border:1px #666 solid;border-bottom:2px solid #283e6c;z-index:1}\\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.dark .FB_Loader{background-color:#000;border-bottom:2px solid #ccc}\\n.fb_edge_widget_with_comment span.fb_send_button_form_widget.siderender\\n.FB_Loader{margin-top:0}\\n.fbpluginrecommendationsbarleft,\\n.fbpluginrecommendationsbarright{position:fixed !important;bottom:0;z-index:999}\\n.fbpluginrecommendationsbarleft{left:10px}\\n.fbpluginrecommendationsbarright{right:10px}\",\"components\":[\"fb.css.base\",\"fb.css.dialog\",\"fb.css.iframewidget\",\"fb.css.connectbarwidget\",\"fb.css.edgecommentwidget\",\"fb.css.sendbuttonformwidget\",\"fb.css.plugin.recommendationsbar\"]});__d(\"CanvasPrefetcherConfig\",[],{\"blacklist\":[144959615576466],\"sampleRate\":500});__d(\"ConnectBarConfig\",[],{\"imgs\":{\"buttonUrl\":\"rsrc.php\\/v2\\/yY\\/r\\/h_Y6u1wrZPW.png\",\"missingProfileUrl\":\"rsrc.php\\/v2\\/yo\\/r\\/UlIqmHJn-SK.gif\"}});__d(\"SDKConfig\",[],{\"bustCache\":true,\"tagCountLogRate\":0.01,\"errorHandling\":{\"rate\":4},\"usePluginPipe\":true,\"features\":{\"kill_fragment\":false,\"xfbml_profile_pic_server\":true,\"error_handling\":{\"rate\":4},\"e2e_ping_tracking\":{\"rate\":1.0e-6}},\"api\":{\"mode\":\"warn\",\"whitelist\":[\"Canvas\",\"Canvas.Prefetcher\",\"Canvas.Prefetcher.addStaticResource\",\"Canvas.Prefetcher.setCollectionMode\",\"Canvas.getPageInfo\",\"Canvas.hideFlashElement\",\"Canvas.scrollTo\",\"Canvas.setAutoGrow\",\"Canvas.setDoneLoading\",\"Canvas.setSize\",\"Canvas.setUrlHandler\",\"Canvas.showFlashElement\",\"Canvas.startTimer\",\"Canvas.stopTimer\",\"Data\",\"Data.process\",\"Data.query\",\"Data.query:wait\",\"Data.waitOn\",\"Data.waitOn:wait\",\"Event\",\"Event.subscribe\",\"Event.unsubscribe\",\"Music.flashCallback\",\"Music.init\",\"Music.send\",\"Payment\",\"Payment.cancelFlow\",\"Payment.continueFlow\",\"Payment.init\",\"Payment.lockForProcessing\",\"Payment.unlockForProcessing\",\"Payment.parse\",\"Payment.setSize\",\"ThirdPartyProvider\",\"ThirdPartyProvider.init\",\"ThirdPartyProvider.sendData\",\"UA\",\"UA.nativeApp\",\"XFBML\",\"XFBML.RecommendationsBar\",\"XFBML.RecommendationsBar.markRead\",\"XFBML.parse\",\"addFriend\",\"api\",\"getAccessToken\",\"getAuthResponse\",\"getLoginStatus\",\"getUserID\",\"init\",\"login\",\"logout\",\"publish\",\"share\",\"ui\",\"ui:subscribe\"]},\"initSitevars\":{\"enableMobileComments\":1,\"iframePermissions\":{\"read_stream\":false,\"manage_mailbox\":false,\"manage_friendlists\":false,\"read_mailbox\":false,\"publish_checkins\":true,\"status_update\":true,\"photo_upload\":true,\"video_upload\":true,\"sms\":false,\"create_event\":true,\"rsvp_event\":true,\"offline_access\":true,\"email\":true,\"xmpp_login\":false,\"create_note\":true,\"share_item\":true,\"export_stream\":false,\"publish_stream\":true,\"publish_likes\":true,\"ads_management\":false,\"contact_email\":true,\"access_private_data\":false,\"read_insights\":false,\"read_requests\":false,\"read_friendlists\":true,\"manage_pages\":false,\"physical_login\":false,\"manage_groups\":false,\"read_deals\":false}}});__d(\"ApiClientConfig\",[],{\"FlashRequest\":{\"swfUrl\":\"https:\\/\\/connect.facebook.net\\/rsrc.php\\/v1\\/yB\\/r\\/YV5wijq5fkW.swf\"}});\n__d(\"QueryString\",[],function(a,b,c,d,e,f){function g(k){var l=[];ES5(ES5('Object','keys',false,k).sort(),'forEach',true,function(m){var n=k[m];if(typeof n==='undefined')return;if(n===null){l.push(m);return;}l.push(encodeURIComponent(m)+'='+encodeURIComponent(n));});return l.join('&');}function h(k,l){var m={};if(k==='')return m;var n=k.split('&');for(var o=0;o<n.length;o++){var p=n[o].split('=',2),q=decodeURIComponent(p[0]);if(l&&m.hasOwnProperty(q))throw new URIError('Duplicate key: '+q);m[q]=p.length===2?decodeURIComponent(p[1]):null;}return m;}function i(k,l){return k+(~ES5(k,'indexOf',true,'?')?'&':'?')+(typeof l==='string'?l:j.encode(l));}var j={encode:g,decode:h,appendToUrl:i};e.exports=j;});\n__d(\"copyProperties\",[],function(a,b,c,d,e,f){function g(h,i,j,k,l,m,n){h=h||{};var o=[i,j,k,l,m],p=0,q;while(o[p]){q=o[p++];for(var r in q)h[r]=q[r];if(q.hasOwnProperty&&q.hasOwnProperty('toString')&&(typeof q.toString!='undefined')&&(h.toString!==q.toString))h.toString=q.toString;}return h;}e.exports=g;});\n__d(\"ManagedError\",[],function(a,b,c,d,e,f){function g(h,i){Error.prototype.constructor.call(this,h);this.message=h;this.innerError=i;}g.prototype=new Error();g.prototype.constructor=g;e.exports=g;});\n__d(\"AssertionError\",[\"ManagedError\"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});\n__d(\"sprintf\",[],function(a,b,c,d,e,f){function g(h){var i=Array.prototype.slice.call(arguments,1),j=0;return h.replace(/%s/g,function(k){return i[j++];});}e.exports=g;});\n__d(\"Assert\",[\"AssertionError\",\"sprintf\"],function(a,b,c,d,e,f){var g=b('AssertionError'),h=b('sprintf');function i(n,o){if(typeof n!=='boolean'||!n)throw new g(o);return n;}function j(n,o,p){var q;if(o===undefined){q='undefined';}else if(o===null){q='null';}else{var r=Object.prototype.toString.call(o);q=/\\s(\\w*)/.exec(r)[1].toLowerCase();}i(ES5(n,'indexOf',true,q)!==-1,p||h('Expression is of type %s, not %s',q,n));return o;}function k(n,o,p){i(o instanceof n,p||'Expression not instance of type');return o;}function l(n,o){m['is'+n]=o;m['maybe'+n]=function(p,q){if(p!=null)o(p,q);};}var m={isInstanceOf:k,isTrue:i,isTruthy:function(n,o){return i(!!n,o);},type:j,define:function(n,o){n=n.substring(0,1).toUpperCase()+n.substring(1).toLowerCase();l(n,function(p,q){i(o(p),q);});}};ES5(['Array','Boolean','Date','Function','Null','Number','Object','Regexp','String','Undefined'],'forEach',true,function(n){l(n,ES5(j,'bind',true,null,n.toLowerCase()));});e.exports=m;});\n__d(\"Type\",[\"copyProperties\",\"Assert\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Assert');function i(){var m=this.__mixins;if(m)for(var n=0;n<m.length;n++)m[n].apply(this,arguments);}function j(m,n){if(n instanceof m)return true;if(n instanceof i)for(var o=0;o<n.__mixins.length;o++)if(n.__mixins[o]==m)return true;return false;}function k(m,n){var o=m.prototype;if(!ES5('Array','isArray',false,n))n=[n];for(var p=0;p<n.length;p++){var q=n[p];if(typeof q=='function'){o.__mixins.push(q);q=q.prototype;}ES5(ES5('Object','keys',false,q),'forEach',true,function(r){o[r]=q[r];});}}function l(m,n,o){var p=n&&n.hasOwnProperty('constructor')?n.constructor:function(){this.parent.apply(this,arguments);};h.isFunction(p);if(m&&m.prototype instanceof i===false)throw new Error('parent type does not inherit from Type');m=m||i;var q=new Function();q.prototype=m.prototype;p.prototype=new q();g(p.prototype,n);p.prototype.constructor=p;p.parent=m;p.prototype.__mixins=m.prototype.__mixins?Array.prototype.slice.call(m.prototype.__mixins):[];if(o)k(p,o);p.prototype.parent=function(){this.parent=m.prototype.parent;m.apply(this,arguments);};p.prototype.parentCall=function(r){return m.prototype[r].apply(this,Array.prototype.slice.call(arguments,1));};p.extend=function(r,s){return l(this,r,s);};return p;}g(i.prototype,{instanceOf:function(m){return j(m,this);}});g(i,{extend:function(m,n){return typeof m==='function'?l.apply(null,arguments):l(null,m,n);},instanceOf:j});e.exports=i;});\n__d(\"ObservableMixin\",[],function(a,b,c,d,e,f){function g(){this.__observableEvents={};}g.prototype={inform:function(h){var i=Array.prototype.slice.call(arguments,1),j=Array.prototype.slice.call(this.getSubscribers(h));for(var k=0;k<j.length;k++){if(j[k]===null)continue;try{j[k].apply(this,i);}catch(l){setTimeout(function(){throw l;},0);}}return this;},getSubscribers:function(h){return this.__observableEvents[h]||(this.__observableEvents[h]=[]);},clearSubscribers:function(h){if(h)this.__observableEvents[h]=[];return this;},clearAllSubscribers:function(){this.__observableEvents={};return this;},subscribe:function(h,i){var j=this.getSubscribers(h);j.push(i);return this;},unsubscribe:function(h,i){var j=this.getSubscribers(h);for(var k=0;k<j.length;k++)if(j[k]===i){j.splice(k,1);break;}return this;},monitor:function(h,i){if(!i()){var j=ES5(function(k){if(i.apply(i,arguments))this.unsubscribe(h,j);},'bind',true,this);this.subscribe(h,j);}return this;}};e.exports=g;});\n__d(\"sdk.Model\",[\"Type\",\"ObservableMixin\"],function(a,b,c,d,e,f){var g=b('Type'),h=b('ObservableMixin'),i=g.extend({constructor:function(j){this.parent();var k={},l=this;ES5(ES5('Object','keys',false,j),'forEach',true,function(m){k[m]=j[m];l['set'+m]=function(n){if(n===k[m])return this;k[m]=n;l.inform(m+'.change',n);return l;};l['get'+m]=function(){return k[m];};});}},h);e.exports=i;});\n__d(\"sdk.Runtime\",[\"sdk.Model\",\"copyProperties\",\"sdk.RuntimeConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Model'),h=c('sdk.RuntimeConfig'),i=b('copyProperties'),j={UNKNOWN:0,PAGETAB:1,CANVAS:2,PLATFORM:4},k=new g({AccessToken:'',ClientID:'',Environment:j.UNKNOWN,Initialized:false,KidDirectedSite:undefined,Locale:h.locale,LoginStatus:undefined,Rtl:h.rtl,Scope:undefined,Secure:undefined,UseCookie:false,UserID:'',CookieUserID:''});i(k,{ENVIRONMENTS:j,isEnvironment:function(l){var m=this.getEnvironment();return (l|m)===m;}});(function(){var l=/app_runner/.test(window.name)?j.PAGETAB:/iframe_canvas/.test(window.name)?j.CANVAS:j.UNKNOWN;if((l|j.PAGETAB)===l)l=l|j.CANVAS;k.setEnvironment(l);})();e.exports=k;});\n__d(\"sdk.Cookie\",[\"QueryString\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('QueryString'),h=b('sdk.Runtime'),i=null;function j(m,n,o){m=m+h.getClientID();var p=i&&i!=='.';if(p){document.cookie=m+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;';document.cookie=m+'=; expires=Wed, 04 Feb 2004 08:00:00 GMT;'+'domain='+location.hostname+';';}var q=new Date(o).toGMTString();document.cookie=m+'='+n+(n&&o===0?'':'; expires='+q)+'; path=/'+(p?'; domain='+i:'');}function k(m){m=m+h.getClientID();var n=new RegExp('\\\\b'+m+'=([^;]*)\\\\b');return n.test(document.cookie)?RegExp.$1:null;}var l={setDomain:function(m){i=m;var n=g.encode({base_domain:i&&i!=='.'?i:''}),o=new Date();o.setFullYear(o.getFullYear()+1);j('fbm_',n,o.getTime());},getDomain:function(){return i;},loadMeta:function(){var m=k('fbm_');if(m){var n=g.decode(m);if(!i)i=n.base_domain;return n;}},loadSignedRequest:function(){return k('fbsr_');},setSignedRequestCookie:function(m,n){if(!m)throw new Error('Value passed to Cookie.setSignedRequestCookie '+'was empty.');j('fbsr_',m,n);},clearSignedRequestCookie:function(){j('fbsr_','',0);},setRaw:j};e.exports=l;});\n__d(\"guid\",[],function(a,b,c,d,e,f){function g(){return 'f'+(Math.random()*(1<<30)).toString(16).replace('.','');}e.exports=g;});\n__d(\"hasNamePropertyBug\",[\"guid\"],function(a,b,c,d,e,f){var g=b('guid'),h;function i(){var k=document.createElement(\"form\"),l=k.appendChild(document.createElement(\"input\"));l.name=g();h=l!==k.elements[l.name];k=l=null;return h;}function j(){return typeof h==='undefined'?i():h;}e.exports=j;});\n__d(\"wrapFunction\",[],function(a,b,c,d,e,f){var g={};function h(i,j,k){j=j||'default';return function(){var l=j in g?g[j](i,k):i;return l.apply(this,arguments);};}h.setWrapper=function(i,j){j=j||'default';g[j]=i;};e.exports=h;});\n__d(\"DOMEventListener\",[\"wrapFunction\"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h,i;if(window.addEventListener){h=function(k,l,m){m.wrapper=g(m,'entry','DOMEventListener.add '+l);k.addEventListener(l,m.wrapper,false);};i=function(k,l,m){k.removeEventListener(l,m.wrapper,false);};}else if(window.attachEvent){h=function(k,l,m){m.wrapper=g(m,'entry','DOMEventListener.add '+l);k.attachEvent('on'+l,m.wrapper);};i=function(k,l,m){k.detachEvent('on'+l,m.wrapper);};}else i=h=function(){};var j={add:function(k,l,m){h(k,l,m);return {remove:function(){i(k,l,m);k=null;}};},remove:i};e.exports=j;});\n__d(\"sdk.createIframe\",[\"copyProperties\",\"guid\",\"hasNamePropertyBug\",\"DOMEventListener\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('guid'),i=b('hasNamePropertyBug'),j=b('DOMEventListener');function k(l){l=g({},l);var m,n=l.name||h(),o=l.root,p=l.style||{border:'none'},q=l.url,r=l.onload;if(i()){m=document.createElement('<iframe name=\"'+n+'\"/>');}else{m=document.createElement(\"iframe\");m.name=n;}delete l.style;delete l.name;delete l.url;delete l.root;delete l.onload;var s=g({frameBorder:0,allowTransparency:true,scrolling:'no'},l);if(s.width)m.width=s.width+'px';if(s.height)m.height=s.height+'px';delete s.height;delete s.width;for(var t in s)if(s.hasOwnProperty(t))m.setAttribute(t,s[t]);g(m.style,p);m.src=\"javascript:false\";o.appendChild(m);if(r)var u=j.add(m,'load',function(){u.remove();r();});m.src=q;return m;}e.exports=k;});\n__d(\"DOMWrapper\",[],function(a,b,c,d,e,f){var g,h,i={setRoot:function(j){g=j;},getRoot:function(){return g||document.body;},setWindow:function(j){h=j;},getWindow:function(){return h||self;}};e.exports=i;});\n__d(\"sdk.feature\",[\"SDKConfig\"],function(a,b,c,d,e,f){var g=c('SDKConfig');function h(i,j){if(g.features&&i in g.features){var k=g.features[i];if(typeof k==='object'&&typeof k.rate==='number'){if(k.rate&&Math.random()*100<=k.rate){return k.value||true;}else return k.value?null:false;}else return k;}return typeof j!=='undefined'?j:null;}e.exports=h;});\n__d(\"UserAgent\",[],function(a,b,c,d,e,f){var g=false,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v;function w(){if(g)return;g=true;var y=navigator.userAgent,z=/(?:MSIE.(\\d+\\.\\d+))|(?:(?:Firefox|GranParadiso|Iceweasel).(\\d+\\.\\d+))|(?:Opera(?:.+Version.|.)(\\d+\\.\\d+))|(?:AppleWebKit.(\\d+(?:\\.\\d+)?))|(?:Trident\\/\\d+\\.\\d+.*rv:(\\d+\\.\\d+))/.exec(y),aa=/(Mac OS X)|(Windows)|(Linux)/.exec(y);s=/\\b(iPhone|iP[ao]d)/.exec(y);t=/\\b(iP[ao]d)/.exec(y);q=/Android/i.exec(y);u=/FBAN\\/\\w+;/i.exec(y);v=/Mobile/i.exec(y);r=!!(/Win64/.exec(y));if(z){h=z[1]?parseFloat(z[1]):(z[5]?parseFloat(z[5]):NaN);if(h&&document&&document.documentMode)h=document.documentMode;var ba=/(?:Trident\\/(\\d+.\\d+))/.exec(y);m=ba?parseFloat(ba[1])+4:h;i=z[2]?parseFloat(z[2]):NaN;j=z[3]?parseFloat(z[3]):NaN;k=z[4]?parseFloat(z[4]):NaN;if(k){z=/(?:Chrome\\/(\\d+\\.\\d+))/.exec(y);l=z&&z[1]?parseFloat(z[1]):NaN;}else l=NaN;}else h=i=j=l=k=NaN;if(aa){if(aa[1]){var ca=/(?:Mac OS X (\\d+(?:[._]\\d+)?))/.exec(y);n=ca?parseFloat(ca[1].replace('_','.')):true;}else n=false;o=!!aa[2];p=!!aa[3];}else n=o=p=false;}var x={ie:function(){return w()||h;},ieCompatibilityMode:function(){return w()||(m>h);},ie64:function(){return x.ie()&&r;},firefox:function(){return w()||i;},opera:function(){return w()||j;},webkit:function(){return w()||k;},safari:function(){return x.webkit();},chrome:function(){return w()||l;},windows:function(){return w()||o;},osx:function(){return w()||n;},linux:function(){return w()||p;},iphone:function(){return w()||s;},mobile:function(){return w()||(s||t||q||v);},nativeApp:function(){return w()||u;},android:function(){return w()||q;},ipad:function(){return w()||t;}};e.exports=x;});\n__d(\"sdk.getContextType\",[\"UserAgent\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('UserAgent'),h=b('sdk.Runtime');function i(){if(g.nativeApp())return 3;if(g.mobile())return 2;if(h.isEnvironment(h.ENVIRONMENTS.CANVAS))return 5;return 1;}e.exports=i;});\n__d(\"UrlMap\",[\"UrlMapConfig\"],function(a,b,c,d,e,f){var g=b('UrlMapConfig'),h={resolve:function(i,j){var k=typeof j=='undefined'?location.protocol.replace(':',''):j?'https':'http';if(i in g)return k+'://'+g[i];if(typeof j=='undefined'&&i+'_'+k in g)return k+'://'+g[i+'_'+k];if(j!==true&&i+'_http' in g)return 'http://'+g[i+'_http'];if(j!==false&&i+'_https' in g)return 'https://'+g[i+'_https'];}};e.exports=h;});\n__d(\"sdk.Impressions\",[\"guid\",\"QueryString\",\"sdk.Runtime\",\"UrlMap\"],function(a,b,c,d,e,f){var g=b('guid'),h=b('QueryString'),i=b('sdk.Runtime'),j=b('UrlMap');function k(m){var n=i.getClientID();if(!m.api_key&&n)m.api_key=n;m.kid_directed_site=i.getKidDirectedSite();var o=new Image();o.src=h.appendToUrl(j.resolve('www',true)+'/impression.php/'+g()+'/',m);}var l={log:function(m,n){if(!n.source)n.source='jssdk';k({lid:m,payload:ES5('JSON','stringify',false,n)});},impression:k};e.exports=l;});\n__d(\"Log\",[\"sprintf\"],function(a,b,c,d,e,f){var g=b('sprintf'),h={DEBUG:3,INFO:2,WARNING:1,ERROR:0};function i(k,l){var m=Array.prototype.slice.call(arguments,2),n=g.apply(null,m),o=window.console;if(o&&j.level>=l)o[k in o?k:'log'](n);}var j={level:-1,Level:h,debug:ES5(i,'bind',true,null,'debug',h.DEBUG),info:ES5(i,'bind',true,null,'info',h.INFO),warn:ES5(i,'bind',true,null,'warn',h.WARNING),error:ES5(i,'bind',true,null,'error',h.ERROR)};e.exports=j;});\n__d(\"Base64\",[],function(a,b,c,d,e,f){var g='ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/';function h(l){l=(l.charCodeAt(0)<<16)|(l.charCodeAt(1)<<8)|l.charCodeAt(2);return String.fromCharCode(g.charCodeAt(l>>>18),g.charCodeAt((l>>>12)&63),g.charCodeAt((l>>>6)&63),g.charCodeAt(l&63));}var i='>___?456789:;<=_______'+'\\0\\1\\2\\3\\4\\5\\6\\7\\b\\t\\n\\13\\f\\r\\16\\17\\20\\21\\22\\23\\24\\25\\26\\27\\30\\31'+'______\\32\\33\\34\\35\\36\\37 !\"#$%&\\'()*+,-./0123';function j(l){l=(i.charCodeAt(l.charCodeAt(0)-43)<<18)|(i.charCodeAt(l.charCodeAt(1)-43)<<12)|(i.charCodeAt(l.charCodeAt(2)-43)<<6)|i.charCodeAt(l.charCodeAt(3)-43);return String.fromCharCode(l>>>16,(l>>>8)&255,l&255);}var k={encode:function(l){l=unescape(encodeURI(l));var m=(l.length+2)%3;l=(l+'\\0\\0'.slice(m)).replace(/[\\s\\S]{3}/g,h);return l.slice(0,l.length+m-2)+'=='.slice(m);},decode:function(l){l=l.replace(/[^A-Za-z0-9+\\/]/g,'');var m=(l.length+3)&3;l=(l+'AAA'.slice(m)).replace(/..../g,j);l=l.slice(0,l.length+m-3);try{return decodeURIComponent(escape(l));}catch(n){throw new Error('Not valid UTF-8');}},encodeObject:function(l){return k.encode(ES5('JSON','stringify',false,l));},decodeObject:function(l){return ES5('JSON','parse',false,k.decode(l));},encodeNums:function(l){return String.fromCharCode.apply(String,ES5(l,'map',true,function(m){return g.charCodeAt((m|-(m>63))&-(m>0)&63);}));}};e.exports=k;});\n__d(\"sdk.SignedRequest\",[\"Base64\"],function(a,b,c,d,e,f){var g=b('Base64');function h(j){if(!j)return null;var k=j.split('.',2)[1].replace(/\\-/g,'+').replace(/\\_/g,'/');return g.decodeObject(k);}var i={parse:h};e.exports=i;});\n__d(\"URL\",[\"Assert\",\"copyProperties\",\"QueryString\",\"Log\"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('copyProperties'),i=b('QueryString'),j=b('Log'),k=new RegExp('('+'(((\\\\w+):)?//)'+'(.*?@)?'+'([^~/?#:]+)'+'(:(\\\\d+))?'+')?'+'([^\\\\?$#]+)?'+'(\\\\?([^$#]+))?'+'(#([^$]+))?'),l=/[\\0\\\\]/,m=/[^\\w\\-\\.,;\\/?:@=&%#$~+!*'\\[\\]()]+/g,n=/^[a-z0-9.][a-z0-9\\-\\.]+[a-z0-9.]$/,o=/\\.facebook\\.com$/;function p(q){g.isString(q,'The passed argument was of invalid type.');if(l.test(q))throw new URIError('The passed argument could not be parsed as a url.');if(this instanceof p===false)return new p(q);var r=q.replace(m,function(t){j.warn('Escaping unescaped character \\\\x%s from \"%s\"',t.charCodeAt(0).toString(16),q);return encodeURIComponent(t);}).match(k);if(!q||!r)throw new URIError('The passed argument could not be parsed as a url.');var s=!!location.hostname;this.setProtocol(r[4]||(s?location.protocol.replace(/:/,''):''));this.setDomain(r[6]||location.hostname);this.setPort(r[8]||(s&&!r[6]?location.port:''));this.setPath(r[9]||'');this.setSearch(r[11]||'');this.setFragment(r[13]||'');if(this._path.substring(0,1)!='/')this._path='/'+this._path;if(this._domain&&!n.test(decodeURIComponent(this._domain.toLowerCase()))){j.error('Invalid characters found in domain name: %s',this._domain);throw new URIError('Domain contained invalid characters.');}}h(p.prototype,{constructor:p,getProtocol:function(){return this._protocol;},setProtocol:function(q){this._protocol=q;return this;},getDomain:function(){return this._domain;},setDomain:function(q){this._domain=q;return this;},getPort:function(){return this._port;},setPort:function(q){this._port=q;return this;},getPath:function(){return this._path;},setPath:function(q){this._path=q;return this;},getSearch:function(){return this._search;},setSearch:function(q){this._search=q;return this;},getFragment:function(){return this._fragment;},setFragment:function(q){this._fragment=q;return this;},getParsedSearch:function(){return i.decode(this._search);},getParsedFragment:function(){return i.decode(this._fragment);},isFacebookURL:function(){return o.test(this._domain);},toString:function(){return (this._protocol?this._protocol+':':'')+(this._domain?'//'+this._domain:'')+(this._port?':'+this._port:'')+this._path+(this._search?'?'+this._search:'')+(this._fragment?'#'+this._fragment:'');},valueOf:function(){return this.toString();}});h(p,{getCurrent:function(){return new p(location.href);},getReferrer:function(){return document.referrer?new p(document.referrer):null;}});e.exports=p;});\n__d(\"sdk.domReady\",[],function(a,b,c,d,e,f){var g,h=\"readyState\" in document?/loaded|complete/.test(document.readyState):!!document.body;function i(){if(!g)return;var l;while(l=g.shift())l();g=null;}function j(l){if(g){g.push(l);return;}else l();}if(!h){g=[];if(document.addEventListener){document.addEventListener('DOMContentLoaded',i,false);window.addEventListener('load',i,false);}else if(document.attachEvent){document.attachEvent('onreadystatechange',i);window.attachEvent('onload',i);}if(document.documentElement.doScroll&&window==window.top){var k=function(){try{document.documentElement.doScroll('left');}catch(l){setTimeout(k,0);return;}i();};k();}}e.exports=j;},3);\n__d(\"sdk.Content\",[\"sdk.domReady\",\"Log\",\"UserAgent\"],function(a,b,c,d,e,f){var g=b('sdk.domReady'),h=b('Log'),i=b('UserAgent'),j,k,l={append:function(m,n){if(!n)if(!j){j=n=document.getElementById('fb-root');if(!n){h.warn('The \"fb-root\" div has not been created, auto-creating');j=n=document.createElement('div');n.id='fb-root';if(i.ie()||!document.body){g(function(){document.body.appendChild(n);});}else document.body.appendChild(n);}n.className+=' fb_reset';}else n=j;if(typeof m=='string'){var o=document.createElement('div');n.appendChild(o).innerHTML=m;return o;}else return n.appendChild(m);},appendHidden:function(m){if(!n){var n=document.createElement('div'),o=n.style;o.position='absolute';o.top='-10000px';o.width=o.height=0;n=l.append(n);}return l.append(m,n);},submitToTarget:function(m,n){var o=document.createElement('form');o.action=m.url;o.target=m.target;o.method=(n)?'GET':'POST';l.appendHidden(o);for(var p in m.params)if(m.params.hasOwnProperty(p)){var q=m.params[p];if(q!==null&&q!==undefined){var r=document.createElement('input');r.name=p;r.value=q;o.appendChild(r);}}o.submit();o.parentNode.removeChild(o);}};e.exports=l;});\n__d(\"sdk.Event\",[],function(a,b,c,d,e,f){var g={subscribers:function(){if(!this._subscribersMap)this._subscribersMap={};return this._subscribersMap;},subscribe:function(h,i){var j=this.subscribers();if(!j[h]){j[h]=[i];}else j[h].push(i);},unsubscribe:function(h,i){var j=this.subscribers()[h];if(j)ES5(j,'forEach',true,function(k,l){if(k==i)j[l]=null;});},monitor:function(h,i){if(!i()){var j=this,k=function(){if(i.apply(i,arguments))j.unsubscribe(h,k);};this.subscribe(h,k);}},clear:function(h){delete this.subscribers()[h];},fire:function(h){var i=Array.prototype.slice.call(arguments,1),j=this.subscribers()[h];if(j)ES5(j,'forEach',true,function(k){if(k)k.apply(this,i);});}};e.exports=g;});\n__d(\"Queue\",[\"copyProperties\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h={};function i(j){\"use strict\";this._opts=g({interval:0,processor:null},j);this._queue=[];this._stopped=true;}i.prototype._dispatch=function(j){\"use strict\";if(this._stopped||this._queue.length===0)return;if(!this._opts.processor){this._stopped=true;throw new Error('No processor available');}if(this._opts.interval){this._opts.processor.call(this,this._queue.shift());this._timeout=setTimeout(ES5(this._dispatch,'bind',true,this),this._opts.interval);}else while(this._queue.length)this._opts.processor.call(this,this._queue.shift());};i.prototype.enqueue=function(j){\"use strict\";if(this._opts.processor&&!this._stopped){this._opts.processor.call(this,j);}else this._queue.push(j);return this;};i.prototype.start=function(j){\"use strict\";if(j)this._opts.processor=j;this._stopped=false;this._dispatch();return this;};i.prototype.dispatch=function(){\"use strict\";this._dispatch(true);};i.prototype.stop=function(j){\"use strict\";this._stopped=true;if(j)clearTimeout(this._timeout);return this;};i.prototype.merge=function(j,k){\"use strict\";this._queue[k?'unshift':'push'].apply(this._queue,j._queue);j._queue=[];this._dispatch();return this;};i.prototype.getLength=function(){\"use strict\";return this._queue.length;};i.get=function(j,k){\"use strict\";var l;if(j in h){l=h[j];}else l=h[j]=new i(k);return l;};i.exists=function(j){\"use strict\";return j in h;};i.remove=function(j){\"use strict\";return delete h[j];};e.exports=i;});\n__d(\"resolveURI\",[],function(a,b,c,d,e,f){function g(h){if(!h)return window.location.href;h=h.replace(/&/g,'&amp;').replace(/\"/g,'&quot;');var i=document.createElement('div');i.innerHTML='<a href=\"'+h+'\"></a>';return i.firstChild.href;}e.exports=g;});\n__d(\"resolveWindow\",[],function(a,b,c,d,e,f){function g(h){var i=window,j=h.split('.');try{for(var l=0;l<j.length;l++){var m=j[l],n=/^frames\\[['\"]?([a-zA-Z0-9\\-_]+)['\"]?\\]$/.exec(m);if(n){i=i.frames[n[1]];}else if(m==='opener'||m==='parent'||m==='top'){i=i[m];}else return null;}}catch(k){return null;}return i;}e.exports=g;});\n__d(\"JSONRPC\",[\"copyProperties\",\"Log\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Log');function i(j){this._counter=0;this._callbacks={};this.remote=ES5(function(k){this._context=k;return this.remote;},'bind',true,this);this.local={};this._write=j;}g(i.prototype,{stub:function(j){this.remote[j]=ES5(function(){var k=Array.prototype.slice.call(arguments),l={jsonrpc:'2.0',method:j};if(typeof k[k.length-1]=='function'){l.id=++this._counter;this._callbacks[l.id]=k.pop();}l.params=k;this._write(ES5('JSON','stringify',false,l),this._context||{method:j});},'bind',true,this);},read:function(j,k){var l=ES5('JSON','parse',false,j),m=l.id;if(!l.method){if(!this._callbacks[m]){h.warn('Could not find callback %s',m);return;}var n=this._callbacks[m];delete this._callbacks[m];delete l.id;delete l.jsonrpc;n(l);return;}var o=this,p=this.local[l.method],q;if(m){q=function(t,u){var v={jsonrpc:'2.0',id:m};v[t]=u;setTimeout(function(){o._write(ES5('JSON','stringify',false,v),k);},0);};}else q=function(){};if(!p){h.error('Method \"%s\" has not been defined',l.method);q('error',{code:-32601,message:'Method not found',data:l.method});return;}l.params.push(ES5(q,'bind',true,null,'result'));l.params.push(ES5(q,'bind',true,null,'error'));try{var s=p.apply(k||null,l.params);if(typeof s!=='undefined')q('result',s);}catch(r){h.error('Invokation of RPC method %s resulted in the error: %s',l.method,r.message);q('error',{code:-32603,message:'Internal error',data:r.message});}}});e.exports=i;});\n__d(\"sdk.RPC\",[\"Assert\",\"JSONRPC\",\"Queue\"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('JSONRPC'),i=b('Queue'),j=new i(),k=new h(function(m){j.enqueue(m);}),l={local:k.local,remote:k.remote,stub:ES5(k.stub,'bind',true,k),setInQueue:function(m){g.isInstanceOf(i,m);m.start(function(n){k.read(n);});},getOutQueue:function(){return j;}};e.exports=l;});\n__d(\"emptyFunction\",[\"copyProperties\"],function(a,b,c,d,e,f){var g=b('copyProperties');function h(j){return function(){return j;};}function i(){}g(i,{thatReturns:h,thatReturnsFalse:h(false),thatReturnsTrue:h(true),thatReturnsNull:h(null),thatReturnsThis:function(){return this;},thatReturnsArgument:function(j){return j;}});e.exports=i;});\n__d(\"htmlSpecialChars\",[],function(a,b,c,d,e,f){var g=/&/g,h=/</g,i=/>/g,j=/\"/g,k=/'/g;function l(m){if(typeof m=='undefined'||m===null||!m.toString)return '';if(m===false){return '0';}else if(m===true)return '1';return m.toString().replace(g,'&amp;').replace(j,'&quot;').replace(k,'&#039;').replace(h,'&lt;').replace(i,'&gt;');}e.exports=l;});\n__d(\"Flash\",[\"DOMWrapper\",\"QueryString\",\"UserAgent\",\"copyProperties\",\"guid\",\"htmlSpecialChars\"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('QueryString'),i=b('UserAgent'),j=b('copyProperties'),k=b('guid'),l=b('htmlSpecialChars'),m={},n,o=g.getWindow().document;function p(u){var v=o.getElementById(u);if(v)v.parentNode.removeChild(v);delete m[u];}function q(){for(var u in m)if(m.hasOwnProperty(u))p(u);}function r(u){return u.replace(/\\d+/g,function(v){return '000'.substring(v.length)+v;});}function s(u){if(!n){if(i.ie()>=9)window.attachEvent('onunload',q);n=true;}m[u]=u;}var t={embed:function(u,v,w,x){var y=k();u=l(u).replace(/&amp;/g,'&');w=j({allowscriptaccess:'always',flashvars:x,movie:u},w||{});if(typeof w.flashvars=='object')w.flashvars=h.encode(w.flashvars);var z=[];for(var aa in w)if(w.hasOwnProperty(aa)&&w[aa])z.push('<param name=\"'+l(aa)+'\" value=\"'+l(w[aa])+'\">');var ba=v.appendChild(o.createElement('span')),ca='<object '+(i.ie()?'classid=\"clsid:d27cdb6e-ae6d-11cf-96b8-444553540000\" ':'type=\"application/x-shockwave-flash\"')+'data=\"'+u+'\" '+(w.height?'height=\"'+w.height+'\" ':'')+(w.width?'width=\"'+w.width+'\" ':'')+'id=\"'+y+'\">'+z.join('')+'</object>';ba.innerHTML=ca;var da=ba.firstChild;s(y);return da;},remove:p,getVersion:function(){var u='Shockwave Flash',v='application/x-shockwave-flash',w='ShockwaveFlash.ShockwaveFlash',x;if(navigator.plugins&&typeof navigator.plugins[u]=='object'){var y=navigator.plugins[u].description;if(y&&navigator.mimeTypes&&navigator.mimeTypes[v]&&navigator.mimeTypes[v].enabledPlugin)x=y.match(/\\d+/g);}if(!x)try{x=(new ActiveXObject(w)).GetVariable('$version').match(/(\\d+),(\\d+),(\\d+),(\\d+)/);x=Array.prototype.slice.call(x,1);}catch(z){}return x;},checkMinVersion:function(u){var v=t.getVersion();if(!v)return false;return r(v.join('.'))>=r(u);},isAvailable:function(){return !!t.getVersion();}};e.exports=t;});\n__d(\"dotAccess\",[],function(a,b,c,d,e,f){function g(h,i,j){var k=i.split('.');do{var l=k.shift();h=h[l]||j&&(h[l]={});}while(k.length&&h);return h;}e.exports=g;});\n__d(\"GlobalCallback\",[\"DOMWrapper\",\"dotAccess\",\"guid\",\"wrapFunction\"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('dotAccess'),i=b('guid'),j=b('wrapFunction'),k,l,m={setPrefix:function(n){k=h(g.getWindow(),n,true);l=n;},create:function(n,o){if(!k)this.setPrefix('__globalCallbacks');var p=i();k[p]=j(n,'entry',o||'GlobalCallback');return l+'.'+p;},remove:function(n){var o=n.substring(l.length+1);delete k[o];}};e.exports=m;});\n__d(\"XDM\",[\"DOMEventListener\",\"DOMWrapper\",\"emptyFunction\",\"Flash\",\"GlobalCallback\",\"guid\",\"Log\",\"UserAgent\",\"wrapFunction\"],function(a,b,c,d,e,f){var g=b('DOMEventListener'),h=b('DOMWrapper'),i=b('emptyFunction'),j=b('Flash'),k=b('GlobalCallback'),l=b('guid'),m=b('Log'),n=b('UserAgent'),o=b('wrapFunction'),p={},q={transports:[]},r=h.getWindow();function s(u){var v={},w=u.length,x=q.transports;while(w--)v[u[w]]=1;w=x.length;while(w--){var y=x[w],z=p[y];if(!v[y]&&z.isAvailable())return y;}}var t={register:function(u,v){m.debug('Registering %s as XDM provider',u);q.transports.push(u);p[u]=v;},create:function(u){if(!u.whenReady&&!u.onMessage){m.error('An instance without whenReady or onMessage makes no sense');throw new Error('An instance without whenReady or '+'onMessage makes no sense');}if(!u.channel){m.warn('Missing channel name, selecting at random');u.channel=l();}if(!u.whenReady)u.whenReady=i;if(!u.onMessage)u.onMessage=i;var v=u.transport||s(u.blacklist||[]),w=p[v];if(w&&w.isAvailable()){m.debug('%s is available',v);w.init(u);return v;}}};t.register('fragment',(function(){var u=false,v,w=location.protocol+'//'+location.host;function x(y){var z=document.createElement('iframe');z.src='javascript:false';var aa=g.add(z,'load',function(){aa.remove();setTimeout(function(){z.parentNode.removeChild(z);},5000);});v.appendChild(z);z.src=y;}return {isAvailable:function(){return true;},init:function(y){m.debug('init fragment');var z={send:function(aa,ba,ca,da){m.debug('sending to: %s (%s)',ba+y.channelPath,da);x(ba+y.channelPath+aa+'&xd_rel=parent.parent&relation=parent.parent&xd_origin='+encodeURIComponent(w));}};if(u){setTimeout(function(){y.whenReady(z);},0);return;}v=y.root;u=true;setTimeout(function(){y.whenReady(z);},0);}};})());t.register('flash',(function(){var u=false,v,w=false,x=15000,y;return {isAvailable:function(){return j.checkMinVersion('8.0.24');},init:function(z){m.debug('init flash: '+z.channel);var aa={send:function(da,ea,fa,ga){m.debug('sending to: %s (%s)',ea,ga);v.postMessage(da,ea,ga);}};if(u){z.whenReady(aa);return;}var ba=z.root.appendChild(r.document.createElement('div')),ca=k.create(function(){k.remove(ca);clearTimeout(y);m.info('xdm.swf called the callback');var da=k.create(function(ea,fa){ea=decodeURIComponent(ea);fa=decodeURIComponent(fa);m.debug('received message %s from %s',ea,fa);z.onMessage(ea,fa);},'xdm.swf:onMessage');v.init(z.channel,da);z.whenReady(aa);},'xdm.swf:load');v=j.embed(z.flashUrl,ba,null,{protocol:location.protocol.replace(':',''),host:location.host,callback:ca,log:w});y=setTimeout(function(){m.warn('The Flash component did not load within %s ms - '+'verify that the container is not set to hidden or invisible '+'using CSS as this will cause some browsers to not load '+'the components',x);},x);u=true;}};})());t.register('postmessage',(function(){var u=false;return {isAvailable:function(){return !!r.postMessage;},init:function(v){m.debug('init postMessage: '+v.channel);var w='_FB_'+v.channel,x={send:function(y,z,aa,ba){if(r===aa){m.error('Invalid windowref, equal to window (self)');throw new Error();}m.debug('sending to: %s (%s)',z,ba);var ca=function(){aa.postMessage('_FB_'+ba+y,z);};if(n.ie()==8||n.ieCompatibilityMode()){setTimeout(ca,0);}else ca();}};if(u){v.whenReady(x);return;}g.add(r,'message',o(function(event){var y=event.data,z=event.origin||'native';if(typeof y!='string'){m.warn('Received message of type %s from %s, expected a string',typeof y,z);return;}m.debug('received message %s from %s',y,z);if(y.substring(0,w.length)==w)y=y.substring(w.length);v.onMessage(y,z);},'entry','onMessage'));v.whenReady(x);u=true;}};})());e.exports=t;});\n__d(\"sdk.XD\",[\"sdk.Content\",\"sdk.createIframe\",\"sdk.feature\",\"sdk.Event\",\"guid\",\"Log\",\"QueryString\",\"Queue\",\"resolveURI\",\"resolveWindow\",\"sdk.RPC\",\"sdk.Runtime\",\"UrlMap\",\"URL\",\"wrapFunction\",\"XDM\",\"XDConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Content'),h=b('sdk.createIframe'),i=b('sdk.feature'),j=b('sdk.Event'),k=b('guid'),l=b('Log'),m=b('QueryString'),n=b('Queue'),o=b('resolveURI'),p=b('resolveWindow'),q=b('sdk.RPC'),r=b('sdk.Runtime'),s=b('UrlMap'),t=b('URL'),u=b('wrapFunction'),v=c('XDConfig'),w=b('XDM'),x=new n(),y=new n(),z=new n(),aa,ba,ca=k(),da=k(),ea=location.protocol+'//'+location.host,fa,ga=false,ha='Facebook Cross Domain Communication Frame',ia={},ja=new n();q.setInQueue(ja);function ka(qa){l.info('Remote XD can talk to facebook.com (%s)',qa);r.setEnvironment(qa==='canvas'?r.ENVIRONMENTS.CANVAS:r.ENVIRONMENTS.PAGETAB);}function la(qa,ra){if(!ra){l.error('No senderOrigin');throw new Error();}var sa=/^https?/.exec(ra)[0];switch(qa.xd_action){case 'proxy_ready':var ta,ua;if(sa=='https'){ta=z;ua=ba;}else{ta=y;ua=aa;}if(qa.registered){ka(qa.registered);x=ta.merge(x);}l.info('Proxy ready, starting queue %s containing %s messages',sa+'ProxyQueue',ta.getLength());ta.start(function(wa){fa.send(typeof wa==='string'?wa:m.encode(wa),ra,ua.contentWindow,da+'_'+sa);});break;case 'plugin_ready':l.info('Plugin %s ready, protocol: %s',qa.name,sa);ia[qa.name]={protocol:sa};if(n.exists(qa.name)){var va=n.get(qa.name);l.debug('Enqueuing %s messages for %s in %s',va.getLength(),qa.name,sa+'ProxyQueue');(sa=='https'?z:y).merge(va);}break;}if(qa.data)ma(qa.data,ra);}function ma(qa,ra){if(ra&&ra!=='native'&&!t(ra).isFacebookURL())return;if(typeof qa=='string'){if(/^FB_RPC:/.test(qa)){ja.enqueue(qa.substring(7));return;}if(qa.substring(0,1)=='{'){try{qa=ES5('JSON','parse',false,qa);}catch(sa){l.warn('Failed to decode %s as JSON',qa);return;}}else qa=m.decode(qa);}if(!ra)if(qa.xd_sig==ca)ra=qa.xd_origin;if(qa.xd_action){la(qa,ra);return;}if(qa.access_token)r.setSecure(/^https/.test(ea));if(qa.cb){var ta=pa._callbacks[qa.cb];if(!pa._forever[qa.cb])delete pa._callbacks[qa.cb];if(ta)ta(qa);}}function na(qa,ra){if(qa=='facebook'){ra.relation='parent.parent';x.enqueue(ra);}else{ra.relation='parent.frames[\"'+qa+'\"]';var sa=ia[qa];if(sa){l.debug('Enqueuing message for plugin %s in %s',qa,sa.protocol+'ProxyQueue');(sa.protocol=='https'?z:y).enqueue(ra);}else{l.debug('Buffering message for plugin %s',qa);n.get(qa).enqueue(ra);}}}q.getOutQueue().start(function(qa){na('facebook','FB_RPC:'+qa);});function oa(qa,ra){if(ga)return;var sa=qa?/\\/\\/.*?(\\/[^#]*)/.exec(qa)[1]:location.pathname+location.search;sa+=(~ES5(sa,'indexOf',true,'?')?'&':'?')+'fb_xd_fragment#xd_sig='+ca+'&';var ta=g.appendHidden(document.createElement('div')),ua=i('kill_fragment')?['fragment']:null,va=w.create({blacklist:ua,root:ta,channel:da,channelPath:'/'+v.XdUrl+'#',flashUrl:v.Flash.path,whenReady:function(wa){fa=wa;var xa={channel:da,origin:location.protocol+'//'+location.host,channel_path:sa,transport:va,xd_name:ra},ya='/'+v.XdUrl+'#'+m.encode(xa),za=v.useCdn?s.resolve('cdn',false):'http://www.facebook.com',ab=v.useCdn?s.resolve('cdn',true):'https://www.facebook.com';if(r.getSecure()!==true)aa=h({url:za+ya,name:'fb_xdm_frame_http',id:'fb_xdm_frame_http',root:ta,'aria-hidden':true,title:ha,'tab-index':-1});ba=h({url:ab+ya,name:'fb_xdm_frame_https',id:'fb_xdm_frame_https',root:ta,'aria-hidden':true,title:ha,'tab-index':-1});},onMessage:ma});if(va==='fragment')window.FB_XD_onMessage=u(ma,'entry','XD:fragment');ga=true;}var pa={rpc:q,_callbacks:{},_forever:{},_channel:da,_origin:ea,onMessage:ma,recv:ma,init:oa,sendToFacebook:na,inform:function(qa,ra,sa,ta){na('facebook',{method:qa,params:ES5('JSON','stringify',false,ra||{}),behavior:ta||'p',relation:sa});},handler:function(qa,ra,sa,ta){var ua=v.useCdn?s.resolve('cdn',location.protocol=='https:'):location.protocol+'//www.facebook.com';return ua+'/'+v.XdUrl+'#'+m.encode({cb:this.registerCallback(qa,sa,ta),origin:ea+'/'+da,domain:location.hostname,relation:ra||'opener'});},registerCallback:function(qa,ra,sa){sa=sa||k();if(ra)pa._forever[sa]=true;pa._callbacks[sa]=qa;return sa;}};(function(){var qa=location.href.match(/[?&]fb_xd_fragment#(.*)$/);if(qa){document.documentElement.style.display='none';var ra=m.decode(qa[1]),sa=p(ra.xd_rel);l.debug('Passing fragment based message: %s',qa[1]);sa.FB_XD_onMessage(ra);document.open();document.close();}})();j.subscribe('init:post',function(qa){oa(qa.channelUrl?o(qa.channelUrl):null,qa.xdProxyName);});e.exports=pa;});\n__d(\"sdk.Auth\",[\"sdk.Cookie\",\"copyProperties\",\"sdk.createIframe\",\"DOMWrapper\",\"sdk.feature\",\"sdk.getContextType\",\"guid\",\"sdk.Impressions\",\"Log\",\"ObservableMixin\",\"QueryString\",\"sdk.Runtime\",\"sdk.SignedRequest\",\"UrlMap\",\"URL\",\"sdk.XD\"],function(a,b,c,d,e,f){var g=b('sdk.Cookie'),h=b('copyProperties'),i=b('sdk.createIframe'),j=b('DOMWrapper'),k=b('sdk.feature'),l=b('sdk.getContextType'),m=b('guid'),n=b('sdk.Impressions'),o=b('Log'),p=b('ObservableMixin'),q=b('QueryString'),r=b('sdk.Runtime'),s=b('sdk.SignedRequest'),t=b('UrlMap'),u=b('URL'),v=b('sdk.XD'),w,x,y=new p();function z(fa,ga){var ha=r.getUserID(),ia='';if(fa)if(fa.userID){ia=fa.userID;}else if(fa.signedRequest){var ja=s.parse(fa.signedRequest);if(ja&&ja.user_id)ia=ja.user_id;}var ka=r.getLoginStatus(),la=(ka==='unknown'&&fa)||(r.getUseCookie()&&r.getCookieUserID()!==ia),ma=ha&&!fa,na=fa&&ha&&ha!=ia,oa=fa!=w,pa=ga!=(ka||'unknown');r.setLoginStatus(ga);r.setAccessToken(fa&&fa.accessToken||null);r.setUserID(ia);w=fa;var qa={authResponse:fa,status:ga};if(ma||na)y.inform('logout',qa);if(la||na)y.inform('login',qa);if(oa)y.inform('authresponse.change',qa);if(pa)y.inform('status.change',qa);return qa;}function aa(){return w;}function ba(fa,ga,ha){return function(ia){var ja;if(ia&&ia.access_token){var ka=s.parse(ia.signed_request);ga={accessToken:ia.access_token,userID:ka.user_id,expiresIn:parseInt(ia.expires_in,10),signedRequest:ia.signed_request};if(ia.granted_scopes)ga.grantedScopes=ia.granted_scopes;if(r.getUseCookie()){var la=ga.expiresIn===0?0:ES5('Date','now',false)+ga.expiresIn*1000,ma=g.getDomain();if(!ma&&ia.base_domain)g.setDomain('.'+ia.base_domain);g.setSignedRequestCookie(ia.signed_request,la);}ja='connected';z(ga,ja);}else if(ha==='logout'||ha==='login_status'){if(ia.error&&ia.error==='not_authorized'){ja='not_authorized';}else ja='unknown';z(null,ja);if(r.getUseCookie())g.clearSignedRequestCookie();}if(ia&&ia.https==1)r.setSecure(true);if(fa)fa({authResponse:ga,status:r.getLoginStatus()});return ga;};}function ca(fa){var ga,ha=ES5('Date','now',false);if(x){clearTimeout(x);x=null;}var ia=ba(fa,w,'login_status'),ja=u(t.resolve('www',true)+'/connect/ping').setSearch(q.encode({client_id:r.getClientID(),response_type:'token,signed_request,code',domain:location.hostname,origin:l(),redirect_uri:v.handler(function(ka){if(k('e2e_ping_tracking',true)){var la={init:ha,close:ES5('Date','now',false),method:'ping'};o.debug('e2e: %s',ES5('JSON','stringify',false,la));n.log(114,{payload:la});}ga.parentNode.removeChild(ga);if(ia(ka))x=setTimeout(function(){ca(function(){});},1200000);},'parent'),sdk:'joey',kid_directed_site:r.getKidDirectedSite()}));ga=i({root:j.getRoot(),name:m(),url:ja.toString(),style:{display:'none'}});}var da;function ea(fa,ga){if(!r.getClientID()){o.warn('FB.getLoginStatus() called before calling FB.init().');return;}if(fa)if(!ga&&da=='loaded'){fa({status:r.getLoginStatus(),authResponse:aa()});return;}else y.subscribe('FB.loginStatus',fa);if(!ga&&da=='loading')return;da='loading';var ha=function(ia){da='loaded';y.inform('FB.loginStatus',ia);y.clearSubscribers('FB.loginStatus');};ca(ha);}h(y,{getLoginStatus:ea,fetchLoginStatus:ca,setAuthResponse:z,getAuthResponse:aa,parseSignedRequest:s.parse,xdResponseWrapper:ba});e.exports=y;});\n__d(\"invariant\",[],function(a,b,c,d,e,f){function g(h){if(!h){var i=new Error('Invariant Violation');i.framesToPop=1;throw i;}}e.exports=g;});\n__d(\"toArray\",[\"invariant\"],function(a,b,c,d,e,f){var g=b('invariant');function h(i){var j=i.length;g(!ES5('Array','isArray',false,i)&&(typeof i==='object'||typeof i==='function'));g(typeof j==='number');g(j===0||(j-1) in i);if(i.hasOwnProperty)try{return Array.prototype.slice.call(i);}catch(k){}var l=Array(j);for(var m=0;m<j;m++)l[m]=i[m];return l;}e.exports=h;});\n__d(\"createArrayFrom\",[\"toArray\"],function(a,b,c,d,e,f){var g=b('toArray');function h(j){return (!!j&&(typeof j=='object'||typeof j=='function')&&('length' in j)&&!('setInterval' in j)&&(typeof j.nodeType!='number')&&(ES5('Array','isArray',false,j)||('callee' in j)||('item' in j)));}function i(j){if(!h(j)){return [j];}else if(ES5('Array','isArray',false,j)){return j.slice();}else return g(j);}e.exports=i;});\n__d(\"sdk.DOM\",[\"Assert\",\"createArrayFrom\",\"sdk.domReady\",\"UserAgent\"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('createArrayFrom'),i=b('sdk.domReady'),j=b('UserAgent'),k={};function l(z,aa){var ba=(z.getAttribute(aa)||z.getAttribute(aa.replace(/_/g,'-'))||z.getAttribute(aa.replace(/-/g,'_'))||z.getAttribute(aa.replace(/-/g,''))||z.getAttribute(aa.replace(/_/g,''))||z.getAttribute('data-'+aa)||z.getAttribute('data-'+aa.replace(/_/g,'-'))||z.getAttribute('data-'+aa.replace(/-/g,'_'))||z.getAttribute('data-'+aa.replace(/-/g,''))||z.getAttribute('data-'+aa.replace(/_/g,'')));return ba?String(ba):null;}function m(z,aa){var ba=l(z,aa);return ba?/^(true|1|yes|on)$/.test(ba):null;}function n(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);try{return String(z[aa]);}catch(ba){throw new Error('Could not read property '+aa+' : '+ba.message);}}function o(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);try{z.innerHTML=aa;}catch(ba){throw new Error('Could not set innerHTML : '+ba.message);}}function p(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);var ba=' '+n(z,'className')+' ';return ES5(ba,'indexOf',true,' '+aa+' ')>=0;}function q(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);if(!p(z,aa))z.className=n(z,'className')+' '+aa;}function r(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);var ba=new RegExp('\\\\s*'+aa,'g');z.className=ES5(n(z,'className').replace(ba,''),'trim',true);}function s(z,aa,ba){g.isString(z);aa=aa||document.body;ba=ba||'*';if(aa.querySelectorAll)return h(aa.querySelectorAll(ba+'.'+z));var ca=aa.getElementsByTagName(ba),da=[];for(var ea=0,fa=ca.length;ea<fa;ea++)if(p(ca[ea],z))da[da.length]=ca[ea];return da;}function t(z,aa){g.isTruthy(z,'element not specified');g.isString(aa);aa=aa.replace(/-(\\w)/g,function(da,ea){return ea.toUpperCase();});var ba=z.currentStyle||document.defaultView.getComputedStyle(z,null),ca=ba[aa];if(/backgroundPosition?/.test(aa)&&/top|left/.test(ca))ca='0%';return ca;}function u(z,aa,ba){g.isTruthy(z,'element not specified');g.isString(aa);aa=aa.replace(/-(\\w)/g,function(ca,da){return da.toUpperCase();});z.style[aa]=ba;}function v(z,aa){var ba=true;for(var ca=0,da;da=aa[ca++];)if(!(da in k)){ba=false;k[da]=true;}if(ba)return;if(!j.ie()){var ea=document.createElement('style');ea.type='text/css';ea.textContent=z;document.getElementsByTagName('head')[0].appendChild(ea);}else try{document.createStyleSheet().cssText=z;}catch(fa){if(document.styleSheets[0])document.styleSheets[0].cssText+=z;}}function w(){var z=(document.documentElement&&document.compatMode=='CSS1Compat')?document.documentElement:document.body;return {scrollTop:z.scrollTop||document.body.scrollTop,scrollLeft:z.scrollLeft||document.body.scrollLeft,width:window.innerWidth?window.innerWidth:z.clientWidth,height:window.innerHeight?window.innerHeight:z.clientHeight};}function x(z){g.isTruthy(z,'element not specified');var aa=0,ba=0;do{aa+=z.offsetLeft;ba+=z.offsetTop;}while(z=z.offsetParent);return {x:aa,y:ba};}var y={containsCss:p,addCss:q,removeCss:r,getByClass:s,getStyle:t,setStyle:u,getAttr:l,getBoolAttr:m,getProp:n,html:o,addCssRules:v,getViewportInfo:w,getPosition:x,ready:i};e.exports=y;});\n__d(\"sdk.Scribe\",[\"UrlMap\",\"QueryString\"],function(a,b,c,d,e,f){var g=b('UrlMap'),h=b('QueryString');function i(k,l){(new Image()).src=h.appendToUrl(g.resolve('www',true)+'/common/scribe_endpoint.php',{c:k,m:ES5('JSON','stringify',false,l)});}var j={log:i};e.exports=j;});\n__d(\"sdk.ErrorHandling\",[\"sdk.feature\",\"ManagedError\",\"sdk.Runtime\",\"sdk.Scribe\",\"UserAgent\",\"wrapFunction\"],function(a,b,c,d,e,f){var g=b('sdk.feature'),h=b('ManagedError'),i=b('sdk.Runtime'),j=b('sdk.Scribe'),k=b('UserAgent'),l=b('wrapFunction'),m=g('error_handling',false),n='';function o(u){var v=u._originalError;delete u._originalError;j.log('jssdk_error',{appId:i.getClientID(),error:u.name||u.message,extra:u});throw v;}function p(u){var v={line:u.lineNumber||u.line,message:u.message,name:u.name,script:u.fileName||u.sourceURL||u.script,stack:u.stackTrace||u.stack};v._originalError=u;if(k.chrome()&&/([\\w:\\.\\/]+\\.js):(\\d+)/.test(u.stack)){v.script=RegExp.$1;v.line=parseInt(RegExp.$2,10);}for(var w in v)(v[w]==null&&delete v[w]);return v;}function q(u,v){return function(){if(!m)return u.apply(this,arguments);try{n=v;return u.apply(this,arguments);}catch(w){if(w instanceof h)throw w;var x=p(w);x.entry=v;var y=ES5(Array.prototype.slice.call(arguments),'map',true,function(z){var aa=Object.prototype.toString.call(z);return (/^\\[object (String|Number|Boolean|Object|Date)\\]$/).test(aa)?z:z.toString();});x.args=ES5('JSON','stringify',false,y).substring(0,200);o(x);}finally{n='';}};}function r(u){if(!u.__wrapper)u.__wrapper=function(){try{return u.apply(this,arguments);}catch(v){window.setTimeout(function(){throw v;},0);return false;}};return u.__wrapper;}function s(u,v){return function(w,x){var y=v+':'+(n||'[global]')+':'+(w.name||'[anonymous]'+(arguments.callee.caller.name?'('+arguments.callee.caller.name+')':''));return u(l(w,'entry',y),x);};}if(m){setTimeout=s(setTimeout,'setTimeout');setInterval=s(setInterval,'setInterval');l.setWrapper(q,'entry');}var t={guard:q,unguard:r};e.exports=t;});\n__d(\"sdk.Insights\",[\"sdk.Impressions\"],function(a,b,c,d,e,f){var g=b('sdk.Impressions'),h={TYPE:{NOTICE:'notice',WARNING:'warn',ERROR:'error'},CATEGORY:{DEPRECATED:'deprecated',APIERROR:'apierror'},log:function(i,j,k){var l={source:'jssdk',type:i,category:j,payload:k};g.log(113,l);},impression:g.impression};e.exports=h;});\n__d(\"FB\",[\"sdk.Auth\",\"copyProperties\",\"dotAccess\",\"sdk.domReady\",\"sdk.DOM\",\"sdk.ErrorHandling\",\"sdk.Content\",\"DOMWrapper\",\"GlobalCallback\",\"sdk.Insights\",\"Log\",\"sdk.Runtime\",\"sdk.Scribe\",\"CssConfig\",\"SDKConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Auth'),h=b('copyProperties'),i=c('CssConfig'),j=b('dotAccess'),k=b('sdk.domReady'),l=b('sdk.DOM'),m=b('sdk.ErrorHandling'),n=b('sdk.Content'),o=b('DOMWrapper'),p=b('GlobalCallback'),q=b('sdk.Insights'),r=b('Log'),s=b('sdk.Runtime'),t=b('sdk.Scribe'),u=c('SDKConfig'),v,w,x=j(u,'api.mode'),y={};v=window.FB={};var z={};r.level=1;p.setPrefix('FB.__globalCallbacks');var aa=document.createElement('div');o.setRoot(aa);k(function(){r.info('domReady');n.appendHidden(aa);if(i.rules)l.addCssRules(i.rules,i.components);});s.subscribe('AccessToken.change',function(da){if(!da&&s.getLoginStatus()==='connected')g.getLoginStatus(null,true);});if(j(u,'api.whitelist.length')){w={};ES5(u.api.whitelist,'forEach',true,function(da){w[da]=1;});}function ba(da,ea,fa,ga){var ha;if(/^_/.test(fa)){ha='hide';}else if(w&&!w[ea])ha=x;switch(ha){case 'hide':return;case 'stub':return function(){r.warn('The method FB.%s has been removed from the JS SDK.',ea);};break;default:return m.guard(function(){if(ha==='warn'){r.warn('The method FB.%s is not officially supported by '+'Facebook and access to it will soon be removed.',ea);if(!y.hasOwnProperty(ea)){q.log(q.TYPE.WARNING,q.CATEGORY.DEPRECATED,'FB.'+ea);t.log('jssdk_error',{appId:s.getClientID(),error:'Private method used',extra:{args:ea}});y[ea]=true;}}function ia(qa){if(ES5('Array','isArray',false,qa))return ES5(qa,'map',true,ia);if(qa&&typeof qa==='object'&&qa.__wrapped)return qa.__wrapped;return typeof qa==='function'&&/^function/.test(qa.toString())?m.unguard(qa):qa;}var ja=ES5(Array.prototype.slice.call(arguments),'map',true,ia),ka=da.apply(ga,ja),la,ma=true;if(ka&&typeof ka==='object'){var na=Function();na.prototype=ka;la=new na();la.__wrapped=ka;for(var oa in ka){var pa=ka[oa];if(typeof pa!=='function'||oa==='constructor')continue;ma=false;la[oa]=ba(pa,ea+':'+oa,oa,ka);}}if(!ma)return la;return ma?ka:la;},ea);}}function ca(da,ea){var fa=da?j(v,da,true):v;ES5(ES5('Object','keys',false,ea),'forEach',true,function(ga){var ha=ea[ga];if(typeof ha==='function'){var ia=(da?da+'.':'')+ga,ja=ba(ha,ia,ga,ea);if(ja)fa[ga]=ja;}});}s.setSecure((function(){var da=/iframe_canvas|app_runner/.test(window.name),ea=/dialog/.test(window.name);if(location.protocol=='https:'&&(window==top||!(da||ea)))return true;if(/_fb_https?/.test(window.name))return ES5(window.name,'indexOf',true,'_fb_https')!=-1;})());h(z,{provide:ca});e.exports=z;});\n__d(\"ArgumentError\",[\"ManagedError\"],function(a,b,c,d,e,f){var g=b('ManagedError');function h(i,j){g.prototype.constructor.apply(this,arguments);}h.prototype=new g();h.prototype.constructor=h;e.exports=h;});\n__d(\"CORSRequest\",[\"wrapFunction\",\"QueryString\"],function(a,b,c,d,e,f){var g=b('wrapFunction'),h=b('QueryString');function i(l,m){if(!self.XMLHttpRequest)return null;var n=new XMLHttpRequest(),o=function(){};if('withCredentials' in n){n.open(l,m,true);n.setRequestHeader('Content-type','application/x-www-form-urlencoded');}else if(self.XDomainRequest){n=new XDomainRequest();try{n.open(l,m);n.onprogress=n.ontimeout=o;}catch(p){return null;}}else return null;var q={send:function(t){n.send(t);}},r=g(function(){r=o;if('onload' in q)q.onload(n);},'entry','XMLHttpRequest:load'),s=g(function(){s=o;if('onerror' in q)q.onerror(n);},'entry','XMLHttpRequest:error');n.onload=function(){r();};n.onerror=function(){s();};n.onreadystatechange=function(){if(n.readyState==4)if(n.status==200){r();}else s();};return q;}function j(l,m,n,o){n.suppress_http_code=1;var p=h.encode(n);if(m!='post'){l=h.appendToUrl(l,p);p='';}var q=i(m,l);if(!q)return false;q.onload=function(r){o(ES5('JSON','parse',false,r.responseText));};q.onerror=function(r){if(r.responseText){o(ES5('JSON','parse',false,r.responseText));}else o({error:{type:'http',message:'unknown error',status:r.status}});};q.send(p);return true;}var k={execute:j};e.exports=k;});\n__d(\"FlashRequest\",[\"DOMWrapper\",\"Flash\",\"GlobalCallback\",\"QueryString\",\"Queue\"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('Flash'),i=b('GlobalCallback'),j=b('QueryString'),k=b('Queue'),l,m={},n,o;function p(){if(!n)throw new Error('swfUrl has not been set');var s=i.create(function(){l.start(function(u){var v=o.execute(u.method,u.url,u.body);if(!v)throw new Error('Could create request');m[v]=u.callback;});}),t=i.create(function(u,v,w){var x;try{x=ES5('JSON','parse',false,decodeURIComponent(w));}catch(y){x={error:{type:'SyntaxError',message:y.message,status:v,raw:w}};}m[u](x);delete m[u];});o=h.embed(n,g.getRoot(),null,{log:false,initCallback:s,requestCallback:t});}function q(s,t,u,v){u.suppress_http_code=1;if(!u.method)u.method=t;var w=j.encode(u);if(t==='get'&&s.length+w.length<2000){s=j.appendToUrl(s,w);w='';}else t='post';if(!l){if(!h.isAvailable())return false;l=new k();p();}l.enqueue({method:t,url:s,body:w,callback:v});return true;}var r={setSwfUrl:function(s){n=s;},execute:q};e.exports=r;});\n__d(\"flattenObject\",[],function(a,b,c,d,e,f){function g(h){var i={};for(var j in h)if(h.hasOwnProperty(j)){var k=h[j];if(null===k||undefined===k){continue;}else if(typeof k=='string'){i[j]=k;}else i[j]=ES5('JSON','stringify',false,k);}return i;}e.exports=g;});\n__d(\"JSONPRequest\",[\"DOMWrapper\",\"GlobalCallback\",\"QueryString\"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('GlobalCallback'),i=b('QueryString');function j(l,m,n,o){var p=document.createElement('script'),q=function(s){q=function(){};h.remove(n.callback);o(s);p.parentNode.removeChild(p);};n.callback=h.create(q);if(!n.method)n.method=m;l=i.appendToUrl(l,n);if(l.length>2000){h.remove(n.callback);return false;}p.onerror=function(){q({error:{type:'http',message:'unknown error'}});};var r=function(){setTimeout(function(){q({error:{type:'http',message:'unknown error'}});},0);};if(p.addEventListener){p.addEventListener('load',r,false);}else p.onreadystatechange=function(){if(/loaded|complete/.test(this.readyState))r();};p.src=l;g.getRoot().appendChild(p);return true;}var k={execute:j};e.exports=k;});\n__d(\"keyMirror\",[\"invariant\"],function(a,b,c,d,e,f){\"use strict\";var g=b('invariant'),h=function(i){var j={},k;g(i instanceof Object&&!ES5('Array','isArray',false,i));for(k in i){if(!i.hasOwnProperty(k))continue;j[k]=k;}return j;};e.exports=h;});\n__d(\"mergeHelpers\",[\"invariant\",\"keyMirror\"],function(a,b,c,d,e,f){\"use strict\";var g=b('invariant'),h=b('keyMirror'),i=36,j=function(l){return typeof l!=='object'||l===null;},k={MAX_MERGE_DEPTH:i,isTerminal:j,normalizeMergeArg:function(l){return l===undefined||l===null?{}:l;},checkMergeArrayArgs:function(l,m){g(ES5('Array','isArray',false,l)&&ES5('Array','isArray',false,m));},checkMergeObjectArgs:function(l,m){k.checkMergeObjectArg(l);k.checkMergeObjectArg(m);},checkMergeObjectArg:function(l){g(!j(l)&&!ES5('Array','isArray',false,l));},checkMergeLevel:function(l){g(l<i);},checkArrayStrategy:function(l){g(l===undefined||l in k.ArrayStrategies);},ArrayStrategies:h({Clobber:true,IndexByIndex:true})};e.exports=k;});\n__d(\"mergeInto\",[\"mergeHelpers\"],function(a,b,c,d,e,f){\"use strict\";var g=b('mergeHelpers'),h=g.checkMergeObjectArg;function i(j,k){h(j);if(k!=null){h(k);for(var l in k){if(!k.hasOwnProperty(l))continue;j[l]=k[l];}}}e.exports=i;});\n__d(\"merge\",[\"mergeInto\"],function(a,b,c,d,e,f){\"use strict\";var g=b('mergeInto'),h=function(i,j){var k={};g(k,i);g(k,j);return k;};e.exports=h;});\n__d(\"ApiClient\",[\"ArgumentError\",\"Assert\",\"copyProperties\",\"CORSRequest\",\"FlashRequest\",\"flattenObject\",\"JSONPRequest\",\"Log\",\"merge\",\"ObservableMixin\",\"sprintf\",\"URL\",\"UrlMap\",\"ApiClientConfig\"],function(a,b,c,d,e,f){var g=b('ArgumentError'),h=b('Assert'),i=b('copyProperties'),j=b('CORSRequest'),k=b('FlashRequest'),l=b('flattenObject'),m=b('JSONPRequest'),n=b('Log'),o=b('merge'),p=b('ObservableMixin'),q=b('sprintf'),r=b('URL'),s=b('UrlMap'),t=b('ApiClientConfig'),u,v,w,x={get:true,post:true,'delete':true,put:true},y={fql_query:true,fql_multiquery:true,friends_get:true,notifications_get:true,stream_get:true,users_getinfo:true};function z(ea,fa,ga,ha){if(w)ga=i({},w,ga);ga.access_token=ga.access_token||u;ga.pretty=ga.pretty||0;ga=l(ga);var ia={jsonp:m,cors:j,flash:k},ja;if(ga.transport){ja=[ga.transport];delete ga.transport;}else ja=['jsonp','cors','flash'];for(var ka=0;ka<ja.length;ka++){var la=ia[ja[ka]],ma=i({},ga);if(la.execute(ea,fa,ma,ha))return;}ha({error:{type:'no-transport',message:'Could not find a usable transport for request'}});}function aa(ea,fa,ga,ha,ia){da.inform('request.complete',fa,ga,ha,ia);if(ea)ea(ia);}function ba(ea){h.isString(ea,'Invalid path');var fa,ga={};try{fa=new r(ea);}catch(ha){throw new g(ha.message,ha);}ES5(Array.prototype.slice.call(arguments,1),'forEach',true,function(ma){ga[typeof ma]=ma;});var ia=(ga.string||'get').toLowerCase(),ja=o(ga.object||{},fa.getParsedSearch()),ka=ga['function'];if(!ka)n.warn('No callback passed to the ApiClient');var la=ES5(aa,'bind',true,null,ka,fa.getPath(),ia,ja);h.isTrue(ia in x,q('Invalid method passed to ApiClient: %s',ia));ja.method=ia;fa=s.resolve('graph')+fa.getPath();z(fa,ia=='get'?'get':'post',ja,la);}function ca(ea,fa){h.isObject(ea);h.isString(ea.method,'method missing');if(!fa)n.warn('No callback passed to the ApiClient');var ga=ea.method.toLowerCase().replace('.','_');ea.format='json-strings';ea.api_key=v;var ha=ga in y?'api_read':'api',ia=s.resolve(ha)+'/restserver.php',ja=ES5(aa,'bind',true,null,fa,'/restserver.php','get',ea);z(ia,'get',ea,ja);}var da=i(new p(),{setAccessToken:function(ea){u=ea;},setClientID:function(ea){v=ea;},setDefaultParams:function(ea){w=ea;},rest:ca,graph:ba});k.setSwfUrl(t.FlashRequest.swfUrl);e.exports=da;});\n__d(\"sdk.api\",[\"ApiClient\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('ApiClient'),h=b('sdk.Runtime'),i;h.subscribe('ClientID.change',function(k){g.setClientID(k);});h.subscribe('AccessToken.change',function(k){i=k;g.setAccessToken(k);});g.setDefaultParams({sdk:'joey'});g.subscribe('request.complete',function(k,l,m,n){var o=false;if(n&&typeof n=='object')if(n.error){if(n.error=='invalid_token'||(n.error.type=='OAuthException'&&n.error.code==190))o=true;}else if(n.error_code)if(n.error_code=='190')o=true;if(o&&i===h.getAccessToken())h.setAccessToken(null);});g.subscribe('request.complete',function(k,l,m,n){if(((k=='/me/permissions'&&l==='delete')||(k=='/restserver.php'&&m.method=='Auth.revokeAuthorization'))&&n===true)h.setAccessToken(null);});function j(){if(typeof arguments[0]==='string'){g.graph.apply(g,arguments);}else g.rest.apply(g,arguments);}e.exports=j;});\n__d(\"legacy:fb.api\",[\"FB\",\"sdk.api\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.api');e.provide('',{api:f});},3);\n__d(\"sdk.Canvas.Environment\",[\"sdk.RPC\"],function(a,b,c,d,e,f){var g=b('sdk.RPC');function h(k){g.remote.getPageInfo(function(l){k(l.result);});}function i(k,l){g.remote.scrollTo({x:k||0,y:l||0});}g.stub('getPageInfo');g.stub('scrollTo');var j={getPageInfo:h,scrollTo:i};e.exports=j;});\n__d(\"sdk.Intl\",[\"Log\"],function(a,b,c,d,e,f){var g=b('Log'),h=('['+'.!?'+'\\u3002'+'\\uFF01'+'\\uFF1F'+'\\u0964'+'\\u2026'+'\\u0EAF'+'\\u1801'+'\\u0E2F'+'\\uFF0E'+']');function i(l){if(typeof l!='string')return false;return !!l.match(new RegExp(h+'['+')\"'+\"'\"+'\\u00BB'+'\\u0F3B'+'\\u0F3D'+'\\u2019'+'\\u201D'+'\\u203A'+'\\u3009'+'\\u300B'+'\\u300D'+'\\u300F'+'\\u3011'+'\\u3015'+'\\u3017'+'\\u3019'+'\\u301B'+'\\u301E'+'\\u301F'+'\\uFD3F'+'\\uFF07'+'\\uFF09'+'\\uFF3D'+'\\\\s'+']*$'));}function j(l,m){if(m!==undefined)if(typeof m!='object'){g.error('The second arg to FB.Intl.tx() must be an Object for '+'FB.Intl.tx('+l+', ...)');}else{var n;for(var o in m)if(m.hasOwnProperty(o)){if(i(m[o])){n=new RegExp('\\\\{'+o+'\\\\}'+h+'*','g');}else n=new RegExp('\\\\{'+o+'\\\\}','g');l=l.replace(n,m[o]);}}return l;}function k(){throw new Error('Placeholder function');}k._=j;e.exports={tx:k};});\n__d(\"sdk.Dialog\",[\"sdk.Canvas.Environment\",\"sdk.Content\",\"sdk.DOM\",\"DOMEventListener\",\"sdk.Intl\",\"ObservableMixin\",\"sdk.Runtime\",\"Type\",\"UserAgent\"],function(a,b,c,d,e,f){var g=b('sdk.Canvas.Environment'),h=b('sdk.Content'),i=b('sdk.DOM'),j=b('DOMEventListener'),k=b('sdk.Intl'),l=b('ObservableMixin'),m=b('sdk.Runtime'),n=b('Type'),o=b('UserAgent'),p=n.extend({constructor:function r(s,t){this.parent();this.id=s;this.display=t;this._e2e={};if(!q._dialogs){q._dialogs={};q._addOrientationHandler();}q._dialogs[s]=this;this.trackEvent('init');},trackEvent:function(r,s){if(this._e2e[r])return this;this._e2e[r]=s||ES5('Date','now',false);if(r=='close')this.inform('e2e:end',this._e2e);return this;},trackEvents:function(r){if(!r)return this;if(typeof r==='string')r=ES5('JSON','parse',false,r);for(var s in r)if(r.hasOwnProperty(s))this.trackEvent(s,r[s]);return this;}},l),q={newInstance:function(r,s){return new p(r,s);},_dialogs:null,_lastYOffset:0,_loaderEl:null,_overlayEl:null,_stack:[],_active:null,get:function(r){return q._dialogs[r];},_findRoot:function(r){while(r){if(i.containsCss(r,'fb_dialog'))return r;r=r.parentNode;}},_createWWWLoader:function(r){r=r?r:460;return q.create({content:('<div class=\"dialog_title\">'+'  <a id=\"fb_dialog_loader_close\">'+'    <div class=\"fb_dialog_close_icon\"></div>'+'  </a>'+'  <span>Facebook</span>'+'  <div style=\"clear:both;\"></div>'+'</div>'+'<div class=\"dialog_content\"></div>'+'<div class=\"dialog_footer\"></div>'),width:r});},_createMobileLoader:function(){var r=o.nativeApp()?'':('<table>'+'  <tbody>'+'    <tr>'+'      <td class=\"header_left\">'+'        <label class=\"touchable_button\">'+'          <input type=\"submit\" value=\"'+k.tx._(\"Cancel\")+'\"'+'            id=\"fb_dialog_loader_close\"/>'+'        </label>'+'      </td>'+'      <td class=\"header_center\">'+'        <div>'+k.tx._(\"Loading...\")+'</div>'+'      </td>'+'      <td class=\"header_right\">'+'      </td>'+'    </tr>'+'  </tbody>'+'</table>');return q.create({classes:'loading'+(o.ipad()?' centered':''),content:('<div class=\"dialog_header\">'+r+'</div>')});},_restoreBodyPosition:function(){if(!o.ipad()){var r=document.getElementsByTagName('body')[0];i.removeCss(r,'fb_hidden');}},_showIPadOverlay:function(){if(!o.ipad())return;if(!q._overlayEl){q._overlayEl=document.createElement('div');q._overlayEl.setAttribute('id','fb_dialog_ipad_overlay');h.append(q._overlayEl,null);}q._overlayEl.className='';},_hideIPadOverlay:function(){if(o.ipad())q._overlayEl.className='hidden';},showLoader:function(r,s){q._showIPadOverlay();if(!q._loaderEl)q._loaderEl=q._findRoot(o.mobile()?q._createMobileLoader():q._createWWWLoader(s));if(!r)r=function(){};var t=document.getElementById('fb_dialog_loader_close');i.removeCss(t,'fb_hidden');t.onclick=function(){q._hideLoader();q._restoreBodyPosition();q._hideIPadOverlay();r();};var u=document.getElementById('fb_dialog_ipad_overlay');if(u)u.ontouchstart=t.onclick;q._makeActive(q._loaderEl);},_hideLoader:function(){if(q._loaderEl&&q._loaderEl==q._active)q._loaderEl.style.top='-10000px';},_makeActive:function(r){q._setDialogSizes();q._lowerActive();q._active=r;if(m.isEnvironment(m.ENVIRONMENTS.CANVAS))g.getPageInfo(function(s){q._centerActive(s);});q._centerActive();},_lowerActive:function(){if(!q._active)return;q._active.style.top='-10000px';q._active=null;},_removeStacked:function(r){q._stack=ES5(q._stack,'filter',true,function(s){return s!=r;});},_centerActive:function(r){var s=q._active;if(!s)return;var t=i.getViewportInfo(),u=parseInt(s.offsetWidth,10),v=parseInt(s.offsetHeight,10),w=t.scrollLeft+(t.width-u)/2,x=(t.height-v)/2.5;if(w<x)x=w;var y=t.height-v-x,z=(t.height-v)/2;if(r)z=r.scrollTop-r.offsetTop+(r.clientHeight-v)/2;if(z<x){z=x;}else if(z>y)z=y;z+=t.scrollTop;if(o.mobile()){var aa=100;if(o.ipad()){aa+=(t.height-v)/2;}else{var ba=document.getElementsByTagName('body')[0];i.addCss(ba,'fb_hidden');z=10000;}var ca=i.getByClass('fb_dialog_padding',s);if(ca.length)ca[0].style.height=aa+'px';}s.style.left=(w>0?w:0)+'px';s.style.top=(z>0?z:0)+'px';},_setDialogSizes:function(){if(!o.mobile()||o.ipad())return;for(var r in q._dialogs)if(q._dialogs.hasOwnProperty(r)){var s=document.getElementById(r);if(s){s.style.width=q.getDefaultSize().width+'px';s.style.height=q.getDefaultSize().height+'px';}}},getDefaultSize:function(){if(o.mobile())if(o.ipad()){return {width:500,height:590};}else if(o.android()){return {width:screen.availWidth,height:screen.availHeight};}else{var r=window.innerWidth,s=window.innerHeight,t=r/s>1.2;return {width:r,height:Math.max(s,(t?screen.width:screen.height))};}return {width:575,height:240};},_handleOrientationChange:function(r){if(o.android()&&screen.availWidth==q._availScreenWidth){setTimeout(q._handleOrientationChange,50);return;}q._availScreenWidth=screen.availWidth;if(o.ipad()){q._centerActive();}else{var s=q.getDefaultSize().width;for(var t in q._dialogs)if(q._dialogs.hasOwnProperty(t)){var u=document.getElementById(t);if(u)u.style.width=s+'px';}}},_addOrientationHandler:function(){if(!o.mobile())return;var r=\"onorientationchange\" in window?'orientationchange':'resize';q._availScreenWidth=screen.availWidth;j.add(window,r,q._handleOrientationChange);},create:function(r){r=r||{};var s=document.createElement('div'),t=document.createElement('div'),u='fb_dialog';if(r.closeIcon&&r.onClose){var v=document.createElement('a');v.className='fb_dialog_close_icon';v.onclick=r.onClose;s.appendChild(v);}u+=' '+(r.classes||'');if(o.ie()){u+=' fb_dialog_legacy';ES5(['vert_left','vert_right','horiz_top','horiz_bottom','top_left','top_right','bottom_left','bottom_right'],'forEach',true,function(y){var z=document.createElement('span');z.className='fb_dialog_'+y;s.appendChild(z);});}else u+=o.mobile()?' fb_dialog_mobile':' fb_dialog_advanced';if(r.content)h.append(r.content,t);s.className=u;var w=parseInt(r.width,10);if(!isNaN(w))s.style.width=w+'px';t.className='fb_dialog_content';s.appendChild(t);if(o.mobile()){var x=document.createElement('div');x.className='fb_dialog_padding';s.appendChild(x);}h.append(s);if(r.visible)q.show(s);return t;},show:function(r){var s=q._findRoot(r);if(s){q._removeStacked(s);q._hideLoader();q._makeActive(s);q._stack.push(s);if('fbCallID' in r)q.get(r.fbCallID).inform('iframe_show').trackEvent('show');}},hide:function(r){var s=q._findRoot(r);q._hideLoader();if(s==q._active){q._lowerActive();q._restoreBodyPosition();q._hideIPadOverlay();if('fbCallID' in r)q.get(r.fbCallID).inform('iframe_hide').trackEvent('hide');}},remove:function(r){r=q._findRoot(r);if(r){var s=q._active==r;q._removeStacked(r);if(s){q._hideLoader();if(q._stack.length>0){q.show(q._stack.pop());}else{q._lowerActive();q._restoreBodyPosition();q._hideIPadOverlay();}}else if(q._active===null&&q._stack.length>0)q.show(q._stack.pop());setTimeout(function(){r.parentNode.removeChild(r);},3000);}},isActive:function(r){var s=q._findRoot(r);return s&&s===q._active;}};e.exports=q;});\n__d(\"sdk.Frictionless\",[\"sdk.Auth\",\"sdk.api\",\"sdk.Event\",\"sdk.Dialog\"],function(a,b,c,d,e,f){var g=b('sdk.Auth'),h=b('sdk.api'),i=b('sdk.Event'),j=b('sdk.Dialog'),k={_allowedRecipients:{},_useFrictionless:false,_updateRecipients:function(){k._allowedRecipients={};h('/me/apprequestformerrecipients',function(l){if(!l||l.error)return;ES5(l.data,'forEach',true,function(m){k._allowedRecipients[m.recipient_id]=true;});});},init:function(){k._useFrictionless=true;g.getLoginStatus(function(l){if(l.status=='connected')k._updateRecipients();});i.subscribe('auth.login',function(l){if(l.authResponse)k._updateRecipients();});},_processRequestResponse:function(l,m){return function(n){var o=n&&n.updated_frictionless;if(k._useFrictionless&&o)k._updateRecipients();if(n){if(!m&&n.frictionless){j._hideLoader();j._restoreBodyPosition();j._hideIPadOverlay();}delete n.frictionless;delete n.updated_frictionless;}l&&l(n);};},isAllowed:function(l){if(!l)return false;if(typeof l==='number')return l in k._allowedRecipients;if(typeof l==='string')l=l.split(',');l=ES5(l,'map',true,function(o){return ES5(String(o),'trim',true);});var m=true,n=false;ES5(l,'forEach',true,function(o){m=m&&o in k._allowedRecipients;n=true;});return m&&n;}};i.subscribe('init:post',function(l){if(l.frictionlessRequests)k.init();});e.exports=k;});\n__d(\"insertIframe\",[\"guid\",\"GlobalCallback\"],function(a,b,c,d,e,f){var g=b('guid'),h=b('GlobalCallback');function i(j){j.id=j.id||g();j.name=j.name||g();var k=false,l=false,m=function(){if(k&&!l){l=true;j.onload&&j.onload(j.root.firstChild);}},n=h.create(m);if(document.attachEvent){var o=('<iframe'+' id=\"'+j.id+'\"'+' name=\"'+j.name+'\"'+(j.title?' title=\"'+j.title+'\"':'')+(j.className?' class=\"'+j.className+'\"':'')+' style=\"border:none;'+(j.width?'width:'+j.width+'px;':'')+(j.height?'height:'+j.height+'px;':'')+'\"'+' src=\"javascript:false;\"'+' frameborder=\"0\"'+' scrolling=\"no\"'+' allowtransparency=\"true\"'+' onload=\"'+n+'()\"'+'></iframe>');j.root.innerHTML=('<iframe src=\"javascript:false\"'+' frameborder=\"0\"'+' scrolling=\"no\"'+' style=\"height:1px\"></iframe>');k=true;setTimeout(function(){j.root.innerHTML=o;j.root.firstChild.src=j.url;j.onInsert&&j.onInsert(j.root.firstChild);},0);}else{var p=document.createElement('iframe');p.id=j.id;p.name=j.name;p.onload=m;p.scrolling='no';p.style.border='none';p.style.overflow='hidden';if(j.title)p.title=j.title;if(j.className)p.className=j.className;if(j.height!==undefined)p.style.height=j.height+'px';if(j.width!==undefined)if(j.width=='100%'){p.style.width=j.width;}else p.style.width=j.width+'px';j.root.appendChild(p);k=true;p.src=j.url;j.onInsert&&j.onInsert(p);}}e.exports=i;});\n__d(\"sdk.Native\",[\"copyProperties\",\"Log\",\"UserAgent\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('Log'),i=b('UserAgent'),j='fbNativeReady',k={onready:function(l){if(!i.nativeApp()){h.error('FB.Native.onready only works when the page is rendered '+'in a WebView of the native Facebook app. Test if this is the '+'case calling FB.UA.nativeApp()');return;}if(window.__fbNative&&!this.nativeReady)g(this,window.__fbNative);if(this.nativeReady){l();}else{var m=function(n){window.removeEventListener(j,m);this.onready(l);};window.addEventListener(j,m,false);}}};e.exports=k;});\n__d(\"sdk.UIServer\",[\"sdk.Auth\",\"sdk.Content\",\"copyProperties\",\"sdk.Dialog\",\"sdk.DOM\",\"sdk.Event\",\"flattenObject\",\"sdk.Frictionless\",\"sdk.getContextType\",\"guid\",\"insertIframe\",\"Log\",\"sdk.Native\",\"QueryString\",\"resolveURI\",\"sdk.RPC\",\"sdk.Runtime\",\"UrlMap\",\"UserAgent\",\"sdk.XD\",\"SDKConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Auth'),h=b('sdk.Content'),i=b('copyProperties'),j=b('sdk.Dialog'),k=b('sdk.DOM'),l=b('sdk.Event'),m=b('flattenObject'),n=b('sdk.Frictionless'),o=b('sdk.getContextType'),p=b('guid'),q=b('insertIframe'),r=b('Log'),s=b('sdk.Native'),t=b('QueryString'),u=b('resolveURI'),v=b('sdk.RPC'),w=b('sdk.Runtime'),x=c('SDKConfig'),y=b('UrlMap'),z=b('UserAgent'),aa=b('sdk.XD'),ba={transform:function(ea){if(ea.params.display==='touch'&&ea.params.access_token&&window.postMessage){ea.params.channel=da._xdChannelHandler(ea.id,'parent');if(!z.nativeApp())ea.params.in_iframe=1;return ea;}else return da.genericTransform(ea);},getXdRelation:function(ea){var fa=ea.display;if(fa==='touch'&&window.postMessage&&ea.in_iframe)return 'parent';return da.getXdRelation(ea);}},ca={'stream.share':{size:{width:670,height:340},url:'sharer.php',transform:function(ea){if(!ea.params.u)ea.params.u=window.location.toString();ea.params.display='popup';return ea;}},apprequests:{transform:function(ea){ea=ba.transform(ea);ea.params.frictionless=n&&n._useFrictionless;if(ea.params.frictionless){if(n.isAllowed(ea.params.to)){ea.params.display='iframe';ea.params.in_iframe=true;ea.hideLoader=true;}ea.cb=n._processRequestResponse(ea.cb,ea.hideLoader);}ea.closeIcon=false;return ea;},getXdRelation:ba.getXdRelation},feed:ba,'permissions.oauth':{url:'dialog/oauth',size:{width:(z.mobile()?null:475),height:(z.mobile()?null:183)},transform:function(ea){if(!w.getClientID()){r.error('FB.login() called before FB.init().');return;}if(g.getAuthResponse()&&!ea.params.scope&&!ea.params.auth_type){r.error('FB.login() called when user is already connected.');ea.cb&&ea.cb({status:w.getLoginStatus(),authResponse:g.getAuthResponse()});return;}var fa=ea.cb,ga=ea.id;delete ea.cb;if(ea.params.display==='async'){i(ea.params,{client_id:w.getClientID(),origin:o(),response_type:'token,signed_request',domain:location.hostname});ea.cb=g.xdResponseWrapper(fa,g.getAuthResponse(),'permissions.oauth');}else i(ea.params,{client_id:w.getClientID(),redirect_uri:u(da.xdHandler(fa,ga,'opener',g.getAuthResponse(),'permissions.oauth')),origin:o(),response_type:'token,signed_request',domain:location.hostname});return ea;}},'auth.logout':{url:'logout.php',transform:function(ea){if(!w.getClientID()){r.error('FB.logout() called before calling FB.init().');}else if(!g.getAuthResponse()){r.error('FB.logout() called without an access token.');}else{ea.params.next=da.xdHandler(ea.cb,ea.id,'parent',g.getAuthResponse(),'logout');return ea;}}},'login.status':{url:'dialog/oauth',transform:function(ea){var fa=ea.cb,ga=ea.id;delete ea.cb;i(ea.params,{client_id:w.getClientID(),redirect_uri:da.xdHandler(fa,ga,'parent',g.getAuthResponse(),'login_status'),origin:o(),response_type:'token,signed_request,code',domain:location.hostname});return ea;}}},da={Methods:ca,_loadedNodes:{},_defaultCb:{},_resultToken:'\"xxRESULTTOKENxx\"',genericTransform:function(ea){if(ea.params.display=='dialog'||ea.params.display=='iframe')i(ea.params,{display:'iframe',channel:da._xdChannelHandler(ea.id,'parent.parent')},true);return ea;},checkOauthDisplay:function(ea){var fa=ea.scope||ea.perms||w.getScope();if(!fa)return ea.display;var ga=fa.split(/\\s|,/g);for(var ha=0;ha<ga.length;ha++)if(!x.initSitevars.iframePermissions[ES5(ga[ha],'trim',true)])return 'popup';return ea.display;},prepareCall:function(ea,fa){var ga=ea.method.toLowerCase(),ha=i({},da.Methods[ga]),ia=p(),ja=w.getSecure()||(ga!=='auth.status'&&ga!='login.status');i(ea,{app_id:w.getClientID(),locale:w.getLocale(),sdk:'joey',access_token:ja&&w.getAccessToken()||undefined});ea.display=da.getDisplayMode(ha,ea);if(!ha.url)ha.url='dialog/'+ga;if((ha.url=='dialog/oauth'||ha.url=='dialog/permissions.request')&&(ea.display=='iframe'||(ea.display=='touch'&&ea.in_iframe)))ea.display=da.checkOauthDisplay(ea);var ka={cb:fa,id:ia,size:ha.size||da.getDefaultSize(),url:y.resolve(ea.display=='touch'?'m':'www',ja)+'/'+ha.url,params:ea,name:ga,dialog:j.newInstance(ia,ea.display)},la=ha.transform?ha.transform:da.genericTransform;if(la){ka=la(ka);if(!ka)return;}var ma=ha.getXdRelation||da.getXdRelation,na=ma(ka.params);if(!(ka.id in da._defaultCb)&&!('next' in ka.params)&&!('redirect_uri' in ka.params))ka.params.next=da._xdResult(ka.cb,ka.id,na,true);if(na==='parent')i(ka.params,{channel_url:da._xdChannelHandler(ia,'parent.parent')},true);ka=da.prepareParams(ka);return ka;},prepareParams:function(ea){var fa=ea.params.method;if(ea.params.display!=='async')delete ea.params.method;ea.params=m(ea.params);var ga=t.encode(ea.params);if(!z.nativeApp()&&da.urlTooLongForIE(ea.url+'?'+ga)){ea.post=true;}else if(ga)ea.url+='?'+ga;return ea;},urlTooLongForIE:function(ea){return ea.length>2000;},getDisplayMode:function(ea,fa){if(fa.display==='hidden'||fa.display==='none')return fa.display;var ga=w.isEnvironment(w.ENVIRONMENTS.CANVAS)||w.isEnvironment(w.ENVIRONMENTS.PAGETAB);if(ga&&!fa.display)return 'async';if(z.mobile()||fa.display==='touch')return 'touch';if(!w.getAccessToken()&&fa.display=='dialog'&&!ea.loggedOutIframe){r.error('\"dialog\" mode can only be used when the user is connected.');return 'popup';}if(ea.connectDisplay&&!ga)return ea.connectDisplay;return fa.display||(w.getAccessToken()?'dialog':'popup');},getXdRelation:function(ea){var fa=ea.display;if(fa==='popup'||fa==='touch')return 'opener';if(fa==='dialog'||fa==='iframe'||fa==='hidden'||fa==='none')return 'parent';if(fa==='async')return 'parent.frames['+window.name+']';},popup:function(ea){var fa=typeof window.screenX!='undefined'?window.screenX:window.screenLeft,ga=typeof window.screenY!='undefined'?window.screenY:window.screenTop,ha=typeof window.outerWidth!='undefined'?window.outerWidth:document.documentElement.clientWidth,ia=typeof window.outerHeight!='undefined'?window.outerHeight:(document.documentElement.clientHeight-22),ja=z.mobile()?null:ea.size.width,ka=z.mobile()?null:ea.size.height,la=(fa<0)?window.screen.width+fa:fa,ma=parseInt(la+((ha-ja)/2),10),na=parseInt(ga+((ia-ka)/2.5),10),oa=[];if(ja!==null)oa.push('width='+ja);if(ka!==null)oa.push('height='+ka);oa.push('left='+ma);oa.push('top='+na);oa.push('scrollbars=1');if(ea.name=='permissions.request'||ea.name=='permissions.oauth')oa.push('location=1,toolbar=0');oa=oa.join(',');var pa;if(ea.post){pa=window.open('about:blank',ea.id,oa);if(pa){da.setLoadedNode(ea,pa,'popup');h.submitToTarget({url:ea.url,target:ea.id,params:ea.params});}}else{pa=window.open(ea.url,ea.id,oa);if(pa)da.setLoadedNode(ea,pa,'popup');}if(!pa)return;if(ea.id in da._defaultCb)da._popupMonitor();},setLoadedNode:function(ea,fa,ga){if(ea.params&&ea.params.display!='popup')fa.fbCallID=ea.id;fa={node:fa,type:ga,fbCallID:ea.id};da._loadedNodes[ea.id]=fa;},getLoadedNode:function(ea){var fa=typeof ea=='object'?ea.id:ea,ga=da._loadedNodes[fa];return ga?ga.node:null;},hidden:function(ea){ea.className='FB_UI_Hidden';ea.root=h.appendHidden('');da._insertIframe(ea);},iframe:function(ea){ea.className='FB_UI_Dialog';var fa=function(){da._triggerDefault(ea.id);};ea.root=j.create({onClose:fa,closeIcon:ea.closeIcon===undefined?true:ea.closeIcon,classes:(z.ipad()?'centered':'')});if(!ea.hideLoader)j.showLoader(fa,ea.size.width);k.addCss(ea.root,'fb_dialog_iframe');da._insertIframe(ea);},touch:function(ea){if(ea.params&&ea.params.in_iframe){if(ea.ui_created){j.showLoader(function(){da._triggerDefault(ea.id);},0);}else da.iframe(ea);}else if(z.nativeApp()&&!ea.ui_created){ea.frame=ea.id;s.onready(function(){da.setLoadedNode(ea,s.open(ea.url+'#cb='+ea.frameName),'native');});da._popupMonitor();}else if(!ea.ui_created)da.popup(ea);},async:function(ea){ea.params.redirect_uri=location.protocol+'//'+location.host+location.pathname;delete ea.params.access_token;v.remote.showDialog(ea.params,function(fa){var ga=j.get(ea.id);if(fa.result)ga.trackEvents(fa.result.e2e);ga.trackEvent('close');ea.cb(fa.result);});},getDefaultSize:function(){return j.getDefaultSize();},_insertIframe:function(ea){da._loadedNodes[ea.id]=false;var fa=function(ga){if(ea.id in da._loadedNodes)da.setLoadedNode(ea,ga,'iframe');};if(ea.post){q({url:'about:blank',root:ea.root,className:ea.className,width:ea.size.width,height:ea.size.height,id:ea.id,onInsert:fa,onload:function(ga){h.submitToTarget({url:ea.url,target:ga.name,params:ea.params});}});}else q({url:ea.url,root:ea.root,className:ea.className,width:ea.size.width,height:ea.size.height,id:ea.id,name:ea.frameName,onInsert:fa});},_handleResizeMessage:function(ea,fa){var ga=da.getLoadedNode(ea);if(!ga)return;if(fa.height)ga.style.height=fa.height+'px';if(fa.width)ga.style.width=fa.width+'px';aa.inform('resize.ack',fa||{},'parent.frames['+ga.name+']');if(!j.isActive(ga))j.show(ga);},_triggerDefault:function(ea){da._xdRecv({frame:ea},da._defaultCb[ea]||function(){});},_popupMonitor:function(){var ea;for(var fa in da._loadedNodes)if(da._loadedNodes.hasOwnProperty(fa)&&fa in da._defaultCb){var ga=da._loadedNodes[fa];if(ga.type!='popup'&&ga.type!='native')continue;var ha=ga.node;try{if(ha.closed){da._triggerDefault(fa);}else ea=true;}catch(ia){}}if(ea&&!da._popupInterval){da._popupInterval=setInterval(da._popupMonitor,100);}else if(!ea&&da._popupInterval){clearInterval(da._popupInterval);da._popupInterval=null;}},_xdChannelHandler:function(ea,fa){return aa.handler(function(ga){var ha=da.getLoadedNode(ea);if(!ha)return;if(ga.type=='resize'){da._handleResizeMessage(ea,ga);}else if(ga.type=='hide'){j.hide(ha);}else if(ga.type=='rendered'){var ia=j._findRoot(ha);j.show(ia);}else if(ga.type=='fireevent')l.fire(ga.event);},fa,true,null);},_xdNextHandler:function(ea,fa,ga,ha){if(ha)da._defaultCb[fa]=ea;return aa.handler(function(ia){da._xdRecv(ia,ea);},ga)+'&frame='+fa;},_xdRecv:function(ea,fa){var ga=da.getLoadedNode(ea.frame);if(ga)if(ga.close){try{ga.close();if(/iPhone.*Version\\/(5|6)/.test(navigator.userAgent)&&RegExp.$1!=='5')window.focus();da._popupCount--;}catch(ha){}}else if(k.containsCss(ga,'FB_UI_Hidden')){setTimeout(function(){ga.parentNode.parentNode.removeChild(ga.parentNode);},3000);}else if(k.containsCss(ga,'FB_UI_Dialog'))j.remove(ga);delete da._loadedNodes[ea.frame];delete da._defaultCb[ea.frame];var ia=j.get(ea.frame);ia.trackEvents(ea.e2e);ia.trackEvent('close');fa(ea);},_xdResult:function(ea,fa,ga,ha){return (da._xdNextHandler(function(ia){ea&&ea(ia.result&&ia.result!=da._resultToken&&ES5('JSON','parse',false,ia.result));},fa,ga,ha)+'&result='+encodeURIComponent(da._resultToken));},xdHandler:function(ea,fa,ga,ha,ia){return da._xdNextHandler(g.xdResponseWrapper(ea,ha,ia),fa,ga,true);}};v.stub('showDialog');e.exports=da;});\n__d(\"sdk.ui\",[\"Assert\",\"copyProperties\",\"sdk.feature\",\"sdk.Impressions\",\"Log\",\"sdk.UIServer\"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('copyProperties'),i=b('sdk.feature'),j=b('sdk.Impressions'),k=b('Log'),l=b('sdk.UIServer');function m(n,o){g.isObject(n);g.maybeFunction(o);n=h({},n);if(!n.method){k.error('\"method\" is a required parameter for FB.ui().');return null;}var p=n.method;if(n.redirect_uri){k.warn('When using FB.ui, you should not specify a redirect_uri.');delete n.redirect_uri;}if((p=='permissions.request'||p=='permissions.oauth')&&(n.display=='iframe'||n.display=='dialog'))n.display=l.checkOauthDisplay(n);var q=i('e2e_tracking',true);if(q)n.e2e={};var r=l.prepareCall(n,o||function(){});if(!r)return null;var s=r.params.display;if(s==='dialog'){s='iframe';}else if(s==='none')s='hidden';var t=l[s];if(!t){k.error('\"display\" must be one of \"popup\", '+'\"dialog\", \"iframe\", \"touch\", \"async\", \"hidden\", or \"none\"');return null;}if(q)r.dialog.subscribe('e2e:end',function(u){u.method=p;u.display=s;k.debug('e2e: %s',ES5('JSON','stringify',false,u));j.log(114,{payload:u});});t(r);return r.dialog;}e.exports=m;});\n__d(\"legacy:fb.auth\",[\"sdk.Auth\",\"sdk.Cookie\",\"copyProperties\",\"sdk.Event\",\"FB\",\"Log\",\"sdk.Runtime\",\"sdk.SignedRequest\",\"sdk.ui\"],function(a,b,c,d){var e=b('sdk.Auth'),f=b('sdk.Cookie'),g=b('copyProperties'),h=b('sdk.Event'),i=b('FB'),j=b('Log'),k=b('sdk.Runtime'),l=b('sdk.SignedRequest'),m=b('sdk.ui');i.provide('',{getLoginStatus:function(){return e.getLoginStatus.apply(e,arguments);},getAuthResponse:function(){return e.getAuthResponse();},getAccessToken:function(){return k.getAccessToken()||null;},getUserID:function(){return k.getUserID()||k.getCookieUserID();},login:function(n,o){if(o&&o.perms&&!o.scope){o.scope=o.perms;delete o.perms;j.warn('OAuth2 specification states that \\'perms\\' '+'should now be called \\'scope\\'.  Please update.');}var p=k.isEnvironment(k.ENVIRONMENTS.CANVAS)||k.isEnvironment(k.ENVIRONMENTS.PAGETAB);m(g({method:'permissions.oauth',display:p?'async':'popup',domain:location.hostname},o||{}),n);},logout:function(n){m({method:'auth.logout',display:'hidden'},n);}});e.subscribe('logout',ES5(h.fire,'bind',true,h,'auth.logout'));e.subscribe('login',ES5(h.fire,'bind',true,h,'auth.login'));e.subscribe('authresponse.change',ES5(h.fire,'bind',true,h,'auth.authResponseChange'));e.subscribe('status.change',ES5(h.fire,'bind',true,h,'auth.statusChange'));h.subscribe('init:post',function(n){if(n.status)e.getLoginStatus();if(k.getClientID())if(n.authResponse){e.setAuthResponse(n.authResponse,'connected');}else if(k.getUseCookie()){var o=f.loadSignedRequest(),p;if(o){try{p=l.parse(o);}catch(q){f.clearSignedRequestCookie();}if(p&&p.user_id)k.setCookieUserID(p.user_id);}f.loadMeta();}});},3);\n__d(\"sdk.Canvas.Plugin\",[\"sdk.api\",\"sdk.RPC\",\"Log\",\"sdk.Runtime\",\"createArrayFrom\"],function(a,b,c,d,e,f){var g=b('sdk.api'),h=b('sdk.RPC'),i=b('Log'),j=b('sdk.Runtime'),k=b('createArrayFrom'),l='CLSID:D27CDB6E-AE6D-11CF-96B8-444553540000',m='CLSID:444785F1-DE89-4295-863A-D46C3A781394',n=null;function o(y){y._hideunity_savedstyle={};y._hideunity_savedstyle.left=y.style.left;y._hideunity_savedstyle.position=y.style.position;y._hideunity_savedstyle.width=y.style.width;y._hideunity_savedstyle.height=y.style.height;y.style.left='-10000px';y.style.position='absolute';y.style.width='1px';y.style.height='1px';}function p(y){if(y._hideunity_savedstyle){y.style.left=y._hideunity_savedstyle.left;y.style.position=y._hideunity_savedstyle.position;y.style.width=y._hideunity_savedstyle.width;y.style.height=y._hideunity_savedstyle.height;}}function q(y){y._old_visibility=y.style.visibility;y.style.visibility='hidden';}function r(y){y.style.visibility=y._old_visibility||'';delete y._old_visibility;}function s(y){var z=y.type.toLowerCase()==='application/x-shockwave-flash'||(y.classid&&y.classid.toUpperCase()==l);if(!z)return false;var aa=/opaque|transparent/i;if(aa.test(y.getAttribute('wmode')))return false;for(var ba=0;ba<y.childNodes.length;ba++){var ca=y.childNodes[ba];if(/param/i.test(ca.nodeName)&&/wmode/i.test(ca.name)&&aa.test(ca.value))return false;}return true;}function t(y){return y.type.toLowerCase()==='application/vnd.unity'||(y.classid&&y.classid.toUpperCase()==m);}function u(y){var z=k(window.document.getElementsByTagName('object'));z=z.concat(k(window.document.getElementsByTagName('embed')));ES5(z,'forEach',true,function(aa){var ba=s(aa),ca=t(aa);if(!ba&&!ca)return;var da=function(){if(y.state==='opened'){if(ba){q(aa);}else o(aa);}else if(ba){r(aa);}else p(aa);};if(n){i.info('Calling developer specified callback');var ea={state:y.state,elem:aa};n(ea);setTimeout(da,200);}else da();if(Math.random()<=1/1000)g(j.getClientID()+'/occludespopups','post',{});});}h.local.hidePluginObjects=function(){i.info('hidePluginObjects called');u({state:'opened'});};h.local.showPluginObjects=function(){i.info('showPluginObjects called');u({state:'closed'});};h.local.showFlashObjects=h.local.showPluginObjects;h.local.hideFlashObjects=h.local.hidePluginObjects;function v(){q();o();}function w(){r();p();}var x={_setHidePluginCallback:function(y){n=y;},hidePluginElement:v,showPluginElement:w};e.exports=x;});\n__d(\"sdk.Canvas.IframeHandling\",[\"DOMWrapper\",\"sdk.RPC\"],function(a,b,c,d,e,f){var g=b('DOMWrapper'),h=b('sdk.RPC'),i=null,j;function k(){var o=g.getWindow().document,p=o.body,q=o.documentElement,r=Math.max(p.offsetTop,0),s=Math.max(q.offsetTop,0),t=p.scrollHeight+r,u=p.offsetHeight+r,v=q.scrollHeight+s,w=q.offsetHeight+s;return Math.max(t,u,v,w);}function l(o){if(typeof o!='object')o={};var p=0,q=0;if(!o.height){o.height=k();p=16;q=4;}if(!o.frame)o.frame=window.name||'iframe_canvas';if(j){var r=j.height,s=o.height-r;if(s<=q&&s>=-p)return false;}j=o;h.remote.setSize(o);return true;}function m(o,p){if(p===undefined&&typeof o==='number'){p=o;o=true;}if(o||o===undefined){if(i===null)i=setInterval(function(){l();},p||100);l();}else if(i!==null){clearInterval(i);i=null;}}h.stub('setSize');var n={setSize:l,setAutoGrow:m};e.exports=n;});\n__d(\"sdk.Canvas.Navigation\",[\"sdk.RPC\"],function(a,b,c,d,e,f){var g=b('sdk.RPC');function h(j){g.local.navigate=function(k){j({path:k});};g.remote.setNavigationEnabled(true);}g.stub('setNavigationEnabled');var i={setUrlHandler:h};e.exports=i;});\n__d(\"sdk.Canvas.Tti\",[\"sdk.RPC\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('sdk.RPC'),h=b('sdk.Runtime');function i(n,o){var p={appId:h.getClientID(),time:ES5('Date','now',false),name:o},q=[p];if(n)q.push(function(r){n(r.result);});g.remote.logTtiMessage.apply(null,q);}function j(){i(null,'StartIframeAppTtiTimer');}function k(n){i(n,'StopIframeAppTtiTimer');}function l(n){i(n,'RecordIframeAppTti');}g.stub('logTtiMessage');var m={setDoneLoading:l,startTimer:j,stopTimer:k};e.exports=m;});\n__d(\"legacy:fb.canvas\",[\"Assert\",\"sdk.Canvas.Environment\",\"sdk.Event\",\"FB\",\"sdk.Canvas.Plugin\",\"sdk.Canvas.IframeHandling\",\"Log\",\"sdk.Canvas.Navigation\",\"sdk.Runtime\",\"sdk.Canvas.Tti\"],function(a,b,c,d){var e=b('Assert'),f=b('sdk.Canvas.Environment'),g=b('sdk.Event'),h=b('FB'),i=b('sdk.Canvas.Plugin'),j=b('sdk.Canvas.IframeHandling'),k=b('Log'),l=b('sdk.Canvas.Navigation'),m=b('sdk.Runtime'),n=b('sdk.Canvas.Tti');h.provide('Canvas',{setSize:function(o){e.maybeObject(o,'Invalid argument');return j.setSize.apply(null,arguments);},setAutoGrow:function(){return j.setAutoGrow.apply(null,arguments);},getPageInfo:function(o){e.isFunction(o,'Invalid argument');return f.getPageInfo.apply(null,arguments);},scrollTo:function(o,p){e.maybeNumber(o,'Invalid argument');e.maybeNumber(p,'Invalid argument');return f.scrollTo.apply(null,arguments);},setDoneLoading:function(o){e.maybeFunction(o,'Invalid argument');return n.setDoneLoading.apply(null,arguments);},startTimer:function(){return n.startTimer.apply(null,arguments);},stopTimer:function(o){e.maybeFunction(o,'Invalid argument');return n.stopTimer.apply(null,arguments);},getHash:function(o){e.isFunction(o,'Invalid argument');return l.getHash.apply(null,arguments);},setHash:function(o){e.isString(o,'Invalid argument');return l.setHash.apply(null,arguments);},setUrlHandler:function(o){e.isFunction(o,'Invalid argument');return l.setUrlHandler.apply(null,arguments);}});h.provide('CanvasInsights',{setDoneLoading:function(o){k.warn('Deprecated: use FB.Canvas.setDoneLoading');e.maybeFunction(o,'Invalid argument');return n.setDoneLoading.apply(null,arguments);}});g.subscribe('init:post',function(o){if(m.isEnvironment(m.ENVIRONMENTS.CANVAS)){e.isTrue(!o.hideFlashCallback||!o.hidePluginCallback,'cannot specify deprecated hideFlashCallback and new hidePluginCallback');i._setHidePluginCallback(o.hidePluginCallback||o.hideFlashCallback);}});},3);\n__d(\"sdk.Canvas.Prefetcher\",[\"sdk.api\",\"createArrayFrom\",\"sdk.Runtime\",\"CanvasPrefetcherConfig\"],function(a,b,c,d,e,f){var g=b('sdk.api'),h=b('createArrayFrom'),i=c('CanvasPrefetcherConfig'),j=b('sdk.Runtime'),k={AUTOMATIC:0,MANUAL:1},l=i.sampleRate,m=i.blacklist,n=k.AUTOMATIC,o=[];function p(){var u={object:'data',link:'href',script:'src'};if(n==k.AUTOMATIC)ES5(ES5('Object','keys',false,u),'forEach',true,function(v){var w=u[v];ES5(h(document.getElementsByTagName(v)),'forEach',true,function(x){if(x[w])o.push(x[w]);});});if(o.length===0)return;g(j.getClientID()+'/staticresources','post',{urls:ES5('JSON','stringify',false,o),is_https:location.protocol==='https:'});o=[];}function q(){if(!j.isEnvironment(j.ENVIRONMENTS.CANVAS)||!j.getClientID()||!l)return;if(Math.random()>1/l||m=='*'||~ES5(m,'indexOf',true,j.getClientID()))return;setTimeout(p,30000);}function r(u){n=u;}function s(u){o.push(u);}var t={COLLECT_AUTOMATIC:k.AUTOMATIC,COLLECT_MANUAL:k.MANUAL,addStaticResource:s,setCollectionMode:r,_maybeSample:q};e.exports=t;});\n__d(\"legacy:fb.canvas.prefetcher\",[\"FB\",\"sdk.Canvas.Prefetcher\",\"sdk.Event\",\"sdk.Runtime\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Canvas.Prefetcher'),g=b('sdk.Event'),h=b('sdk.Runtime');e.provide('Canvas.Prefetcher',f);g.subscribe('init:post',function(i){if(h.isEnvironment(h.ENVIRONMENTS.CANVAS))f._maybeSample();});},3);\n__d(\"legacy:fb.compat.ui\",[\"copyProperties\",\"FB\",\"Log\",\"sdk.ui\",\"sdk.UIServer\"],function(a,b,c,d){var e=b('copyProperties'),f=b('FB'),g=b('Log'),h=b('sdk.ui'),i=b('sdk.UIServer');f.provide('',{share:function(j){g.error('share() has been deprecated. Please use FB.ui() instead.');h({display:'popup',method:'stream.share',u:j});},publish:function(j,k){g.error('publish() has been deprecated. Please use FB.ui() instead.');j=j||{};h(e({display:'popup',method:'stream.publish',preview:1},j||{}),k);},addFriend:function(j,k){g.error('addFriend() has been deprecated. Please use FB.ui() instead.');h({display:'popup',id:j,method:'friend.add'},k);}});i.Methods['auth.login']=i.Methods['permissions.request'];},3);\n__d(\"mergeArrays\",[],function(a,b,c,d,e,f){function g(h,i){for(var j=0;j<i.length;j++)if(ES5(h,'indexOf',true,i[j])<0)h.push(i[j]);return h;}e.exports=g;});\n__d(\"format\",[],function(a,b,c,d,e,f){function g(h,i){i=Array.prototype.slice.call(arguments,1);return h.replace(/\\{(\\d+)\\}/g,function(j,k){var l=i[Number(k)];return (l===null||l===undefined)?'':l.toString();});}e.exports=g;});\n__d(\"safeEval\",[],function(a,b,c,d,e,f){function g(h,i){if(h===null||typeof h==='undefined')return;if(typeof h!=='string')return h;if(/^\\w+$/.test(h)&&typeof window[h]==='function')return window[h].apply(null,i||[]);return Function('return eval(\"'+h.replace(/\"/g,'\\\\\"')+'\");').apply(null,i||[]);}e.exports=g;});\n__d(\"sdk.Waitable\",[\"sdk.Model\"],function(a,b,c,d,e,f){var g=b('sdk.Model'),h=g.extend({constructor:function(){this.parent({Value:undefined});},error:function(i){this.inform(\"error\",i);},wait:function(i,j){if(j)this.subscribe('error',j);this.monitor('Value.change',ES5(function(){var k=this.getValue();if(k!==undefined){this.value=k;i(k);return true;}},'bind',true,this));}});e.exports=h;});\n__d(\"sdk.Query\",[\"format\",\"safeEval\",\"Type\",\"sdk.Waitable\"],function(a,b,c,d,e,f){var g=b('format'),h=b('safeEval'),i=b('Type'),j=b('sdk.Waitable');function k(p){return ES5(p.split(','),'map',true,function(q){return ES5(q,'trim',true);});}function l(p){var q=(/^\\s*(\\w+)\\s*=\\s*(.*)\\s*$/i).exec(p),r,s,t='unknown';if(q){s=q[2];if(/^([\"'])(?:\\\\?.)*?\\1$/.test(s)){s=h(s);t='index';}else if(/^\\d+\\.?\\d*$/.test(s))t='index';}if(t=='index'){r={type:'index',key:q[1],value:s};}else r={type:'unknown',value:p};return r;}function m(p){return typeof p==='string'?ES5('JSON','stringify',false,p):p;}var n=1,o=j.extend({constructor:function(){this.parent();this.name='v_'+n++;},hasDependency:function(p){if(arguments.length)this._hasDependency=p;return !!this._hasDependency;},parse:function(p){var q=g.apply(null,p),r=(/^select (.*?) from (\\w+)\\s+where (.*)$/i).exec(q);this.fields=k(r[1]);this.table=r[2];this.where=l(r[3]);for(var s=1;s<p.length;s++)if(i.instanceOf(o,p[s]))p[s].hasDependency(true);return this;},toFql:function(){var p='select '+this.fields.join(',')+' from '+this.table+' where ';switch(this.where.type){case 'unknown':p+=this.where.value;break;case 'index':p+=this.where.key+'='+m(this.where.value);break;case 'in':if(this.where.value.length==1){p+=this.where.key+'='+m(this.where.value[0]);}else p+=this.where.key+' in ('+ES5(this.where.value,'map',true,m).join(',')+')';break;}return p;},toString:function(){return '#'+this.name;}});e.exports=o;});\n__d(\"sdk.Data\",[\"sdk.api\",\"sdk.ErrorHandling\",\"mergeArrays\",\"sdk.Query\",\"safeEval\",\"sdk.Waitable\"],function(a,b,c,d,e,f){var g=b('sdk.api'),h=b('sdk.ErrorHandling'),i=b('mergeArrays'),j=b('sdk.Query'),k=b('safeEval'),l=b('sdk.Waitable'),m={query:function(n,o){var p=new j().parse(Array.prototype.slice.call(arguments));m.queue.push(p);m._waitToProcess();return p;},waitOn:function(n,o){var p=new l(),q=n.length;if(typeof(o)=='string'){var r=o;o=h.unguard(function(){return k(r);});}ES5(n,'forEach',true,function(s){s.monitor('Value.change',function(){var t=false;if(m._getValue(s)!==undefined){s.value=s.getValue();q--;t=true;}if(q===0){var u=o(ES5(n,'map',true,m._getValue));p.setValue(u!==undefined?u:true);}return t;});});return p;},process:function(n){m._process(n);},_getValue:function(n){return n instanceof l?n.getValue():n;},_selectByIndex:function(n,o,p,q){var r=new j();r.fields=n;r.table=o;r.where={type:'index',key:p,value:q};m.queue.push(r);m._waitToProcess();return r;},_waitToProcess:function(){if(m.timer<0)m.timer=setTimeout(function(){m._process();},10);},_process:function(n){m.timer=-1;var o={},p=m.queue;if(!p.length)return;m.queue=[];for(var q=0;q<p.length;q++){var r=p[q];if(r.where.type=='index'&&!r.hasDependency()){m._mergeIndexQuery(r,o);}else o[r.name]=r;}var s={q:{}};for(var t in o)if(o.hasOwnProperty(t))s.q[t]=o[t].toFql();if(n)s.access_token=n;g('/fql','GET',s,function(u){if(u.error){ES5(ES5('Object','keys',false,o),'forEach',true,function(v){o[v].error(new Error(u.error.message));});}else ES5(u.data,'forEach',true,function(v){o[v.name].setValue(v.fql_result_set);});});},_mergeIndexQuery:function(n,o){var p=n.where.key,q=n.where.value,r='index_'+n.table+'_'+p,s=o[r];if(!s){s=o[r]=new j();s.fields=[p];s.table=n.table;s.where={type:'in',key:p,value:[]};}i(s.fields,n.fields);i(s.where.value,[q]);s.wait(function(t){n.setValue(ES5(t,'filter',true,function(u){return u[p]==q;}));});},timer:-1,queue:[]};e.exports=m;});\n__d(\"legacy:fb.data\",[\"FB\",\"sdk.Data\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Data');e.provide('Data',f);},3);\n__d(\"legacy:fb.event\",[\"FB\",\"sdk.Event\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Event');e.provide('Event',f);e.provide('EventProvider',f);},3);\n__d(\"legacy:fb.frictionless\",[\"FB\",\"sdk.Frictionless\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.Frictionless');e.provide('Frictionless',f);},3);\n__d(\"sdk.init\",[\"sdk.Cookie\",\"copyProperties\",\"createArrayFrom\",\"sdk.ErrorHandling\",\"sdk.Event\",\"Log\",\"QueryString\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('sdk.Cookie'),h=b('copyProperties'),i=b('createArrayFrom'),j=b('sdk.ErrorHandling'),k=b('sdk.Event'),l=b('Log'),m=b('QueryString'),n=b('sdk.Runtime');function o(q){var r=(typeof q=='number'&&q>0)||(typeof q=='string'&&/^[0-9a-f]{21,}$|^[0-9]{1,21}$/.test(q));if(r)return q.toString();l.warn('Invalid App Id: Must be a number or numeric string representing '+'the application id.');return null;}function p(q){if(n.getInitialized())l.warn('FB.init has already been called - this could indicate a problem');if(/number|string/.test(typeof q)){l.warn('FB.init called with invalid parameters');q={apiKey:q};}q=h({logging:true,status:true},q||{});var r=o(q.appId||q.apiKey);if(r!==null)n.setClientID(r);if('scope' in q)n.setScope(q.scope);if(q.cookie){n.setUseCookie(true);if(typeof q.cookie==='string')g.setDomain(q.cookie);}if(q.kidDirectedSite)n.setKidDirectedSite(true);n.setInitialized(true);k.fire('init:post',q);}setTimeout(function(){var q=/(connect\\.facebook\\.net|\\.facebook\\.com\\/assets.php).*?#(.*)/;ES5(i(document.getElementsByTagName('script')),'forEach',true,function(r){if(r.src){var s=q.exec(r.src);if(s){var t=m.decode(s[2]);for(var u in t)if(t.hasOwnProperty(u)){var v=t[u];if(v=='0')t[u]=0;}p(t);}}});if(window.fbAsyncInit&&!window.fbAsyncInit.hasRun){window.fbAsyncInit.hasRun=true;j.unguard(window.fbAsyncInit)();}},0);e.exports=p;});\n__d(\"legacy:fb.init\",[\"FB\",\"sdk.init\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.init');e.provide('',{init:f});},3);\n__d(\"legacy:fb.json\",[\"FB\",\"ManagedError\"],function(a,b,c,d){var e=b('FB'),f=b('ManagedError');e.provide('JSON',{stringify:function(g){try{return ES5('JSON','stringify',false,g);}catch(h){throw new f(h.message,h);}},parse:function(g){try{return ES5('JSON','parse',false,g);}catch(h){throw new f(h.message,h);}}});},3);\n__d(\"legacy:fb.pay\",[\"FB\",\"copyProperties\",\"sdk.Runtime\",\"sdk.UIServer\",\"sdk.XD\"],function(a,b,c,d){b('FB');var e=b('copyProperties'),f=b('sdk.Runtime'),g=b('sdk.UIServer'),h=b('sdk.XD'),i={error_code:1383001,error_message:'An unknown error caused the dialog to be closed'},j=function(k){return function(l){k(l&&l.response?ES5('JSON','parse',false,l.response):i);};};e(g.Methods,{'pay.prompt':{transform:function(k){var l=h.handler(j(k.cb),'parent.frames['+(window.name||'iframe_canvas')+']');k.params.channel=l;h.inform('Pay.Prompt',k.params);}},pay:{size:{width:555,height:120},connectDisplay:'popup',transform:function(k){k.cb=j(k.cb);if(!f.isEnvironment(f.ENVIRONMENTS.CANVAS)){k.params.order_info=ES5('JSON','stringify',false,k.params.order_info);return k;}var l=h.handler(k.cb,'parent.frames['+(window.name||'iframe_canvas')+']');k.params.channel=l;k.params.uiserver=true;h.inform('Pay.Prompt',k.params);}}});},3);\n__d(\"legacy:fb.ua\",[\"FB\",\"UserAgent\"],function(a,b,c,d){var e=b('FB'),f=b('UserAgent');e.provide('UA',{nativeApp:f.nativeApp});},3);\n__d(\"legacy:fb.ui\",[\"FB\",\"sdk.ui\"],function(a,b,c,d){var e=b('FB'),f=b('sdk.ui');e.provide('',{ui:f});},3);\n__d(\"Miny\",[],function(a,b,c,d,e,f){var g='Miny1',h={encode:[],decode:{}},i='wxyzABCDEFGHIJKLMNOPQRSTUVWXYZ-_'.split('');function j(n){for(var o=h.encode.length;o<n;o++){var p=o.toString(32).split('');p[p.length-1]=i[parseInt(p[p.length-1],32)];p=p.join('');h.encode[o]=p;h.decode[p]=o;}return h;}function k(n){var o=n.match(/\\w+|\\W+/g),p={};for(var q=0;q<o.length;q++)p[o[q]]=(p[o[q]]||0)+1;var r=ES5('Object','keys',false,p);r.sort(function(u,v){return p[u]<p[v]?1:(p[v]<p[u]?-1:0);});var s=j(r.length).encode;for(q=0;q<r.length;q++)p[r[q]]=s[q];var t=[];for(q=0;q<o.length;q++)t[q]=p[o[q]];for(q=0;q<r.length;q++)r[q]=r[q].replace(/'~'/g,'\\\\~');return [g,r.length].concat(r).concat(t.join('')).join('~');}function l(n){var o=n.split('~');if(o.shift()!=g)throw new Error('Not a Miny stream');var p=parseInt(o.shift(),10),q=o.pop();q=q.match(/[0-9a-v]*[\\-w-zA-Z_]/g);var r=o,s=j(p).decode,t=[];for(var u=0;u<q.length;u++)t[u]=r[s[q[u]]];return t.join('');}var m={encode:k,decode:l};e.exports=m;});\n__d(\"runOnce\",[],function(a,b,c,d,e,f){function g(h){var i,j;return function(){if(!i){i=true;j=h();}return j;};}e.exports=g;});\n__d(\"XFBML\",[\"Assert\",\"copyProperties\",\"createArrayFrom\",\"sdk.DOM\",\"sdk.feature\",\"sdk.Impressions\",\"Log\",\"ObservableMixin\",\"runOnce\",\"UserAgent\"],function(a,b,c,d,e,f){var g=b('Assert'),h=b('copyProperties'),i=b('createArrayFrom'),j=b('sdk.DOM'),k=b('sdk.feature'),l=b('sdk.Impressions'),m=b('Log'),n=b('ObservableMixin'),o=b('runOnce'),p=b('UserAgent'),q={},r={},s=0,t=new n();function u(ca,da){return ca[da]+'';}function v(ca){return ca.scopeName?(ca.scopeName+':'+ca.nodeName):'';}function w(ca){return q[u(ca,'nodeName').toLowerCase()]||q[v(ca).toLowerCase()];}function x(ca){var da=ES5(ES5(u(ca,'className'),'trim',true).split(/\\s+/),'filter',true,function(ea){return r.hasOwnProperty(ea);});if(da.length===0)return undefined;if(ca.getAttribute('fb-xfbml-state')||!ca.childNodes||ca.childNodes.length===0||(ca.childNodes.length===1&&ca.childNodes[0].nodeType===3)||(ca.children.length===1&&u(ca.children[0],'className')==='fb-xfbml-parse-ignore'))return r[da[0]];}function y(ca){var da={};ES5(i(ca.attributes),'forEach',true,function(ea){da[u(ea,'name')]=u(ea,'value');});return da;}function z(ca,da,ea){var fa=document.createElement('div');j.addCss(ca,da+'-'+ea);ES5(i(ca.childNodes),'forEach',true,function(ga){fa.appendChild(ga);});ES5(i(ca.attributes),'forEach',true,function(ga){fa.setAttribute(ga.name,ga.value);});ca.parentNode.replaceChild(fa,ca);return fa;}function aa(ca,da,ea){g.isTrue(ca&&ca.nodeType&&ca.nodeType===1&&!!ca.getElementsByTagName,'Invalid DOM node passed to FB.XFBML.parse()');g.isFunction(da,'Invalid callback passed to FB.XFBML.parse()');var fa=++s;m.info('XFBML Parsing Start %s',fa);var ga=1,ha=0,ia=function(){ga--;if(ga===0){m.info('XFBML Parsing Finish %s, %s tags found',fa,ha);da();t.inform('render',fa,ha);}g.isTrue(ga>=0,'onrender() has been called too many times');};ES5(i(ca.getElementsByTagName('*')),'forEach',true,function(ka){if(!ea&&ka.getAttribute('fb-xfbml-state'))return;if(ka.nodeType!==1)return;var la=w(ka)||x(ka);if(!la)return;if(p.ie()<9&&ka.scopeName)ka=z(ka,la.xmlns,la.localName);ga++;ha++;var ma=new la.ctor(ka,la.xmlns,la.localName,y(ka));ma.subscribe('render',o(function(){ka.setAttribute('fb-xfbml-state','rendered');ia();}));var na=function(){if(ka.getAttribute('fb-xfbml-state')=='parsed'){t.subscribe('render.queue',na);}else{ka.setAttribute('fb-xfbml-state','parsed');ma.process();}};na();});t.inform('parse',fa,ha);var ja=30000;setTimeout(function(){if(ga>0)m.warn('%s tags failed to render in %s ms',ga,ja);},ja);ia();}t.subscribe('render',function(){var ca=t.getSubscribers('render.queue');t.clearSubscribers('render.queue');ES5(ca,'forEach',true,function(da){da();});});h(t,{registerTag:function(ca){var da=ca.xmlns+':'+ca.localName;g.isUndefined(q[da],da+' already registered');q[da]=ca;r[ca.xmlns+'-'+ca.localName]=ca;},parse:function(ca,da){aa(ca||document.body,da||function(){},true);},parseNew:function(){aa(document.body,function(){},false);}});if(k('log_tag_count')){var ba=function(ca,da){t.unsubscribe('parse',ba);setTimeout(ES5(l.log,'bind',true,null,102,{tag_count:da}),5000);};t.subscribe('parse',ba);}e.exports=t;});\n__d(\"PluginPipe\",[\"sdk.Content\",\"copyProperties\",\"sdk.feature\",\"guid\",\"insertIframe\",\"Miny\",\"ObservableMixin\",\"sdk.Runtime\",\"UrlMap\",\"UserAgent\",\"XFBML\",\"PluginPipeConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Content'),h=b('copyProperties'),i=b('sdk.feature'),j=b('guid'),k=b('insertIframe'),l=b('Miny'),m=b('ObservableMixin'),n=c('PluginPipeConfig'),o=b('sdk.Runtime'),p=b('UrlMap'),q=b('UserAgent'),r=b('XFBML'),s=new m(),t=n.threshold,u=[];function v(){return !!(i('plugin_pipe')&&o.getSecure()!==undefined&&(q.chrome()||q.firefox())&&n.enabledApps[o.getClientID()]);}function w(){var y=u;u=[];if(y.length<=t){ES5(y,'forEach',true,function(ba){k(ba.config);});return;}var z=y.length+1;function aa(){z--;if(z===0)x(y);}ES5(y,'forEach',true,function(ba){var ca={};for(var da in ba.config)ca[da]=ba.config[da];ca.url=p.resolve('www',o.getSecure())+'/plugins/plugin_pipe_shell.php';ca.onload=aa;k(ca);});aa();}r.subscribe('parse',w);function x(y){var z=document.createElement('span');g.appendHidden(z);var aa={};ES5(y,'forEach',true,function(fa){aa[fa.config.name]={plugin:fa.tag,params:fa.params};});var ba=ES5('JSON','stringify',false,aa),ca=l.encode(ba);ES5(y,'forEach',true,function(fa){var ga=document.getElementsByName(fa.config.name)[0];ga.onload=fa.config.onload;});var da=p.resolve('www',o.getSecure())+'/plugins/pipe.php',ea=j();k({url:'about:blank',root:z,name:ea,className:'fb_hidden fb_invisible',onload:function(){g.submitToTarget({url:da,target:ea,params:{plugins:ca.length<ba.length?ca:ba}});}});}h(s,{add:function(y){var z=v();z&&u.push({config:y._config,tag:y._tag,params:y._params});return z;}});e.exports=s;});\n__d(\"IframePlugin\",[\"sdk.Auth\",\"sdk.createIframe\",\"copyProperties\",\"sdk.DOM\",\"sdk.Event\",\"guid\",\"Log\",\"ObservableMixin\",\"PluginPipe\",\"QueryString\",\"resolveURI\",\"sdk.Runtime\",\"Type\",\"UrlMap\",\"UserAgent\",\"sdk.XD\"],function(a,b,c,d,e,f){var g=b('sdk.Auth'),h=b('sdk.createIframe'),i=b('copyProperties'),j=b('sdk.DOM'),k=b('sdk.Event'),l=b('guid'),m=b('Log'),n=b('ObservableMixin'),o=b('PluginPipe'),p=b('QueryString'),q=b('resolveURI'),r=b('sdk.Runtime'),s=b('Type'),t=b('UrlMap'),u=b('UserAgent'),v=b('sdk.XD'),w={skin:'string',font:'string',width:'px',height:'px',ref:'string',color_scheme:'string'};function x(ea,fa,ga){if(fa||fa===0)ea.style.width=fa+'px';if(ga||ga===0)ea.style.height=ga+'px';}function y(ea){return function(fa){var ga={width:fa.width,height:fa.height,pluginID:ea};k.fire('xfbml.resize',ga);};}var z={string:function(ea){return ea;},bool:function(ea){return ea?(/^(?:true|1|yes|on)$/i).test(ea):undefined;},url:function(ea){return q(ea);},url_maybe:function(ea){return ea?q(ea):ea;},hostname:function(ea){return ea||window.location.hostname;},px:function(ea){return (/^(\\d+)(?:px)?$/).test(ea)?parseInt(RegExp.$1,10):undefined;},text:function(ea){return ea;}};function aa(ea,fa){var ga=ea[fa]||ea[fa.replace(/_/g,'-')]||ea[fa.replace(/_/g,'')]||ea['data-'+fa]||ea['data-'+fa.replace(/_/g,'-')]||ea['data-'+fa.replace(/_/g,'')]||undefined;return ga;}function ba(ea,fa,ga,ha){ES5(ES5('Object','keys',false,ea),'forEach',true,function(ia){if(ea[ia]=='text'&&!ga[ia]){ga[ia]=fa.textContent||fa.innerText||'';fa.setAttribute(ia,ga[ia]);}ha[ia]=z[ea[ia]](aa(ga,ia));});}function ca(ea){return ea||ea==='0'||ea===0?parseInt(ea,10):undefined;}var da=s.extend({constructor:function(ea,fa,ga,ha){this.parent();ga=ga.replace(/-/g,'_');var ia=aa(ha,'plugin_id');this.subscribe('xd.resize',y(ia));this.subscribe('xd.resize.flow',y(ia));this.subscribe('xd.resize.flow',ES5(function(pa){this._config.root.style.verticalAlign='bottom';x(this._config.root,ca(pa.width),ca(pa.height));this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.resize',ES5(function(pa){this._config.root.style.verticalAlign='bottom';x(this._config.root,ca(pa.width),ca(pa.height));x(this._iframe,ca(pa.width),ca(pa.height));this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.resize.iframe',ES5(function(pa){x(this._iframe,ca(pa.width),ca(pa.height));this.updateLift();clearTimeout(this._timeoutID);},'bind',true,this));this.subscribe('xd.sdk_event',function(pa){var qa=ES5('JSON','parse',false,pa.data);qa.pluginID=ia;k.fire(pa.event,qa,ea);});var ja=r.getSecure()||window.location.protocol=='https:',ka=t.resolve('www',ja)+'/plugins/'+ga+'.php?',la={};ba(this.getParams(),ea,ha,la);ba(w,ea,ha,la);la.app_id=r.getClientID();la.locale=r.getLocale();la.sdk='joey';la.kid_directed_site=r.getKidDirectedSite();var ma=ES5(function(pa){this.inform('xd.'+pa.type,pa);},'bind',true,this);la.channel=v.handler(ma,'parent.parent',true);j.addCss(ea,'fb_iframe_widget');var na=l();this.subscribe('xd.verify',function(pa){v.sendToFacebook(na,{method:'xd/verify',params:ES5('JSON','stringify',false,pa.token)});});this.subscribe('xd.refreshLoginStatus',ES5(g.getLoginStatus,'bind',true,g,ES5(this.inform,'bind',true,this,'login.status'),true));var oa=document.createElement('span');oa.style.verticalAlign='top';oa.style.width='0px';oa.style.height='0px';this._element=ea;this._ns=fa;this._tag=ga;this._params=la;this._config={root:oa,url:ka+p.encode(la),name:na,width:(u.mobile()?undefined:(la.width||1000)),height:la.height||1000,style:{border:'none',visibility:'hidden'},title:this._ns+':'+this._tag+' Facebook Social Plugin',onload:ES5(function(){this.inform('render');},'bind',true,this)};},process:function(){var ea=i({},this._params);delete ea.channel;var fa=p.encode(ea);if(this._element.getAttribute('fb-iframe-plugin-query')==fa){m.info('Skipping render: %s:%s %s',this._ns,this._tag,fa);this.inform('render');return;}this._element.setAttribute('fb-iframe-plugin-query',fa);this.subscribe('render',function(){this._iframe.style.visibility='visible';});while(this._element.firstChild)this._element.removeChild(this._element.firstChild);this._element.appendChild(this._config.root);var ga=u.mobile()?120:45;this._timeoutID=setTimeout(ES5(function(){this._iframe&&x(this._iframe,0,0);m.warn('%s:%s failed to resize in %ss',this._ns,this._tag,ga);},'bind',true,this),ga*1000);if(!o.add(this))this._iframe=h(this._config);if(u.mobile()){j.addCss(this._element,'fb_iframe_widget_fluid');this._element.style.display='block';this._element.style.width='100%';this._element.style.height='auto';this._config.root.style.width='100%';this._config.root.style.height='auto';this._iframe.style.width='100%';this._iframe.style.height='auto';this._iframe.style.position='static';}},updateLift:function(){var ea=this._iframe.style.width===this._config.root.style.width&&this._iframe.style.height===this._config.root.style.height;j[ea?'removeCss':'addCss'](this._iframe,'fb_iframe_widget_lift');}},n);da.getVal=aa;da.withParams=function(ea){return da.extend({getParams:function(){return ea;}});};e.exports=da;});\n__d(\"PluginTags\",[],function(a,b,c,d,e,f){var g={activity:{filter:'string',action:'string',max_age:'string',linktarget:'string',header:'bool',recommendations:'bool',site:'hostname'},composer:{action_type:'string',action_properties:'string'},create_event_button:{},degrees:{href:'url'},facepile:{href:'string',action:'string',size:'string',max_rows:'string',show_count:'bool'},follow:{href:'url',layout:'string',show_faces:'bool'},like_box:{href:'string',show_faces:'bool',header:'bool',stream:'bool',force_wall:'bool',show_border:'bool',id:'string',connections:'string',profile_id:'string',name:'string'},open_graph:{href:'url',layout:'string',show_faces:'bool',action_type:'string',action_properties:'string'},open_graph_preview:{action_type:'string',action_properties:'string'},page_events:{href:'url'},post:{href:'url',show_border:'bool'},privacy_selector:{},profile_pic:{uid:'string',linked:'bool',href:'string',size:'string',facebook_logo:'bool'},recommendations:{filter:'string',action:'string',max_age:'string',linktarget:'string',header:'bool',site:'hostname'},share_button:{href:'url',type:'string'},shared_activity:{header:'bool'},send:{href:'url'},send_to_mobile:{max_rows:'string',show_faces:'bool',size:'string'},story:{href:'url',show_border:'bool'},topic:{topic_name:'string',topic_id:'string'},want:{href:'url',layout:'string',show_faces:'bool'}},h={subscribe:'follow',fan:'like_box',likebox:'like_box',friendpile:'facepile'};ES5(ES5('Object','keys',false,h),'forEach',true,function(i){g[i]=g[h[i]];});e.exports=g;});\n__d(\"sdk.Arbiter\",[],function(a,b,c,d,e,f){var g={BEHAVIOR_EVENT:'e',BEHAVIOR_PERSISTENT:'p',BEHAVIOR_STATE:'s'};e.exports=g;});\n__d(\"sdk.XFBML.Element\",[\"sdk.DOM\",\"Type\",\"ObservableMixin\"],function(a,b,c,d,e,f){var g=b('sdk.DOM'),h=b('Type'),i=b('ObservableMixin'),j=h.extend({constructor:function(k){this.parent();this.dom=k;},fire:function(){this.inform.apply(this,arguments);},getAttribute:function(k,l,m){var n=g.getAttr(this.dom,k);return n?m?m(n):n:l;},_getBoolAttribute:function(k,l){var m=g.getBoolAttr(this.dom,k);return m===null?l:m;},_getPxAttribute:function(k,l){return this.getAttribute(k,l,function(m){var n=parseInt(m.replace('px',''),10);if(isNaN(n)){return l;}else return n;});},_getAttributeFromList:function(k,l,m){return this.getAttribute(k,l,function(n){n=n.toLowerCase();return (ES5(m,'indexOf',true,n)>-1)?n:l;});},isValid:function(){for(var k=this.dom;k;k=k.parentNode)if(k==document.body)return true;},clear:function(){g.html(this.dom,'');}},i);e.exports=j;});\n__d(\"sdk.XFBML.IframeWidget\",[\"sdk.Arbiter\",\"sdk.Auth\",\"sdk.Content\",\"copyProperties\",\"sdk.DOM\",\"sdk.Event\",\"sdk.XFBML.Element\",\"guid\",\"insertIframe\",\"QueryString\",\"sdk.Runtime\",\"sdk.ui\",\"UrlMap\",\"sdk.XD\"],function(a,b,c,d,e,f){var g=b('sdk.Arbiter'),h=b('sdk.Auth'),i=b('sdk.Content'),j=b('copyProperties'),k=b('sdk.DOM'),l=b('sdk.Event'),m=b('sdk.XFBML.Element'),n=b('guid'),o=b('insertIframe'),p=b('QueryString'),q=b('sdk.Runtime'),r=b('sdk.ui'),s=b('UrlMap'),t=b('sdk.XD'),u=m.extend({_iframeName:null,_showLoader:true,_refreshOnAuthChange:false,_allowReProcess:false,_fetchPreCachedLoader:false,_visibleAfter:'load',_widgetPipeEnabled:false,_borderReset:false,_repositioned:false,getUrlBits:function(){throw new Error('Inheriting class needs to implement getUrlBits().');},setupAndValidate:function(){return true;},oneTimeSetup:function(){},getSize:function(){},getIframeName:function(){return this._iframeName;},getIframeTitle:function(){return 'Facebook Social Plugin';},getChannelUrl:function(){if(!this._channelUrl){var y=this;this._channelUrl=t.handler(function(z){y.fire('xd.'+z.type,z);},'parent.parent',true);}return this._channelUrl;},getIframeNode:function(){return this.dom.getElementsByTagName('iframe')[0];},arbiterInform:function(event,y,z){t.sendToFacebook(this.getIframeName(),{method:event,params:ES5('JSON','stringify',false,y||{}),behavior:z||g.BEHAVIOR_PERSISTENT});},_arbiterInform:function(event,y,z){var aa='parent.frames[\"'+this.getIframeNode().name+'\"]';t.inform(event,y,aa,z);},getDefaultWebDomain:function(){return s.resolve('www');},process:function(y){if(this._done){if(!this._allowReProcess&&!y)return;this.clear();}else this._oneTimeSetup();this._done=true;this._iframeName=this.getIframeName()||this._iframeName||n();if(!this.setupAndValidate()){this.fire('render');return;}if(this._showLoader)this._addLoader();k.addCss(this.dom,'fb_iframe_widget');if(this._visibleAfter!='immediate'){k.addCss(this.dom,'fb_hide_iframes');}else this.subscribe('iframe.onload',ES5(this.fire,'bind',true,this,'render'));var z=this.getSize()||{},aa=this.getFullyQualifiedURL();if(z.width=='100%')k.addCss(this.dom,'fb_iframe_widget_fluid');this.clear();o({url:aa,root:this.dom.appendChild(document.createElement('span')),name:this._iframeName,title:this.getIframeTitle(),className:q.getRtl()?'fb_rtl':'fb_ltr',height:z.height,width:z.width,onload:ES5(this.fire,'bind',true,this,'iframe.onload')});this._resizeFlow(z);this.loaded=false;this.subscribe('iframe.onload',ES5(function(){this.loaded=true;},'bind',true,this));},generateWidgetPipeIframeName:function(){v++;return 'fb_iframe_'+v;},getFullyQualifiedURL:function(){var y=this._getURL();y+='?'+p.encode(this._getQS());if(y.length>2000){y='about:blank';var z=ES5(function(){this._postRequest();this.unsubscribe('iframe.onload',z);},'bind',true,this);this.subscribe('iframe.onload',z);}return y;},_getWidgetPipeShell:function(){return s.resolve('www')+'/common/widget_pipe_shell.php';},_oneTimeSetup:function(){this.subscribe('xd.resize',ES5(this._handleResizeMsg,'bind',true,this));this.subscribe('xd.resize',ES5(this._bubbleResizeEvent,'bind',true,this));this.subscribe('xd.resize.iframe',ES5(this._resizeIframe,'bind',true,this));this.subscribe('xd.resize.flow',ES5(this._resizeFlow,'bind',true,this));this.subscribe('xd.resize.flow',ES5(this._bubbleResizeEvent,'bind',true,this));this.subscribe('xd.refreshLoginStatus',function(){h.getLoginStatus(function(){},true);});this.subscribe('xd.logout',function(){r({method:'auth.logout',display:'hidden'},function(){});});if(this._refreshOnAuthChange)this._setupAuthRefresh();if(this._visibleAfter=='load')this.subscribe('iframe.onload',ES5(this._makeVisible,'bind',true,this));this.subscribe('xd.verify',ES5(function(y){this.arbiterInform('xd/verify',y.token);},'bind',true,this));this.oneTimeSetup();},_makeVisible:function(){this._removeLoader();k.removeCss(this.dom,'fb_hide_iframes');this.fire('render');},_setupAuthRefresh:function(){h.getLoginStatus(ES5(function(y){var z=y.status;l.subscribe('auth.statusChange',ES5(function(aa){if(!this.isValid())return;if(z=='unknown'||aa.status=='unknown')this.process(true);z=aa.status;},'bind',true,this));},'bind',true,this));},_handleResizeMsg:function(y){if(!this.isValid())return;this._resizeIframe(y);this._resizeFlow(y);if(!this._borderReset){this.getIframeNode().style.border='none';this._borderReset=true;}this._makeVisible();},_bubbleResizeEvent:function(y){var z={height:y.height,width:y.width,pluginID:this.getAttribute('plugin-id')};l.fire('xfbml.resize',z);},_resizeIframe:function(y){var z=this.getIframeNode();if(y.reposition===\"true\")this._repositionIframe(y);y.height&&(z.style.height=y.height+'px');y.width&&(z.style.width=y.width+'px');this._updateIframeZIndex();},_resizeFlow:function(y){var z=this.dom.getElementsByTagName('span')[0];y.height&&(z.style.height=y.height+'px');y.width&&(z.style.width=y.width+'px');this._updateIframeZIndex();},_updateIframeZIndex:function(){var y=this.dom.getElementsByTagName('span')[0],z=this.getIframeNode(),aa=z.style.height===y.style.height&&z.style.width===y.style.width,ba=aa?'removeCss':'addCss';k[ba](z,'fb_iframe_widget_lift');},_repositionIframe:function(y){var z=this.getIframeNode(),aa=parseInt(k.getStyle(z,'width'),10),ba=k.getPosition(z).x,ca=k.getViewportInfo().width,da=parseInt(y.width,10);if(ba+da>ca&&ba>da){z.style.left=aa-da+'px';this.arbiterInform('xd/reposition',{type:'horizontal'});this._repositioned=true;}else if(this._repositioned){z.style.left='0px';this.arbiterInform('xd/reposition',{type:'restore'});this._repositioned=false;}},_addLoader:function(){if(!this._loaderDiv){k.addCss(this.dom,'fb_iframe_widget_loader');this._loaderDiv=document.createElement('div');this._loaderDiv.className='FB_Loader';this.dom.appendChild(this._loaderDiv);}},_removeLoader:function(){if(this._loaderDiv){k.removeCss(this.dom,'fb_iframe_widget_loader');if(this._loaderDiv.parentNode)this._loaderDiv.parentNode.removeChild(this._loaderDiv);this._loaderDiv=null;}},_getQS:function(){return j({api_key:q.getClientID(),locale:q.getLocale(),sdk:'joey',kid_directed_site:q.getKidDirectedSite(),ref:this.getAttribute('ref')},this.getUrlBits().params);},_getURL:function(){var y=this.getDefaultWebDomain(),z='';return y+'/plugins/'+z+this.getUrlBits().name+'.php';},_postRequest:function(){i.submitToTarget({url:this._getURL(),target:this.getIframeNode().name,params:this._getQS()});}}),v=0,w={};function x(){var y={};for(var z in w){var aa=w[z];y[z]={widget:aa.getUrlBits().name,params:aa._getQS()};}return y;}e.exports=u;});\n__d(\"sdk.XFBML.Comments\",[\"sdk.Event\",\"sdk.XFBML.IframeWidget\",\"QueryString\",\"sdk.Runtime\",\"UrlMap\",\"UserAgent\",\"SDKConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Event'),h=b('sdk.XFBML.IframeWidget'),i=b('QueryString'),j=b('sdk.Runtime'),k=c('SDKConfig'),l=b('UrlMap'),m=b('UserAgent'),n=h.extend({_visibleAfter:'immediate',_refreshOnAuthChange:true,setupAndValidate:function(){var o={channel_url:this.getChannelUrl(),colorscheme:this.getAttribute('colorscheme'),skin:this.getAttribute('skin'),numposts:this.getAttribute('num-posts',10),width:this._getPxAttribute('width',550),href:this.getAttribute('href'),permalink:this.getAttribute('permalink'),publish_feed:this.getAttribute('publish_feed'),order_by:this.getAttribute('order_by'),mobile:this._getBoolAttribute('mobile')};if(k.initSitevars.enableMobileComments&&m.mobile()&&o.mobile!==false){o.mobile=true;delete o.width;}if(!o.skin)o.skin=o.colorscheme;if(!o.href){o.migrated=this.getAttribute('migrated');o.xid=this.getAttribute('xid');o.title=this.getAttribute('title',document.title);o.url=this.getAttribute('url',document.URL);o.quiet=this.getAttribute('quiet');o.reverse=this.getAttribute('reverse');o.simple=this.getAttribute('simple');o.css=this.getAttribute('css');o.notify=this.getAttribute('notify');if(!o.xid){var p=ES5(document.URL,'indexOf',true,'#');if(p>0){o.xid=encodeURIComponent(document.URL.substring(0,p));}else o.xid=encodeURIComponent(document.URL);}if(o.migrated)o.href=l.resolve('www')+'/plugins/comments_v1.php?'+'app_id='+j.getClientID()+'&xid='+encodeURIComponent(o.xid)+'&url='+encodeURIComponent(o.url);}else{var q=this.getAttribute('fb_comment_id');if(!q){q=i.decode(document.URL.substring(ES5(document.URL,'indexOf',true,'?')+1)).fb_comment_id;if(q&&ES5(q,'indexOf',true,'#')>0)q=q.substring(0,ES5(q,'indexOf',true,'#'));}if(q){o.fb_comment_id=q;this.subscribe('render',ES5(function(){if(!window.location.hash)window.location.hash=this.getIframeNode().id;},'bind',true,this));}}this._attr=o;return true;},oneTimeSetup:function(){this.subscribe('xd.addComment',ES5(this._handleCommentMsg,'bind',true,this));this.subscribe('xd.commentCreated',ES5(this._handleCommentCreatedMsg,'bind',true,this));this.subscribe('xd.commentRemoved',ES5(this._handleCommentRemovedMsg,'bind',true,this));},getSize:function(){if(this._attr.mobile)return {width:'100%',height:160};return {width:this._attr.width,height:160};},getUrlBits:function(){return {name:'comments',params:this._attr};},getDefaultWebDomain:function(){return l.resolve(this._attr.mobile?'m':'www',true);},_handleCommentMsg:function(o){if(!this.isValid())return;g.fire('comments.add',{post:o.post,user:o.user,widget:this});},_handleCommentCreatedMsg:function(o){if(!this.isValid())return;var p={href:o.href,commentID:o.commentID,parentCommentID:o.parentCommentID};g.fire('comment.create',p);},_handleCommentRemovedMsg:function(o){if(!this.isValid())return;var p={href:o.href,commentID:o.commentID};g.fire('comment.remove',p);}});e.exports=n;});\n__d(\"sdk.XFBML.CommentsCount\",[\"sdk.Data\",\"sdk.DOM\",\"sdk.XFBML.Element\",\"sprintf\"],function(a,b,c,d,e,f){var g=b('sdk.Data'),h=b('sdk.DOM'),i=b('sdk.XFBML.Element'),j=b('sprintf'),k=i.extend({process:function(){h.addCss(this.dom,'fb_comments_count_zero');var l=this.getAttribute('href',window.location.href);g._selectByIndex(['commentsbox_count'],'link_stat','url',l).wait(ES5(function(m){var n=m[0].commentsbox_count;h.html(this.dom,j('<span class=\"fb_comments_count\">%s</span>',n));if(n>0)h.removeCss(this.dom,'fb_comments_count_zero');this.fire('render');},'bind',true,this));}});e.exports=k;});\n__d(\"sdk.Anim\",[\"sdk.DOM\"],function(a,b,c,d,e,f){var g=b('sdk.DOM'),h={ate:function(i,j,k,l){k=!isNaN(parseFloat(k))&&k>=0?k:750;var m=40,n={},o={},p=null,q=setInterval(ES5(function(){if(!p)p=ES5('Date','now',false);var r=1;if(k!=0)r=Math.min((ES5('Date','now',false)-p)/k,1);for(var s in j)if(j.hasOwnProperty(s)){var t=j[s];if(!n[s]){var u=g.getStyle(i,s);if(u===false)return;n[s]=this._parseCSS(u+'');}if(!o[s])o[s]=this._parseCSS(t.toString());var v='';ES5(n[s],'forEach',true,function(w,x){if(isNaN(o[s][x].numPart)&&o[s][x].textPart=='?'){v=w.numPart+w.textPart;}else if(isNaN(w.numPart)){v=w.textPart;}else v+=(w.numPart+Math.ceil((o[s][x].numPart-w.numPart)*Math.sin(Math.PI/2*r)))+o[s][x].textPart+' ';});g.setStyle(i,s,v);}if(r==1){clearInterval(q);if(l)l(i);}},'bind',true,this),m);},_parseCSS:function(i){var j=[];ES5(i.split(' '),'forEach',true,function(k){var l=parseInt(k,10);j.push({numPart:l,textPart:k.replace(l,'')});});return j;}};e.exports=h;});\n__d(\"escapeHTML\",[],function(a,b,c,d,e,f){var g=/[&<>\"'\\/]/g,h={'&':'&amp;','<':'&lt;','>':'&gt;','\"':'&quot;',\"'\":'&#039;','/':'&#x2F;'};function i(j){return j.replace(g,function(k){return h[k];});}e.exports=i;});\n__d(\"sdk.Helper\",[\"sdk.ErrorHandling\",\"sdk.Event\",\"safeEval\",\"UrlMap\"],function(a,b,c,d,e,f){var g=b('sdk.ErrorHandling'),h=b('sdk.Event'),i=b('safeEval'),j=b('UrlMap'),k={isUser:function(l){return l<2.2e+09||(l>=1e+14&&l<=100099999989999)||(l>=8.9e+13&&l<=89999999999999);},upperCaseFirstChar:function(l){if(l.length>0){return l.substr(0,1).toUpperCase()+l.substr(1);}else return l;},getProfileLink:function(l,m,n){n=n||(l?j.resolve('www')+'/profile.php?id='+l.uid:null);if(n)m='<a class=\"fb_link\" href=\"'+n+'\">'+m+'</a>';return m;},invokeHandler:function(l,m,n){if(l)if(typeof l==='string'){g.unguard(i)(l,n);}else if(l.apply)g.unguard(l).apply(m,n||[]);},fireEvent:function(l,m){var n=m._attr.href;m.fire(l,n);h.fire(l,n,m);},executeFunctionByName:function(l){var m=Array.prototype.slice.call(arguments,1),n=l.split(\".\"),o=n.pop(),p=window;for(var q=0;q<n.length;q++)p=p[n[q]];return p[o].apply(this,m);}};e.exports=k;});\n__d(\"sdk.XFBML.ConnectBar\",[\"sdk.Anim\",\"sdk.api\",\"sdk.Auth\",\"createArrayFrom\",\"sdk.Data\",\"sdk.DOM\",\"sdk.XFBML.Element\",\"escapeHTML\",\"sdk.Event\",\"format\",\"sdk.Helper\",\"sdk.Insights\",\"sdk.Intl\",\"sdk.Runtime\",\"UrlMap\",\"UserAgent\",\"ConnectBarConfig\"],function(a,b,c,d,e,f){var g=b('sdk.Anim'),h=b('sdk.api'),i=b('sdk.Auth'),j=b('createArrayFrom'),k=c('ConnectBarConfig'),l=b('sdk.Data'),m=b('sdk.DOM'),n=b('sdk.XFBML.Element'),o=b('escapeHTML'),p=b('sdk.Event'),q=b('format'),r=b('sdk.Helper'),s=b('sdk.Insights'),t=b('sdk.Intl'),u=b('sdk.Runtime'),v=b('UrlMap'),w=b('UserAgent'),x=n.extend({_initialHeight:null,_initTopMargin:0,_picFieldName:'pic_square',_page:null,_displayed:false,_notDisplayed:false,_container:null,_animationSpeed:0,process:function(){i.getLoginStatus(ES5(function(y){p.monitor('auth.statusChange',ES5(function(){if(this.isValid()&&u.getLoginStatus()=='connected'){this._uid=u.getUserID();h({method:'Connect.shouldShowConnectBar'},ES5(function(z){if(z!=2){this._animationSpeed=(z==0)?750:0;this._showBar();}else this._noRender();},'bind',true,this));}else this._noRender();return false;},'bind',true,this));},'bind',true,this));},_showBar:function(){var y=l._selectByIndex(['first_name','profile_url',this._picFieldName],'user','uid',this._uid),z=l._selectByIndex(['display_name'],'application','api_key',u.getClientID());l.waitOn([y,z],ES5(function(aa){aa[0][0].site_name=aa[1][0].display_name;if(!this._displayed){this._displayed=true;this._notDisplayed=false;this._renderConnectBar(aa[0][0]);this.fire('render');s.impression({lid:104,name:'widget_load'});this.fire('connectbar.ondisplay');p.fire('connectbar.ondisplay',this);r.invokeHandler(this.getAttribute('on-display'),this);}},'bind',true,this));},_noRender:function(){if(this._displayed){this._displayed=false;this._closeConnectBar();}if(!this._notDisplayed){this._notDisplayed=true;this.fire('render');this.fire('connectbar.onnotdisplay');p.fire('connectbar.onnotdisplay',this);r.invokeHandler(this.getAttribute('on-not-display'),this);}},_renderConnectBar:function(y){var z=document.createElement('div'),aa=document.createElement('div');z.className='fb_connect_bar';aa.className='fb_reset fb_connect_bar_container';aa.appendChild(z);document.body.appendChild(aa);this._container=aa;this._initialHeight=Math.round(parseFloat(m.getStyle(aa,'height'))+parseFloat(m.getStyle(aa,'borderBottomWidth')));m.html(z,q('<div class=\"fb_buttons\">'+'<a href=\"#\" class=\"fb_bar_close\">'+'<img src=\"{1}\" alt=\"{2}\" title=\"{2}\"/>'+'</a>'+'</div>'+'<a href=\"{7}\" class=\"fb_profile\" target=\"_blank\">'+'<img src=\"{3}\" alt=\"{4}\" title=\"{4}\"/>'+'</a>'+'{5}'+' <span>'+'<a href=\"{8}\" class=\"fb_learn_more\" target=\"_blank\">{6}</a> &ndash; '+'<a href=\"#\" class=\"fb_no_thanks\">{0}</a>'+'</span>',t.tx._(\"No Thanks\"),v.resolve('fbcdn')+'/'+k.imgs.buttonUrl,t.tx._(\"Close\"),y[this._picFieldName]||v.resolve('fbcdn')+'/'+k.imgs.missingProfileUrl,o(y.first_name),t.tx._(\"Hi {firstName}. \\u003Cstrong>{siteName}\\u003C\\/strong> is using Facebook to personalize your experience.\",{firstName:o(y.first_name),siteName:o(y.site_name)}),t.tx._(\"Learn More\"),y.profile_url,v.resolve('www')+'/sitetour/connect.php'));ES5(j(z.getElementsByTagName('a')),'forEach',true,function(da){da.onclick=ES5(this._clickHandler,'bind',true,this);},this);this._page=document.body;var ba=0;if(this._page.parentNode){ba=Math.round((parseFloat(m.getStyle(this._page.parentNode,'height'))-parseFloat(m.getStyle(this._page,'height')))/2);}else ba=parseInt(m.getStyle(this._page,'marginTop'),10);ba=isNaN(ba)?0:ba;this._initTopMargin=ba;if(!window.XMLHttpRequest){aa.className+=\" fb_connect_bar_container_ie6\";}else{aa.style.top=(-1*this._initialHeight)+'px';g.ate(aa,{top:'0px'},this._animationSpeed);}var ca={marginTop:this._initTopMargin+this._initialHeight+'px'};if(w.ie()){ca.backgroundPositionY=this._initialHeight+'px';}else ca.backgroundPosition='? '+this._initialHeight+'px';g.ate(this._page,ca,this._animationSpeed);},_clickHandler:function(y){y=y||window.event;var z=y.target||y.srcElement;while(z.nodeName!='A')z=z.parentNode;switch(z.className){case 'fb_bar_close':h({method:'Connect.connectBarMarkAcknowledged'});s.impression({lid:104,name:'widget_user_closed'});this._closeConnectBar();break;case 'fb_learn_more':case 'fb_profile':window.open(z.href);break;case 'fb_no_thanks':this._closeConnectBar();h({method:'Connect.connectBarMarkAcknowledged'});s.impression({lid:104,name:'widget_user_no_thanks'});h({method:'auth.revokeAuthorization',block:true},ES5(function(){this.fire('connectbar.ondeauth');p.fire('connectbar.ondeauth',this);r.invokeHandler(this.getAttribute('on-deauth'),this);if(this._getBoolAttribute('auto-refresh',true))window.location.reload();},'bind',true,this));break;}return false;},_closeConnectBar:function(){this._notDisplayed=true;var y={marginTop:this._initTopMargin+'px'};if(w.ie()){y.backgroundPositionY='0px';}else y.backgroundPosition='? 0px';var z=(this._animationSpeed==0)?0:300;g.ate(this._page,y,z);g.ate(this._container,{top:(-1*this._initialHeight)+'px'},z,function(aa){aa.parentNode.removeChild(aa);});this.fire('connectbar.onclose');p.fire('connectbar.onclose',this);r.invokeHandler(this.getAttribute('on-close'),this);}});e.exports=x;});\n__d(\"sdk.XFBML.EdgeCommentWidget\",[\"sdk.XFBML.IframeWidget\",\"sdk.DOM\"],function(a,b,c,d,e,f){var g=b('sdk.XFBML.IframeWidget'),h=b('sdk.DOM'),i=10000,j=g.extend({constructor:function(k){this.parent(k.commentNode);this._iframeWidth=k.width+1;this._iframeHeight=k.height;this._attr={master_frame_name:k.masterFrameName,offsetX:k.relativeWidthOffset-k.paddingLeft};this.dom=k.commentNode;this.dom.style.top=k.relativeHeightOffset+'px';this.dom.style.left=k.relativeWidthOffset+'px';this.dom.style.zIndex=i++;h.addCss(this.dom,'fb_edge_comment_widget');},_visibleAfter:'load',_showLoader:false,getSize:function(){return {width:this._iframeWidth,height:this._iframeHeight};},getUrlBits:function(){return {name:'comment_widget_shell',params:this._attr};}});e.exports=j;});\n__d(\"sdk.XFBML.EdgeWidget\",[\"sdk.Event\",\"sdk.XFBML.IframeWidget\",\"sdk.XFBML.EdgeCommentWidget\",\"sdk.DOM\",\"sdk.Helper\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('sdk.Event'),h=b('sdk.XFBML.IframeWidget'),i=b('sdk.XFBML.EdgeCommentWidget'),j=b('sdk.DOM'),k=b('sdk.Helper'),l=b('sdk.Runtime'),m=h.extend({_visibleAfter:'immediate',_showLoader:false,_rootPadding:null,setupAndValidate:function(){j.addCss(this.dom,'fb_edge_widget_with_comment');this._attr={channel_url:this.getChannelUrl(),debug:this._getBoolAttribute('debug'),href:this.getAttribute('href',window.location.href),is_permalink:this._getBoolAttribute('is-permalink'),node_type:this.getAttribute('node-type','link'),width:this._getWidgetWidth(),font:this.getAttribute('font'),layout:this._getLayout(),colorscheme:this.getAttribute('color-scheme','light'),action:this.getAttribute('action'),ref:this.getAttribute('ref'),show_faces:this._shouldShowFaces(),no_resize:this._getBoolAttribute('no_resize'),send:this._getBoolAttribute('send'),share:this._getBoolAttribute('share'),url_map:this.getAttribute('url_map'),extended_social_context:this._getBoolAttribute('extended_social_context',false)};this._rootPadding={left:parseFloat(j.getStyle(this.dom,'paddingLeft')),top:parseFloat(j.getStyle(this.dom,'paddingTop'))};return true;},oneTimeSetup:function(){this.subscribe('xd.sdk_event',ES5(function(n){g.fire(n.event,ES5('JSON','parse',false,n.data),this.dom);if(n.event=='edge.create'){k.invokeHandler(this.getAttribute('on-create'),this,[this._attr.href]);}else if(n.event=='edge.remove')k.invokeHandler(this.getAttribute('on-remove'),this,[this._attr.href]);},'bind',true,this));this.subscribe('xd.presentEdgeCommentDialog',ES5(this._handleEdgeCommentDialogPresentation,'bind',true,this));this.subscribe('xd.dismissEdgeCommentDialog',ES5(this._handleEdgeCommentDialogDismissal,'bind',true,this));this.subscribe('xd.hideEdgeCommentDialog',ES5(this._handleEdgeCommentDialogHide,'bind',true,this));this.subscribe('xd.showEdgeCommentDialog',ES5(this._handleEdgeCommentDialogShow,'bind',true,this));},getSize:function(){return {width:this._getWidgetWidth(),height:this._getWidgetHeight()};},_getWidgetHeight:function(){var n=this._getLayout(),o=this._shouldShowFaces()?'show':'hide',p=this._getBoolAttribute('send')||this._getBoolAttribute('share'),q=65+(p?25:0),r={standard:{show:80,hide:35},box_count:{show:q,hide:q},button_count:{show:21,hide:21},simple:{show:20,hide:20}};return r[n][o];},_getWidgetWidth:function(){var n=this._getLayout(),o=this._getBoolAttribute('send')||this._getBoolAttribute('share'),p=this._shouldShowFaces()?'show':'hide',q=(this.getAttribute('action')==='recommend'),r=(q?265:225)+(o?60:0),s=(q?130:90)+(o?60:0),t=this.getAttribute('action')==='recommend'?100:55,u=this.getAttribute('action')==='recommend'?90:50,v={standard:{show:450,hide:450},box_count:{show:t,hide:t},button_count:{show:s,hide:s},simple:{show:u,hide:u}},w=v[n][p],x=this._getPxAttribute('width',w),y={standard:{min:r,max:900},box_count:{min:t,max:900},button_count:{min:s,max:900},simple:{min:49,max:900}};if(x<y[n].min){x=y[n].min;}else if(x>y[n].max)x=y[n].max;return x;},_getLayout:function(){return this._getAttributeFromList('layout','standard',['standard','button_count','box_count','simple']);},_shouldShowFaces:function(){return this._getLayout()==='standard'&&this._getBoolAttribute('show-faces',true);},_handleEdgeCommentDialogPresentation:function(n){if(!this.isValid())return;var o=document.createElement('span');this._commentSlave=this._createEdgeCommentWidget(n,o);this.dom.appendChild(o);this._commentSlave.process();this._commentWidgetNode=o;},_createEdgeCommentWidget:function(n,o){var p={commentNode:o,externalUrl:n.externalURL,masterFrameName:n.masterFrameName,layout:this._getLayout(),relativeHeightOffset:this._getHeightOffset(n),relativeWidthOffset:this._getWidthOffset(n),anchorTargetX:parseFloat(n['query[anchorTargetX]'])+this._rootPadding.left,anchorTargetY:parseFloat(n['query[anchorTargetY]'])+this._rootPadding.top,width:parseFloat(n.width),height:parseFloat(n.height),paddingLeft:this._rootPadding.left};return new i(p);},_getHeightOffset:function(n){return parseFloat(n['anchorGeometry[y]'])+parseFloat(n['anchorPosition[y]'])+this._rootPadding.top;},_getWidthOffset:function(n){var o=parseFloat(n['anchorPosition[x]'])+this._rootPadding.left,p=j.getPosition(this.dom).x,q=this.dom.offsetWidth,r=j.getViewportInfo().width,s=parseFloat(n.width),t=false;if(l.getRtl()){t=s<p;}else if((p+s)>r)t=true;if(t)o+=parseFloat(n['anchorGeometry[x]'])-s;return o;},_getCommonEdgeCommentWidgetOpts:function(n,o){return {colorscheme:this._attr.colorscheme,commentNode:o,controllerID:n.controllerID,nodeImageURL:n.nodeImageURL,nodeRef:this._attr.ref,nodeTitle:n.nodeTitle,nodeURL:n.nodeURL,nodeSummary:n.nodeSummary,width:parseFloat(n.width),height:parseFloat(n.height),relativeHeightOffset:this._getHeightOffset(n),relativeWidthOffset:this._getWidthOffset(n),error:n.error,siderender:n.siderender,extended_social_context:n.extended_social_context,anchorTargetX:parseFloat(n['query[anchorTargetX]'])+this._rootPadding.left,anchorTargetY:parseFloat(n['query[anchorTargetY]'])+this._rootPadding.top};},_handleEdgeCommentDialogDismissal:function(n){if(this._commentWidgetNode){this.dom.removeChild(this._commentWidgetNode);delete this._commentWidgetNode;}},_handleEdgeCommentDialogHide:function(){if(this._commentWidgetNode)this._commentWidgetNode.style.display=\"none\";},_handleEdgeCommentDialogShow:function(){if(this._commentWidgetNode)this._commentWidgetNode.style.display=\"block\";}});e.exports=m;});\n__d(\"sdk.XFBML.SendButtonFormWidget\",[\"sdk.XFBML.EdgeCommentWidget\",\"sdk.DOM\",\"sdk.Event\"],function(a,b,c,d,e,f){var g=b('sdk.XFBML.EdgeCommentWidget'),h=b('sdk.DOM'),i=b('sdk.Event'),j=g.extend({constructor:function(k){this.parent(k);h.addCss(this.dom,'fb_send_button_form_widget');h.addCss(this.dom,k.colorscheme);h.addCss(this.dom,(typeof k.siderender!='undefined'&&k.siderender)?'siderender':'');this._attr.nodeImageURL=k.nodeImageURL;this._attr.nodeRef=k.nodeRef;this._attr.nodeTitle=k.nodeTitle;this._attr.nodeURL=k.nodeURL;this._attr.nodeSummary=k.nodeSummary;this._attr.offsetX=k.relativeWidthOffset;this._attr.offsetY=k.relativeHeightOffset;this._attr.anchorTargetX=k.anchorTargetX;this._attr.anchorTargetY=k.anchorTargetY;this._attr.channel=this.getChannelUrl();this._attr.controllerID=k.controllerID;this._attr.colorscheme=k.colorscheme;this._attr.error=k.error;this._attr.siderender=k.siderender;this._attr.extended_social_context=k.extended_social_context;},_showLoader:true,getUrlBits:function(){return {name:'send_button_form_shell',params:this._attr};},oneTimeSetup:function(){this.subscribe('xd.messageSent',ES5(this._onMessageSent,'bind',true,this));},_onMessageSent:function(){i.fire('message.send',this._attr.nodeURL,this);}});e.exports=j;});\n__d(\"sdk.XFBML.Like\",[\"sdk.XFBML.EdgeWidget\",\"sdk.XFBML.SendButtonFormWidget\"],function(a,b,c,d,e,f){var g=b('sdk.XFBML.EdgeWidget'),h=b('sdk.XFBML.SendButtonFormWidget'),i=g.extend({getUrlBits:function(){return {name:'like',params:this._attr};},_createEdgeCommentWidget:function(j,k){if('send' in this._attr&&'widget_type' in j&&j.widget_type=='send'){var l=this._getCommonEdgeCommentWidgetOpts(j,k);return new h(l);}else return this.parentCall(\"_createEdgeCommentWidget\",j,k);},getIframeTitle:function(){return 'Like this content on Facebook.';}});e.exports=i;});\n__d(\"sdk.XFBML.LiveStream\",[\"sdk.XFBML.IframeWidget\"],function(a,b,c,d,e,f){var g=b('sdk.XFBML.IframeWidget'),h=g.extend({_visibleAfter:'load',setupAndValidate:function(){this._attr={app_id:this.getAttribute('event-app-id'),href:this.getAttribute('href',window.location.href),height:this._getPxAttribute('height',500),hideFriendsTab:this.getAttribute('hide-friends-tab'),redesigned:this._getBoolAttribute('redesigned-stream'),width:this._getPxAttribute('width',400),xid:this.getAttribute('xid','default'),always_post_to_friends:this._getBoolAttribute('always-post-to-friends'),via_url:this.getAttribute('via_url')};return true;},getSize:function(){return {width:this._attr.width,height:this._attr.height};},getUrlBits:function(){var i=this._attr.redesigned?'live_stream_box':'livefeed';if(this._getBoolAttribute('modern',false))i='live_stream';return {name:i,params:this._attr};}});e.exports=h;});\n__d(\"sdk.XFBML.LoginButton\",[\"sdk.Helper\",\"IframePlugin\"],function(a,b,c,d,e,f){var g=b('sdk.Helper'),h=b('IframePlugin'),i=h.extend({constructor:function(j,k,l,m){this.parent(j,k,l,m);var n=h.getVal(m,'on_login');if(n)this.subscribe('login.status',function(o){g.invokeHandler(n,null,[o]);});},getParams:function(){return {scope:'string',perms:'string',size:'string',login_text:'text',show_faces:'bool',max_rows:'string',show_login_face:'bool',registration_url:'url_maybe',auto_logout_link:'bool',one_click:'bool',show_banner:'bool'};}});e.exports=i;});\n__d(\"sdk.XFBML.Name\",[\"copyProperties\",\"sdk.Data\",\"escapeHTML\",\"sdk.Event\",\"sdk.XFBML.Element\",\"sdk.Helper\",\"Log\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('copyProperties'),h=b('sdk.Data'),i=b('escapeHTML'),j=b('sdk.Event'),k=b('sdk.XFBML.Element'),l=b('sdk.Helper'),m=b('Log'),n=b('sdk.Runtime'),o=k.extend({process:function(){g(this,{_uid:this.getAttribute('uid'),_firstnameonly:this._getBoolAttribute('first-name-only'),_lastnameonly:this._getBoolAttribute('last-name-only'),_possessive:this._getBoolAttribute('possessive'),_reflexive:this._getBoolAttribute('reflexive'),_objective:this._getBoolAttribute('objective'),_linked:this._getBoolAttribute('linked',true),_subjectId:this.getAttribute('subject-id')});if(!this._uid){m.error('\"uid\" is a required attribute for <fb:name>');this.fire('render');return;}var p=[];if(this._firstnameonly){p.push('first_name');}else if(this._lastnameonly){p.push('last_name');}else p.push('name');if(this._subjectId){p.push('sex');if(this._subjectId==n.getUserID())this._reflexive=true;}var q;j.monitor('auth.statusChange',ES5(function(){if(!this.isValid()){this.fire('render');return true;}if(!this._uid||this._uid=='loggedinuser')this._uid=n.getUserID();if(!this._uid)return;if(l.isUser(this._uid)){q=h._selectByIndex(p,'user','uid',this._uid);}else q=h._selectByIndex(['name','id'],'profile','id',this._uid);q.wait(ES5(function(r){if(this._subjectId==this._uid){this._renderPronoun(r[0]);}else this._renderOther(r[0]);this.fire('render');},'bind',true,this));},'bind',true,this));},_renderPronoun:function(p){var q='',r=this._objective;if(this._subjectId){r=true;if(this._subjectId===this._uid)this._reflexive=true;}if(this._uid==n.getUserID()&&this._getBoolAttribute('use-you',true)){if(this._possessive){if(this._reflexive){q='your own';}else q='your';}else if(this._reflexive){q='yourself';}else q='you';}else switch(p.sex){case 'male':if(this._possessive){q=this._reflexive?'his own':'his';}else if(this._reflexive){q='himself';}else if(r){q='him';}else q='he';break;case 'female':if(this._possessive){q=this._reflexive?'her own':'her';}else if(this._reflexive){q='herself';}else if(r){q='her';}else q='she';break;default:if(this._getBoolAttribute('use-they',true)){if(this._possessive){if(this._reflexive){q='their own';}else q='their';}else if(this._reflexive){q='themselves';}else if(r){q='them';}else q='they';}else if(this._possessive){if(this._reflexive){q='his/her own';}else q='his/her';}else if(this._reflexive){q='himself/herself';}else if(r){q='him/her';}else q='he/she';break;}if(this._getBoolAttribute('capitalize',false))q=l.upperCaseFirstChar(q);this.dom.innerHTML=q;},_renderOther:function(p){var q='',r='';if(this._uid==n.getUserID()&&this._getBoolAttribute('use-you',true)){if(this._reflexive){if(this._possessive){q='your own';}else q='yourself';}else if(this._possessive){q='your';}else q='you';}else if(p){if(null===p.first_name)p.first_name='';if(null===p.last_name)p.last_name='';if(this._firstnameonly&&p.first_name!==undefined){q=i(p.first_name);}else if(this._lastnameonly&&p.last_name!==undefined)q=i(p.last_name);if(!q)q=i(p.name);if(q!==''&&this._possessive)q+='\\'s';}if(!q)q=i(this.getAttribute('if-cant-see','Facebook User'));if(q){if(this._getBoolAttribute('capitalize',false))q=l.upperCaseFirstChar(q);if(p&&this._linked){r=l.getProfileLink(p,q,this.getAttribute('href',null));}else r=q;}this.dom.innerHTML=r;}});e.exports=o;});\n__d(\"sdk.XFBML.RecommendationsBar\",[\"sdk.Arbiter\",\"DOMEventListener\",\"sdk.Event\",\"sdk.XFBML.IframeWidget\",\"resolveURI\",\"sdk.Runtime\"],function(a,b,c,d,e,f){var g=b('sdk.Arbiter'),h=b('DOMEventListener'),i=b('sdk.Event'),j=b('sdk.XFBML.IframeWidget'),k=b('resolveURI'),l=b('sdk.Runtime'),m=j.extend({getUrlBits:function(){return {name:'recommendations_bar',params:this._attr};},setupAndValidate:function(){function n(w,x){var y=0,z=null;function aa(){x();z=null;y=ES5('Date','now',false);}return function(){if(!z){var ba=ES5('Date','now',false);if(ba-y<w){z=setTimeout(aa,w-(ba-y));}else aa();}return true;};}function o(w){if(w.match(/^\\d+(?:\\.\\d+)?%$/)){var x=Math.min(Math.max(parseInt(w,10),0),100);w=x/100;}else if(w!='manual'&&w!='onvisible')w='onvisible';return w;}function p(w){return Math.max(parseInt(w,10)||30,10);}function q(w){if(w=='left'||w=='right')return w;return l.getRtl()?'left':'right';}this._attr={channel:this.getChannelUrl(),api_key:l.getClientID(),font:this.getAttribute('font'),colorscheme:this.getAttribute('colorscheme'),href:k(this.getAttribute('href')),side:q(this.getAttribute('side')),site:this.getAttribute('site'),action:this.getAttribute('action'),ref:this.getAttribute('ref'),max_age:this.getAttribute('max_age'),trigger:o(this.getAttribute('trigger','')),read_time:p(this.getAttribute('read_time')),num_recommendations:parseInt(this.getAttribute('num_recommendations'),10)||2};this._showLoader=false;this.subscribe('iframe.onload',ES5(function(){var w=this.dom.children[0];w.className='fbpluginrecommendationsbar'+this._attr.side;},'bind',true,this));var r=ES5(function(){h.remove(window,'scroll',r);h.remove(document.documentElement,'click',r);h.remove(document.documentElement,'mousemove',r);setTimeout(ES5(this.arbiterInform,'bind',true,this,'platform/plugins/recommendations_bar/action',null,g.BEHAVIOR_STATE),this._attr.read_time*1000);return true;},'bind',true,this);h.add(window,'scroll',r);h.add(document.documentElement,'click',r);h.add(document.documentElement,'mousemove',r);if(this._attr.trigger==\"manual\"){var s=ES5(function(w){if(w==this._attr.href){i.unsubscribe('xfbml.recommendationsbar.read',s);this.arbiterInform('platform/plugins/recommendations_bar/trigger',null,g.BEHAVIOR_STATE);}return true;},'bind',true,this);i.subscribe('xfbml.recommendationsbar.read',s);}else{var t=n(500,ES5(function(){if(this.calculateVisibility()){h.remove(window,'scroll',t);h.remove(window,'resize',t);this.arbiterInform('platform/plugins/recommendations_bar/trigger',null,g.BEHAVIOR_STATE);}return true;},'bind',true,this));h.add(window,'scroll',t);h.add(window,'resize',t);t();}this.visible=false;var u=n(500,ES5(function(){if(!this.visible&&this.calculateVisibility()){this.visible=true;this.arbiterInform('platform/plugins/recommendations_bar/visible');}else if(this.visible&&!this.calculateVisibility()){this.visible=false;this.arbiterInform('platform/plugins/recommendations_bar/invisible');}return true;},'bind',true,this));h.add(window,'scroll',u);h.add(window,'resize',u);u();this.focused=true;var v=ES5(function(){this.focused=!this.focused;return true;},'bind',true,this);h.add(window,'blur',v);h.add(window,'focus',v);this.resize_running=false;this.animate=false;this.subscribe('xd.signal_animation',ES5(function(){this.animate=true;},'bind',true,this));return true;},getSize:function(){return {height:25,width:(this._attr.action=='recommend'?140:96)};},calculateVisibility:function(){var n=document.documentElement.clientHeight;if(!this.focused&&window.console&&window.console.firebug)return this.visible;switch(this._attr.trigger){case \"manual\":return false;case \"onvisible\":var o=this.dom.getBoundingClientRect().top;return o<=n;default:var p=window.pageYOffset||document.body.scrollTop,q=document.documentElement.scrollHeight;return (p+n)/q>=this._attr.trigger;}}});e.exports=m;});\n__d(\"sdk.XFBML.Registration\",[\"sdk.Auth\",\"sdk.Helper\",\"sdk.XFBML.IframeWidget\",\"sdk.Runtime\",\"UrlMap\"],function(a,b,c,d,e,f){var g=b('sdk.Auth'),h=b('sdk.Helper'),i=b('sdk.XFBML.IframeWidget'),j=b('sdk.Runtime'),k=b('UrlMap'),l=i.extend({_visibleAfter:'immediate',_baseHeight:167,_fieldHeight:28,_skinnyWidth:520,_skinnyBaseHeight:173,_skinnyFieldHeight:52,setupAndValidate:function(){this._attr={action:this.getAttribute('action'),border_color:this.getAttribute('border-color'),channel_url:this.getChannelUrl(),client_id:j.getClientID(),fb_only:this._getBoolAttribute('fb-only',false),fb_register:this._getBoolAttribute('fb-register',false),fields:this.getAttribute('fields'),height:this._getPxAttribute('height'),redirect_uri:this.getAttribute('redirect-uri',window.location.href),no_footer:this._getBoolAttribute('no-footer'),no_header:this._getBoolAttribute('no-header'),onvalidate:this.getAttribute('onvalidate'),width:this._getPxAttribute('width',600),target:this.getAttribute('target')};if(this._attr.onvalidate)this.subscribe('xd.validate',ES5(function(m){var n=ES5('JSON','parse',false,m.value),o=ES5(function(q){this.arbiterInform('Registration.Validation',{errors:q,id:m.id});},'bind',true,this),p=h.executeFunctionByName(this._attr.onvalidate,n,o);if(p)o(p);},'bind',true,this));this.subscribe('xd.authLogin',ES5(this._onAuthLogin,'bind',true,this));this.subscribe('xd.authLogout',ES5(this._onAuthLogout,'bind',true,this));return true;},getSize:function(){return {width:this._attr.width,height:this._getHeight()};},_getHeight:function(){if(this._attr.height)return this._attr.height;var m;if(!this._attr.fields){m=['name'];}else try{m=ES5('JSON','parse',false,this._attr.fields);}catch(n){m=this._attr.fields.split(/,/);}if(this._attr.width<this._skinnyWidth){return this._skinnyBaseHeight+m.length*this._skinnyFieldHeight;}else return this._baseHeight+m.length*this._fieldHeight;},getUrlBits:function(){return {name:'registration',params:this._attr};},getDefaultWebDomain:function(){return k.resolve('www',true);},_onAuthLogin:function(){if(!g.getAuthResponse())g.getLoginStatus();h.fireEvent('auth.login',this);},_onAuthLogout:function(){if(!g.getAuthResponse())g.getLoginStatus();h.fireEvent('auth.logout',this);}});e.exports=l;});\n__d(\"sdk.XFBML.SocialContext\",[\"sdk.Event\",\"sdk.XFBML.IframeWidget\"],function(a,b,c,d,e,f){var g=b('sdk.Event'),h=b('sdk.XFBML.IframeWidget'),i=h.extend({setupAndValidate:function(){var j=this.getAttribute('size','small');this._attr={channel:this.getChannelUrl(),width:this._getPxAttribute('width',400),height:this._getPxAttribute('height',100),ref:this.getAttribute('ref'),size:this.getAttribute('size'),keywords:this.getAttribute('keywords'),urls:this.getAttribute('urls'),object_id:this.getAttribute('object_id')};this.subscribe('xd.social_context_stats',ES5(this._bubbleSocialContextStats,'bind',true,this));return true;},_bubbleSocialContextStats:function(j){var k={pluginID:this.getAttribute('plugin-id'),socialContextPageIDs:ES5('JSON','parse',false,j.social_context_page_ids)};g.fire('xfbml.social_context_stats',k);},getSize:function(){return {width:this._attr.width,height:this._attr.height};},getUrlBits:function(){return {name:'social_context',params:this._attr};}});e.exports=i;});\n__d(\"legacy:fb.xfbml\",[\"Assert\",\"sdk.domReady\",\"sdk.Event\",\"FB\",\"IframePlugin\",\"PluginTags\",\"wrapFunction\",\"XFBML\",\"sdk.XFBML.Comments\",\"sdk.XFBML.CommentsCount\",\"sdk.XFBML.ConnectBar\",\"sdk.XFBML.Like\",\"sdk.XFBML.LiveStream\",\"sdk.XFBML.LoginButton\",\"sdk.XFBML.Name\",\"sdk.XFBML.RecommendationsBar\",\"sdk.XFBML.Registration\",\"sdk.XFBML.SocialContext\"],function(a,b,c,d){var e=b('Assert'),f=b('sdk.domReady'),g=b('sdk.Event'),h=b('FB'),i=b('IframePlugin'),j=b('PluginTags'),k=b('wrapFunction'),l=b('XFBML'),m={comments:b('sdk.XFBML.Comments'),comments_count:b('sdk.XFBML.CommentsCount'),connect_bar:b('sdk.XFBML.ConnectBar'),like:b('sdk.XFBML.Like'),live_stream:b('sdk.XFBML.LiveStream'),login_button:b('sdk.XFBML.LoginButton'),name:b('sdk.XFBML.Name'),recommendations_bar:b('sdk.XFBML.RecommendationsBar'),registration:b('sdk.XFBML.Registration'),social_context:b('sdk.XFBML.SocialContext')};ES5(ES5('Object','keys',false,j),'forEach',true,function(o){l.registerTag({xmlns:'fb',localName:o.replace(/_/g,'-'),ctor:i.withParams(j[o])});});ES5(ES5('Object','keys',false,m),'forEach',true,function(o){l.registerTag({xmlns:'fb',localName:o.replace(/_/g,'-'),ctor:m[o]});});h.provide('XFBML',{parse:function(o){e.maybeXfbml(o,'Invalid argument');if(o&&o.nodeType===9)o=o.body;return l.parse.apply(null,arguments);}});h.provide('XFBML.RecommendationsBar',{markRead:function(o){g.fire('xfbml.recommendationsbar.read',o||window.location.href);}});l.subscribe('parse',ES5(g.fire,'bind',true,g,'xfbml.parse'));l.subscribe('render',ES5(g.fire,'bind',true,g,'xfbml.render'));g.subscribe('init:post',function(o){if(o.xfbml)setTimeout(k(ES5(f,'bind',true,null,l.parse),'entry','init:post:xfbml.parse'),0);});e.define('Xfbml',function(o){return (o.nodeType===1||o.nodeType===9)&&typeof o.nodeName==='string';});try{if(document.namespaces&&!document.namespaces.item.fb)document.namespaces.add('fb');}catch(n){}},3);\n\n}).call({}, window.inDapIF ? parent.window : window);\n} catch (e) {new Image().src=\"http:\\/\\/www.facebook.com\\/\" + 'common/scribe_endpoint.php?c=jssdk_error&m='+encodeURIComponent('{\"error\":\"LOAD\", \"extra\": {\"name\":\"'+e.name+'\",\"line\":\"'+(e.lineNumber||e.line)+'\",\"script\":\"'+(e.fileName||e.sourceURL||e.script)+'\",\"stack\":\"'+(e.stackTrace||e.stack)+'\",\"message\":\"'+e.message+'\"}}');}"
      },
      "https://apis.google.com/js/plusone.js": {
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "https://apis.google.com/js/plusone.js",
         "body": "var gapi=window.gapi=window.gapi||{};gapi._bs=new Date().getTime();(function(){var aa=encodeURIComponent,l=window,ba=Object,p=document,da=Array,ea=parseInt,r=String,fa=decodeURIComponent;function ga(a,b){return a.type=b}\nvar ha=\"appendChild\",s=\"push\",t=\"test\",ia=\"shift\",ja=\"exec\",ka=\"width\",la=\"slice\",v=\"replace\",ma=\"getElementById\",na=\"concat\",oa=\"charAt\",pa=\"JSON\",x=\"indexOf\",qa=\"nodeName\",ra=\"match\",y=\"createElement\",A=\"setAttribute\",sa=\"type\",ta=\"bind\",ua=\"getTime\",va=\"getElementsByTagName\",B=\"substr\",C=\"toString\",D=\"length\",E=\"prototype\",F=\"split\",G=\"location\",H=\"style\",wa=\"removeChild\",I=\"call\",J=\"getAttribute\",xa=\"protocol\",K=\"charCodeAt\",L=\"href\",M=\"substring\",ya=\"documentMode\",za=\"action\",N=\"apply\",Aa=\"attributes\",\nO=\"parentNode\",Ba=\"update\",Ca=\"height\",P=\"join\",Da=\"toLowerCase\",Ea=function(a,b,c){return a[I][N](a[ta],arguments)},Fa=function(a,b,c){if(!a)throw Error();if(2<arguments[D]){var d=da[E][la][I](arguments,2);return function(){var c=da[E][la][I](arguments);da[E].unshift[N](c,d);return a[N](b,c)}}return function(){return a[N](b,arguments)}},Ga=function(a,b,c){Ga=Function[E][ta]&&-1!=Function[E][ta][C]()[x](\"native code\")?Ea:Fa;return Ga[N](null,arguments)};\nFunction[E].bind=Function[E][ta]||function(a,b){if(1<arguments[D]){var c=da[E][la][I](arguments,1);c.unshift(this,a);return Ga[N](null,c)}return Ga(this,a)};var Q=l,R=p,Ha=Q[G],Ia=function(){},Ja=/\\[native code\\]/,S=function(a,b,c){return a[b]=a[b]||c},Ka=function(a){for(var b=0;b<this[D];b++)if(this[b]===a)return b;return-1},La=function(a){a=a.sort();for(var b=[],c=void 0,d=0;d<a[D];d++){var e=a[d];e!=c&&b[s](e);c=e}return b},Ma=/&/g,Na=/</g,Oa=/>/g,Pa=/\"/g,Qa=/'/g,Ra=function(a){return r(a)[v](Ma,\"&amp;\")[v](Na,\"&lt;\")[v](Oa,\"&gt;\")[v](Pa,\"&quot;\")[v](Qa,\"&#39;\")},T=function(){var a;if((a=ba.create)&&Ja[t](a))a=a(null);else{a={};for(var b in a)a[b]=\nvoid 0}return a},U=function(a,b){return ba[E].hasOwnProperty[I](a,b)},Sa=function(a){if(Ja[t](ba.keys))return ba.keys(a);var b=[],c;for(c in a)U(a,c)&&b[s](c);return b},V=function(a,b){a=a||{};for(var c in a)U(a,c)&&(b[c]=a[c])},Ta=function(a){return function(){Q.setTimeout(a,0)}},Ua=function(a,b){if(!a)throw Error(b||\"\");},W=S(Q,\"gapi\",{});var X=function(a,b,c){var d=RegExp(\"([#].*&|[#])\"+b+\"=([^&#]*)\",\"g\");b=RegExp(\"([?#].*&|[?#])\"+b+\"=([^&#]*)\",\"g\");if(a=a&&(d[ja](a)||b[ja](a)))try{c=fa(a[2])}catch(e){}return c},Va=/^([^?#]*)(\\?([^#]*))?(\\#(.*))?$/,Wa=function(a){a=a[ra](Va);var b=T();b.G=a[1];b.g=a[3]?[a[3]]:[];b.l=a[5]?[a[5]]:[];return b},Xa=function(a){return a.G+(0<a.g[D]?\"?\"+a.g[P](\"&\"):\"\")+(0<a.l[D]?\"#\"+a.l[P](\"&\"):\"\")},Ya=function(a,b){var c=[];if(a)for(var d in a)if(U(a,d)&&null!=a[d]){var e=b?b(a[d]):a[d];c[s](aa(d)+\"=\"+\naa(e))}return c},Za=function(a,b,c,d){a=Wa(a);a.g[s][N](a.g,Ya(b,d));a.l[s][N](a.l,Ya(c,d));return Xa(a)},$a=function(a,b){var c=\"\";2E3<b[D]&&(c=b[M](2E3),b=b[M](0,2E3));var d=a[y](\"div\"),e=a[y](\"a\");e.href=b;d[ha](e);d.innerHTML=d.innerHTML;b=r(d.firstChild[L]);d[O]&&d[O][wa](d);return b+c},ab=/^https?:\\/\\/[^\\/%\\\\?#\\s]+\\/[^\\s]*$/i;var bb=function(a,b,c,d){if(Q[c+\"EventListener\"])Q[c+\"EventListener\"](a,b,!1);else if(Q[d+\"tachEvent\"])Q[d+\"tachEvent\"](\"on\"+a,b)},cb=function(){var a=R.readyState;return\"complete\"===a||\"interactive\"===a&&-1==navigator.userAgent[x](\"MSIE\")},fb=function(a){var b=db;if(!cb())try{b()}catch(c){}eb(a)},eb=function(a){if(cb())a();else{var b=!1,c=function(){if(!b)return b=!0,a[N](this,arguments)};Q.addEventListener?(Q.addEventListener(\"load\",c,!1),Q.addEventListener(\"DOMContentLoaded\",c,!1)):Q.attachEvent&&\n(Q.attachEvent(\"onreadystatechange\",function(){cb()&&c[N](this,arguments)}),Q.attachEvent(\"onload\",c))}},gb=function(a){for(;a.firstChild;)a[wa](a.firstChild)},hb={button:!0,div:!0,span:!0};var Y;Y=S(Q,\"___jsl\",T());S(Y,\"I\",0);S(Y,\"hel\",10);var ib=function(a){return Y.dpo?Y.h:X(a,\"jsh\",Y.h)},jb=function(a){var b=S(Y,\"sws\",[]);b[s][N](b,a)},kb=function(a){return S(Y,\"watt\",T())[a]},lb=function(a){var b=S(Y,\"PQ\",[]);Y.PQ=[];var c=b[D];if(0===c)a();else for(var d=0,e=function(){++d===c&&a()},f=0;f<c;f++)b[f](e)},nb=function(a){return S(S(Y,\"H\",T()),a,T())};var ob=S(Y,\"perf\",T()),pb=S(ob,\"g\",T()),qb=S(ob,\"i\",T());S(ob,\"r\",[]);T();T();var rb=function(a,b,c){var d=ob.r;\"function\"===typeof d?d(a,b,c):d[s]([a,b,c])},sb=function(a,b,c){pb[a]=!b&&pb[a]||c||(new Date)[ua]();rb(a)},ub=function(a,b,c){b&&0<b[D]&&(b=tb(b),c&&0<c[D]&&(b+=\"___\"+tb(c)),28<b[D]&&(b=b[B](0,28)+(b[D]-28)),c=b,b=S(qb,\"_p\",T()),S(b,c,T())[a]=(new Date)[ua](),rb(a,\"_p\",c))},tb=function(a){return a[P](\"__\")[v](/\\./g,\"_\")[v](/\\-/g,\"_\")[v](/\\,/g,\"_\")};var vb=T(),wb=[],xb=function(a){throw Error(\"Bad hint\"+(a?\": \"+a:\"\"));};wb[s]([\"jsl\",function(a){for(var b in a)if(U(a,b)){var c=a[b];\"object\"==typeof c?Y[b]=S(Y,b,[])[na](c):S(Y,b,c)}if(b=a.u)a=S(Y,\"us\",[]),a[s](b),(b=/^https:(.*)$/[ja](b))&&a[s](\"http:\"+b[1])}]);var yb=/^(\\/[a-zA-Z0-9_\\-]+)+$/,zb=/^[a-zA-Z0-9\\-_\\.!]+$/,Ab=/^gapi\\.loaded_[0-9]+$/,Bb=/^[a-zA-Z0-9,._-]+$/,Fb=function(a,b,c,d){var e=a[F](\";\"),f=vb[e[ia]()],g=null;f&&(g=f(e,b,c,d));if(b=g)b=g,c=b[ra](Cb),d=b[ra](Db),b=!!d&&1===d[D]&&Eb[t](b)&&!!c&&1===c[D];b||xb(a);return g},Ib=function(a,b,c,d){a=Gb(a);Ab[t](c)||xb(\"invalid_callback\");b=Hb(b);d=d&&d[D]?Hb(d):null;var e=function(a){return aa(a)[v](/%2C/g,\",\")};return[aa(a.S)[v](/%2C/g,\",\")[v](/%2F/g,\"/\"),\"/k=\",e(a.version),\"/m=\",e(b),d?\"/exm=\"+\ne(d):\"\",\"/rt=j/sv=1/d=1/ed=1\",a.H?\"/am=\"+e(a.H):\"\",a.J?\"/rs=\"+e(a.J):\"\",\"/cb=\",e(c)][P](\"\")},Gb=function(a){\"/\"!==a[oa](0)&&xb(\"relative path\");for(var b=a[M](1)[F](\"/\"),c=[];b[D];){a=b[ia]();if(!a[D]||0==a[x](\".\"))xb(\"empty/relative directory\");else if(0<a[x](\"=\")){b.unshift(a);break}c[s](a)}a={};for(var d=0,e=b[D];d<e;++d){var f=b[d][F](\"=\"),g=fa(f[0]),h=fa(f[1]);2==f[D]&&g&&h&&(a[g]=a[g]||h)}b=\"/\"+c[P](\"/\");yb[t](b)||xb(\"invalid_prefix\");c=Jb(a,\"k\",!0);d=Jb(a,\"am\");a=Jb(a,\"rs\");return{S:b,version:c,\nH:d,J:a}},Hb=function(a){for(var b=[],c=0,d=a[D];c<d;++c){var e=a[c][v](/\\./g,\"_\")[v](/-/g,\"_\");Bb[t](e)&&b[s](e)}return b[P](\",\")},Jb=function(a,b,c){a=a[b];!a&&c&&xb(\"missing: \"+b);if(a){if(zb[t](a))return a;xb(\"invalid: \"+b)}return null},Eb=/^https?:\\/\\/[a-z0-9_.-]+\\.google\\.com(:\\d+)?\\/[a-zA-Z0-9_.,!=\\-\\/]+$/,Db=/\\/cb=/g,Cb=/\\/\\//g,Kb=function(){var a=ib(Ha[L]);if(!a)throw Error(\"Bad hint\");return a};\nvb.m=function(a,b,c,d){(a=a[0])||xb(\"missing_hint\");return\"https://apis.google.com\"+Ib(a,b,c,d)};var Lb=decodeURI(\"%73cript\"),Mb=function(a,b){for(var c=[],d=0;d<a[D];++d){var e=a[d];e&&0>Ka[I](b,e)&&c[s](e)}return c},Ob=function(a){\"loading\"!=R.readyState?Nb(a):R.write(\"<\"+Lb+' src=\"'+encodeURI(a)+'\"></'+Lb+\">\")},Nb=function(a){var b=R[y](Lb);b[A](\"src\",a);b.async=\"true\";(a=R[va](Lb)[0])?a[O].insertBefore(b,a):(R.head||R.body||R.documentElement)[ha](b)},Pb=function(a,b){var c=b&&b._c;if(c)for(var d=0;d<wb[D];d++){var e=wb[d][0],f=wb[d][1];f&&U(c,e)&&f(c[e],a,b)}},Rb=function(a,b){Qb(function(){var c;\nc=b===ib(Ha[L])?S(W,\"_\",T()):T();c=S(nb(b),\"_\",c);a(c)})},Tb=function(a,b){var c=b||{};\"function\"==typeof b&&(c={},c.callback=b);Pb(a,c);var d=a?a[F](\":\"):[],e=c.h||Kb(),f=S(Y,\"ah\",T());if(f[\"::\"]&&d[D]){for(var g=[],h=null;h=d[ia]();){var k=h[F](\".\"),k=f[h]||f[k[1]&&\"ns:\"+k[0]||\"\"]||e,q=g[D]&&g[g[D]-1]||null,m=q;q&&q.hint==k||(m={hint:k,L:[]},g[s](m));m.L[s](h)}var n=g[D];if(1<n){var z=c.callback;z&&(c.callback=function(){0==--n&&z()})}for(;d=g[ia]();)Sb(d.L,c,d.hint)}else Sb(d||[],c,e)},Sb=function(a,\nb,c){a=La(a)||[];var d=b.callback,e=b.config,f=b.timeout,g=b.ontimeout,h=null,k=!1;if(f&&!g||!f&&g)throw\"Timeout requires both the timeout parameter and ontimeout parameter to be set\";var q=S(nb(c),\"r\",[]).sort(),m=S(nb(c),\"L\",[]).sort(),n=[][na](q),z=function(a,b){if(k)return 0;Q.clearTimeout(h);m[s][N](m,u);var d=((W||{}).config||{})[Ba];d?d(e):e&&S(Y,\"cu\",[])[s](e);if(b){ub(\"me0\",a,n);try{Rb(b,c)}finally{ub(\"me1\",a,n)}}return 1};0<f&&(h=Q.setTimeout(function(){k=!0;g()},f));var u=Mb(a,m);if(u[D]){var u=\nMb(a,q),w=S(Y,\"CP\",[]),ca=w[D];w[ca]=function(a){if(!a)return 0;ub(\"ml1\",u,n);var b=function(b){w[ca]=null;z(u,a)&&lb(function(){d&&d();b()})},c=function(){var a=w[ca+1];a&&a()};0<ca&&w[ca-1]?w[ca]=function(){b(c)}:b(c)};if(u[D]){var mb=\"loaded_\"+Y.I++;W[mb]=function(a){w[ca](a);W[mb]=null};a=Fb(c,u,\"gapi.\"+mb,q);q[s][N](q,u);ub(\"ml0\",u,n);b.sync||Q.___gapisync?Ob(a):Nb(a)}else w[ca](Ia)}else z(u)&&d&&d()};var Qb=function(a){if(Y.hee&&0<Y.hel)try{return a()}catch(b){Y.hel--,Tb(\"debug_error\",function(){try{l.___jsl.hefn(b)}catch(a){throw b;}})}else return a()};W.load=function(a,b){return Qb(function(){return Tb(a,b)})};var Ub=function(a){var b=l.___jsl=l.___jsl||{};b[a]=b[a]||[];return b[a]},Vb=function(a){var b=l.___jsl=l.___jsl||{};b.cfg=!a&&b.cfg||{};return b.cfg},Wb=function(a){return\"object\"===typeof a&&/\\[native code\\]/[t](a[s])},Xb=function(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]&&b[c]&&\"object\"===typeof a[c]&&\"object\"===typeof b[c]&&!Wb(a[c])&&!Wb(b[c])?Xb(a[c],b[c]):b[c]&&\"object\"===typeof b[c]?(a[c]=Wb(b[c])?[]:{},Xb(a[c],b[c])):a[c]=b[c])},Yb=function(a){if(a&&!/^\\s+$/[t](a)){for(;0==a[K](a[D]-\n1);)a=a[M](0,a[D]-1);var b;try{b=l[pa].parse(a)}catch(c){}if(\"object\"===typeof b)return b;try{b=(new Function(\"return (\"+a+\"\\n)\"))()}catch(d){}if(\"object\"===typeof b)return b;try{b=(new Function(\"return ({\"+a+\"\\n})\"))()}catch(e){}return\"object\"===typeof b?b:{}}},Zb=function(a){Vb(!0);var b=l.___gcfg,c=Ub(\"cu\");if(b&&b!==l.___gu){var d={};Xb(d,b);c[s](d);l.___gu=b}var b=Ub(\"cu\"),e=p.scripts||p[va](\"script\")||[],d=[],f=[];f[s][N](f,Ub(\"us\"));for(var g=0;g<e[D];++g)for(var h=e[g],k=0;k<f[D];++k)h.src&&\n0==h.src[x](f[k])&&d[s](h);0==d[D]&&0<e[D]&&e[e[D]-1].src&&d[s](e[e[D]-1]);for(e=0;e<d[D];++e)d[e][J](\"gapi_processed\")||(d[e][A](\"gapi_processed\",!0),(f=d[e])?(g=f.nodeType,f=3==g||4==g?f.nodeValue:f.textContent||f.innerText||f.innerHTML||\"\"):f=void 0,(f=Yb(f))&&b[s](f));a&&(d={},Xb(d,a),c[s](d));d=Ub(\"cd\");a=0;for(b=d[D];a<b;++a)Xb(Vb(),d[a]);d=Ub(\"ci\");a=0;for(b=d[D];a<b;++a)Xb(Vb(),d[a]);a=0;for(b=c[D];a<b;++a)Xb(Vb(),c[a])},Z=function(a){if(!a)return Vb();a=a[F](\"/\");for(var b=Vb(),c=0,d=a[D];b&&\n\"object\"===typeof b&&c<d;++c)b=b[a[c]];return c===a[D]&&void 0!==b?b:void 0},$b=function(a,b){var c=a;if(\"string\"===typeof a){for(var d=c={},e=a[F](\"/\"),f=0,g=e[D];f<g-1;++f)var h={},d=d[e[f]]=h;d[e[f]]=b}Zb(c)};var ac=function(){var a=l.__GOOGLEAPIS;a&&(a.googleapis&&!a[\"googleapis.config\"]&&(a[\"googleapis.config\"]=a.googleapis),S(Y,\"ci\",[])[s](a),l.__GOOGLEAPIS=void 0)};var bc={callback:1,clientid:1,cookiepolicy:1,openidrealm:-1,includegrantedscopes:-1,requestvisibleactions:1,scope:1},cc=!1,dc=T(),ec=function(){if(!cc){for(var a=p[va](\"meta\"),b=0;b<a[D];++b){var c=a[b].name[Da]();if(0==c.lastIndexOf(\"google-signin-\",0)){var c=c[M](14),d=a[b].content;bc[c]&&d&&(dc[c]=d)}}if(l.self!==l.top){var a=p[G][C](),e;for(e in bc)0<bc[e]&&(b=X(a,e,\"\"))&&(dc[e]=b)}cc=!0}e=T();V(dc,e);return e},fc=function(a){return!!(a.clientid&&a.scope&&a.callback)};var gc=l.console,hc=function(a){gc&&gc.log&&gc.log(a)};var ic=function(){return!!Y.oa},jc=function(){};var $=S(Y,\"rw\",T()),kc=function(a){for(var b in $)a($[b])},lc=function(a,b){var c=$[a];c&&c.state<b&&(c.state=b)};var mc;var nc=/^https?:\\/\\/(?:\\w|[\\-\\.])+\\.google\\.(?:\\w|[\\-:\\.])+(?:\\/[^\\?\\#]*)?\\/u\\/(\\d)\\//,oc=/^https?:\\/\\/(?:\\w|[\\-\\.])+\\.google\\.(?:\\w|[\\-:\\.])+(?:\\/[^\\?\\#]*)?\\/b\\/(\\d{10,})\\//,pc=function(a){var b=Z(\"googleapis.config/sessionIndex\");null==b&&(b=l.__X_GOOG_AUTHUSER);if(null==b){var c=l.google;c&&(b=c.authuser)}null==b&&(a=a||l[G][L],b=X(a,\"authuser\")||null,null==b&&(b=(b=a[ra](nc))?b[1]:null));return null==b?null:r(b)},qc=function(a){var b=Z(\"googleapis.config/sessionDelegate\");null==b&&(b=(a=(a||l[G][L])[ra](oc))?\na[1]:null);return null==b?null:r(b)};var rc=function(){};var sc=function(){this.b=[];this.n=[];this.O=[];this.k=[];this.k[0]=128;for(var a=1;64>a;++a)this.k[a]=0;this.reset()};(function(){function a(){}a.prototype=rc[E];sc.Z=rc[E];sc.prototype=new a;sc.G=function(a,c,d){var e=da[E][la][I](arguments,2);return rc[E][c][N](a,e)}})();sc[E].reset=function(){this.b[0]=1732584193;this.b[1]=4023233417;this.b[2]=2562383102;this.b[3]=271733878;this.b[4]=3285377520;this.o=this.i=0};\nvar tc=function(a,b,c){c||(c=0);var d=a.O;if(\"string\"==typeof b)for(var e=0;16>e;e++)d[e]=b[K](c)<<24|b[K](c+1)<<16|b[K](c+2)<<8|b[K](c+3),c+=4;else for(e=0;16>e;e++)d[e]=b[c]<<24|b[c+1]<<16|b[c+2]<<8|b[c+3],c+=4;for(e=16;80>e;e++){var f=d[e-3]^d[e-8]^d[e-14]^d[e-16];d[e]=(f<<1|f>>>31)&4294967295}b=a.b[0];c=a.b[1];for(var g=a.b[2],h=a.b[3],k=a.b[4],q,e=0;80>e;e++)40>e?20>e?(f=h^c&(g^h),q=1518500249):(f=c^g^h,q=1859775393):60>e?(f=c&g|h&(c|g),q=2400959708):(f=c^g^h,q=3395469782),f=(b<<5|b>>>27)+f+\nk+q+d[e]&4294967295,k=h,h=g,g=(c<<30|c>>>2)&4294967295,c=b,b=f;a.b[0]=a.b[0]+b&4294967295;a.b[1]=a.b[1]+c&4294967295;a.b[2]=a.b[2]+g&4294967295;a.b[3]=a.b[3]+h&4294967295;a.b[4]=a.b[4]+k&4294967295};sc[E].update=function(a,b){void 0===b&&(b=a[D]);for(var c=b-64,d=0,e=this.n,f=this.i;d<b;){if(0==f)for(;d<=c;)tc(this,a,d),d+=64;if(\"string\"==typeof a)for(;d<b;){if(e[f]=a[K](d),++f,++d,64==f){tc(this,e);f=0;break}}else for(;d<b;)if(e[f]=a[d],++f,++d,64==f){tc(this,e);f=0;break}}this.i=f;this.o+=b};var uc=function(){this.p=new sc};uc[E].reset=function(){this.p.reset()};var Bc=function(){var a;vc?(a=new Q.Uint32Array(1),wc.getRandomValues(a),a=Number(\"0.\"+a[0])):(a=xc,a+=ea(yc[B](0,20),16),yc=zc(yc),a/=Ac+Math.pow(16,20));return a},wc=Q.crypto,vc=!1,Cc=0,Dc=0,xc=1,Ac=0,yc=\"\",Ec=function(a){a=a||Q.event;var b=a.screenX+a.clientX<<16,b=b+(a.screenY+a.clientY),b=(new Date)[ua]()%1E6*b;xc=xc*b%Ac;0<Cc&&++Dc==Cc&&bb(\"mousemove\",Ec,\"remove\",\"de\")},zc=function(a){var b=new uc;a=unescape(aa(a));for(var c=[],d=0,e=a[D];d<e;++d)c[s](a[K](d));b.p[Ba](c);a=b.p;b=[];d=8*a.o;\n56>a.i?a[Ba](a.k,56-a.i):a[Ba](a.k,64-(a.i-56));for(c=63;56<=c;c--)a.n[c]=d&255,d/=256;tc(a,a.n);for(c=d=0;5>c;c++)for(e=24;0<=e;e-=8)b[d]=a.b[c]>>e&255,++d;a=\"\";for(c=0;c<b[D];c++)a+=\"0123456789ABCDEF\"[oa](Math.floor(b[c]/16))+\"0123456789ABCDEF\"[oa](b[c]%16);return a},vc=!!wc&&\"function\"==typeof wc.getRandomValues;vc||(Ac=1E6*(screen[ka]*screen[ka]+screen[Ca]),yc=zc(R.cookie+\"|\"+R[G]+\"|\"+(new Date)[ua]()+\"|\"+Math.random()),Cc=Z(\"random/maxObserveMousemove\")||0,0!=Cc&&bb(\"mousemove\",Ec,\"add\",\"at\"));var Fc=function(){var a=Y.onl;if(!a){a=T();Y.onl=a;var b=T();a.e=function(a){var d=b[a];d&&(delete b[a],d())};a.a=function(a,d){b[a]=d};a.r=function(a){delete b[a]}}return a},Gc=function(a,b){var c=b.onload;return\"function\"===typeof c?(Fc().a(a,c),c):null},Hc=function(a){Ua(/^\\w+$/[t](a),\"Unsupported id - \"+a);Fc();return'onload=\"window.___jsl.onl.e(&#34;'+a+'&#34;)\"'},Ic=function(a){Fc().r(a)};var Jc={allowtransparency:\"true\",frameborder:\"0\",hspace:\"0\",marginheight:\"0\",marginwidth:\"0\",scrolling:\"no\",style:\"\",tabindex:\"0\",vspace:\"0\",width:\"100%\"},Kc={allowtransparency:!0,onload:!0},Lc=0,Mc=function(a){Ua(!a||ab[t](a),\"Illegal url for new iframe - \"+a)},Nc=function(a,b,c,d,e){Mc(c.src);var f,g=Gc(d,c),h=g?Hc(d):\"\";try{f=a[y]('<iframe frameborder=\"'+Ra(r(c.frameborder))+'\" scrolling=\"'+Ra(r(c.scrolling))+'\" '+h+' name=\"'+Ra(r(c.name))+'\"/>')}catch(k){f=a[y](\"iframe\"),g&&(f.onload=function(){f.onload=\nnull;g[I](this)},Ic(d))}for(var q in c)a=c[q],\"style\"===q&&\"object\"===typeof a?V(a,f[H]):Kc[q]||f[A](q,r(a));(q=e&&e.beforeNode||null)||e&&e.dontclear||gb(b);b.insertBefore(f,q);f=q?q.previousSibling:b.lastChild;c.allowtransparency&&(f.allowTransparency=!0);return f};var Oc=/^:[\\w]+$/,Pc=/:([a-zA-Z_]+):/g,Qc=function(a,b){if(!mc||Z(\"oauth-flow/authAware\")){var c=pc()||\"0\",d=qc(),e;e=pc(void 0)||c;var f=qc(void 0),g=\"\";e&&(g+=\"u/\"+e+\"/\");f&&(g+=\"b/\"+f+\"/\");e=g||null;f=Z(\"oauth-flow/authAware\")?\"isLoggedIn\":\"googleapis.config/signedIn\";(g=(f=!1===Z(f))?\"_/im/\":\"\")&&(e=\"\");var h=Z(\"iframes/:socialhost:\"),k=Z(\"iframes/:im_socialhost:\");mc={socialhost:h,ctx_socialhost:f?k:h,session_index:c,session_delegate:d,session_prefix:e,im_prefix:g}}return mc[b]||\"\"};var Rc={\"\\b\":\"\\\\b\",\"\\t\":\"\\\\t\",\"\\n\":\"\\\\n\",\"\\f\":\"\\\\f\",\"\\r\":\"\\\\r\",'\"':'\\\\\"',\"\\\\\":\"\\\\\\\\\"},Sc=function(a){var b,c,d;b=/[\\\"\\\\\\x00-\\x1f\\x7f-\\x9f]/g;if(void 0!==a){switch(typeof a){case \"string\":return b[t](a)?'\"'+a[v](b,function(a){var b=Rc[a];if(b)return b;b=a[K]();return\"\\\\u00\"+Math.floor(b/16)[C](16)+(b%16)[C](16)})+'\"':'\"'+a+'\"';case \"number\":return isFinite(a)?r(a):\"null\";case \"boolean\":case \"null\":return r(a);case \"object\":if(!a)return\"null\";b=[];if(\"number\"===typeof a[D]&&!a.propertyIsEnumerable(\"length\")){d=\na[D];for(c=0;c<d;c+=1)b[s](Sc(a[c])||\"null\");return\"[\"+b[P](\",\")+\"]\"}for(c in a)!/___$/[t](c)&&U(a,c)&&\"string\"===typeof c&&(d=Sc(a[c]))&&b[s](Sc(c)+\":\"+d);return\"{\"+b[P](\",\")+\"}\"}return\"\"}},Tc=function(a){if(!a)return!1;if(/^[\\],:{}\\s]*$/[t](a[v](/\\\\[\"\\\\\\/b-u]/g,\"@\")[v](/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,\"]\")[v](/(?:^|:|,)(?:\\s*\\[)+/g,\"\")))try{return eval(\"(\"+a+\")\")}catch(b){}return!1},Uc=!1;try{Uc=!!l[pa]&&'[\"a\"]'===l[pa].stringify([\"a\"])&&\"a\"===l[pa].parse('[\"a\"]')[0]}catch(Vc){}\nvar Wc=function(a){try{return l[pa].parse(a)}catch(b){return!1}},Xc=Uc?l[pa].stringify:Sc,Yc=Uc?Wc:Tc;var Zc=function(a){var b;a[ra](/^https?%3A/i)&&(b=fa(a));return $a(p,b?b:a)},$c=function(a){a=a||\"canonical\";for(var b=p[va](\"link\"),c=0,d=b[D];c<d;c++){var e=b[c],f=e[J](\"rel\");if(f&&f[Da]()==a&&(e=e[J](\"href\"))&&(e=Zc(e))&&null!=e[ra](/^https?:\\/\\/[\\w\\-\\_\\.]+/i))return e}return l[G][L]};var ad={post:!0},bd={style:\"position:absolute;top:-10000px;width:450px;margin:0px;border-style:none\"},cd=\"onPlusOne _ready _close _open _resizeMe _renderstart oncircled drefresh erefresh\".split(\" \"),dd=S(Y,\"WI\",T()),ed=function(a,b,c){var d,e;d=e=a;\"plus\"==a&&b[za]&&(e=a+\"_\"+b[za],d=a+\"/\"+b[za]);(e=Z(\"iframes/\"+e+\"/url\"))||(e=\":im_socialhost:/:session_prefix::im_prefix:_/widget/render/\"+d+\"?usegapi=1\");d=$a(R,e[v](Pc,Qc));var f=\"iframes/\"+a+\"/params/\";e={};V(b,e);var g=Z(\"lang\")||Z(\"gwidget/lang\");\ng&&(e.hl=g);ad[a]||(e.origin=l[G].origin||l[G][xa]+\"//\"+l[G].host);e.exp=Z(f+\"exp\");if(f=Z(f+\"location\"))for(g=0;g<f[D];g++){var h=f[g];e[h]=Q[G][h]}switch(a){case \"plus\":case \"follow\":f=e[L];g=b[za]?void 0:\"publisher\";f=(f=\"string\"==typeof f?f:void 0)?Zc(f):$c(g);e.url=f;delete e[L];break;case \"plusone\":f=(f=b[L])?Zc(f):$c();e.url=f;f=b.db;g=Z();null==f&&g&&(f=g.db,null==f&&(f=g.gwidget&&g.gwidget.db));e.db=f||void 0;f=b.ecp;g=Z();null==f&&g&&(f=g.ecp,null==f&&(f=g.gwidget&&g.gwidget.ecp));e.ecp=\nf||void 0;delete e[L];break;case \"signin\":e.url=$c()}Y.ILI&&(e.iloader=\"1\");delete e[\"data-onload\"];delete e.rd;e.gsrc=Z(\"iframes/:source:\");f=Z(\"inline/css\");\"undefined\"!==typeof f&&0<c&&f>=c&&(e.ic=\"1\");f=/^#|^fr-/;c={};for(var k in e)U(e,k)&&f[t](k)&&(c[k[v](f,\"\")]=e[k],delete e[k]);k=\"q\"==Z(\"iframes/\"+a+\"/params/si\")?e:c;var f=ec(),q;for(q in f)!U(f,q)||U(e,q)||U(c,q)||(k[q]=f[q]);q=[][na](cd);(k=Z(\"iframes/\"+a+\"/methods\"))&&\"object\"===typeof k&&Ja[t](k[s])&&(q=q[na](k));for(var m in b)U(b,m)&&\n/^on/[t](m)&&(\"plus\"!=a||\"onconnect\"!=m)&&(q[s](m),delete e[m]);delete e.callback;c._methods=q[P](\",\");return Za(d,e,c)},fd=[\"style\",\"data-gapiscan\"],hd=function(a){for(var b=T(),c=0!=a[qa][Da]()[x](\"g:\"),d=0,e=a[Aa][D];d<e;d++){var f=a[Aa][d],g=f.name,h=f.value;0<=Ka[I](fd,g)||c&&0!=g[x](\"data-\")||\"null\"===h||\"specified\"in f&&!f.specified||(c&&(g=g[B](5)),b[g[Da]()]=h)}a=a[H];(c=gd(a&&a[Ca]))&&(b.height=r(c));(a=gd(a&&a[ka]))&&(b.width=r(a));return b},gd=function(a){var b=void 0;\"number\"===typeof a?\nb=a:\"string\"===typeof a&&(b=ea(a,10));return b},jd=function(){var a=Y.drw;kc(function(b){if(a!==b.id&&4!=b.state){var c=b.id,d=b[sa],e=b.url;b=b.userParams;var f=R[ma](c);if(f){var g=ed(d,b,0);g?(f=f[O],e[v](/\\#.*/,\"\")[v](/(\\?|&)ic=1/,\"\")!==g[v](/\\#.*/,\"\")[v](/(\\?|&)ic=1/,\"\")&&(b.dontclear=!0,b.rd=!0,b.ri=!0,ga(b,d),id(f,b),(d=$[f.lastChild.id])&&(d.oid=c),lc(c,4))):delete $[c]}else delete $[c]}})},kd=function(){};var ld,md,nd,od,pd,qd=/(?:^|\\s)g-((\\S)*)(?:$|\\s)/,rd={plusone:!0,autocomplete:!0,profile:!0,signin:!0};ld=S(Y,\"SW\",T());md=S(Y,\"SA\",T());nd=S(Y,\"SM\",T());od=S(Y,\"FW\",[]);pd=null;\nvar td=function(a,b){sd(void 0,!1,a,b)},sd=function(a,b,c,d){sb(\"ps0\",!0);c=(\"string\"===typeof c?p[ma](c):c)||R;var e;e=R[ya];if(c.querySelectorAll&&(!e||8<e)){e=d?[d]:Sa(ld)[na](Sa(md))[na](Sa(nd));for(var f=[],g=0;g<e[D];g++){var h=e[g];f[s](\".g-\"+h,\"g\\\\:\"+h)}e=c.querySelectorAll(f[P](\",\"))}else e=c[va](\"*\");c=T();for(f=0;f<e[D];f++){g=e[f];var k=g,h=d,q=k[qa][Da](),m=void 0;k[J](\"data-gapiscan\")?h=null:(0==q[x](\"g:\")?m=q[B](2):(k=(k=r(k.className||k[J](\"class\")))&&qd[ja](k))&&(m=k[1]),h=!m||!(ld[m]||\nmd[m]||nd[m])||h&&m!==h?null:m);h&&(rd[h]||0==g[qa][Da]()[x](\"g:\")||0!=Sa(hd(g))[D])&&(g[A](\"data-gapiscan\",!0),S(c,h,[])[s](g))}if(b)for(var n in c)for(b=c[n],d=0;d<b[D];d++)b[d][A](\"data-onload\",!0);for(var z in c)od[s](z);sb(\"ps1\",!0);if((n=od[P](\":\"))||a)try{W.load(n,a)}catch(u){hc(u);return}if(ud(pd||{}))for(var w in c){a=c[w];z=0;for(b=a[D];z<b;z++)a[z].removeAttribute(\"data-gapiscan\");vd(w)}else{d=[];for(w in c)for(a=c[w],z=0,b=a[D];z<b;z++)e=a[z],wd(w,e,hd(e),d,b);xd(n,d)}},yd=function(a){var b=\nS(W,a,{});b.go||(b.go=function(b){return td(b,a)},b.render=function(b,d){var e=d||{};ga(e,a);return id(b,e)})},zd=function(a){ld[a]=!0},Ad=function(a){md[a]=!0},Bd=function(a){nd[a]=!0};var vd=function(a,b){var c=kb(a);b&&c?(c(b),(c=b.iframeNode)&&c[A](\"data-gapiattached\",!0)):W.load(a,function(){var c=kb(a),e=b&&b.iframeNode;e&&c?(c(b),e[A](\"data-gapiattached\",!0)):(0,W[a].go)(e&&e[O])})},ud=function(){return!1},xd=function(){},wd=function(a,b,c,d,e,f){switch(Cd(b,a,f)){case 0:a=nd[a]?a+\"_annotation\":a;d={};d.iframeNode=b;d.userParams=c;vd(a,d);break;case 1:var g;if(b[O]){for(var h in c){if(f=U(c,h))f=c[h],f=!!f&&\"object\"===typeof f&&(!f[C]||f[C]===ba[E][C]||f[C]===da[E][C]);if(f)try{var k=\nXc(c[h]);600>k[D]?c[h]=k:delete c[h]}catch(q){delete c[h]}}f=!0;c.dontclear&&(f=!1);delete c.dontclear;jc();k=ed(a,c,e);h={allowPost:1,attributes:bd};h.dontclear=!f;e={};e.userParams=c;e.url=k;ga(e,a);var m;c.rd?m=b:(m=p[y](\"div\"),b[A](\"data-gapistub\",!0),m[H].cssText=\"position:absolute;width:450px;left:-10000px;\",b[O].insertBefore(m,b));e.siteElement=m;m.id||(b=m,S(dd,a,0),f=\"___\"+a+\"_\"+dd[a]++,b.id=f);b=T();b[\">type\"]=a;V(c,b);f=k;c=m;k=h||{};b=k[Aa]||{};Ua(!k.allowPost||!b.onload,\"onload is not supported by post iframe\");\nh=b=f;Oc[t](b)&&(h=Z(\"iframes/\"+h[M](1)+\"/url\"),Ua(!!h,\"Unknown iframe url config for - \"+b));f=$a(R,h[v](Pc,Qc));b=c.ownerDocument||R;m=0;do h=k.id||[\"I\",Lc++,\"_\",(new Date)[ua]()][P](\"\");while(b[ma](h)&&5>++m);Ua(5>m,\"Error creating iframe id\");m={};var n={};b[ya]&&9>b[ya]&&(m.hostiemode=b[ya]);V(k.queryParams||{},m);V(k.fragmentParams||{},n);var z=k.pfname,u=T();u.id=h;u.parent=b[G][xa]+\"//\"+b[G].host;var w=X(b[G][L],\"parent\"),z=z||\"\";!z&&w&&(w=X(b[G][L],\"id\",\"\"),z=X(b[G][L],\"pfname\",\"\"),z=w?z+\n\"/\"+w:\"\");u.pfname=z;V(u,n);(u=X(f,\"rpctoken\")||m.rpctoken||n.rpctoken)||(u=n.rpctoken=k.rpctoken||r(Math.round(1E8*Bc())));k.rpctoken=u;w=b[G][L];u=T();(z=X(w,\"_bsh\",Y.bsh))&&(u._bsh=z);(w=ib(w))&&(u.jsh=w);k.hintInFragment?V(u,n):V(u,m);f=Za(f,m,n,k.paramsSerializer);n=T();V(Jc,n);V(k[Aa],n);n.name=n.id=h;n.src=f;k.eurl=f;if((k||{}).allowPost&&2E3<f[D]){m=Wa(f);n.src=\"\";n[\"data-postorigin\"]=f;f=Nc(b,c,n,h);-1!=navigator.userAgent[x](\"WebKit\")&&(g=f.contentWindow.document,g.open(),n=g[y](\"div\"),\nu={},w=h+\"_inner\",u.name=w,u.src=\"\",u.style=\"display:none\",Nc(b,n,u,w,k));n=(k=m.g[0])?k[F](\"&\"):[];k=[];for(u=0;u<n[D];u++)w=n[u][F](\"=\",2),k[s]([fa(w[0]),fa(w[1])]);m.g=[];n=Xa(m);m=b[y](\"form\");m.action=n;m.method=\"POST\";m.target=h;m[H].display=\"none\";for(h=0;h<k[D];h++)n=b[y](\"input\"),ga(n,\"hidden\"),n.name=k[h][0],n.value=k[h][1],m[ha](n);c[ha](m);m.submit();m[O][wa](m);g&&g.close();g=f}else g=Nc(b,c,n,h,k);e.iframeNode=g;e.id=g[J](\"id\");g=e.id;c=T();c.id=g;c.userParams=e.userParams;c.url=e.url;\nga(c,e[sa]);c.state=1;$[g]=c;g=e}else g=null;g&&((e=g.id)&&d[s](e),vd(a,g))}},Cd=function(a,b,c){if(a&&1===a.nodeType&&b){if(c)return 1;if(nd[b]){if(hb[a[qa][Da]()])return(a=a.innerHTML)&&a[v](/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\")?0:1}else{if(md[b])return 0;if(ld[b])return 1}}return null},id=function(a,b){var c=b[sa];delete b[sa];var d=(\"string\"===typeof a?p[ma](a):a)||void 0;if(d){var e={},f;for(f in b)U(b,f)&&(e[f[Da]()]=b[f]);e.rd=1;(f=!!e.ri)&&delete e.ri;var g=[];wd(c,d,e,g,0,f);xd(c,g)}else hc(\"string\"===\n\"gapi.\"+c+\".render: missing element \"+typeof a?a:\"\")};S(W,\"platform\",{}).go=td;var ud=function(a){for(var b=[\"_c\",\"jsl\",\"h\"],c=0;c<b[D]&&a;c++)a=a[b[c]];b=ib(Ha[L]);return!a||0!=a[x](\"n;\")&&0!=b[x](\"n;\")&&a!==b},xd=function(a,b){Dd(a,b)},db=function(a){sd(a,!0)},Ed=function(a,b){for(var c=b||[],d=0;d<c[D];++d)a(c[d]);for(d=0;d<c[D];d++)yd(c[d])};\nwb[s]([\"platform\",function(a,b,c){pd=c;b&&od[s](b);Ed(zd,a);Ed(Ad,c._c.annotation);Ed(Bd,c._c.bimodal);ac();Zb();if(\"explicit\"!=Z(\"parsetags\")){jb(a);fc(ec())&&!Z(\"disableRealtimeCallback\")&&jc();var d;c&&(a=c.callback)&&(d=Ta(a),delete c.callback);fb(function(){db(d)})}}]);W._pl=!0;var Fd=function(a){a=(a=$[a])?a.oid:void 0;if(a){var b=R[ma](a);b&&b[O][wa](b);delete $[a];Fd(a)}},kd=function(a,b,c){if(c[ka]&&c[Ca]){n:{c=c||{};if(ic()){var d=b.id;if(d){var e;e=(e=$[d])?e.state:void 0;if(1===e||4===e)break n;Fd(d)}}(e=a.nextSibling)&&e[J]&&e[J](\"data-gapistub\")&&(a[O][wa](e),a[H].cssText=\"\");e=c[ka];var f=c[Ca],g=a[H];g.textIndent=\"0\";g.margin=\"0\";g.padding=\"0\";g.background=\"transparent\";g.borderStyle=\"none\";g.cssFloat=\"none\";g.styleFloat=\"none\";g.lineHeight=\"normal\";g.fontSize=\n\"1px\";g.verticalAlign=\"baseline\";a=a[H];a.display=\"inline-block\";g=b[H];g.position=\"static\";g.left=0;g.top=0;g.visibility=\"visible\";e&&(a.width=g.width=e+\"px\");f&&(a.height=g.height=f+\"px\");c.verticalAlign&&(a.verticalAlign=c.verticalAlign);d&&lc(d,3)}b[\"data-csi-wdt\"]=(new Date)[ua]()}};var Gd=/^\\{h\\:'/,Hd=/^!_/,Id=\"\",Dd=function(a,b){function c(){bb(\"message\",d,\"remove\",\"de\")}function d(d){var g=d.data,h=d.origin;if(Jd(g,b)){var k=e;e=!1;k&&sb(\"rqe\");Kd(a,function(){k&&sb(\"rqd\");c();for(var a=S(Y,\"RPMQ\",[]),b=0;b<a[D];b++)a[b]({data:g,origin:h})})}}if(0!==b[D]){Id=X(Ha[L],\"pfname\",\"\");var e=!0;bb(\"message\",d,\"add\",\"at\");Tb(a,c)}},Jd=function(a,b){a=r(a);if(Gd[t](a))return!0;var c=!1;Hd[t](a)&&(c=!0,a=a[B](2));if(!/^\\{/[t](a))return!1;var d=Yc(a);if(!d)return!1;var e=d.f;if(d.s&&\ne&&-1!=Ka[I](b,e)){if(\"_renderstart\"===d.s||d.s===Id+\"/\"+e+\"::_renderstart\")c=d.a&&d.a[c?0:1],d=R[ma](e),lc(e,2),c&&d&&kd(d[O],d,c);return!0}return!1},Kd=function(a,b){Tb(a,b)};var Ld=function(a,b){this.A=a;var c=b||{};this.Q=c.V;this.w=c.domain;this.B=c.path;this.R=c.W},Md=/^[-+/_=.:|%&a-zA-Z0-9@]*$/,Nd=/^[A-Z_][A-Z0-9_]{0,63}$/;Ld[E].write=function(a,b){if(!Nd[t](this.A))throw\"Invalid cookie name\";if(!Md[t](a))throw\"Invalid cookie value\";var c=this.A+\"=\"+a;this.w&&(c+=\";domain=\"+this.w);this.B&&(c+=\";path=\"+this.B);var d=\"number\"===typeof b?b:this.Q;if(0<=d){var e=new Date;e.setSeconds(e.getSeconds()+d);c+=\";expires=\"+e.toUTCString()}this.R&&(c+=\";secure\");p.cookie=c};\nLd.iterate=function(a){for(var b=p.cookie[F](/;\\s*/),c=0;c<b[D];++c){var d=b[c][F](\"=\"),e=d[ia]();a(e,d[P](\"=\"))}};var Od=function(a){this.T=a},Pd={};Od[E].write=function(a){Pd[this.T]=a};Od.iterate=function(a){for(var b in Pd)Pd.hasOwnProperty(b)&&a(b,Pd[b])};var Qd=\"https:\"===l[G][xa],Rd=Qd||\"http:\"===l[G][xa]?Ld:Od,Sd=function(a){var b=a[B](1),c=\"\",d=l[G].hostname;if(\"\"!==b){c=ea(b,10);if(isNaN(c))return null;b=d[F](\".\");if(b[D]<c-1)return null;b[D]==c-1&&(d=\".\"+d)}else d=\"\";return{c:\"S\"==a[oa](0),domain:d,d:c}},Td=function(a){if(0!==a[x](\"GCSC\"))return null;var b={v:!1};a=a[B](4);if(!a)return b;var c=a[oa](0);a=a[B](1);var d=a.lastIndexOf(\"_\");if(-1==d)return b;var e=Sd(a[B](d+1));if(null==e)return b;a=a[M](0,d);if(\"_\"!==a[oa](0))return b;d=\"E\"===c&&\ne.c;return!d&&(\"U\"!==c||e.c)||d&&!Qd?b:{v:!0,c:d,U:a[B](1),domain:e.domain,d:e.d}},Ud=function(a){if(!a)return[];a=a[F](\"=\");return a[1]?a[1][F](\"|\"):[]},Vd=function(a){a=a[F](\":\");return{q:a[0][F](\"=\")[1],M:Ud(a[1]),Y:Ud(a[2]),X:Ud(a[3])}},Wd=function(){var a,b=null;Rd.iterate(function(c,d){if(0===c[x](\"G_AUTHUSER_\")){var e=Sd(c[M](11));if(!a||e.c&&!a.c||e.c==a.c&&e.d>a.d)a=e,b=d}});if(null!==b){var c;Rd.iterate(function(b,d){var e=Td(b);e&&e.v&&e.c==a.c&&e.d==a.d&&(c=d)});if(c){var d=Vd(c),e=d&&\nd.M[Number(b)],d=d&&d.q;if(e)return{N:b,P:e,q:d}}}return null};var Xd=function(a){this.F=a};Xd[E].j=0;Xd[E].D=2;Xd[E].F=null;Xd[E].t=!1;Xd[E].K=function(){this.t||(this.j=0,this.t=!0,this.C())};Xd[E].C=function(){this.t&&(this.F()?this.j=this.D:this.j=Math.min(2*(this.j||this.D),120),l.setTimeout(Ga(this.C,this),1E3*this.j))};for(var Yd=0;64>Yd;++Yd);var Zd=null,ic=function(){return Y.oa=!0},jc=function(){Y.oa=!0;var a=Wd();(a=a&&a.N)&&$b(\"googleapis.config/sessionIndex\",a);Zd||(Zd=S(Y,\"ss\",new Xd($d)));a=Zd;a.K&&a.K()},$d=function(){var a=Wd(),b=a&&a.P||null,c=a&&a.q;Tb(\"auth\",{callback:function(){var a=Q.gapi.auth,e={client_id:c,session_state:b};a.checkSessionState(e,function(b){var c=e.session_state,h=Z(\"isLoggedIn\");b=c&&b||!c&&!b;h!=b&&($b(\"isLoggedIn\",b),jc(),jd());c=ec();h!=b&&fc(c)&&!Z(\"disableRealtimeCallback\")&&a._pimf(c,!0)})}});return!0};sb(\"bs0\",!0,l.gapi._bs);sb(\"bs1\",!0);delete l.gapi._bs;})();\ngapi.load(\"iframes-styles-bubble-mobile:plusone\",{callback:window[\"gapi_onload\"],_c:{\"jsl\":{\"ci\":{\"llang\":\"en\",\"client\":{\"cors\":false},\"plus_layer\":{\"isEnabled\":false},\"enableMultilogin\":false,\"disableRealtimeCallback\":false,\"isLoggedIn\":false,\"iframes\":{\"additnow\":{\"methods\":[\"launchurl\"],\"url\":\"https://apis.google.com/additnow/additnow.html?bsv\\u003do\"},\"person\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/person?usegapi\\u003d1\\u0026bsv\\u003do\"},\"plus_followers\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/_/im/_/widget/render/plus/followers?usegapi\\u003d1\\u0026bsv\\u003do\"},\"signin\":{\"methods\":[\"onauth\"],\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/widget/render/signin?usegapi\\u003d1\\u0026bsv\\u003do\"},\"commentcount\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/commentcount?usegapi\\u003d1\\u0026bsv\\u003do\"},\"page\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/page?usegapi\\u003d1\\u0026bsv\\u003do\"},\"hangout\":{\"url\":\"https://talkgadget.google.com/:session_prefix:talkgadget/_/widget?bsv\\u003do\"},\"plus_circle\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/widget/plus/circle?usegapi\\u003d1\\u0026bsv\\u003do\"},\"card\":{\"url\":\":socialhost:/:session_prefix:_/hovercard/card?bsv\\u003do\"},\"evwidget\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/events/widget?usegapi\\u003d1\\u0026bsv\\u003do\"},\"zoomableimage\":{\"url\":\"https://ssl.gstatic.com/microscope/embed/?bsv\\u003do\"},\"follow\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/follow?usegapi\\u003d1\\u0026bsv\\u003do\"},\"shortlists\":{\"url\":\"?bsv\\u003do\"},\"plus\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/badge?usegapi\\u003d1\\u0026bsv\\u003do\"},\"configurator\":{\"url\":\":socialhost:/:session_prefix:_/plusbuttonconfigurator?usegapi\\u003d1\\u0026bsv\\u003do\"},\":socialhost:\":\"https://apis.google.com\",\"post\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix::im_prefix:_/widget/render/post?usegapi\\u003d1\\u0026bsv\\u003do\"},\"community\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/community?usegapi\\u003d1\\u0026bsv\\u003do\"},\"rbr_s\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/widget/render/recobarsimplescroller?bsv\\u003do\"},\"autocomplete\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/widget/render/autocomplete?bsv\\u003do\"},\"plus_share\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/+1/sharebutton?plusShare\\u003dtrue\\u0026usegapi\\u003d1\\u0026bsv\\u003do\"},\":source:\":\"3p\",\"savetowallet\":{\"url\":\"https://clients5.google.com/s2w/o/savetowallet?bsv\\u003do\"},\"rbr_i\":{\"params\":{\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/widget/render/recobarinvitation?bsv\\u003do\"},\"appcirclepicker\":{\"url\":\":socialhost:/:session_prefix:_/widget/render/appcirclepicker?bsv\\u003do\"},\":im_socialhost:\":\"https://plus.googleapis.com\",\"savetodrive\":{\"methods\":[\"save\"],\"url\":\"https://drive.google.com/savetodrivebutton?usegapi\\u003d1\\u0026bsv\\u003do\"},\":signuphost:\":\"https://plus.google.com\",\"plusone\":{\"params\":{\"count\":\"\",\"size\":\"\",\"url\":\"\"},\"url\":\":socialhost:/:session_prefix:_/+1/fastbutton?usegapi\\u003d1\\u0026bsv\\u003do\"},\"comments\":{\"methods\":[\"scroll\",\"openwindow\"],\"params\":{\"location\":[\"search\",\"hash\"]},\"url\":\":socialhost:/:session_prefix:_/widget/render/comments?usegapi\\u003d1\\u0026bsv\\u003do\"},\"ytsubscribe\":{\"url\":\"https://www.youtube.com/subscribe_embed?usegapi\\u003d1\\u0026bsv\\u003do\"}},\"isPlusUser\":false,\"debug\":{\"host\":\"https://apis.google.com\",\"reportExceptionRate\":0.05,\"rethrowException\":false},\"enableContextualSignin\":false,\"deviceType\":\"mobile\",\"inline\":{\"css\":1},\"lexps\":[102,100,98,79,109,45,17,118,115,81,95,122,61,30],\"include_granted_scopes\":true,\"oauth-flow\":{\"improveToastUi\":false,\"authAware\":true,\"usegapi\":false,\"disableOpt\":true,\"authUrl\":\"https://accounts.google.com/o/oauth2/auth\",\"proxyUrl\":\"https://accounts.google.com/o/oauth2/postmessageRelay\",\"toastCfg\":\"1000:3000:1000\"},\"report\":{\"host\":\"https://apis.google.com\",\"rate\":0.001,\"apis\":[\"iframes\\\\..*\",\"gadgets\\\\..*\",\"gapi\\\\.appcirclepicker\\\\..*\",\"gapi\\\\.auth\\\\..*\",\"gapi\\\\.client\\\\..*\"]},\"csi\":{\"rate\":0.01},\"googleapis.config\":{}},\"h\":\"m;/_/scs/apps-static/_/js/k\\u003doz.gapi.en_US.N9BwRZyZxmQ.O/m\\u003d__features__/am\\u003dIQ/rt\\u003dj/d\\u003d1/rs\\u003dAItRSTOzza6ZsT8y1jAmUjUvBJNNBK6QKg\",\"u\":\"https://apis.google.com/js/plusone.js\",\"hee\":true,\"fp\":\"6c8e8a7b4f844ccf96b9837d4e145aa4dc25b2da\",\"dpo\":false},\"platform\":[\"additnow\",\"comments\",\"commentcount\",\"community\",\"follow\",\"page\",\"person\",\"plus\",\"plusone\",\"post\",\"savetodrive\",\"shortlists\",\"ytsubscribe\",\"zoomableimage\",\"savetowallet\",\"hangout\"],\"fp\":\"6c8e8a7b4f844ccf96b9837d4e145aa4dc25b2da\",\"annotation\":[\"interactivepost\",\"recobar\",\"autocomplete\",\"profile\"],\"bimodal\":[\"signin\"]}});"
      },
      "/inline_21d2e2c05a17584364887ae20594497d": {
         "body": " var hm = {}; hm.headless = false; ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_21d2e2c05a17584364887ae20594497d"
      },
      "/inline_b430e47ac8487be975dfc5bd11d53e36": {
         "body": " var load_user = function(updates) { if ((typeof $ === \"undefined\" || $ === null) || ($.hipmunk == null) || (typeof _ === \"undefined\" || _ === null)) { setTimeout((function() { return load_user(updates); }), 50); return; } TraceKit.wrap(function () { $.hipmunk.user = updates.user; _.extend($.hipmunk, updates.hipmunk); $.hipmunk.user.deal_alerts_changed = $.Callbacks(); $.hipmunk.user.preferences = JSON.parse($.hipmunk.user.preferences); $.hipmunk.user.deal_alerts = JSON.parse($.hipmunk.user.deal_alerts); $.hipmunk.saved_searches = JSON.parse($.hipmunk.saved_searches); $.hipmunk.user_loaded = true; hipmunk_main(); })(); }; /* if we dont have a user ask /api/user for it */ var args, data, error_count, key, params, val, x; data = { web_referer: document.referrer, location: window.location.href }; args = (function() { var _results; _results = []; for (key in data) { val = data[key]; _results.push(\"\" + key + \"=\" + (encodeURIComponent(val))); } return _results; })(); params = args.join(\"&\"); x = new XMLHttpRequest(); x.open('POST', '/api/user', true); x.setRequestHeader('Content-type', 'application/x-www-form-urlencoded'); x.onreadystatechange = function() { var updates; if (x.readyState !== 4 || x.status !== 200) { return; } updates = JSON.parse(x.responseText); return load_user(updates); }; x.send(params); ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_b430e47ac8487be975dfc5bd11d53e36"
      },
      "/inline_27d99da9107a7ebaf9858f1dfb7aae43": {
         "body": " $.hipmunk.revision = \"2.0\"; $.hipmunk.dfp_network_code = \"18599239\"; $.hipmunk.hippay_key = \"pk_gb6aSdOudgYhsYOZ6br0Xnjok8nEE\"; $.hipmunk.git_version = \"7cbee4fb0bdd1324c20d85987342b5d93a2cb41a\"; $.hipmunk.trackframe_url = document.location.protocol + \"//hipmunkstatic.com\"; $.hipmunk.map_tiles_url = \"https://a.tiles.mapbox.com/v3/hipmunk.map-uhsfj0vq/{z}/{x}/{y}.png\"; $.hipmunk.heatmap_tiles_url = \"http://tiles.hipmunk.com/tiles-v2/{type}_{x}_{y}_{z}\"; $.hipmunk.landing_form_suffix = \"_landing\"; $.hipmunk.assets_url = \"//assets.hipmunk.com\"; $.hipmunk.itunes_url = \"https://itunes.apple.com/us/app/hipmunk-flights-hotels/id419950680?mt=8\"; $.hipmunk.android_url = \"https://play.google.com/store/apps/details?id=com.hipmunk.android&amp;referrer=utm_source=hipmunk&amp;utm_medium=web\"; ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_27d99da9107a7ebaf9858f1dfb7aae43"
      },
      "/inline_e1ec82da3b02db9caee6932a2630fac2": {
         "body": " $.hipmunk.use_recent = true; $.hipmunk.use_main_js = true; $.hipmunk.seo_frontpage_type = \"both\"; ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_e1ec82da3b02db9caee6932a2630fac2"
      },
      "/inline_d0adeeb84f671caad0c5dd8bb6718f24": {
         "body": " var _gaq = _gaq || []; _gaq.push([\"_setAccount\", \"UA-17188439-1\"]); if (window.location.hash == \"\") { _gaq.push([\"_trackPageview\"]); } (function() { var ga = document.createElement(\"script\"); ga.type = \"text/javascript\"; ga.async = true; ga.src = (\"https:\" == document.location.protocol ? \"https://ssl\" : \"http://www\") + \".google-analytics.com/ga.js\"; var s = document.getElementsByTagName(\"script\")[0]; s.parentNode.insertBefore(ga, s); })(); ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_d0adeeb84f671caad0c5dd8bb6718f24"
      },
      "/inline_c00283d24c25e628997b5df2db8888f7": {
         "body": "/*{literal}<![CDATA[*/ window.olark||(function(c){var f=window,d=document,l=f.location.protocol==\"https:\"?\"https:\":\"http:\",z=c.name,r=\"load\";var nt=function(){f[z]=function(){(a.s=a.s||[]).push(arguments)};var a=f[z]._={},q=c.methods.length;while(q--){(function(n){f[z][n]=function(){f[z](\"call\",n,arguments)}})(c.methods[q])}a.l=c.loader;a.i=nt;a.p={0:+new Date};a.P=function(u){a.p[u]=new Date-a.p[0]};function s(){a.P(r);f[z](r)}f.addEventListener?f.addEventListener(r,s,false):f.attachEvent(\"on\"+r,s);var ld=function(){function p(hd){hd=\"head\";return[\"<\",hd,\"></\",hd,\"><\",i,' onl' + 'oad=\"var d=',g,\";d.getElementsByTagName('head')[0].\",j,\"(d.\",h,\"('script')).\",k,\"='\",l,\"//\",a.l,\"'\",'\"',\"></\",i,\">\"].join(\"\")}var i=\"body\",m=d[i];if(!m){return setTimeout(ld,100)}a.P(1);var j=\"appendChild\",h=\"createElement\",k=\"src\",n=d[h](\"div\"),v=n[j](d[h](z)),b=d[h](\"iframe\"),g=\"document\",e=\"domain\",o;n.style.display=\"none\";m.insertBefore(n,m.firstChild).id=z;b.frameBorder=\"0\";b.id=z+\"-loader\";if(/MSIE[ ]+6/.test(navigator.userAgent)){b.src=\"javascript:false\"}b.allowTransparency=\"true\";v[j](b);try{b.contentWindow[g].open()}catch(w){c[e]=d[e];o=\"javascript:var d=\"+g+\".open();d.domain='\"+d.domain+\"';\";b[k]=o+\"void(0);\"}try{var t=b.contentWindow[g];t.write(p());t.close()}catch(x){b[k]=o+'d.write(\"'+p().replace(/\"/g,String.fromCharCode(92)+'\"')+'\");d.close();'}a.P(2)};ld()};nt()})({loader: \"static.olark.com/jsclient/loader0.js\",name:\"olark\",methods:[\"configure\",\"extend\",\"declare\",\"identify\"]}); /* custom configuration goes here (www.olark.com/documentation) */ olark.identify('9083-801-10-3843');/*]]>{/literal}*/",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_c00283d24c25e628997b5df2db8888f7"
      },
      "/inline_117d251ae9368ede0203493c2d38215e": {
         "body": " olark('api.chat.onCommandFromOperator', function(event){ if (event.command.name == 'browser') { olark('api.chat.sendNotificationToOperator', {body: navigator.userAgent.toString()}); } }); if($ && $.hipmunk) { /* log an event when a user types something into the olark box */ olark('api.chat.onBeginConversation', function() { $.hipmunk.utils.track(\"olark_conversation\"); }); if($.hipmunk.user && $.hipmunk.user.email) { /* if we have their Hipmunk email address, add that in */ olark('api.chat.updateVisitorNickname', { snippet: $.hipmunk.user.email }); } if($.hipmunk.trip_planner_enabled) { olark('api.chat.onBeginConversation', function() { olark('api.chat.sendNotificationToOperator', {body: \"beta.hipmunk.com user\"}); }); } } ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_117d251ae9368ede0203493c2d38215e"
      },
      "/inline_5a96b2d18a04024e96a51df386593a8b": {
         "body": " window.___gcfg = { lang: 'en-US' }; (function() { var po = document.createElement('script'); po.type = 'text/javascript'; po.async = true; po.src = 'https://apis.google.com/js/plusone.js'; var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(po, s); })(); ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_5a96b2d18a04024e96a51df386593a8b"
      },
      "/inline_f779148202380c589379330b1d073bc4": {
         "body": " window.fbAsyncInit = function() { FB.init({ appId : 168149879915203, cookie : true }); }; (function(d){ var js, id = 'facebook-jssdk', ref = d.getElementsByTagName('script')[0]; if (d.getElementById(id)) {return;} js = d.createElement('script'); js.id = id; js.async = true; js.src = \"//connect.facebook.net/en_US/all.js\"; ref.parentNode.insertBefore(js, ref); }(document)); ",
         "pageUrl": "http://hipmunk.com",
         "scriptUrl": "/inline_f779148202380c589379330b1d073bc4"
      },
      "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/deals.group.js": {
         "pageUrl": "http://www.hipmunk.com/cheap-flights",
         "scriptUrl": "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/deals.group.js",
         "body": "try {\n!function(t){t.extend(t.fx.step,{backgroundPosition:function(e){function s(t){t=t.replace(/left|top/g,\"0px\"),t=t.replace(/right|bottom/g,\"100%\"),t=t.replace(/([0-9\\.]+)(\\s|\\)|$)/g,\"$1px$2\");var e=t.match(/(-?[0-9\\.]+)(px|\\%|em|pt)\\s(-?[0-9\\.]+)(px|\\%|em|pt)/);return[parseFloat(e[1],10),e[2],parseFloat(e[3],10),e[4]]}if(0===e.state&&\"string\"==typeof e.end){var r=t(e.elem).css(\"backgroundPosition\");if(r)r=s(r),e.start=[r[0],r[2]];else{if(!t(e.elem).css(\"backgroundPositionX\"))return;e.start=[],e.start.push(parseFloat(t(e.elem).css(\"backgroundPositionX\"))),e.start.push(parseFloat(t(e.elem).css(\"backgroundPositionY\")))}var a=s(e.end);e.end=[a[0],a[2]],e.unit=[a[1],a[3]]}var o=[];o[0]=(e.end[0]-e.start[0])*e.pos+e.start[0]+e.unit[0],o[1]=(e.end[1]-e.start[1])*e.pos+e.start[1]+e.unit[1],e.elem.style.backgroundPosition=o[0]+\" \"+o[1]}})}(jQuery);\n!function(){var n,t,e,r,i,a,u,o,l,d,c,f,s,p,h,b,m,g,x,v,w,M,k,y,S,D,I,P,R,z,A,C,F,H,L,T;L=window.drykup,M=L.render,a=L.div,y=L.span,S=L.table,A=L.thead,D=L.tbody,C=L.tr,I=L.td,z=L.th,P=L.text,R=L.textarea,r=L.button,d=L.hr,c=L.iframe,w=L.raw,n=L.a,e=L.br,t=L.b,f=L.img,p=L.label,u=L.form,s=L.input,H=L.ul,h=L.li,o=L.h1,l=L.h2,k=L.select,m=L.option,g=L.p,T=$.hipmunk.utils,F=T.tz_fix,x=T.parse_offset,i=T.days_between,b=T.ntext,v=[{iden:\"pax\",label:\"Adult\",\"default\":1},{iden:\"children\",label:\"Child\"},{iden:\"seniors\",label:\"Senior\"},{iden:\"infant_seat\",label:\"Infant\"},{iden:\"infant_lap\",label:\"Lap Infant\"}],$.templates.deals_lightbox=function(t,e,r){var u;return u=\"ddd, MMM d, h:mm tt\",a(\".deals-lightbox.newbox.finegrid\",function(){return a(\".r.header\",function(){return a(\".x\"),$.templates.newbox_header_content({content:function(){return o(\".header-text.large-header-text\",function(){return y(function(){return P(\"Flight Deals: \")}),P(\"\"+t+\" to \"+r.name)})}})}),a(\".travelers-container\",function(){return a(\".small-button.flight-menu-pax.silver\",function(){return y(\".button-text\",\"1 person\"),inline_img(\".arrow\"),a(\".dd-popup\",function(){var n,t,e,r;for(a(\".dd-header\",\"People\"),r=[],t=0,e=v.length;e>t;t++)n=v[t],r.push(a(\".dd-select\",function(){return y(function(){return k(\".field-\"+n.iden,{name:n.iden},function(){var t,e,r,i;for(i=[],e=r=0;6>=r;e=++r)t={value:e},e===n[\"default\"]&&(t.selected=!0),i.push(m(t,function(){return P(\"\"+e)}));return i})}),a(\".person-icon.accessory\",function(){return w(\"&nbsp;\")}),y(function(){return P(n.label)}),a(\".clear\")}));return r})}),a(\".text\",\"How many travelers?\"),a(\".clear\")}),a(\".itins\",function(){var t,e,u,o,l,d,c;for(a(\".itin-header\",function(){return a(\".place-icon\"),a(\".date-column\",function(){return P(\"Depart\")}),a(\".date-column\",function(){return P(\"Return\")}),a(\".num-column\",function(){return P(\"Trip length\")}),a(\".button-column\",function(){return P(\"Roundtrip from*\")}),a(\".clear\")}),d=r.itins,c=[],e=o=0,l=d.length;l>o;e=++o)u=d[e],t=\".itin.itin_idx-\"+e,0===e%2&&(t+=\".even\"),c.push(n(t,{target:\"_blank\"},function(){var n,t,e,r,o,l,d,c;for(a(\".plane-icon\"),t=_.first(u.routings[0].legs),o=_.first(u.routings[1].legs),n=F(1e3*t.depart_sec,x(t.depart)),r=F(1e3*o.depart_sec,x(o.depart)),c=[n,r],l=0,d=c.length;d>l;l++)e=c[l],a(\".date-column\",function(){return w(\"\"+e.toString(\"ddd\")+\", <span>\"+e.toString(\"MMM d\")+\"</span>\")});return a(\".num-column\",function(){var t;return t=i(n,r),P(b(t,\"night\",\"nights\"))}),a(\".button-column\",function(){return a(\".small-button.orange\",\"$\"+Math.round(u.price))}),a(\".clear\")}));return c}),a(\".deals-footer\",function(){var t;return t={target:\"_blank\",href:\"/flights/\"+e+\"-to-\"+r.id},P(\"Want to find more deals to \"+r.name+\"? \"),n(\".hiplink\",t,function(){return P(\"Search other dates\")})}),a(\".legal\",function(){return w(\"<b>*</b>Prices shown are roundtrip prices including all airfare taxes and fees.\")})})}}.call(this);\n!function(){var t,e,s,i,r,n,a,o,c,u,l,p=function(t,e){return function(){return t.apply(e,arguments)}},h={}.hasOwnProperty,d=function(t,e){function s(){this.constructor=t}for(var i in e)h.call(e,i)&&(t[i]=e[i]);return s.prototype=e.prototype,t.prototype=new s,t.__super__=e.prototype,t};u=$.hipmunk.utils,c=u.tz_fix,n=u.parse_offset,a=u.query_param,o=u.query_params,l=hm.widgets,i=l.SearchForm,s=l.PassengersMenu,$.hipmunk.Deals=function(){function t(){this.subscribe_success=p(this.subscribe_success,this),this.update_subscribe_button=p(this.update_subscribe_button,this),this.alerts=$.hipmunk.user.deal_alerts,this.alerts_changed=$.hipmunk.user.deal_alerts_changed,this.referer=a(\"referer\")||a(\"referrer\")||this.DEFAULT_REFERER,this.setup_handlers(),this.setup_ads()}return t.prototype.DEFAULT_REFERER=\"web\",t.prototype.setup_handlers=function(){var t,e=this;return this.alerts_changed.add(this.update_subscribe_button),t=$(\".deals-results\"),t.find(\"select\").chosen(),t.on(\"change\",\"select\",function(){var s;s=t.find(\"select\").val(),e.track(\"deals_select\",\"\",{selected_city_id:s}),s&&e.redirect(\"/cheap-flights/\"+s,o())}),t.on(\"click\",\".box\",function(t){var s,i,r;t.preventDefault(),s=$(t.currentTarget),r=+s.cdata(\"dealsidx\"),i=e.results.dests[r],e.track(\"deals_box\",\"click\",{box_index:r,city_id:i.id}),e.show_deal(i),\"function\"==typeof history.replaceState&&history.replaceState.apply(history,e.make_state(i))}),t.on(\"click\",\".subscribe-button\",function(){$.hipmunk.user.email?($(\"#deals-subscribe-fake-form\").data(\"success\",e.subscribe_success),$.ajax(\"/deals/\"+e.results.city_id+\"/subscribe\",{data:{form:\"deals-subscribe-fake-form\",email:$.hipmunk.user.email,src:\"deals_page_button\"}})):e.open_subscribe(\"click\")}),t.on(\"click\",\".subscribed-button\",function(){return\"email\"in $.hipmunk.user?(e.track(\"deals_show_alerts_in_settings\",\"\"),$.hipmunk.settings_lightbox.open_with_section(\"email\"),void 0):(show_login_form(!0),void 0)})},t.prototype.setup_ads=function(){var t,e,s;return $.hipmunk.dfp=new DFPManager,s=$.hipmunk.dfp.get_slot_group(\"deals\"),e=drykup.render($.templates.ads_sidebar_box(s.slice(0,1))),t=drykup.render($.templates.ad_bottom_box(s[1])),$(\"#ad-container-1\").html(e),$(\"#ad-container-2\").html(t),$.hipmunk.dfp.display_deals_ads()},t.prototype.redirect=function(t,e){var s,i;return null==e&&(e={}),i=t,s=$.param(e),s.length&&(i+=\"?\"+s),$.redirect(i)},t.prototype.show_deal=function(t){return this.deals_lightbox=new e(this),this.deals_lightbox.show(t),this.set_title(t)},t.prototype.open_subscribe=function(t){var e;return this.track(\"deals_open_subscribe\",\"\",{action:t}),e=new r(this),e.user_cant_close=\"1\"===a(\"fbox\"),e.show()},t.prototype.handle_pageload=function(t){var e,s,i,r,n;if(this.set_title(),t){for(n=this.results.dests,i=0,r=n.length;r>i;i++)if(s=n[i],s.id===t){this.show_deal(s);break}}else!this.results||this.results.city_id in $.hipmunk.user.deal_alerts||this.open_subscribe(\"pageload\");return e={},t&&(e.to_city_id=t),this.track(\"deals_page_view\",\"original\",e)},t.prototype.update_subscribe_button=function(){var t;return t=this.results.city_id in this.alerts,$(\".subscribe-button\").toggle(!t),$(\".subscribed-button\").toggle(t)},t.prototype.subscribe_success=function(t){var e,s,i,r;return this.alerts[this.results.city_id]={from_name:this.results.city_name},this.alerts_changed.fire(),e=o(),delete e.fbox,t?this.redirect(location.pathname,e):(r=location.pathname,s=$.param(e),s.length&&(r+=\"?\"+s),i=[{},\"\",r],\"function\"==typeof history.replaceState?history.replaceState.apply(history,i):void 0)},t.prototype.set_title=function(t){var e;return null==t&&(t=null),this.results?(e=t?\"Cheap Flights from \"+this.results.city_name+\" to \"+t.name+\" | Hipmunk\":\"Cheap Flights from \"+this.results.city_name+\" | Hipmunk\",document.title=e):void 0},t.prototype.make_state=function(t){var e;return null==t&&(t=null),e=t?\"/cheap-flights/\"+this.results.city_id+\"-to-\"+t.id:\"/cheap-flights/\"+this.results.city_id,e+=location.search,[{},\"\",e]},t.prototype.track=function(t,e,s){var i,r,n;return i=null!=(r=null!=(n=this.results)?n.city_id:void 0)?r:null,s=$.extend({},s,{referer:this.referer,page_city_id:i}),$.hipmunk.utils.track(t,e,s)},t}(),e=function(t){function e(t){var s=this;this.deals=t,e.__super__.constructor.call(this,\"deals\",null,Lightbox.make_container(),function(){return s.close_fn()}),this.$popup_container=$.make_container(),this.setup_handlers()}return d(e,t),e.prototype.show=function(t){return this.dest=t,this.$content=$(drykup.render($.templates.deals_lightbox(this.deals.results.city_name,this.deals.results.city_id,this.dest))),e.__super__.show.call(this),this.pax_menu=new s(this.$content.find(\".flight-menu-pax\"),this.$popup_container),this.update_itin_hrefs()},e.prototype.setup_handlers=function(){var t=this;return this.$container.on(\"click\",\".itin\",function(e){var s,i,r,n;s=$(e.currentTarget),r=+s.cdata(\"itin_idx\"),i=t.dest.itins[r],n={},n.itin_idx=r,n.price=Math.round(i.price),n.dest_city=t.dest.id,t.deals.track(\"deals_itin_click\",\"\",n)}),this.$container.on(\"click\",\".new-search\",function(){t.deals.track(\"deals_search_button_click\",\"\",{dest_city:t.dest.id})}),this.$popup_container.on(\"change\",\"select\",function(){t.update_itin_hrefs()})},e.prototype.update_itin_hrefs=function(){var t=this;return this.$content.find(\".itin\").each(function(e,s){var i,r,a,o,u,l,p,h,d,_,f,m;for(i=$(s),u=+i.cdata(\"itin_idx\"),a=t.dest.itins[u],l=t.pax_menu.form_data(),r=[],m=a.routings,_=0,f=m.length;f>_;_++)p=m[_],o=p.legs[0],r.push(c(1e3*o.depart_sec,n(o.depart)).toString(\"MMMdd\"));return d={dates:r.join(\",\"),confirm_price:Math.round(a.price)},$.extend(d,l),h=\"/flights/\"+t.deals.results.city_id+\"-to-\"+t.dest.id+\"?referer=deals&campaign=\"+$.hipmunk.deals.referer+\"#!\"+decodeURIComponent($.param(d)),i.attr(\"href\",h)})},e.prototype.close_fn=function(){return\"function\"==typeof history.replaceState&&history.replaceState.apply(history,$.hipmunk.deals.make_state()),$.hipmunk.deals.set_title(null)},e}(Lightbox),r=function(t){function e(t){this.deals=t,e.__super__.constructor.call(this,\"deals_subscribe\")}return d(e,t),e.prototype.show=function(){var t,s,r,n=this;return s=drykup.render($.templates.deals_subscription_form(\"1\",this.deals.results.city_name,this.deals.results.city_id,\"deals_page_lightbox\"[\"false\"])),r=new AppHeaderedBox(\"basic-app-modal\"),r.set_content(s),r.loading=!1,r.title=\"Hipmunk Flight Deals\",r.update_display(),r.set_close_button_visible(!this.user_cant_close),this.$content=r.$el,e.__super__.show.call(this),$.hipmunk.user.email&&(this.$content.find(\"input[name=email]\").val($.hipmunk.user.email),this.$content.find(\".input-container\").hide()),t=this.$content.find(\"form\"),new i(t),t.data(\"success\",function(e,s){return t.find(\".message\").text(\"You have successfully subscribed to this Deal Alert.\").css(\"color\",\"green\"),t.find(\".button-container .small-button, .input-container\").hide(),setTimeout(function(){return n.close_success(s)},1500)})},e.prototype.close_success=function(t){return this.close(),this.deals.subscribe_success(t)},e}(Lightbox),t=[{scale:.5,opacity:.5,top:\"10px\",left:80},{scale:.6,opacity:.8,top:\"20px\",left:6},{scale:.85,opacity:.6,top:\"100px\",left:0},{scale:.6,opacity:.5,top:\"120px\",left:96},{scale:1,opacity:1,top:\"190px\",left:15},{scale:.5,opacity:.9,top:\"180px\",left:88}],$.hipmunk.DealsLandingPage=function(){function t(t){this.referer=a(\"referer\")||this.DEFAULT_REFERER,this.setup_handlers(),$.hipmunk.utils.track(\"deals_page_view\",t,{referer:this.referer})}return t.prototype.DEFAULT_REFERER=\"web\",t.prototype.CLOUD_X_MAX=\"140\",t.prototype.CLOUD_X_MIN=\"-40\",t.prototype.CLOUD_BASE_SPEED=.8,t.prototype.setup_handlers=function(){var t;return t=$(\".deals-wrapper form\"),t.find(\"select\").chosen(),t.find(\"label\").inFieldLabels(),t.each(function(t,e){var s,r;return s=$(e),r=s.find(\".city-select\"),r.change(function(){return r.closest(\".full-row\").removeClass(\"haserror\")}),s.data(\"success\",function(){var t;return s.find(\"button[type=submit]\").hide(),s.find(\"button.done\").show(),t=s.data(\"city_id\"),setTimeout(function(){return location.href=\"/cheap-flights/\"+t},600)}),s.submit(function(t){var e;e=r.val(),e||(r.closest(\".full-row\").addClass(\"haserror\"),t.stopImmediatePropagation(),t.preventDefault()),s.data(\"city_id\",e),s.attr(\"action\",\"/deals/\"+e+\"/subscribe\")}),new i(s)})},t}()}.call(this);\n}catch(e){window.TraceKit&&TraceKit.report(e);throw e;}\n//# sourceMappingURL=deals.group.map"
      },
      "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/seo_page.group.js": {
         "pageUrl": "http://www.hipmunk.com/explore/events",
         "scriptUrl": "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/seo_page.group.js",
         "body": "try {\n!function(t,e){var i,n;typeof exports!=e+\"\"?i=exports:(n=t.L,i={},i.noConflict=function(){return t.L=n,this},t.L=i),i.version=\"0.4.4\",i.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e=\"_leaflet_id\";return function(i){return i[e]=i[e]||++t,i[e]}}(),limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?(o=!0,void 0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),t.apply(i,a),void 0)}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},splitWords:function(t){return t.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/)},setOptions:function(t,e){return t.options=i.extend({},t.options,e),t.options},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+\"=\"+t[i]);return\"?\"+e.join(\"&\")},template:function(t,e){return t.replace(/\\{ *([\\w_]+) *\\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw new Error(\"No value provided for variable \"+t);return n})},symmetricRound:function(t){return 0>t?Math.ceil(t-.5):Math.floor(t+.5)},emptyImageUrl:\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\"},function(){function e(e){var i,n,o=[\"webkit\",\"moz\",\"o\",\"ms\"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function n(e){var i=+new Date,n=Math.max(0,16-(i-o));return o=i+n,t.setTimeout(e,n)}var o=0,s=t.requestAnimationFrame||e(\"RequestAnimationFrame\")||n,a=t.cancelAnimationFrame||e(\"CancelAnimationFrame\")||e(\"CancelRequestAnimationFrame\")||function(e){t.clearTimeout(e)};i.Util.requestAnimFrame=function(e,o,a,r){return e=i.bind(e,o),a&&s===n?(e(),void 0):s.call(t,e,r)},i.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},n=function(){};n.prototype=this.prototype;var o=new n;o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&&\"prototype\"!==s&&(e[s]=this[s]);return t.statics&&(i.extend(e,t.statics),delete t.statics),t.includes&&(i.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=i.extend({},o.options,t.options)),i.extend(o,t),e},i.Class.include=function(t){i.extend(this.prototype,t)},i.Class.mergeOptions=function(t){i.extend(this.prototype.options,t)};var o=\"_leaflet_events\";i.Mixin={},i.Mixin.Events={addEventListener:function(t,e,n){var s,a,r,h=this[o]=this[o]||{};if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.addEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)h[t[a]]=h[t[a]]||[],h[t[a]].push({action:e,context:n||this});return this},hasEventListeners:function(t){return o in this&&t in this[o]&&this[o][t].length>0},removeEventListener:function(t,e,n){var s,a,r,h,l,u=this[o];if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.removeEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)if(this.hasEventListeners(t[a]))for(h=u[t[a]],l=h.length-1;l>=0;l--)e&&h[l].action!==e||n&&h[l].context!==n||h.splice(l,1);return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var n=i.extend({type:t,target:this},e),s=this[o][t].slice(),a=0,r=s.length;r>a;a++)s[a].action.call(s[a].context||this,n);return this}},i.Mixin.Events.on=i.Mixin.Events.addEventListener,i.Mixin.Events.off=i.Mixin.Events.removeEventListener,i.Mixin.Events.fire=i.Mixin.Events.fireEvent,function(){var n=!!t.ActiveXObject,o=n&&!t.XMLHttpRequest,s=n&&!document.querySelector,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf(\"webkit\"),h=-1!==a.indexOf(\"chrome\"),l=-1!==a.indexOf(\"android\"),u=-1!==a.search(\"android [23]\"),c=typeof orientation!=e+\"\",d=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints,_=\"devicePixelRatio\"in t&&t.devicePixelRatio>1||\"matchMedia\"in t&&t.matchMedia(\"(min-resolution:144dpi)\").matches,m=document.documentElement,p=n&&\"transition\"in m.style,f=\"WebKitCSSMatrix\"in t&&\"m11\"in new t.WebKitCSSMatrix,g=\"MozPerspective\"in m.style,v=\"OTransition\"in m.style,y=!t.L_DISABLE_3D&&(p||f||g||v),P=!t.L_NO_TOUCH&&function(){var t=\"ontouchstart\";if(d||t in m)return!0;var e=document.createElement(\"div\"),i=!1;return e.setAttribute?(e.setAttribute(t,\"return;\"),\"function\"==typeof e[t]&&(i=!0),e.removeAttribute(t),e=null,i):!1}();i.Browser={ie6:o,ie7:s,webkit:r,android:l,android23:u,chrome:h,ie3d:p,webkit3d:f,gecko3d:g,opera3d:v,any3d:y,mobile:c,mobileWebkit:c&&r,mobileWebkit3d:c&&f,mobileOpera:c&&t.opera,touch:P,msTouch:d,retina:_}}(),i.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(t){return this.clone()._add(i.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(i.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=i.Util.symmetricRound(this.x),this.y=i.Util.symmetricRound(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=i.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},toString:function(){return\"Point(\"+i.Util.formatNum(this.x)+\", \"+i.Util.formatNum(this.y)+\")\"}},i.point=function(t,e,n){return t instanceof i.Point?t:t instanceof Array?new i.Point(t[0],t[1]):isNaN(t)?t:new i.Point(t,e,n)},i.Bounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=i.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},contains:function(t){var e,n;return t=\"number\"==typeof t[0]||t instanceof i.Point?i.point(t):i.bounds(t),t instanceof i.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=i.bounds(t);var e=this.min,n=this.max,o=t.min,s=t.max,a=s.x>=e.x&&o.x<=n.x,r=s.y>=e.y&&o.y<=n.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}}),i.bounds=function(t,e){return!t||t instanceof i.Bounds?t:new i.Bounds(t,e)},i.Transformation=i.Class.extend({initialize:function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}}),i.DomUtil={get:function(t){return\"string\"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||\"auto\"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return\"auto\"===i?null:i},getViewportOffset:function(t){var e,n=0,o=0,s=t,a=document.body,r=i.Browser.ie7;do{if(n+=s.offsetTop||0,o+=s.offsetLeft||0,e=i.DomUtil.getStyle(s,\"position\"),s.offsetParent===a&&\"absolute\"===e)break;if(\"fixed\"===e){n+=a.scrollTop||0,o+=a.scrollLeft||0;break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;n-=s.scrollTop||0,o-=s.scrollLeft||0,i.DomUtil.documentIsLtr()||!i.Browser.webkit&&!r||(o+=s.scrollWidth-s.clientWidth,r&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow-y\")&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow\")&&(o+=17)),s=s.parentNode}while(s);return new i.Point(o,n)},documentIsLtr:function(){return i.DomUtil._docIsLtrCached||(i.DomUtil._docIsLtrCached=!0,i.DomUtil._docIsLtr=\"ltr\"===i.DomUtil.getStyle(document.body,\"direction\")),i.DomUtil._docIsLtr},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=i.Util.falseFn)},enableTextSelection:function(){document.onselectstart===i.Util.falseFn&&(document.onselectstart=this._onselectstart,this._onselectstart=null)},hasClass:function(t,e){return t.className.length>0&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(t.className)},addClass:function(t,e){i.DomUtil.hasClass(t,e)||(t.className+=(t.className?\" \":\"\")+e)},removeClass:function(t,e){function i(t,i){return i===e?\"\":t}t.className=t.className.replace(/(\\S+)\\s*/g,i).replace(/(^\\s+|\\s+$)/,\"\")},setOpacity:function(t,e){if(\"opacity\"in t.style)t.style.opacity=e;else if(\"filter\"in t.style){var i=!1,n=\"DXImageTransform.Microsoft.Alpha\";try{i=t.filters.item(n)}catch(o){}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=\" progid:\"+n+\"(opacity=\"+e+\")\"}},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=i.Browser.webkit3d,n=\"translate\"+(e?\"3d\":\"\")+\"(\",o=(e?\",0\":\"\")+\")\";return n+t.x+\"px,\"+t.y+\"px\"+o},getScaleString:function(t,e){var n=i.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),o=\" scale(\"+t+\") \";return n+o},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&i.Browser.any3d?(t.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(e),i.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility=\"hidden\")):(t.style.left=e.x+\"px\",t.style.top=e.y+\"px\")},getPosition:function(t){return t._leaflet_pos}},i.DomUtil.TRANSFORM=i.DomUtil.testProp([\"transform\",\"WebkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"]),i.DomUtil.TRANSITION=i.DomUtil.testProp([\"transition\",\"webkitTransition\",\"OTransition\",\"MozTransition\",\"msTransition\"]),i.DomUtil.TRANSITION_END=\"webkitTransition\"===i.DomUtil.TRANSITION||\"OTransition\"===i.DomUtil.TRANSITION?i.DomUtil.TRANSITION+\"End\":\"transitionend\",i.LatLng=function(t,e,i){var n=parseFloat(t),o=parseFloat(e);if(isNaN(n)||isNaN(o))throw new Error(\"Invalid LatLng object: (\"+t+\", \"+e+\")\");i!==!0&&(n=Math.max(Math.min(n,90),-90),o=(o+180)%360+(-180>o||180===o?180:-180)),this.lat=n,this.lng=o},i.extend(i.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),i.LatLng.prototype={equals:function(t){if(!t)return!1;t=i.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=i.LatLng.MAX_MARGIN},toString:function(t){return\"LatLng(\"+i.Util.formatNum(this.lat,t)+\", \"+i.Util.formatNum(this.lng,t)+\")\"},distanceTo:function(t){t=i.latLng(t);var e=6378137,n=i.LatLng.DEG_TO_RAD,o=(t.lat-this.lat)*n,s=(t.lng-this.lng)*n,a=this.lat*n,r=t.lat*n,h=Math.sin(o/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}},i.latLng=function(t,e,n){return t instanceof i.LatLng?t:t instanceof Array?new i.LatLng(t[0],t[1]):isNaN(t)?t:new i.LatLng(t,e,n)},i.LatLngBounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t),t instanceof i.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new i.LatLng(t.lat,t.lng,!0),this._northEast=new i.LatLng(t.lat,t.lng,!0)):t instanceof i.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,s=Math.abs(e.lng-n.lng)*t;return new i.LatLngBounds(new i.LatLng(e.lat-o,e.lng-s),new i.LatLng(n.lat+o,n.lng+s))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new i.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(t){t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t);var e,n,o=this._southWest,s=this._northEast;return t instanceof i.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=s.lat&&e.lng>=o.lng&&n.lng<=s.lng},intersects:function(t){t=i.latLngBounds(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&o.lat<=n.lat,r=s.lng>=e.lng&&o.lng<=n.lng;return a&&r},toBBoxString:function(){var t=this._southWest,e=this._northEast;return[t.lng,t.lat,e.lng,e.lat].join(\",\")},equals:function(t){return t?(t=i.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}}),i.latLngBounds=function(t,e){return!t||t instanceof i.LatLngBounds?t:new i.LatLngBounds(t,e)},i.Projection={},i.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=t.lng*e,a=o*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new i.Point(s,a)},unproject:function(t){var e=i.LatLng.RAD_TO_DEG,n=t.x*e,o=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new i.LatLng(o,n,!0)}},i.Projection.LonLat={project:function(t){return new i.Point(t.lng,t.lat)},unproject:function(t){return new i.LatLng(t.y,t.x,!0)}},i.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,1,0)}),i.CRS.EPSG3857=i.extend({},i.CRS,{code:\"EPSG:3857\",projection:i.Projection.SphericalMercator,transformation:new i.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:\"EPSG:900913\"}),i.CRS.EPSG4326=i.extend({},i.CRS,{code:\"EPSG:4326\",projection:i.Projection.LonLat,transformation:new i.Transformation(1/360,.5,-1/360,.5)}),i.Map=i.Class.extend({includes:i.Mixin.Events,options:{crs:i.CRS.EPSG3857,fadeAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23,trackResize:!0,markerZoomAnimation:i.DomUtil.TRANSITION&&i.Browser.any3d},initialize:function(t,n){n=i.setOptions(this,n),this._initContainer(t),this._initLayout(),this._initHooks(),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.center&&n.zoom!==e&&this.setView(i.latLng(n.center),n.zoom,!0),this._initLayers(n.layers)},setView:function(t,e){return this._resetView(i.latLng(t),this._limitZoom(e)),this},setZoom:function(t){return this.setView(this.getCenter(),t)},zoomIn:function(t){return this.setZoom(this._zoom+(t||1))},zoomOut:function(t){return this.setZoom(this._zoom-(t||1))},fitBounds:function(t){var e=this.getBoundsZoom(t);return this.setView(i.latLngBounds(t).getCenter(),e)},fitWorld:function(){var t=new i.LatLng(-60,-170),e=new i.LatLng(85,179);return this.fitBounds(new i.LatLngBounds(t,e))},panTo:function(t){return this.setView(t,this._zoom)},panBy:function(t){return this.fire(\"movestart\"),this._rawPanBy(i.point(t)),this.fire(\"move\"),this.fire(\"moveend\")},setMaxBounds:function(t){if(t=i.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this;var e=this.getBoundsZoom(t,!0);return this._boundsMinZoom=e,this._loaded&&(this._zoom<e?this.setView(t.getCenter(),e):this.panInsideBounds(t)),this},panInsideBounds:function(t){t=i.latLngBounds(t);var e=this.getBounds(),n=this.project(e.getSouthWest()),o=this.project(e.getNorthEast()),s=this.project(t.getSouthWest()),a=this.project(t.getNorthEast()),r=0,h=0;return o.y<a.y&&(h=a.y-o.y),o.x>a.x&&(r=a.x-o.x),n.y>s.y&&(h=s.y-n.y),n.x<s.x&&(r=s.x-n.x),this.panBy(new i.Point(r,h,!0))},addLayer:function(t){var e=i.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t.options&&!isNaN(t.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,t.options.maxZoom)),t.options&&!isNaN(t.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||1/0,t.options.minZoom)),this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on(\"load\",this._onTileLayerLoad,this)),this.whenReady(function(){t.onAdd(this),this.fire(\"layeradd\",{layer:t})},this),this)},removeLayer:function(t){var e=i.stamp(t);if(this._layers[e])return t.onRemove(this),delete this._layers[e],this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off(\"load\",this._onTileLayerLoad,this)),this.fire(\"layerremove\",{layer:t})},hasLayer:function(t){var e=i.stamp(t);return this._layers.hasOwnProperty(e)},invalidateSize:function(t){var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var n=e.divideBy(2)._round(),o=this.getSize()._divideBy(2)._round(),s=n.subtract(o);return t===!0?this.panBy(s):(this._rawPanBy(s),this.fire(\"move\"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,\"moveend\"),200)),this},addHandler:function(t,e){return e?(this[t]=new e(this),this.options[t]&&this[t].enable(),this):void 0},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new i.LatLngBounds(e,n)},getMinZoom:function(){var t=this.options.minZoom||0,e=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(t,e,i)},getMaxZoom:function(){var t=this.options.maxZoom===e?1/0:this.options.maxZoom,i=this._layersMaxZoom===e?1/0:this._layersMaxZoom;return Math.min(t,i)},getBoundsZoom:function(t,e){t=i.latLngBounds(t);var n,o,s,a=this.getSize(),r=this.options.minZoom||0,h=this.getMaxZoom(),l=t.getNorthEast(),u=t.getSouthWest(),c=!0;e&&r--;do r++,o=this.project(l,r),s=this.project(u,r),n=new i.Point(Math.abs(o.x-s.x),Math.abs(s.y-o.y)),c=e?n.x<a.x||n.y<a.y:n.x<=a.x&&n.y<=a.y;while(c&&h>=r);return c&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new i.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,n){return n=n===e?this._zoom:n,this.options.crs.latLngToPoint(i.latLng(t),n)},unproject:function(t,n){return n=n===e?this._zoom:n,this.options.crs.pointToLatLng(i.point(t),n)},layerPointToLatLng:function(t){var e=i.point(t).add(this._initialTopLeftPoint);return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(i.latLng(t))._round();return e._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(t){return i.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return i.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(i.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(t)))},mouseEventToContainerPoint:function(t){return i.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=i.DomUtil.get(t);if(e._leaflet)throw new Error(\"Map container is already initialized.\");e._leaflet=!0},_initLayout:function(){var t=this._container;t.innerHTML=\"\",i.DomUtil.addClass(t,\"leaflet-container\"),i.Browser.touch&&i.DomUtil.addClass(t,\"leaflet-touch\"),this.options.fadeAnimation&&i.DomUtil.addClass(t,\"leaflet-fade-anim\");var e=i.DomUtil.getStyle(t,\"position\");\"absolute\"!==e&&\"relative\"!==e&&\"fixed\"!==e&&(t.style.position=\"relative\"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane(\"leaflet-map-pane\",this._container),this._subtilePane=t.subtilePane=this._createPane(\"leaflet-subtile-pane\",this._mapPane),this._tilePane=t.tilePane=this._createPane(\"leaflet-tile-pane\",this._mapPane),t.objectsPane=this._createPane(\"leaflet-objects-pane\",this._mapPane),t.shadowPane=this._createPane(\"leaflet-shadow-pane\"),t.overlayPane=this._createPane(\"leaflet-overlay-pane\"),t.markerPane=this._createPane(\"leaflet-marker-pane\"),t.popupPane=this._createPane(\"leaflet-popup-pane\");var e=\" leaflet-zoom-hide\";this.options.markerZoomAnimation||(i.DomUtil.addClass(t.markerPane,e),i.DomUtil.addClass(t.shadowPane,e),i.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return i.DomUtil.create(\"div\",t,e||this._panes.objectsPane)},_initializers:[],_initHooks:function(){var t,e;for(t=0,e=this._initializers.length;e>t;t++)this._initializers[t].call(this)},_initLayers:function(t){t=t?t instanceof Array?t:[t]:[],this._layers={},this._tileLayersNum=0;var e,i;for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,o){var s=this._zoom!==e;o||(this.fire(\"movestart\"),s&&this.fire(\"zoomstart\")),this._zoom=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire(\"viewreset\",{hard:!n}),this.fire(\"move\"),(s||o)&&this.fire(\"zoomend\"),this.fire(\"moveend\",{hard:!n}),a&&this.fire(\"load\")},_rawPanBy:function(t){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_initEvents:function(){if(i.DomEvent){i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);var e,n,o=[\"dblclick\",\"mousedown\",\"mouseup\",\"mouseenter\",\"mouseleave\",\"mousemove\",\"contextmenu\"];for(e=0,n=o.length;n>e;e++)i.DomEvent.on(this._container,o[e],this._fireMouseEvent,this);this.options.trackResize&&i.DomEvent.on(t,\"resize\",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||this.dragging&&this.dragging.moved()||(this.fire(\"preclick\"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;if(e=\"mouseenter\"===e?\"mouseover\":\"mouseleave\"===e?\"mouseout\":e,this.hasEventListeners(e)){\"contextmenu\"===e&&i.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),o=this.containerPointToLayerPoint(n),s=this.layerPointToLatLng(o);this.fire(e,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(i.bind(this._clearTileBg,this),500))},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on(\"load\",t,e),this},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded)throw new Error(\"Set map center and zoom first.\");return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),i.Map.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=\"function\"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initializers.push(i)},i.map=function(t,e){return new i.Map(t,e)},i.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=o*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-h))/c;return h=-a*Math.log(d),new i.Point(r,h)},unproject:function(t){for(var e,n=i.LatLng.RAD_TO_DEG,o=this.R_MAJOR,s=this.R_MINOR,a=t.x*n/o,r=s/o,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/s),u=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,_=c,m=.1;Math.abs(m)>d&&--_>0;)e=h*Math.sin(u),m=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=m;return new i.LatLng(u*n,a,!0)}},i.CRS.EPSG3395=i.extend({},i.CRS,{code:\"EPSG:3395\",projection:i.Projection.Mercator,transformation:function(){var t=i.Projection.Mercator,e=t.R_MAJOR,n=t.R_MINOR;return new i.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*n),.5)}()}),i.TileLayer=i.Class.extend({includes:i.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:\"abc\",errorTileUrl:\"\",attribution:\"\",zoomOffset:0,opacity:1,unloadInvisibleTiles:i.Browser.mobile,updateWhenIdle:i.Browser.mobile},initialize:function(t,e){e=i.setOptions(this,e),e.detectRetina&&i.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),this._url=t;var n=this.options.subdomains;\"string\"==typeof n&&(this.options.subdomains=n.split(\"\"))},onAdd:function(t){this._map=t,this._initContainer(),this._createTileProto(),t.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=i.Util.limitExecByInterval(this._update,150,this),t.on(\"move\",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._panes.tilePane.removeChild(this._container),t.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||t.off(\"move\",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==e&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.getElementsByClassName(\"leaflet-layer\"),a=-e(1/0,-1/0);for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){i.DomUtil.setOpacity(this._container,this.options.opacity);var t,e=this._tiles;if(i.Browser.webkit)for(t in e)e.hasOwnProperty(t)&&(e[t].style.webkitTransform+=\" translate(0,0)\")},_initContainer:function(){var t=this._map._panes.tilePane;(!this._container||t.empty)&&(this._container=i.DomUtil.create(\"div\",\"leaflet-layer\"),this._updateZIndex(),t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_resetCallback:function(t){this._reset(t.hard)},_reset:function(t){var e=this._tiles;for(var i in e)e.hasOwnProperty(i)&&this.fire(\"tileunload\",{tile:e[i]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),t&&this._container&&(this._container.innerHTML=\"\"),this._initContainer()},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=this.options.tileSize;if(!(e>this.options.maxZoom||e<this.options.minZoom)){var o=new i.Point(Math.floor(t.min.x/n),Math.floor(t.min.y/n)),s=new i.Point(Math.floor(t.max.x/n),Math.floor(t.max.y/n)),a=new i.Bounds(o,s);this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)}}},_addTilesFromCenterOut:function(t){var e,n,o,s=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)o=new i.Point(n,e),this._tileShouldBeLoaded(o)&&s.push(o);var r=s.length;if(0!==r){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var h=document.createDocumentFragment();for(this._tilesToLoad||this.fire(\"loading\"),this._tilesToLoad+=r,n=0;r>n;n++)this._addTile(s[n],h);this._container.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+\":\"+t.y in this._tiles)return!1;if(!this.options.continuousWorld){var e=this._getWrapTileNum();if(this.options.noWrap&&(t.x<0||t.x>=e)||t.y<0||t.y>=e)return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)this._tiles.hasOwnProperty(o)&&(e=o.split(\":\"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o))},_removeTile:function(t){var e=this._tiles[t];this.fire(\"tileunload\",{tile:e,url:e.src}),this.options.reuseTiles?(i.DomUtil.removeClass(e,\"leaflet-tile-loaded\"),this._unusedTiles.push(e)):e.parentNode===this._container&&this._container.removeChild(e),i.Browser.android||(e.src=i.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),o=this._getTile();i.DomUtil.setPosition(o,n,i.Browser.chrome||i.Browser.android23),this._tiles[t.x+\":\"+t.y]=o,this._loadTile(o,t),o.parentNode!==this._container&&e.appendChild(o)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this.options.tileSize;return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return this._adjustTilePoint(t),i.Util.template(this._url,i.extend({s:this._getSubdomain(t),z:this._getZoomForUrl(),x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1)\n},_getSubdomain:function(t){var e=(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=i.DomUtil.create(\"img\",\"leaflet-tile\");t.style.width=t.style.height=this.options.tileSize+\"px\",t.galleryimg=\"no\"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire(\"load\")},_tileOnLoad:function(){var t=this._layer;this.src!==i.Util.emptyImageUrl&&(i.DomUtil.addClass(this,\"leaflet-tile-loaded\"),t.fire(\"tileload\",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire(\"tileerror\",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),i.tileLayer=function(t,e){return new i.TileLayer(t,e)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:\"WMS\",request:\"GetMap\",version:\"1.1.1\",layers:\"\",styles:\"\",format:\"image/jpeg\",transparent:!1},initialize:function(t,e){this._url=t;var n=i.extend({},this.defaultWmsParams);n.width=n.height=e.detectRetina&&i.Browser.retina?2*this.options.tileSize:this.options.tileSize;for(var o in e)this.options.hasOwnProperty(o)||(n[o]=e[o]);this.wmsParams=n,i.setOptions(this,e)},onAdd:function(t){var e=parseFloat(this.wmsParams.version)>=1.3?\"crs\":\"srs\";this.wmsParams[e]=t.options.crs.code,i.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var n=this._map,o=n.options.crs,s=this.options.tileSize,a=t.multiplyBy(s),r=a.add(new i.Point(s,s)),h=o.project(n.unproject(a,e)),l=o.project(n.unproject(r,e)),u=[h.x,l.y,l.x,h.y].join(\",\"),c=i.Util.template(this._url,{s:this._getSubdomain(t)});return c+i.Util.getParamString(this.wmsParams)+\"&bbox=\"+u},setParams:function(t,e){return i.extend(this.wmsParams,t),e||this.redraw(),this}}),i.tileLayer.wms=function(t,e){return new i.TileLayer.WMS(t,e)},i.TileLayer.Canvas=i.TileLayer.extend({options:{async:!1},initialize:function(t){i.setOptions(this,t)},redraw:function(){var t=this._tiles;for(var e in t)t.hasOwnProperty(e)&&this._redrawTile(t[e])},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTileProto:function(){var t=this._canvasProto=i.DomUtil.create(\"canvas\",\"leaflet-tile\");t.width=t.height=this.options.tileSize},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),i.tileLayer.canvas=function(t){return new i.TileLayer.Canvas(t)},i.ImageOverlay=i.Class.extend({includes:i.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=i.latLngBounds(e),i.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on(\"viewreset\",this._reset,this),t.options.zoomAnimation&&i.Browser.any3d&&t.on(\"zoomanim\",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off(\"viewreset\",this._reset,this),t.options.zoomAnimation&&t.off(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=i.DomUtil.create(\"img\",\"leaflet-image-layer\"),this._map.options.zoomAnimation&&i.Browser.any3d?i.DomUtil.addClass(this._image,\"leaflet-zoom-animated\"):i.DomUtil.addClass(this._image,\"leaflet-zoom-hide\"),this._updateOpacity(),i.extend(this._image,{galleryimg:\"no\",onselectstart:i.Util.falseFn,onmousemove:i.Util.falseFn,onload:i.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,o=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=e.latLngToLayerPoint(a)._subtract(e.latLngToLayerPoint(s)),u=r._add(h._subtract(l)._divideBy(2));n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(u)+\" scale(\"+o+\") \"},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);i.DomUtil.setPosition(t,e),t.style.width=n.x+\"px\",t.style.height=n.y+\"px\"},_onImageLoad:function(){this.fire(\"load\")},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(t,e,n){return new i.ImageOverlay(t,e,n)},i.Icon=i.Class.extend({options:{className:\"\"},initialize:function(t){i.setOptions(this,t)},createIcon:function(){return this._createIcon(\"icon\")},createShadow:function(){return this._createIcon(\"shadow\")},_createIcon:function(t){var e=this._getIconUrl(t);if(!e){if(\"icon\"===t)throw new Error(\"iconUrl not set in Icon options (see the docs).\");return null}var i=this._createImg(e);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,o=this.options,s=i.point(o[e+\"Size\"]);n=\"shadow\"===e?i.point(o.shadowAnchor||o.iconAnchor):i.point(o.iconAnchor),!n&&s&&(n=s.divideBy(2,!0)),t.className=\"leaflet-marker-\"+e+\" \"+o.className,n&&(t.style.marginLeft=-n.x+\"px\",t.style.marginTop=-n.y+\"px\"),s&&(t.style.width=s.x+\"px\",t.style.height=s.y+\"px\")},_createImg:function(t){var e;return i.Browser.ie6?(e=document.createElement(\"div\"),e.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"'+t+'\")'):(e=document.createElement(\"img\"),e.src=t),e},_getIconUrl:function(t){return this.options[t+\"Url\"]}}),i.icon=function(t){return new i.Icon(t)},i.Icon.Default=i.Icon.extend({options:{iconSize:new i.Point(25,41),iconAnchor:new i.Point(12,41),popupAnchor:new i.Point(1,-34),shadowSize:new i.Point(41,41)},_getIconUrl:function(t){var e=t+\"Url\";if(this.options[e])return this.options[e];var n=i.Icon.Default.imagePath;if(!n)throw new Error(\"Couldn't autodetect L.Icon.Default.imagePath, set it manually.\");return n+\"/marker-\"+t+\".png\"}}),i.Icon.Default.imagePath=function(){var t,e,i,n,o=document.getElementsByTagName(\"script\"),s=/\\/?leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;for(t=0,e=o.length;e>t;t++)if(i=o[t].src,n=i.match(s))return i.split(s)[0]+\"/images\"}(),i.Marker=i.Class.extend({includes:i.Mixin.Events,options:{icon:new i.Icon.Default,title:\"\",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t)},onAdd:function(t){this._map=t,t.on(\"viewreset\",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._removeIcon(),this.fire(\"remove\"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=i.latLng(t),this.update(),this.fire(\"move\",{latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t,this.update()},setIcon:function(t){this._map&&this._removeIcon(),this.options.icon=t,this._map&&(this._initIcon(),this.update())},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,o=n?\"leaflet-zoom-animated\":\"leaflet-zoom-hide\",s=!1;this._icon||(this._icon=t.icon.createIcon(),t.title&&(this._icon.title=t.title),this._initInteraction(),s=this.options.opacity<1,i.DomUtil.addClass(this._icon,o),t.riseOnHover&&i.DomEvent.on(this._icon,\"mouseover\",this._bringToFront,this).on(this._icon,\"mouseout\",this._resetZIndex,this)),this._shadow||(this._shadow=t.icon.createShadow(),this._shadow&&(i.DomUtil.addClass(this._shadow,o),s=this.options.opacity<1)),s&&this._updateOpacity();var a=this._map._panes;a.markerPane.appendChild(this._icon),this._shadow&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var t=this._map._panes;this.options.riseOnHover&&i.DomEvent.off(this._icon,\"mouseover\",this._bringToFront).off(this._icon,\"mouseout\",this._resetZIndex),t.markerPane.removeChild(this._icon),this._shadow&&t.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(t){i.DomUtil.setPosition(this._icon,t),this._shadow&&i.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\"];i.DomUtil.addClass(t,\"leaflet-clickable\"),i.DomEvent.on(t,\"click\",this._onMouseClick,this);for(var n=0;n<e.length;n++)i.DomEvent.on(t,e[n],this._fireMouseEvent,this);i.Handler.MarkerDrag&&(this.dragging=new i.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&i.DomEvent.stopPropagation(t),e||this._map.dragging&&this._map.dragging.moved()||this.fire(t.type,{originalEvent:t})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t}),\"mousedown\"!==t.type&&i.DomEvent.stopPropagation(t)},setOpacity:function(t){this.options.opacity=t,this._map&&this._updateOpacity()},_updateOpacity:function(){i.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&i.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(t,e){return new i.Marker(t,e)},i.DivIcon=i.Icon.extend({options:{iconSize:new i.Point(12,12),className:\"leaflet-div-icon\"},createIcon:function(){var t=document.createElement(\"div\"),e=this.options;return e.html&&(t.innerHTML=e.html),e.bgPos&&(t.style.backgroundPosition=-e.bgPos.x+\"px \"+-e.bgPos.y+\"px\"),this._setIconStyles(t,\"icon\"),t},createShadow:function(){return null}}),i.divIcon=function(t){return new i.DivIcon(t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Popup=i.Class.extend({includes:i.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new i.Point(0,6),autoPanPadding:new i.Point(5,5),className:\"\"},initialize:function(t,e){i.setOptions(this,t),this._source=e},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&i.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(\"viewreset\",this._updatePosition,this),i.Browser.any3d&&t.on(\"zoomanim\",this._zoomAnimation,this),t.options.closePopupOnClick&&t.on(\"preclick\",this._close,this),this._update(),e&&i.DomUtil.setOpacity(this._container,1)},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),i.Util.falseFn(this._container.offsetWidth),t.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),t.options.fadeAnimation&&i.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(t){return this._latlng=i.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_close:function(){var t=this._map;t&&(t._popup=null,t.removeLayer(this).fire(\"popupclose\",{popup:this}))},_initLayout:function(){var t,e=\"leaflet-popup\",n=e+\" \"+this.options.className+\" leaflet-zoom-animated\",o=this._container=i.DomUtil.create(\"div\",n);this.options.closeButton&&(t=this._closeButton=i.DomUtil.create(\"a\",e+\"-close-button\",o),t.href=\"#close\",t.innerHTML=\"&#215;\",i.DomEvent.on(t,\"click\",this._onCloseButtonClick,this));var s=this._wrapper=i.DomUtil.create(\"div\",e+\"-content-wrapper\",o);i.DomEvent.disableClickPropagation(s),this._contentNode=i.DomUtil.create(\"div\",e+\"-content\",s),i.DomEvent.on(this._contentNode,\"mousewheel\",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create(\"div\",e+\"-tip-container\",o),this._tip=i.DomUtil.create(\"div\",e+\"-tip\",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility=\"hidden\",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=\"\",this._adjustPan())},_updateContent:function(){if(this._content){if(\"string\"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire(\"contentupdate\")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width=\"\",e.whiteSpace=\"nowrap\";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+\"px\",e.whiteSpace=\"\",e.height=\"\";var o=t.offsetHeight,s=this.options.maxHeight,a=\"leaflet-popup-scrolled\";s&&o>s?(e.height=s+\"px\",i.DomUtil.addClass(t,a)):i.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=i.Browser.any3d,n=this.options.offset;e&&i.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+\"px\",this._container.style.left=this._containerLeft+\"px\"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);i.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,o=new i.Point(this._containerLeft,-e-this._containerBottom);i.Browser.any3d&&o._add(i.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(o),a=this.options.autoPanPadding,r=t.getSize(),h=0,l=0;s.x<0&&(h=s.x-a.x),s.x+n>r.x&&(h=s.x+n-r.x+a.x),s.y<0&&(l=s.y-a.y),s.y+e>r.y&&(l=s.y+e-r.y+a.y),(h||l)&&t.panBy(new i.Point(h,l))}},_onCloseButtonClick:function(t){this._close(),i.DomEvent.stop(t)}}),i.popup=function(t,e){return new i.Popup(t,e)},i.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(t,e){var n=i.point(this.options.icon.options.popupAnchor)||new i.Point(0,0);return n=n.add(i.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=i.extend({offset:n},e),this._popup||this.on(\"click\",this.openPopup,this).on(\"remove\",this.closePopup,this).on(\"move\",this._movePopup,this),this._popup=new i.Popup(e,this).setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup).off(\"move\",this._movePopup)),this},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),i.Map.include({openPopup:function(t){return this.closePopup(),this._popup=t,this.addLayer(t).fire(\"popupopen\",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),i.LayerGroup=i.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=i.stamp(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._map&&this._map.removeLayer(t),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)this._layers.hasOwnProperty(e)&&(i=this._layers[e],i[t]&&i[t].apply(i,n));return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)this._layers.hasOwnProperty(i)&&t.call(e,this._layers[i])}}),i.layerGroup=function(t){return new i.LayerGroup(t)},i.FeatureGroup=i.LayerGroup.extend({includes:i.Mixin.Events,statics:{EVENTS:\"click dblclick mouseover mouseout mousemove contextmenu\"},addLayer:function(t){return this._layers[i.stamp(t)]?this:(t.on(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent),this.fire(\"layeradd\",{layer:t}))},removeLayer:function(t){return t.off(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke(\"unbindPopup\"),this.fire(\"layerremove\",{layer:t})},bindPopup:function(t){return this._popupContent=t,this.invoke(\"bindPopup\",t)},setStyle:function(t){return this.invoke(\"setStyle\",t)},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},getBounds:function(){var t=new i.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof i.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t.layer=t.target,t.target=this,this.fire(t.type,t)}}),i.featureGroup=function(t){return new i.FeatureGroup(t)},i.Path=i.Class.extend({includes:[i.Mixin.Events],statics:{CLIP_PADDING:i.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(t.innerWidth,t.innerHeight)-1)/2)):.5},options:{stroke:!0,color:\"#0033ff\",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0,layer:\"overlay\"},initialize:function(t){i.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(this.options.layer),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._pathRoot.appendChild(this._container),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._pathRoot.removeChild(this._container),this._map=null,i.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),this.fire(\"remove\"),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return i.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),i.Map.include({_pathLayer:function(t){return\"subtile\"===t?this._subtilePane:this._panes.overlayPane},_updatePathViewport:function(){var t=i.Path.CLIP_PADDING,e=this.getSize(),n=i.DomUtil.getPosition(this._mapPane),o=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=o.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new i.Bounds(o,s)}}),i.Path.SVG_NS=\"http://www.w3.org/2000/svg\",i.Browser.svg=!(!document.createElementNS||!document.createElementNS(i.Path.SVG_NS,\"svg\").createSVGRect),i.Path=i.Path.extend({statics:{SVG:i.Browser.svg},bringToFront:function(){var t=this._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return document.createElementNS(i.Path.SVG_NS,t)},_initElements:function(t){this._pathRoot=this._map._initPathRoot(t),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement(\"g\"),this._path=this._createElement(\"path\"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute(\"stroke-linejoin\",\"round\"),this._path.setAttribute(\"stroke-linecap\",\"round\")),this.options.fill&&this._path.setAttribute(\"fill-rule\",\"evenodd\"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute(\"stroke\",this.options.color),this._path.setAttribute(\"stroke-opacity\",this.options.opacity),this._path.setAttribute(\"stroke-width\",this.options.weight),this.options.dashArray?this._path.setAttribute(\"stroke-dasharray\",this.options.dashArray):this._path.removeAttribute(\"stroke-dasharray\")):this._path.setAttribute(\"stroke\",\"none\"),this.options.fill?(this._path.setAttribute(\"fill\",this.options.fillColor||this.options.color),this._path.setAttribute(\"fill-opacity\",this.options.fillOpacity)):this._path.setAttribute(\"fill\",\"none\")},_updatePath:function(){var t=this.getPathString();t||(t=\"M0 0\"),this._path.setAttribute(\"d\",t)},_initEvents:function(){if(this.options.clickable){(i.Browser.svg||!i.Browser.vml)&&this._path.setAttribute(\"class\",\"leaflet-clickable\"),i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);for(var t=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\",\"mousemove\",\"contextmenu\"],e=0;e<t.length;e++)i.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),o=e.containerPointToLayerPoint(n),s=e.layerPointToLatLng(o);this.fire(t.type,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t}),\"contextmenu\"===t.type&&i.DomEvent.preventDefault(t),\"mousemove\"!==t.type&&i.DomEvent.stopPropagation(t)}}}),i.Map.include({_initPathRoot:function(t){var e=this._pathLayer(t),n=\"_pathRoot\"+t,o=this[n];return o||(o=this[n]=i.Path.prototype._createElement(\"svg\"),e.appendChild(o),this.options.zoomAnimation&&i.Browser.any3d?(o.setAttribute(\"class\",\" leaflet-zoom-animated\"),this.on({zoomanim:function(t){this._animatePathZoom(t,n)},zoomend:function(){this._endPathZoom(n)}})):o.setAttribute(\"class\",\" leaflet-zoom-hide\"),this.on(\"moveend\",function(){this._updateSvgViewport(e,o)}),this._updateSvgViewport(e,o)),o},_animatePathZoom:function(t,e){var n=this[e],o=this.getZoomScale(t.zoom),s=this._getCenterOffset(t.center),a=s.multiplyBy(-o)._add(this._pathViewport.min);n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(a)+\" scale(\"+o+\") \",this[e+\"_pathZooming\"]=!0},_endPathZoom:function(t){this[t+\"_pathZooming\"]=!1},_updateSvgViewport:function(t,e){if(!this._pathZooming){this._updatePathViewport();var n=this._pathViewport,o=n.min,s=n.max,a=s.x-o.x,r=s.y-o.y;i.Browser.mobileWebkit&&t.removeChild(e),i.DomUtil.setPosition(e,o),e.setAttribute(\"width\",a),e.setAttribute(\"height\",r),e.setAttribute(\"viewBox\",[o.x,o.y,a,r].join(\" \")),i.Browser.mobileWebkit&&t.appendChild(e)}}}),i.Path.include({bindPopup:function(t,e){return(!this._popup||e)&&(this._popup=new i.Popup(e,this)),this._popup.setContent(t),this._popupHandlersAdded||(this.on(\"click\",this._openPopup,this).on(\"remove\",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),i.Browser.vml=!i.Browser.svg&&function(){try{var t=document.createElement(\"div\");t.innerHTML='<v:shape adj=\"1\"/>';var e=t.firstChild;return e.style.behavior=\"url(#default#VML)\",e&&\"object\"==typeof e.adj}catch(i){return!1}}(),i.Path=i.Browser.svg||!i.Browser.vml?i.Path:i.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return document.namespaces.add(\"lvml\",\"urn:schemas-microsoft-com:vml\"),function(t){return document.createElement(\"<lvml:\"+t+' class=\"lvml\">')}}catch(t){return function(t){return document.createElement(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">')}}}(),_initPath:function(){var t=this._container=this._createElement(\"shape\");i.DomUtil.addClass(t,\"leaflet-vml-shape\"),this.options.clickable&&i.DomUtil.addClass(t,\"leaflet-clickable\"),t.coordsize=\"1 1\",this._path=this._createElement(\"path\"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement(\"stroke\"),t.endcap=\"round\",n.appendChild(t)),t.weight=i.weight+\"px\",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?i.dashArray.replace(/ *, */g,\" \"):\"\"):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement(\"fill\"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display=\"none\",this._path.v=this.getPathString()+\" \",t.display=\"\"}}),i.Map.include(i.Browser.svg||!i.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=document.createElement(\"div\");t.className=\"leaflet-vml-container\",this._panes.subtilePane.appendChild(this._pathRoot),this.on(\"moveend\",this._updatePathViewport),this._updatePathViewport()}}}),i.Browser.canvas=function(){return!!document.createElement(\"canvas\").getContext}(),i.Path=i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?i.Path:i.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return i.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off(\"viewreset\",this.projectLatlngs,this).off(\"moveend\",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!i.Path._updateRequest&&(i.Path._updateRequest=i.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){i.Path._updateRequest=null,this.fire(\"moveend\")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,n,o,s,a;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,o=this._parts[t].length;o>e;e++)s=this._parts[t][e],a=(0===e?\"move\":\"line\")+\"To\",this._ctx[a](s.x,s.y);this instanceof i.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(e.fillOpacity<1&&(t.globalAlpha=e.fillOpacity),t.fill()),e.stroke&&(e.opacity<1&&(t.globalAlpha=e.opacity),t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&this._map.on(\"click\",this._onClick,this)},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire(\"click\",t)}}),i.Map.include(i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=document.createElement(\"canvas\"),e.style.position=\"absolute\",t=this._canvasCtx=e.getContext(\"2d\"),t.lineCap=\"round\",t.lineJoin=\"round\",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className=\"leaflet-zoom-animated\",this.on(\"zoomanim\",this._animatePathZoom),this.on(\"zoomend\",this._endPathZoom)),this.on(\"moveend\",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),o=this._pathRoot;i.DomUtil.setPosition(o,e),o.width=n.x,o.height=n.y,o.getContext(\"2d\").translate(-e.x,-e.y)}}}),i.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,i){var n=t.length,o=typeof Uint8Array!=e+\"\"?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,i,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=(i.min,i.max,n?this._lastCode:this._getBitCode(t,i)),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,n,o){var s=e.x-t.x,a=e.y-t.y,r=o.min,h=o.max;return 8&n?new i.Point(t.x+s*(h.y-t.y)/a,h.y):4&n?new i.Point(t.x+s*(r.y-t.y)/a,r.y):2&n?new i.Point(h.x,t.y+a*(h.x-t.x)/s):1&n?new i.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,n,o){var s,a=e.x,r=e.y,h=n.x-a,l=n.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=n.x,r=n.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,o?h*h+l*l:new i.Point(a,r)}},i.Polyline=i.Path.extend({initialize:function(t,e){i.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t),i.Handler.PolyEdit&&(this.editing=new i.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i=\"\";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(i.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,o=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],n=l[u];var d=i.LineUtil._sqClosestPointOnSegment(t,e,n,!0);o>d&&(o=d,a=i.LineUtil._sqClosestPointOnSegment(t,e,n))}return a&&(a.distance=Math.sqrt(o)),a},getBounds:function(){var t,e,n=new i.LatLngBounds,o=this.getLatLngs();for(t=0,e=o.length;e>t;t++)n.extend(o[t]);return n},onAdd:function(t){i.Path.prototype.onAdd.call(this,t),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(t){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),i.Path.prototype.onRemove.call(this,t)},_convertLatLngs:function(t){var e,n;for(e=0,n=t.length;n>e;e++){if(t[e]instanceof Array&&\"number\"!=typeof t[e][0])return;t[e]=i.latLng(t[e])}return t},_initEvents:function(){i.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=i.Path.VML,o=0,s=t.length,a=\"\";s>o;o++)e=t[o],n&&e._round(),a+=(o?\"L\":\"M\")+e.x+\" \"+e.y;\nreturn a},_clipPoints:function(){var t,e,n,o=this._originalPoints,s=o.length;if(this.options.noClip)return this._parts=[o],void 0;this._parts=[];var a=this._parts,r=this._map._pathViewport,h=i.LineUtil;for(t=0,e=0;s-1>t;t++)n=h.clipSegment(o[t],o[t+1],r,t),n&&(a[e]=a[e]||[],a[e].push(n[0]),(n[1]!==o[t+1]||t===s-2)&&(a[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=i.LineUtil,n=0,o=t.length;o>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),i.Path.prototype._updatePath.call(this))}}),i.polyline=function(t,e){return new i.Polyline(t,e)},i.PolyUtil={},i.PolyUtil.clipPolygon=function(t,e){var n,o,s,a,r,h,l,u,c,d=(e.min,e.max,[1,4,2,8]),_=i.LineUtil;for(o=0,l=t.length;l>o;o++)t[o]._code=_._getBitCode(t[o],e);for(a=0;4>a;a++){for(u=d[a],n=[],o=0,l=t.length,s=l-1;l>o;s=o++)r=t[o],h=t[s],r._code&u?h._code&u||(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)):(h._code&u&&(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)),n.push(r));t=n}return t},i.Polygon=i.Polyline.extend({options:{fill:!0},initialize:function(t,e){i.Polyline.prototype.initialize.call(this,t,e),t&&t[0]instanceof Array&&\"number\"!=typeof t[0][0]&&(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1))},projectLatlngs:function(){if(i.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,o;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,o=this._holes[t].length;o>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,o=this._parts.length;o>n;n++){var s=i.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=i.Polyline.prototype._getPathPartStr.call(this,t);return e+(i.Browser.svg?\"z\":\"x\")}}),i.polygon=function(t,e){return new i.Polygon(t,e)},function(){function t(t){return i.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this}})}i.MultiPolyline=t(i.Polyline),i.MultiPolygon=t(i.Polygon),i.multiPolyline=function(t,e){return new i.MultiPolyline(t,e)},i.multiPolygon=function(t,e){return new i.MultiPolygon(t,e)}}(),i.Rectangle=i.Polygon.extend({initialize:function(t,e){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=i.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),i.rectangle=function(t,e){return new i.Rectangle(t,e)},i.Circle=i.Path.extend({initialize:function(t,e,n){i.Path.prototype.initialize.call(this,n),this._latlng=i.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=i.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=new i.LatLng(this._latlng.lat,this._latlng.lng-t,!0),n=this._map.latLngToLayerPoint(e);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-n.x),1)},getBounds:function(){var t=this._getLngRadius(),e=360*(this._mRadius/40075017),n=this._latlng,o=new i.LatLng(n.lat-e,n.lng-t),s=new i.LatLng(n.lat+e,n.lng+t);return new i.LatLngBounds(o,s)},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?\"\":i.Browser.svg?\"M\"+t.x+\",\"+(t.y-e)+\"A\"+e+\",\"+e+\",0,1,1,\"+(t.x-.1)+\",\"+(t.y-e)+\" z\":(t._round(),e=Math.round(e),\"AL \"+t.x+\",\"+t.y+\" \"+e+\",\"+e+\" 0,\"+23592600)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(i.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),i.circle=function(t,e,n){return new i.Circle(t,e,n)},i.CircleMarker=i.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){i.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(t){return this._radius=t,this.redraw()}}),i.circleMarker=function(t,e){return new i.CircleMarker(t,e)},i.Polyline.include(i.Path.CANVAS?{_containsPoint:function(t,e){var n,o,s,a,r,h,l,u=this.options.weight/2;for(i.Browser.touch&&(u+=10),n=0,a=this._parts.length;a>n;n++)for(l=this._parts[n],o=0,r=l.length,s=r-1;r>o;s=o++)if((e||0!==o)&&(h=i.LineUtil.pointToSegmentDistance(t,l[s],l[o]),u>=h))return!0;return!1}}:{}),i.Polygon.include(i.Path.CANVAS?{_containsPoint:function(t){var e,n,o,s,a,r,h,l,u=!1;if(i.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)n=e[a],o=e[r],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(u=!u);return u}}:{}),i.Circle.include(i.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),i.GeoJSON=i.FeatureGroup.extend({initialize:function(t,e){i.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o=t instanceof Array?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=i.GeoJSON.geometryToLayer(t,s.pointToLayer);return a.feature=t,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&this._setLayerStyle(t,e)},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){\"function\"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),i.extend(i.GeoJSON,{geometryToLayer:function(t,e){var n,o,s,a,r,h=\"Feature\"===t.type?t.geometry:t,l=h.coordinates,u=[];switch(h.type){case\"Point\":return n=this.coordsToLatLng(l),e?e(t,n):new i.Marker(n);case\"MultiPoint\":for(s=0,a=l.length;a>s;s++)n=this.coordsToLatLng(l[s]),r=e?e(t,n):new i.Marker(n),u.push(r);return new i.FeatureGroup(u);case\"LineString\":return o=this.coordsToLatLngs(l),new i.Polyline(o);case\"Polygon\":return o=this.coordsToLatLngs(l,1),new i.Polygon(o);case\"MultiLineString\":return o=this.coordsToLatLngs(l,1),new i.MultiPolyline(o);case\"MultiPolygon\":return o=this.coordsToLatLngs(l,2),new i.MultiPolygon(o);case\"GeometryCollection\":for(s=0,a=h.geometries.length;a>s;s++)r=this.geometryToLayer(h.geometries[s],e),u.push(r);return new i.FeatureGroup(u);default:throw new Error(\"Invalid GeoJSON object.\")}},coordsToLatLng:function(t,e){var n=parseFloat(t[e?0:1]),o=parseFloat(t[e?1:0]);return new i.LatLng(n,o,!0)},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):this.coordsToLatLng(t[o],i),a.push(n);return a}}),i.geoJson=function(t,e){return new i.GeoJSON(t,e)},i.DomEvent={addListener:function(t,e,n,o){var s,a,r,h=i.stamp(n),l=\"_leaflet_\"+e+h;return t[l]?this:(s=function(e){return n.call(o||t,e||i.DomEvent._getEvent())},i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.addMsTouchListener(t,e,s,h):i.Browser.touch&&\"dblclick\"===e&&this.addDoubleTapListener?this.addDoubleTapListener(t,s,h):(\"addEventListener\"in t?\"mousewheel\"===e?(t.addEventListener(\"DOMMouseScroll\",s,!1),t.addEventListener(e,s,!1)):\"mouseenter\"===e||\"mouseleave\"===e?(a=s,r=\"mouseenter\"===e?\"mouseover\":\"mouseout\",s=function(e){return i.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):t.addEventListener(e,s,!1):\"attachEvent\"in t&&t.attachEvent(\"on\"+e,s),t[l]=s,this))},removeListener:function(t,e,n){var o=i.stamp(n),s=\"_leaflet_\"+e+o,a=t[s];if(a)return i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.removeMsTouchListener(t,e,o):i.Browser.touch&&\"dblclick\"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):\"removeEventListener\"in t?\"mousewheel\"===e?(t.removeEventListener(\"DOMMouseScroll\",a,!1),t.removeEventListener(e,a,!1)):\"mouseenter\"===e||\"mouseleave\"===e?t.removeEventListener(\"mouseenter\"===e?\"mouseover\":\"mouseout\",a,!1):t.removeEventListener(e,a,!1):\"detachEvent\"in t&&t.detachEvent(\"on\"+e,a),t[s]=null,this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){var e=i.DomEvent.stopPropagation;return i.DomEvent.addListener(t,i.Draggable.START,e).addListener(t,\"click\",e).addListener(t,\"dblclick\",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return i.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){var n=document.body,o=document.documentElement,s=t.pageX?t.pageX:t.clientX+n.scrollLeft+o.scrollLeft,a=t.pageY?t.pageY:t.clientY+n.scrollTop+o.scrollTop,r=new i.Point(s,a);return e?r._subtract(i.DomUtil.getViewportOffset(e)):r},getWheelDelta:function(t){return t.detail<0||t.wheelDelta>0?1:-1},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e}},i.DomEvent.on=i.DomEvent.addListener,i.DomEvent.off=i.DomEvent.removeListener,i.Draggable=i.Class.extend({includes:i.Mixin.Events,statics:{START:i.Browser.touch?\"touchstart\":\"mousedown\",END:i.Browser.touch?\"touchend\":\"mouseup\",MOVE:i.Browser.touch?\"touchmove\":\"mousemove\",TAP_TOLERANCE:15},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._longPress=n&&!i.Browser.msTouch},enable:function(){this._enabled||(i.DomEvent.on(this._dragStartTarget,i.Draggable.START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(i.DomEvent.off(this._dragStartTarget,i.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(!i.Browser.touch&&t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t),i.Draggable._disabled))){if(this._simulateClick=!0,t.touches&&t.touches.length>1)return this._simulateClick=!1,clearTimeout(this._longPressTimeout),void 0;var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=e.target;i.Browser.touch&&\"a\"===n.tagName.toLowerCase()&&i.DomUtil.addClass(n,\"leaflet-active\"),this._moved=!1,this._moving||(this._startPoint=new i.Point(e.clientX,e.clientY),this._startPos=this._newPos=i.DomUtil.getPosition(this._element),t.touches&&1===t.touches.length&&i.Browser.touch&&this._longPress&&(this._longPressTimeout=setTimeout(i.bind(function(){var t=this._newPos&&this._newPos.distanceTo(this._startPos)||0;t<i.Draggable.TAP_TOLERANCE&&(this._simulateClick=!1,this._onUp(),this._simulateEvent(\"contextmenu\",e))},this),1e3)),i.DomEvent.on(document,i.Draggable.MOVE,this._onMove,this),i.DomEvent.on(document,i.Draggable.END,this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new i.Point(e.clientX,e.clientY),o=n.subtract(this._startPoint);(o.x||o.y)&&(i.DomEvent.preventDefault(t),this._moved||(this.fire(\"dragstart\"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(o),i.Browser.touch||(i.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(o),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire(\"predrag\"),i.DomUtil.setPosition(this._element,this._newPos),this.fire(\"drag\")},_onUp:function(t){var e;if(clearTimeout(this._longPressTimeout),this._simulateClick&&t.changedTouches){var n=t.changedTouches[0],o=n.target,s=this._newPos&&this._newPos.distanceTo(this._startPos)||0;\"a\"===o.tagName.toLowerCase()&&i.DomUtil.removeClass(o,\"leaflet-active\"),s<i.Draggable.TAP_TOLERANCE&&(e=n)}i.Browser.touch||(i.DomUtil.enableTextSelection(),this._restoreCursor()),i.DomEvent.off(document,i.Draggable.MOVE,this._onMove),i.DomEvent.off(document,i.Draggable.END,this._onUp),this._moved&&(i.Util.cancelAnimFrame(this._animRequest),this.fire(\"dragend\")),this._moving=!1,e&&(this._moved=!1,this._simulateEvent(\"click\",e))},_setMovingCursor:function(){i.DomUtil.addClass(document.body,\"leaflet-dragging\")},_restoreCursor:function(){i.DomUtil.removeClass(document.body,\"leaflet-dragging\")},_simulateEvent:function(e,i){var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)}}),i.Handler=i.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:i.Browser.touch?32:18,easeLinearity:.25,longPress:!0,worldCopyJump:!0}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new i.Draggable(t._mapPane,t._container,t.options.longPress),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on(\"predrag\",this._onPreDrag,this),t.on(\"viewreset\",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire(\"movestart\").fire(\"dragstart\"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire(\"move\").fire(\"drag\")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint(new i.LatLng(0,0));this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project(new i.LatLng(0,180)).x},_onPreDrag:function(){var t=(this._map,this._worldWidth),e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(){var t=this._map,e=t.options,n=+new Date-this._lastTime,o=!e.inertia||n>e.inertiaThreshold||!this._positions[0];if(o)t.fire(\"moveend\");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+n-this._times[0])/1e3,r=s.multiplyBy(e.easeLinearity/a),h=r.distanceTo(new i.Point(0,0)),l=Math.min(e.inertiaMaxSpeed,h),u=r.multiplyBy(l/h),c=l/(e.inertiaDeceleration*e.easeLinearity),d=u.multiplyBy(-c/2).round();i.Util.requestAnimFrame(function(){t.panBy(d,c,e.easeLinearity)})}t.fire(\"dragend\"),e.maxBounds&&i.Util.requestAnimFrame(this._panInsideMaxBounds,t,!0,t._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),i.Map.addInitHook(\"addHandler\",\"dragging\",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on(\"dblclick\",this._onDoubleClick)},removeHooks:function(){this._map.off(\"dblclick\",this._onDoubleClick)},_onDoubleClick:function(t){this.setView(t.latlng,this._zoom+1)}}),i.Map.addInitHook(\"addHandler\",\"doubleClickZoom\",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!i.Browser.touch||i.Browser.msTouch}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"mousewheel\",this._onWheelScroll,this),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,\"mousewheel\",this._onWheelScroll)},_onWheelScroll:function(t){var e=i.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),n),i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=Math.round(this._delta),i=t.getZoom();if(e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e){var n=i+e,o=this._getCenterForScrollWheelZoom(n);t.setView(o,n)}},_getCenterForScrollWheelZoom:function(t){var e=this._map,i=e.getZoomScale(t),n=e.getSize()._divideBy(2),o=this._lastMousePos._subtract(n)._multiplyBy(1-1/i),s=e._getTopLeftPoint()._add(n)._add(o);return e.unproject(s)}}),i.Map.addInitHook(\"addHandler\",\"scrollWheelZoom\",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msTouch?\"MSPointerDown\":\"touchstart\",_touchend:i.Browser.msTouch?\"MSPointerUp\":\"touchend\",addDoubleTapListener:function(t,e,n){function o(t){var e;if(i.Browser.msTouch?(_.push(t.pointerId),e=_.length):e=t.touches.length,!(e>1)){var n=Date.now(),o=n-(a||n);r=t.touches?t.touches[0]:t,h=o>0&&l>=o,a=n}}function s(t){if(i.Browser.msTouch){var n=_.indexOf(t.pointerId);if(-1===n)return;_.splice(n,1)}if(h){if(i.Browser.msTouch){var o,s={};for(var l in r)o=r[l],s[l]=\"function\"==typeof o?o.bind(r):o;r=s}r.type=\"dblclick\",e(r),a=null}}var a,r,h=!1,l=250,u=\"_leaflet_\",c=this._touchstart,d=this._touchend,_=[];t[u+c+n]=o,t[u+d+n]=s;var m=i.Browser.msTouch?document.documentElement:t;return t.addEventListener(c,o,!1),m.addEventListener(d,s,!1),i.Browser.msTouch&&m.addEventListener(\"MSPointerCancel\",s,!1),this},removeDoubleTapListener:function(t,e){var n=\"_leaflet_\";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(i.Browser.msTouch?document.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),i.Browser.msTouch&&document.documentElement.removeEventListener(\"MSPointerCancel\",t[n+this._touchend+e],!1),this}}),i.extend(i.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(t,e,i,n){switch(e){case\"touchstart\":return this.addMsTouchListenerStart(t,e,i,n);case\"touchend\":return this.addMsTouchListenerEnd(t,e,i,n);case\"touchmove\":return this.addMsTouchListenerMove(t,e,i,n);default:throw\"Unknown touch event type\"}},addMsTouchListenerStart:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[o+\"touchstart\"+n]=a,t.addEventListener(\"MSPointerDown\",a,!1),!this._msDocumentListener){var r=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};document.documentElement.addEventListener(\"MSPointerUp\",r,!1),document.documentElement.addEventListener(\"MSPointerCancel\",r,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s=\"_leaflet_\",a=this._msTouches;return t[s+\"touchmove\"+n]=o,t.addEventListener(\"MSPointerMove\",o,!1),this},addMsTouchListenerEnd:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+\"touchend\"+n]=a,t.addEventListener(\"MSPointerUp\",a,!1),t.addEventListener(\"MSPointerCancel\",a,!1),this},removeMsTouchListener:function(t,e,i){var n=\"_leaflet_\",o=t[n+e+i];switch(e){case\"touchstart\":t.removeEventListener(\"MSPointerDown\",o,!1);break;case\"touchmove\":t.removeEventListener(\"MSPointerMove\",o,!1);break;case\"touchend\":t.removeEventListener(\"MSPointerUp\",o,!1),t.removeEventListener(\"MSPointerCancel\",o,!1)}return this}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"touchstart\",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,\"touchstart\",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=n.add(o)._divideBy(2),this._startDist=n.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),i.DomEvent.on(document,\"touchmove\",this._onTouchMove,this).on(document,\"touchend\",this._onTouchEnd,this),i.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length){var e=this._map,n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(o)/this._startDist,this._delta=n._add(o)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(i.DomUtil.addClass(e._mapPane,\"leaflet-zoom-anim leaflet-touching\"),e.fire(\"movestart\").fire(\"zoomstart\")._prepareTileBg(),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),i.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e);t.fire(\"zoomanim\",{center:n,zoom:t.getScaleZoom(this._scale)}),t._tileBg.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(this._delta)+\" \"+i.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(){if(this._moved&&this._zooming){var t=this._map;this._zooming=!1,i.DomUtil.removeClass(t._mapPane,\"leaflet-touching\"),i.DomEvent.off(document,\"touchmove\",this._onTouchMove).off(document,\"touchend\",this._onTouchEnd);var e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),r=t._limitZoom(o+a);t.fire(\"zoomanim\",{center:n,zoom:r}),t._runAnimation(n,r,t.getZoomScale(r)/this._scale,e,!0)}},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),i.Map.addInitHook(\"addHandler\",\"touchZoom\",i.Map.TouchZoom),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){i.DomEvent.on(this._container,\"mousedown\",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,\"mousedown\",this._onMouseDown)},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(i.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=i.DomUtil.create(\"div\",\"leaflet-zoom-box\",this._pane),i.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor=\"crosshair\",i.DomEvent.on(document,\"mousemove\",this._onMouseMove,this).on(document,\"mouseup\",this._onMouseUp,this).preventDefault(t),this._map.fire(\"boxzoomstart\"),void 0)},_onMouseMove:function(t){var e=this._startLayerPoint,n=this._box,o=this._map.mouseEventToLayerPoint(t),s=o.subtract(e),a=new i.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));i.DomUtil.setPosition(n,a),n.style.width=Math.max(0,Math.abs(s.x)-4)+\"px\",n.style.height=Math.max(0,Math.abs(s.y)-4)+\"px\"},_onMouseUp:function(t){this._pane.removeChild(this._box),this._container.style.cursor=\"\",i.DomUtil.enableTextSelection(),i.DomEvent.off(document,\"mousemove\",this._onMouseMove).off(document,\"mouseup\",this._onMouseUp);var e=this._map,n=e.mouseEventToLayerPoint(t),o=new i.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(o),e.fire(\"boxzoomend\",{boxZoomBounds:o})}}),i.Map.addInitHook(\"addHandler\",\"boxZoom\",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex=\"0\"),i.DomEvent.addListener(t,\"focus\",this._onFocus,this).addListener(t,\"blur\",this._onBlur,this).addListener(t,\"mousedown\",this._onMouseDown,this),this._map.on(\"focus\",this._addHooks,this).on(\"blur\",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;i.DomEvent.removeListener(t,\"focus\",this._onFocus,this).removeListener(t,\"blur\",this._onBlur,this).removeListener(t,\"mousedown\",this._onMouseDown,this),this._map.off(\"focus\",this._addHooks,this).off(\"blur\",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire(\"focus\")},_onBlur:function(){this._focused=!1,this._map.fire(\"blur\")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){i.DomEvent.addListener(document,\"keydown\",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.removeListener(document,\"keydown\",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode;if(this._panKeys.hasOwnProperty(e))this._map.panBy(this._panKeys[e]);else{if(!this._zoomKeys.hasOwnProperty(e))return;this._map.setZoom(this._map.getZoom()+this._zoomKeys[e])}i.DomEvent.stop(t)}}),i.Map.addInitHook(\"addHandler\",\"keyboard\",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(t,t).on(\"dragstart\",this._onDragStart,this).on(\"drag\",this._onDrag,this).on(\"dragend\",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire(\"movestart\").fire(\"dragstart\")},_onDrag:function(){var t=this._marker,e=t._shadow,n=i.DomUtil.getPosition(t._icon),o=t._map.layerPointToLatLng(n);e&&i.DomUtil.setPosition(e,n),t._latlng=o,t.fire(\"move\",{latlng:o}).fire(\"drag\")},_onDragEnd:function(){this._marker.fire(\"moveend\").fire(\"dragend\")}}),i.Handler.PolyEdit=i.Handler.extend({options:{icon:new i.DivIcon({iconSize:new i.Point(8,8),className:\"leaflet-div-icon leaflet-editing-icon\"})},initialize:function(t,e){this._poly=t,i.setOptions(this,e)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new i.LayerGroup),this._markers=[];var t,e,n,o,s=this._poly._latlngs;for(t=0,n=s.length;n>t;t++)o=this._createMarker(s[t],t),o.on(\"click\",this._onMarkerClick,this),this._markers.push(o);var a,r;for(t=0,e=n-1;n>t;e=t++)(0!==t||i.Polygon&&this._poly instanceof i.Polygon)&&(a=this._markers[e],r=this._markers[t],this._createMiddleMarker(a,r),this._updatePrevNext(a,r))},_createMarker:function(t,e){var n=new i.Marker(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on(\"drag\",this._onMarkerDrag,this),n.on(\"dragend\",this._fireEdit,this),this._markerGroup.addLayer(n),n},_fireEdit:function(){this._poly.fire(\"edit\")},_onMarkerDrag:function(t){var e=t.target;i.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){if(!(this._poly._latlngs.length<3)){var e=t.target,i=e._index;this._markerGroup.removeLayer(e),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._updatePrevNext(e._prev,e._next),e._middleLeft&&this._markerGroup.removeLayer(e._middleLeft),e._middleRight&&this._markerGroup.removeLayer(e._middleRight),e._prev&&e._next?this._createMiddleMarker(e._prev,e._next):e._prev?e._next||(e._prev._middleRight=null):e._next._middleLeft=null,this._poly.fire(\"edit\")}},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},_createMiddleMarker:function(t,e){var i,n,o,s=this._getMiddleLatLng(t,e),a=this._createMarker(s);a.setOpacity(.6),t._middleRight=e._middleLeft=a,n=function(){var n=e._index;a._index=n,a.off(\"click\",i).on(\"click\",this._onMarkerClick,this),s.lat=a.getLatLng().lat,s.lng=a.getLatLng().lng,this._poly.spliceLatLngs(n,0,s),this._markers.splice(n,0,a),a.setOpacity(1),this._updateIndexes(n,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e)},o=function(){a.off(\"dragstart\",n,this),a.off(\"dragend\",o,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},i=function(){n.call(this),o.call(this),this._poly.fire(\"edit\")},a.on(\"click\",i,this).on(\"dragstart\",n,this).on(\"dragend\",o,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.latLngToLayerPoint(t.getLatLng()),o=i.latLngToLayerPoint(e.getLatLng());return i.layerPointToLatLng(n._add(o)._divideBy(2))}}),i.Control=i.Class.extend({options:{position:\"topright\"},initialize:function(t){i.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return i.DomUtil.addClass(e,\"leaflet-control\"),-1!==n.indexOf(\"bottom\")?o.insertBefore(e,o.firstChild):o.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),i.control=function(t){return new i.Control(t)},i.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=n+t+\" \"+n+s;e[t+s]=i.DomUtil.create(\"div\",a,o)}var e=this._controlCorners={},n=\"leaflet-\",o=this._controlContainer=i.DomUtil.create(\"div\",n+\"control-container\",this._container);t(\"top\",\"left\"),t(\"top\",\"right\"),t(\"bottom\",\"left\"),t(\"bottom\",\"right\")}}),i.Control.Zoom=i.Control.extend({options:{position:\"topleft\"},onAdd:function(t){var e=\"leaflet-control-zoom\",n=i.DomUtil.create(\"div\",e);return this._map=t,this._createButton(\"Zoom in\",e+\"-in\",n,this._zoomIn,this),this._createButton(\"Zoom out\",e+\"-out\",n,this._zoomOut,this),n},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,o,s){var a=i.DomUtil.create(\"a\",e,n);\nreturn a.href=\"#\",a.title=t,i.DomEvent.on(a,\"click\",i.DomEvent.stopPropagation).on(a,\"mousedown\",i.DomEvent.stopPropagation).on(a,\"dblclick\",i.DomEvent.stopPropagation).on(a,\"click\",i.DomEvent.preventDefault).on(a,\"click\",o,s),a}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(t){return new i.Control.Zoom(t)},i.Control.Attribution=i.Control.extend({options:{position:\"bottomright\",prefix:'Powered by <a href=\"http://leafletjs.com\">Leaflet</a>'},initialize:function(t){i.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=i.DomUtil.create(\"div\",\"leaflet-control-attribution\"),i.DomEvent.disableClickPropagation(this._container),t.on(\"layeradd\",this._onLayerAdd,this).on(\"layerremove\",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off(\"layeradd\",this._onLayerAdd).off(\"layerremove\",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]--,this._update(),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(\", \")),this._container.innerHTML=i.join(\" &#8212; \")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new i.Control.Attribution).addTo(this))}),i.control.attribution=function(t){return new i.Control.Attribution(t)},i.Control.Scale=i.Control.extend({options:{position:\"bottomleft\",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e=\"leaflet-control-scale\",n=i.DomUtil.create(\"div\",e),o=this.options;return this._addScales(o,e,n),t.on(o.updateWhenIdle?\"moveend\":\"move\",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?\"moveend\":\"move\",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=i.DomUtil.create(\"div\",e+\"-line\",n)),t.imperial&&(this._iScale=i.DomUtil.create(\"div\",e+\"-line\",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+\"px\",this._mScale.innerHTML=1e3>e?e+\" m\":e/1e3+\" km\"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+\"px\",s.innerHTML=i+\" mi\"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+\"px\",s.innerHTML=n+\" ft\")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+\"\").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),i.control.scale=function(t){return new i.Control.Scale(t)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:\"topright\",autoZIndex:!0},initialize:function(t,e,n){i.setOptions(this,n),this._layers={},this._lastZIndex=0;for(var o in t)t.hasOwnProperty(o)&&this._addLayer(t[o],o);for(o in e)e.hasOwnProperty(o)&&this._addLayer(e[o],o,!0)},onAdd:function(){return this._initLayout(),this._update(),this._container},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t=\"leaflet-control-layers\",e=this._container=i.DomUtil.create(\"div\",t);i.Browser.touch?i.DomEvent.on(e,\"click\",i.DomEvent.stopPropagation):i.DomEvent.disableClickPropagation(e);var n=this._form=i.DomUtil.create(\"form\",t+\"-list\");if(this.options.collapsed){i.DomEvent.on(e,\"mouseover\",this._expand,this).on(e,\"mouseout\",this._collapse,this);var o=this._layersLink=i.DomUtil.create(\"a\",t+\"-toggle\",e);o.href=\"#\",o.title=\"Layers\",i.Browser.touch?i.DomEvent.on(o,\"click\",i.DomEvent.stopPropagation).on(o,\"click\",i.DomEvent.preventDefault).on(o,\"click\",this._expand,this):i.DomEvent.on(o,\"focus\",this._expand,this),this._map.on(\"movestart\",this._collapse,this)}else this._expand();this._baseLayersList=i.DomUtil.create(\"div\",t+\"-base\",n),this._separator=i.DomUtil.create(\"div\",t+\"-separator\",n),this._overlaysList=i.DomUtil.create(\"div\",t+\"-overlays\",n),e.appendChild(n)},_addLayer:function(t,e,n){var o=i.stamp(t);this._layers[o]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=\"\",this._overlaysList.innerHTML=\"\";var t=!1,e=!1;for(var i in this._layers)if(this._layers.hasOwnProperty(i)){var n=this._layers[i];this._addItem(n),e=e||n.overlay,t=t||!n.overlay}this._separator.style.display=e&&t?\"\":\"none\"}},_createRadioElement:function(t,e){var i='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'+t+'\"';e&&(i+=' checked=\"checked\"'),i+=\"/>\";var n=document.createElement(\"div\");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,n=document.createElement(\"label\"),o=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement(\"input\"),e.type=\"checkbox\",e.className=\"leaflet-control-layers-selector\",e.defaultChecked=o):e=this._createRadioElement(\"leaflet-base-layers\",o),e.layerId=i.stamp(t.layer),i.DomEvent.on(e,\"click\",this._onInputClick,this);var s=document.createElement(\"span\");s.innerHTML=\" \"+t.name,n.appendChild(e),n.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(n)},_onInputClick:function(){var t,e,i,n,o=this._form.getElementsByTagName(\"input\"),s=o.length;for(t=0;s>t;t++)e=o[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?(this._map.addLayer(i.layer),i.overlay||(n=i.layer)):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);n&&this._map.fire(\"baselayerchange\",{layer:n})},_expand:function(){i.DomUtil.addClass(this._container,\"leaflet-control-layers-expanded\")},_collapse:function(){this._container.className=this._container.className.replace(\" leaflet-control-layers-expanded\",\"\")}}),i.control.layers=function(t,e,n){return new i.Control.Layers(t,e,n)},i.PosAnimation=i.Class.extend({includes:i.Mixin.Events,run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this.fire(\"start\"),t.style[i.DomUtil.TRANSITION]=\"all \"+(n||.25)+\"s cubic-bezier(0,0,\"+(o||.5)+\",1)\",i.DomEvent.on(t,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),i.DomUtil.setPosition(t,e),i.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(i.bind(this.fire,this,\"step\"),50)},stop:function(){this._inProgress&&(i.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),i.Util.falseFn(this._el.offsetWidth))},_transformRe:/(-?[\\d\\.]+), (-?[\\d\\.]+)\\)/,_getPos:function(){var e,n,o,s=this._el,a=t.getComputedStyle(s);return i.Browser.any3d?(o=a[i.DomUtil.TRANSFORM].match(this._transformRe),e=parseFloat(o[1]),n=parseFloat(o[2])):(e=parseFloat(a.left),n=parseFloat(a.top)),new i.Point(e,n,!0)},_onTransitionEnd:function(){i.DomEvent.off(this._el,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[i.DomUtil.TRANSITION]=\"\",clearInterval(this._stepTimer),this.fire(\"step\").fire(\"end\"))}}),i.Map.include({setView:function(t,e,i){e=this._limitZoom(e);var n=this._zoom!==e;if(this._loaded&&!i&&this._layers){this._panAnim&&this._panAnim.stop();var o=n?this._zoomToIfClose&&this._zoomToIfClose(t,e):this._panByIfClose(t);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e,n){if(t=i.point(t),!t.x&&!t.y)return this;this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),this.fire(\"movestart\"),i.DomUtil.addClass(this._mapPane,\"leaflet-pan-anim\");var o=i.DomUtil.getPosition(this._mapPane).subtract(t);return this._panAnim.run(this._mapPane,o,e||.25,n),this},_onPanTransitionStep:function(){this.fire(\"move\")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,\"leaflet-pan-anim\"),this.fire(\"moveend\")},_panByIfClose:function(t){var e=this._getCenterOffset(t)._floor();return this._offsetIsWithinView(e)?(this.panBy(e),!0):!1},_offsetIsWithinView:function(t,e){var i=e||1,n=this.getSize();return Math.abs(t.x)<=n.x*i&&Math.abs(t.y)<=n.y*i}}),i.PosAnimation=i.DomUtil.TRANSITION?i.PosAnimation:i.PosAnimation.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=i.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire(\"start\"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));i.DomUtil.setPosition(this._el,e),this.fire(\"step\")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire(\"end\")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),i.Map.mergeOptions({zoomAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23&&!i.Browser.mobileOpera}),i.DomUtil.TRANSITION&&i.Map.addInitHook(function(){i.DomEvent.on(this._mapPane,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),i.Map.include(i.DomUtil.TRANSITION?{_zoomToIfClose:function(t,e){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);if(!this._offsetIsWithinView(o,1))return!1;i.DomUtil.addClass(this._mapPane,\"leaflet-zoom-anim\"),this.fire(\"movestart\").fire(\"zoomstart\"),this.fire(\"zoomanim\",{center:t,zoom:e});var s=this._getCenterLayerPoint().add(o);return this._prepareTileBg(),this._runAnimation(t,e,n,s),!0},_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(t,e,n,o,s){this._animateToCenter=t,this._animateToZoom=e,this._animatingZoom=!0,i.Draggable&&(i.Draggable._disabled=!0);var a=i.DomUtil.TRANSFORM,r=this._tileBg;clearTimeout(this._clearTileBgTimer),i.Util.falseFn(r.offsetWidth);var h=i.DomUtil.getScaleString(n,o),l=r.style[a];r.style[a]=s?l+\" \"+h:h+\" \"+l},_prepareTileBg:function(){var t=this._tilePane,e=this._tileBg;if(e&&this._getLoadedTilesPercentage(e)>.5&&this._getLoadedTilesPercentage(t)<.5)return t.style.visibility=\"hidden\",t.empty=!0,this._stopLoadingImages(t),void 0;e||(e=this._tileBg=this._createPane(\"leaflet-tile-pane\",this._mapPane),e.style.zIndex=1),e.style[i.DomUtil.TRANSFORM]=\"\",e.style.visibility=\"hidden\",e.empty=!0,t.empty=!1,this._tilePane=this._panes.tilePane=e;var n=this._tileBg=t;i.DomUtil.addClass(n,\"leaflet-zoom-animated\"),this._stopLoadingImages(n)},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName(\"img\"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,n,o,s=Array.prototype.slice.call(t.getElementsByTagName(\"img\"));for(e=0,n=s.length;n>e;e++)o=s[e],o.complete||(o.onload=i.Util.falseFn,o.onerror=i.Util.falseFn,o.src=i.Util.emptyImageUrl,o.parentNode.removeChild(o))},_onZoomTransitionEnd:function(){this._restoreTileFront(),i.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),i.DomUtil.removeClass(this._mapPane,\"leaflet-zoom-anim\"),this._animatingZoom=!1,i.Draggable&&(i.Draggable._disabled=!1)},_restoreTileFront:function(){this._tilePane.innerHTML=\"\",this._tilePane.style.visibility=\"\",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){this._animatingZoom||this.touchZoom._zooming||(this._tileBg.innerHTML=\"\")}}:{}),i.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locationOptions=i.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:\"Geolocation not supported.\"}),this;var e=i.bind(this._handleGeolocationResponse,this),n=i.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?\"permission denied\":2===e?\"position unavailable\":\"timeout\");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(\"locationerror\",{code:e,message:\"Geolocation error: \"+i+\".\"})},_handleGeolocationResponse:function(t){var e=180*t.coords.accuracy/4e7,n=2*e,o=t.coords.latitude,s=t.coords.longitude,a=new i.LatLng(o,s),r=new i.LatLng(o-e,s-n),h=new i.LatLng(o+e,s+n),l=new i.LatLngBounds(r,h),u=this._locationOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(l),u.maxZoom);this.setView(a,c)}this.fire(\"locationfound\",{latlng:a,bounds:l,accuracy:t.coords.accuracy})}})}(this);\n!function(e,i){\"use strict\";var t=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";e.fn.imagesLoaded=function(a){function n(){var i=e(l),t=e(g);s&&(g.length?s.reject(A,i,t):s.resolve(A)),e.isFunction(a)&&a.call(d,A,i,t)}function r(e){o(e.target,\"error\"===e.type)}function o(i,a){i.src!==t&&-1===e.inArray(i,u)&&(u.push(i),a?g.push(i):l.push(i),e.data(i,\"imagesLoaded\",{isBroken:a,src:i.src}),c&&s.notifyWith(e(i),[a,A,e(l),e(g)]),A.length===u.length&&(setTimeout(n),A.unbind(\".imagesLoaded\",r)))}var d=this,s=e.isFunction(e.Deferred)?e.Deferred():0,c=e.isFunction(s.notify),A=d.find(\"img\").add(d.filter(\"img\")),u=[],l=[],g=[];return e.isPlainObject(a)&&e.each(a,function(e,i){\"callback\"===e?a=i:s&&s[e](i)}),A.length?A.bind(\"load.imagesLoaded error.imagesLoaded\",r).each(function(a,n){var r=n.src,d=e.data(n,\"imagesLoaded\");return d&&d.src===r?(o(n,d.isBroken),void 0):n.complete&&n.naturalWidth!==i?(o(n,0===n.naturalWidth||0===n.naturalHeight),void 0):((n.readyState||n.complete)&&(n.src=t,n.src=r),void 0)}):n(),s?s.promise(d):d}}(jQuery);\n!function(){var t;t=function(){function t(t){this.$map=t,this.init_map()}return t.prototype.clearance=[29,43],t.prototype.init_map=function(){var t;return this.map=L.map(this.$map[0],{zoomControl:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1,fadeAnimation:!1,dragging:!1,maxZoom:13}),t=new L.TileLayer($.hipmunk.map_tiles_url||hm.settings.map_tiles_url),this.map.addLayer(t),this.$map.on(\"mousedown\",\"img\",function(t){return t.preventDefault()})},t.prototype.center_view_from_locations=function(t){var e,i,a,n,o;for(e=new L.LatLngBounds,n=0,o=t.length;o>n;n++)i=t[n],e=e.extend([i[1],i[0]]);a=[this.$map[0].style.width,this.$map[0].style.height],this.$map.css(\"width\",this.$map.width()-this.clearance[0]),this.$map.css(\"height\",this.$map.height()-this.clearance[1]),this.map.invalidateSize(),this.map.fitBounds(e),this.$map.css(\"width\",a[0]),this.$map.css(\"height\",a[1]),this.map.invalidateSize()},t.prototype.insert_marker=function(t,e,i,a){var n,o,r;return null==i&&(i=null),null==a&&(a=null),a||(a=drykup.render($.templates.map_pin_marker(i))),e=new L.LatLng(e[1],e[0]),n=new L.DivIcon({className:t,html:a,iconAnchor:[0,5]}),r={clickable:!1,icon:n},i&&(r.zIndexOffset=1e3-50*i),o=new L.marker(e,r),this.map.addLayer(o)},t.prototype.draw_shape=function(t){var e,i,a,n;return n=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)a=t[e],n.push(new L.LatLng(a[1],a[0]));return n}(),e=new L.Polygon(n,{stroke:!0,fill:!0,fillOpacity:1,strokeOpacity:1,weight:1,layer:\"subtile\",fillColor:\"#e9f7ff\"}),i=new L.Polygon(n,{stroke:!0,color:\"#0d98e2\",weight:2,fill:!1,strokeOpacity:1,hover:!1,clickable:!1}),this.map.addLayer(e),this.map.addLayer(i)},t.prototype.draw_line=function(t){var e,i,a,n;return e=function(){var e,a,n;for(n=[],e=0,a=t.length;a>e;e++)i=t[e],n.push(new L.LatLng(i[1],i[0]));return n}(),a={color:\"#444444\",opacity:1,weight:2,clickable:!1,dashArray:\"5\"},n=new L.polyline(e,a),this.map.addLayer(n)},t}(),hm[\"export\"]({views:{HotelMiniMapView:t}})}.call(this);\n!function(){var t,r,n,e,a,i,u,l,o,d,m,b,p,c,f,s,h,_,k,g,v,w,x,y,j,q,z,A,B,C,D,E;E=window.drykup,g=E.render,a=E.div,w=E.span,x=E.table,B=E.thead,y=E.tbody,C=E.tr,j=E.td,A=E.th,q=E.text,z=E.textarea,e=E.button,d=E.hr,m=E.iframe,k=E.raw,t=E.a,n=E.br,r=E.b,b=E.img,c=E.label,i=E.form,p=E.input,D=E.ul,f=E.li,u=E.h1,l=E.h2,o=E.h4,v=E.select,h=E.option,_=E.p,s=E.meta,$.templates.map_pin_marker=function(t){return a(\".pin\",function(){return null!=t?a(\".number\",function(){return q(t)}):void 0}),a(\".shadow\")},$.templates.list_badge_marker=function(t,r){return a(\".list-badge-marker\"+t,function(){return null!=r?a(\".list-badge-marker__number\",function(){return q(r)}):void 0})}}.call(this);\n!function(){var n,e,i,t,o,r,a,c,s;e=hm.views.HotelMiniMapView,s=hm.utils.smooth_on_scroll,n=hm.widgets.ComboSearchForm,a=function(e){return e.find(\".wide-combo-search\").each(function(){return n.init({$el:$(this),use_autocomplete:!0,use_calendar:!0})})},o=function(n){return hm.components.MiniHotelModule.init(n)},t=function(n){var e,i;return e=n.find(\".floating-element-container\"),i=$(window),s(function(){var n;n=i.scrollTop(),e.each(function(){var e,i,t,o;return e=$(this),i=e.children(\".floating-element\"),t=+e.data(\"fixed_top_margin\")||0,o=n>e.offset().top-t,i.toggleClass(\"m-fixed\",o),o?(e.css(\"min-height\",i.outerHeight()+\"px\"),i.css(\"top\",t+\"px\")):(e.css(\"min-height\",\"\"),i.css(\"top\",\"\"))})})},r=function(n){var i;return i=n.find(\".map-area\"),i.each(function(){var n,i,t;return n=$(this),t=new e(n.find(\".minimap\")),i=[],n.find(\"input.minimap__pin-data\").each(function(){var n,e;return n=$(this),e=[+n.data(\"lon\"),+n.data(\"lat\")],i.push(e),t.insert_marker(\"map-pin-marker js-map-pin \"+n.data(\"cls\"),e)}),t.center_view_from_locations(i)})},c=function(n){return null==n&&(n=$(\"body\")),a(n),o(n),t(n),r(n)},i=function(){var n;return n=$(\"body\"),n.on(\"click\",\".explore-page-box-container__expand-link\",function(n){var e;e=$(n.currentTarget),e.hide().closest(\".explore-page-box-container\").find(\".explore-page-box.m-hidden\").removeClass(\"m-hidden\")})},hm[\"export\"]({cms:{init_widgets:c}}),hm[\"export\"]({explore:{init_city_explore_page:i}})}.call(this);\n!function(){var e,t,n,r,o,a,i,u,s,c,l,p,h,f,g,m,d,w,v,b,x,y,k,M,j,q,z,A,B,C,D,E,F,G,H,I,J;J=window.drykup,x=J.render,o=J.div,z=J.span,A=J.table,G=J.thead,B=J.tbody,H=J.tr,C=J.td,F=J.th,D=J.text,E=J.textarea,r=J.button,l=J.hr,p=J.iframe,b=J.raw,e=J.a,n=J.br,t=J.b,h=J.img,g=J.label,a=J.form,f=J.input,I=J.ul,m=J.li,i=J.h1,u=J.h2,s=J.h3,c=J.h4,y=J.select,w=J.option,v=J.p,d=J.meta,k=function(e){return o(\".seo-page-search-ui-wrapper\",function(){return o(\".seo-page-search-ui-wrapper__inner.floating-element-container\",{\"data-fixed_top_margin\":5},function(){return $.templates.searchform.wide_combo_search(_.extend({},e,{additional_cls:\".m-rounded.floating-element\"}))})})},M=function(e,t,n,r,a){return o(\".seo-page-hero-view\",function(){return h(\".seo-page-hero-view__image\",{src:e}),o(\".seo-page-hero-view__banner\",function(){return i(\".seo-page-hero-view__headline\",function(){return D(n)}),u(\".seo-page-hero-view__subline\",function(){return D(r)})}),a?o(\".seo-page-hero-view__photo-credit\",function(){return D(a)}):void 0})},j=function(e,t,n){var r,a;return null==n&&(n=\"\"),a=Math.ceil(e.length/2),r=0,o(\".seo-page-two-column-list\"+n,function(){var n,i;for(n=i=1;2>=i;n=++i)o(\".seo-page-two-column-list__column\",function(){var n,i,u;for(u=[],n=i=1;(a>=1?a>=i:i>=a)&&e[r];n=a>=1?++i:--i)o(\".seo-page-two-column-list__item\",function(){return t(e[r])}),u.push(r++);return u});return o(\".clear\")})},q={seo_page_floating_search_ui:k,seo_page_hero_view:M,seo_page_two_column_list:j},hm[\"export\"]({templates:{seo_pages:q}})}.call(this);\n}catch(e){window.TraceKit&&TraceKit.report(e);throw e;}\n//# sourceMappingURL=seo_page.group.map"
      },
      "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/city_page.group.js": {
         "pageUrl": "http://www.hipmunk.com/city/Las-Vegas-NV",
         "scriptUrl": "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/city_page.group.js",
         "body": "try {\n!function(t,e){var i,n;typeof exports!=e+\"\"?i=exports:(n=t.L,i={},i.noConflict=function(){return t.L=n,this},t.L=i),i.version=\"0.4.4\",i.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e=\"_leaflet_id\";return function(i){return i[e]=i[e]||++t,i[e]}}(),limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?(o=!0,void 0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),t.apply(i,a),void 0)}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},splitWords:function(t){return t.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/)},setOptions:function(t,e){return t.options=i.extend({},t.options,e),t.options},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+\"=\"+t[i]);return\"?\"+e.join(\"&\")},template:function(t,e){return t.replace(/\\{ *([\\w_]+) *\\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw new Error(\"No value provided for variable \"+t);return n})},symmetricRound:function(t){return 0>t?Math.ceil(t-.5):Math.floor(t+.5)},emptyImageUrl:\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\"},function(){function e(e){var i,n,o=[\"webkit\",\"moz\",\"o\",\"ms\"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function n(e){var i=+new Date,n=Math.max(0,16-(i-o));return o=i+n,t.setTimeout(e,n)}var o=0,s=t.requestAnimationFrame||e(\"RequestAnimationFrame\")||n,a=t.cancelAnimationFrame||e(\"CancelAnimationFrame\")||e(\"CancelRequestAnimationFrame\")||function(e){t.clearTimeout(e)};i.Util.requestAnimFrame=function(e,o,a,r){return e=i.bind(e,o),a&&s===n?(e(),void 0):s.call(t,e,r)},i.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},n=function(){};n.prototype=this.prototype;var o=new n;o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&&\"prototype\"!==s&&(e[s]=this[s]);return t.statics&&(i.extend(e,t.statics),delete t.statics),t.includes&&(i.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=i.extend({},o.options,t.options)),i.extend(o,t),e},i.Class.include=function(t){i.extend(this.prototype,t)},i.Class.mergeOptions=function(t){i.extend(this.prototype.options,t)};var o=\"_leaflet_events\";i.Mixin={},i.Mixin.Events={addEventListener:function(t,e,n){var s,a,r,h=this[o]=this[o]||{};if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.addEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)h[t[a]]=h[t[a]]||[],h[t[a]].push({action:e,context:n||this});return this},hasEventListeners:function(t){return o in this&&t in this[o]&&this[o][t].length>0},removeEventListener:function(t,e,n){var s,a,r,h,l,u=this[o];if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.removeEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)if(this.hasEventListeners(t[a]))for(h=u[t[a]],l=h.length-1;l>=0;l--)e&&h[l].action!==e||n&&h[l].context!==n||h.splice(l,1);return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var n=i.extend({type:t,target:this},e),s=this[o][t].slice(),a=0,r=s.length;r>a;a++)s[a].action.call(s[a].context||this,n);return this}},i.Mixin.Events.on=i.Mixin.Events.addEventListener,i.Mixin.Events.off=i.Mixin.Events.removeEventListener,i.Mixin.Events.fire=i.Mixin.Events.fireEvent,function(){var n=!!t.ActiveXObject,o=n&&!t.XMLHttpRequest,s=n&&!document.querySelector,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf(\"webkit\"),h=-1!==a.indexOf(\"chrome\"),l=-1!==a.indexOf(\"android\"),u=-1!==a.search(\"android [23]\"),c=typeof orientation!=e+\"\",d=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints,_=\"devicePixelRatio\"in t&&t.devicePixelRatio>1||\"matchMedia\"in t&&t.matchMedia(\"(min-resolution:144dpi)\").matches,m=document.documentElement,p=n&&\"transition\"in m.style,f=\"WebKitCSSMatrix\"in t&&\"m11\"in new t.WebKitCSSMatrix,g=\"MozPerspective\"in m.style,v=\"OTransition\"in m.style,y=!t.L_DISABLE_3D&&(p||f||g||v),P=!t.L_NO_TOUCH&&function(){var t=\"ontouchstart\";if(d||t in m)return!0;var e=document.createElement(\"div\"),i=!1;return e.setAttribute?(e.setAttribute(t,\"return;\"),\"function\"==typeof e[t]&&(i=!0),e.removeAttribute(t),e=null,i):!1}();i.Browser={ie6:o,ie7:s,webkit:r,android:l,android23:u,chrome:h,ie3d:p,webkit3d:f,gecko3d:g,opera3d:v,any3d:y,mobile:c,mobileWebkit:c&&r,mobileWebkit3d:c&&f,mobileOpera:c&&t.opera,touch:P,msTouch:d,retina:_}}(),i.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(t){return this.clone()._add(i.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(i.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=i.Util.symmetricRound(this.x),this.y=i.Util.symmetricRound(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=i.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},toString:function(){return\"Point(\"+i.Util.formatNum(this.x)+\", \"+i.Util.formatNum(this.y)+\")\"}},i.point=function(t,e,n){return t instanceof i.Point?t:t instanceof Array?new i.Point(t[0],t[1]):isNaN(t)?t:new i.Point(t,e,n)},i.Bounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=i.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},contains:function(t){var e,n;return t=\"number\"==typeof t[0]||t instanceof i.Point?i.point(t):i.bounds(t),t instanceof i.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=i.bounds(t);var e=this.min,n=this.max,o=t.min,s=t.max,a=s.x>=e.x&&o.x<=n.x,r=s.y>=e.y&&o.y<=n.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}}),i.bounds=function(t,e){return!t||t instanceof i.Bounds?t:new i.Bounds(t,e)},i.Transformation=i.Class.extend({initialize:function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}}),i.DomUtil={get:function(t){return\"string\"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||\"auto\"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return\"auto\"===i?null:i},getViewportOffset:function(t){var e,n=0,o=0,s=t,a=document.body,r=i.Browser.ie7;do{if(n+=s.offsetTop||0,o+=s.offsetLeft||0,e=i.DomUtil.getStyle(s,\"position\"),s.offsetParent===a&&\"absolute\"===e)break;if(\"fixed\"===e){n+=a.scrollTop||0,o+=a.scrollLeft||0;break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;n-=s.scrollTop||0,o-=s.scrollLeft||0,i.DomUtil.documentIsLtr()||!i.Browser.webkit&&!r||(o+=s.scrollWidth-s.clientWidth,r&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow-y\")&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow\")&&(o+=17)),s=s.parentNode}while(s);return new i.Point(o,n)},documentIsLtr:function(){return i.DomUtil._docIsLtrCached||(i.DomUtil._docIsLtrCached=!0,i.DomUtil._docIsLtr=\"ltr\"===i.DomUtil.getStyle(document.body,\"direction\")),i.DomUtil._docIsLtr},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=i.Util.falseFn)},enableTextSelection:function(){document.onselectstart===i.Util.falseFn&&(document.onselectstart=this._onselectstart,this._onselectstart=null)},hasClass:function(t,e){return t.className.length>0&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(t.className)},addClass:function(t,e){i.DomUtil.hasClass(t,e)||(t.className+=(t.className?\" \":\"\")+e)},removeClass:function(t,e){function i(t,i){return i===e?\"\":t}t.className=t.className.replace(/(\\S+)\\s*/g,i).replace(/(^\\s+|\\s+$)/,\"\")},setOpacity:function(t,e){if(\"opacity\"in t.style)t.style.opacity=e;else if(\"filter\"in t.style){var i=!1,n=\"DXImageTransform.Microsoft.Alpha\";try{i=t.filters.item(n)}catch(o){}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=\" progid:\"+n+\"(opacity=\"+e+\")\"}},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=i.Browser.webkit3d,n=\"translate\"+(e?\"3d\":\"\")+\"(\",o=(e?\",0\":\"\")+\")\";return n+t.x+\"px,\"+t.y+\"px\"+o},getScaleString:function(t,e){var n=i.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),o=\" scale(\"+t+\") \";return n+o},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&i.Browser.any3d?(t.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(e),i.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility=\"hidden\")):(t.style.left=e.x+\"px\",t.style.top=e.y+\"px\")},getPosition:function(t){return t._leaflet_pos}},i.DomUtil.TRANSFORM=i.DomUtil.testProp([\"transform\",\"WebkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"]),i.DomUtil.TRANSITION=i.DomUtil.testProp([\"transition\",\"webkitTransition\",\"OTransition\",\"MozTransition\",\"msTransition\"]),i.DomUtil.TRANSITION_END=\"webkitTransition\"===i.DomUtil.TRANSITION||\"OTransition\"===i.DomUtil.TRANSITION?i.DomUtil.TRANSITION+\"End\":\"transitionend\",i.LatLng=function(t,e,i){var n=parseFloat(t),o=parseFloat(e);if(isNaN(n)||isNaN(o))throw new Error(\"Invalid LatLng object: (\"+t+\", \"+e+\")\");i!==!0&&(n=Math.max(Math.min(n,90),-90),o=(o+180)%360+(-180>o||180===o?180:-180)),this.lat=n,this.lng=o},i.extend(i.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),i.LatLng.prototype={equals:function(t){if(!t)return!1;t=i.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=i.LatLng.MAX_MARGIN},toString:function(t){return\"LatLng(\"+i.Util.formatNum(this.lat,t)+\", \"+i.Util.formatNum(this.lng,t)+\")\"},distanceTo:function(t){t=i.latLng(t);var e=6378137,n=i.LatLng.DEG_TO_RAD,o=(t.lat-this.lat)*n,s=(t.lng-this.lng)*n,a=this.lat*n,r=t.lat*n,h=Math.sin(o/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}},i.latLng=function(t,e,n){return t instanceof i.LatLng?t:t instanceof Array?new i.LatLng(t[0],t[1]):isNaN(t)?t:new i.LatLng(t,e,n)},i.LatLngBounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t),t instanceof i.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new i.LatLng(t.lat,t.lng,!0),this._northEast=new i.LatLng(t.lat,t.lng,!0)):t instanceof i.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,s=Math.abs(e.lng-n.lng)*t;return new i.LatLngBounds(new i.LatLng(e.lat-o,e.lng-s),new i.LatLng(n.lat+o,n.lng+s))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new i.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(t){t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t);var e,n,o=this._southWest,s=this._northEast;return t instanceof i.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=s.lat&&e.lng>=o.lng&&n.lng<=s.lng},intersects:function(t){t=i.latLngBounds(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&o.lat<=n.lat,r=s.lng>=e.lng&&o.lng<=n.lng;return a&&r},toBBoxString:function(){var t=this._southWest,e=this._northEast;return[t.lng,t.lat,e.lng,e.lat].join(\",\")},equals:function(t){return t?(t=i.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}}),i.latLngBounds=function(t,e){return!t||t instanceof i.LatLngBounds?t:new i.LatLngBounds(t,e)},i.Projection={},i.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=t.lng*e,a=o*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new i.Point(s,a)},unproject:function(t){var e=i.LatLng.RAD_TO_DEG,n=t.x*e,o=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new i.LatLng(o,n,!0)}},i.Projection.LonLat={project:function(t){return new i.Point(t.lng,t.lat)},unproject:function(t){return new i.LatLng(t.y,t.x,!0)}},i.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,1,0)}),i.CRS.EPSG3857=i.extend({},i.CRS,{code:\"EPSG:3857\",projection:i.Projection.SphericalMercator,transformation:new i.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:\"EPSG:900913\"}),i.CRS.EPSG4326=i.extend({},i.CRS,{code:\"EPSG:4326\",projection:i.Projection.LonLat,transformation:new i.Transformation(1/360,.5,-1/360,.5)}),i.Map=i.Class.extend({includes:i.Mixin.Events,options:{crs:i.CRS.EPSG3857,fadeAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23,trackResize:!0,markerZoomAnimation:i.DomUtil.TRANSITION&&i.Browser.any3d},initialize:function(t,n){n=i.setOptions(this,n),this._initContainer(t),this._initLayout(),this._initHooks(),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.center&&n.zoom!==e&&this.setView(i.latLng(n.center),n.zoom,!0),this._initLayers(n.layers)},setView:function(t,e){return this._resetView(i.latLng(t),this._limitZoom(e)),this},setZoom:function(t){return this.setView(this.getCenter(),t)},zoomIn:function(t){return this.setZoom(this._zoom+(t||1))},zoomOut:function(t){return this.setZoom(this._zoom-(t||1))},fitBounds:function(t){var e=this.getBoundsZoom(t);return this.setView(i.latLngBounds(t).getCenter(),e)},fitWorld:function(){var t=new i.LatLng(-60,-170),e=new i.LatLng(85,179);return this.fitBounds(new i.LatLngBounds(t,e))},panTo:function(t){return this.setView(t,this._zoom)},panBy:function(t){return this.fire(\"movestart\"),this._rawPanBy(i.point(t)),this.fire(\"move\"),this.fire(\"moveend\")},setMaxBounds:function(t){if(t=i.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this;var e=this.getBoundsZoom(t,!0);return this._boundsMinZoom=e,this._loaded&&(this._zoom<e?this.setView(t.getCenter(),e):this.panInsideBounds(t)),this},panInsideBounds:function(t){t=i.latLngBounds(t);var e=this.getBounds(),n=this.project(e.getSouthWest()),o=this.project(e.getNorthEast()),s=this.project(t.getSouthWest()),a=this.project(t.getNorthEast()),r=0,h=0;return o.y<a.y&&(h=a.y-o.y),o.x>a.x&&(r=a.x-o.x),n.y>s.y&&(h=s.y-n.y),n.x<s.x&&(r=s.x-n.x),this.panBy(new i.Point(r,h,!0))},addLayer:function(t){var e=i.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t.options&&!isNaN(t.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,t.options.maxZoom)),t.options&&!isNaN(t.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||1/0,t.options.minZoom)),this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on(\"load\",this._onTileLayerLoad,this)),this.whenReady(function(){t.onAdd(this),this.fire(\"layeradd\",{layer:t})},this),this)},removeLayer:function(t){var e=i.stamp(t);if(this._layers[e])return t.onRemove(this),delete this._layers[e],this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off(\"load\",this._onTileLayerLoad,this)),this.fire(\"layerremove\",{layer:t})},hasLayer:function(t){var e=i.stamp(t);return this._layers.hasOwnProperty(e)},invalidateSize:function(t){var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var n=e.divideBy(2)._round(),o=this.getSize()._divideBy(2)._round(),s=n.subtract(o);return t===!0?this.panBy(s):(this._rawPanBy(s),this.fire(\"move\"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,\"moveend\"),200)),this},addHandler:function(t,e){return e?(this[t]=new e(this),this.options[t]&&this[t].enable(),this):void 0},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new i.LatLngBounds(e,n)},getMinZoom:function(){var t=this.options.minZoom||0,e=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(t,e,i)},getMaxZoom:function(){var t=this.options.maxZoom===e?1/0:this.options.maxZoom,i=this._layersMaxZoom===e?1/0:this._layersMaxZoom;return Math.min(t,i)},getBoundsZoom:function(t,e){t=i.latLngBounds(t);var n,o,s,a=this.getSize(),r=this.options.minZoom||0,h=this.getMaxZoom(),l=t.getNorthEast(),u=t.getSouthWest(),c=!0;e&&r--;do r++,o=this.project(l,r),s=this.project(u,r),n=new i.Point(Math.abs(o.x-s.x),Math.abs(s.y-o.y)),c=e?n.x<a.x||n.y<a.y:n.x<=a.x&&n.y<=a.y;while(c&&h>=r);return c&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new i.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,n){return n=n===e?this._zoom:n,this.options.crs.latLngToPoint(i.latLng(t),n)},unproject:function(t,n){return n=n===e?this._zoom:n,this.options.crs.pointToLatLng(i.point(t),n)},layerPointToLatLng:function(t){var e=i.point(t).add(this._initialTopLeftPoint);return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(i.latLng(t))._round();return e._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(t){return i.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return i.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(i.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(t)))},mouseEventToContainerPoint:function(t){return i.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=i.DomUtil.get(t);if(e._leaflet)throw new Error(\"Map container is already initialized.\");e._leaflet=!0},_initLayout:function(){var t=this._container;t.innerHTML=\"\",i.DomUtil.addClass(t,\"leaflet-container\"),i.Browser.touch&&i.DomUtil.addClass(t,\"leaflet-touch\"),this.options.fadeAnimation&&i.DomUtil.addClass(t,\"leaflet-fade-anim\");var e=i.DomUtil.getStyle(t,\"position\");\"absolute\"!==e&&\"relative\"!==e&&\"fixed\"!==e&&(t.style.position=\"relative\"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane(\"leaflet-map-pane\",this._container),this._subtilePane=t.subtilePane=this._createPane(\"leaflet-subtile-pane\",this._mapPane),this._tilePane=t.tilePane=this._createPane(\"leaflet-tile-pane\",this._mapPane),t.objectsPane=this._createPane(\"leaflet-objects-pane\",this._mapPane),t.shadowPane=this._createPane(\"leaflet-shadow-pane\"),t.overlayPane=this._createPane(\"leaflet-overlay-pane\"),t.markerPane=this._createPane(\"leaflet-marker-pane\"),t.popupPane=this._createPane(\"leaflet-popup-pane\");var e=\" leaflet-zoom-hide\";this.options.markerZoomAnimation||(i.DomUtil.addClass(t.markerPane,e),i.DomUtil.addClass(t.shadowPane,e),i.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return i.DomUtil.create(\"div\",t,e||this._panes.objectsPane)},_initializers:[],_initHooks:function(){var t,e;for(t=0,e=this._initializers.length;e>t;t++)this._initializers[t].call(this)},_initLayers:function(t){t=t?t instanceof Array?t:[t]:[],this._layers={},this._tileLayersNum=0;var e,i;for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,o){var s=this._zoom!==e;o||(this.fire(\"movestart\"),s&&this.fire(\"zoomstart\")),this._zoom=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire(\"viewreset\",{hard:!n}),this.fire(\"move\"),(s||o)&&this.fire(\"zoomend\"),this.fire(\"moveend\",{hard:!n}),a&&this.fire(\"load\")},_rawPanBy:function(t){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_initEvents:function(){if(i.DomEvent){i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);var e,n,o=[\"dblclick\",\"mousedown\",\"mouseup\",\"mouseenter\",\"mouseleave\",\"mousemove\",\"contextmenu\"];for(e=0,n=o.length;n>e;e++)i.DomEvent.on(this._container,o[e],this._fireMouseEvent,this);this.options.trackResize&&i.DomEvent.on(t,\"resize\",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||this.dragging&&this.dragging.moved()||(this.fire(\"preclick\"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;if(e=\"mouseenter\"===e?\"mouseover\":\"mouseleave\"===e?\"mouseout\":e,this.hasEventListeners(e)){\"contextmenu\"===e&&i.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),o=this.containerPointToLayerPoint(n),s=this.layerPointToLatLng(o);this.fire(e,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(i.bind(this._clearTileBg,this),500))},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on(\"load\",t,e),this},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded)throw new Error(\"Set map center and zoom first.\");return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),i.Map.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=\"function\"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initializers.push(i)},i.map=function(t,e){return new i.Map(t,e)},i.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=o*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-h))/c;return h=-a*Math.log(d),new i.Point(r,h)},unproject:function(t){for(var e,n=i.LatLng.RAD_TO_DEG,o=this.R_MAJOR,s=this.R_MINOR,a=t.x*n/o,r=s/o,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/s),u=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,_=c,m=.1;Math.abs(m)>d&&--_>0;)e=h*Math.sin(u),m=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=m;return new i.LatLng(u*n,a,!0)}},i.CRS.EPSG3395=i.extend({},i.CRS,{code:\"EPSG:3395\",projection:i.Projection.Mercator,transformation:function(){var t=i.Projection.Mercator,e=t.R_MAJOR,n=t.R_MINOR;return new i.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*n),.5)}()}),i.TileLayer=i.Class.extend({includes:i.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:\"abc\",errorTileUrl:\"\",attribution:\"\",zoomOffset:0,opacity:1,unloadInvisibleTiles:i.Browser.mobile,updateWhenIdle:i.Browser.mobile},initialize:function(t,e){e=i.setOptions(this,e),e.detectRetina&&i.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),this._url=t;var n=this.options.subdomains;\"string\"==typeof n&&(this.options.subdomains=n.split(\"\"))},onAdd:function(t){this._map=t,this._initContainer(),this._createTileProto(),t.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=i.Util.limitExecByInterval(this._update,150,this),t.on(\"move\",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._panes.tilePane.removeChild(this._container),t.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||t.off(\"move\",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==e&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.getElementsByClassName(\"leaflet-layer\"),a=-e(1/0,-1/0);for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){i.DomUtil.setOpacity(this._container,this.options.opacity);var t,e=this._tiles;if(i.Browser.webkit)for(t in e)e.hasOwnProperty(t)&&(e[t].style.webkitTransform+=\" translate(0,0)\")},_initContainer:function(){var t=this._map._panes.tilePane;(!this._container||t.empty)&&(this._container=i.DomUtil.create(\"div\",\"leaflet-layer\"),this._updateZIndex(),t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_resetCallback:function(t){this._reset(t.hard)},_reset:function(t){var e=this._tiles;for(var i in e)e.hasOwnProperty(i)&&this.fire(\"tileunload\",{tile:e[i]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),t&&this._container&&(this._container.innerHTML=\"\"),this._initContainer()},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=this.options.tileSize;if(!(e>this.options.maxZoom||e<this.options.minZoom)){var o=new i.Point(Math.floor(t.min.x/n),Math.floor(t.min.y/n)),s=new i.Point(Math.floor(t.max.x/n),Math.floor(t.max.y/n)),a=new i.Bounds(o,s);this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)}}},_addTilesFromCenterOut:function(t){var e,n,o,s=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)o=new i.Point(n,e),this._tileShouldBeLoaded(o)&&s.push(o);var r=s.length;if(0!==r){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var h=document.createDocumentFragment();for(this._tilesToLoad||this.fire(\"loading\"),this._tilesToLoad+=r,n=0;r>n;n++)this._addTile(s[n],h);this._container.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+\":\"+t.y in this._tiles)return!1;if(!this.options.continuousWorld){var e=this._getWrapTileNum();if(this.options.noWrap&&(t.x<0||t.x>=e)||t.y<0||t.y>=e)return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)this._tiles.hasOwnProperty(o)&&(e=o.split(\":\"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o))},_removeTile:function(t){var e=this._tiles[t];this.fire(\"tileunload\",{tile:e,url:e.src}),this.options.reuseTiles?(i.DomUtil.removeClass(e,\"leaflet-tile-loaded\"),this._unusedTiles.push(e)):e.parentNode===this._container&&this._container.removeChild(e),i.Browser.android||(e.src=i.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),o=this._getTile();i.DomUtil.setPosition(o,n,i.Browser.chrome||i.Browser.android23),this._tiles[t.x+\":\"+t.y]=o,this._loadTile(o,t),o.parentNode!==this._container&&e.appendChild(o)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this.options.tileSize;return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return this._adjustTilePoint(t),i.Util.template(this._url,i.extend({s:this._getSubdomain(t),z:this._getZoomForUrl(),x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1)\n},_getSubdomain:function(t){var e=(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=i.DomUtil.create(\"img\",\"leaflet-tile\");t.style.width=t.style.height=this.options.tileSize+\"px\",t.galleryimg=\"no\"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire(\"load\")},_tileOnLoad:function(){var t=this._layer;this.src!==i.Util.emptyImageUrl&&(i.DomUtil.addClass(this,\"leaflet-tile-loaded\"),t.fire(\"tileload\",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire(\"tileerror\",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),i.tileLayer=function(t,e){return new i.TileLayer(t,e)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:\"WMS\",request:\"GetMap\",version:\"1.1.1\",layers:\"\",styles:\"\",format:\"image/jpeg\",transparent:!1},initialize:function(t,e){this._url=t;var n=i.extend({},this.defaultWmsParams);n.width=n.height=e.detectRetina&&i.Browser.retina?2*this.options.tileSize:this.options.tileSize;for(var o in e)this.options.hasOwnProperty(o)||(n[o]=e[o]);this.wmsParams=n,i.setOptions(this,e)},onAdd:function(t){var e=parseFloat(this.wmsParams.version)>=1.3?\"crs\":\"srs\";this.wmsParams[e]=t.options.crs.code,i.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var n=this._map,o=n.options.crs,s=this.options.tileSize,a=t.multiplyBy(s),r=a.add(new i.Point(s,s)),h=o.project(n.unproject(a,e)),l=o.project(n.unproject(r,e)),u=[h.x,l.y,l.x,h.y].join(\",\"),c=i.Util.template(this._url,{s:this._getSubdomain(t)});return c+i.Util.getParamString(this.wmsParams)+\"&bbox=\"+u},setParams:function(t,e){return i.extend(this.wmsParams,t),e||this.redraw(),this}}),i.tileLayer.wms=function(t,e){return new i.TileLayer.WMS(t,e)},i.TileLayer.Canvas=i.TileLayer.extend({options:{async:!1},initialize:function(t){i.setOptions(this,t)},redraw:function(){var t=this._tiles;for(var e in t)t.hasOwnProperty(e)&&this._redrawTile(t[e])},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTileProto:function(){var t=this._canvasProto=i.DomUtil.create(\"canvas\",\"leaflet-tile\");t.width=t.height=this.options.tileSize},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),i.tileLayer.canvas=function(t){return new i.TileLayer.Canvas(t)},i.ImageOverlay=i.Class.extend({includes:i.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=i.latLngBounds(e),i.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on(\"viewreset\",this._reset,this),t.options.zoomAnimation&&i.Browser.any3d&&t.on(\"zoomanim\",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off(\"viewreset\",this._reset,this),t.options.zoomAnimation&&t.off(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=i.DomUtil.create(\"img\",\"leaflet-image-layer\"),this._map.options.zoomAnimation&&i.Browser.any3d?i.DomUtil.addClass(this._image,\"leaflet-zoom-animated\"):i.DomUtil.addClass(this._image,\"leaflet-zoom-hide\"),this._updateOpacity(),i.extend(this._image,{galleryimg:\"no\",onselectstart:i.Util.falseFn,onmousemove:i.Util.falseFn,onload:i.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,o=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=e.latLngToLayerPoint(a)._subtract(e.latLngToLayerPoint(s)),u=r._add(h._subtract(l)._divideBy(2));n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(u)+\" scale(\"+o+\") \"},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);i.DomUtil.setPosition(t,e),t.style.width=n.x+\"px\",t.style.height=n.y+\"px\"},_onImageLoad:function(){this.fire(\"load\")},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(t,e,n){return new i.ImageOverlay(t,e,n)},i.Icon=i.Class.extend({options:{className:\"\"},initialize:function(t){i.setOptions(this,t)},createIcon:function(){return this._createIcon(\"icon\")},createShadow:function(){return this._createIcon(\"shadow\")},_createIcon:function(t){var e=this._getIconUrl(t);if(!e){if(\"icon\"===t)throw new Error(\"iconUrl not set in Icon options (see the docs).\");return null}var i=this._createImg(e);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,o=this.options,s=i.point(o[e+\"Size\"]);n=\"shadow\"===e?i.point(o.shadowAnchor||o.iconAnchor):i.point(o.iconAnchor),!n&&s&&(n=s.divideBy(2,!0)),t.className=\"leaflet-marker-\"+e+\" \"+o.className,n&&(t.style.marginLeft=-n.x+\"px\",t.style.marginTop=-n.y+\"px\"),s&&(t.style.width=s.x+\"px\",t.style.height=s.y+\"px\")},_createImg:function(t){var e;return i.Browser.ie6?(e=document.createElement(\"div\"),e.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"'+t+'\")'):(e=document.createElement(\"img\"),e.src=t),e},_getIconUrl:function(t){return this.options[t+\"Url\"]}}),i.icon=function(t){return new i.Icon(t)},i.Icon.Default=i.Icon.extend({options:{iconSize:new i.Point(25,41),iconAnchor:new i.Point(12,41),popupAnchor:new i.Point(1,-34),shadowSize:new i.Point(41,41)},_getIconUrl:function(t){var e=t+\"Url\";if(this.options[e])return this.options[e];var n=i.Icon.Default.imagePath;if(!n)throw new Error(\"Couldn't autodetect L.Icon.Default.imagePath, set it manually.\");return n+\"/marker-\"+t+\".png\"}}),i.Icon.Default.imagePath=function(){var t,e,i,n,o=document.getElementsByTagName(\"script\"),s=/\\/?leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;for(t=0,e=o.length;e>t;t++)if(i=o[t].src,n=i.match(s))return i.split(s)[0]+\"/images\"}(),i.Marker=i.Class.extend({includes:i.Mixin.Events,options:{icon:new i.Icon.Default,title:\"\",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t)},onAdd:function(t){this._map=t,t.on(\"viewreset\",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._removeIcon(),this.fire(\"remove\"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=i.latLng(t),this.update(),this.fire(\"move\",{latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t,this.update()},setIcon:function(t){this._map&&this._removeIcon(),this.options.icon=t,this._map&&(this._initIcon(),this.update())},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,o=n?\"leaflet-zoom-animated\":\"leaflet-zoom-hide\",s=!1;this._icon||(this._icon=t.icon.createIcon(),t.title&&(this._icon.title=t.title),this._initInteraction(),s=this.options.opacity<1,i.DomUtil.addClass(this._icon,o),t.riseOnHover&&i.DomEvent.on(this._icon,\"mouseover\",this._bringToFront,this).on(this._icon,\"mouseout\",this._resetZIndex,this)),this._shadow||(this._shadow=t.icon.createShadow(),this._shadow&&(i.DomUtil.addClass(this._shadow,o),s=this.options.opacity<1)),s&&this._updateOpacity();var a=this._map._panes;a.markerPane.appendChild(this._icon),this._shadow&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var t=this._map._panes;this.options.riseOnHover&&i.DomEvent.off(this._icon,\"mouseover\",this._bringToFront).off(this._icon,\"mouseout\",this._resetZIndex),t.markerPane.removeChild(this._icon),this._shadow&&t.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(t){i.DomUtil.setPosition(this._icon,t),this._shadow&&i.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\"];i.DomUtil.addClass(t,\"leaflet-clickable\"),i.DomEvent.on(t,\"click\",this._onMouseClick,this);for(var n=0;n<e.length;n++)i.DomEvent.on(t,e[n],this._fireMouseEvent,this);i.Handler.MarkerDrag&&(this.dragging=new i.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&i.DomEvent.stopPropagation(t),e||this._map.dragging&&this._map.dragging.moved()||this.fire(t.type,{originalEvent:t})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t}),\"mousedown\"!==t.type&&i.DomEvent.stopPropagation(t)},setOpacity:function(t){this.options.opacity=t,this._map&&this._updateOpacity()},_updateOpacity:function(){i.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&i.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(t,e){return new i.Marker(t,e)},i.DivIcon=i.Icon.extend({options:{iconSize:new i.Point(12,12),className:\"leaflet-div-icon\"},createIcon:function(){var t=document.createElement(\"div\"),e=this.options;return e.html&&(t.innerHTML=e.html),e.bgPos&&(t.style.backgroundPosition=-e.bgPos.x+\"px \"+-e.bgPos.y+\"px\"),this._setIconStyles(t,\"icon\"),t},createShadow:function(){return null}}),i.divIcon=function(t){return new i.DivIcon(t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Popup=i.Class.extend({includes:i.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new i.Point(0,6),autoPanPadding:new i.Point(5,5),className:\"\"},initialize:function(t,e){i.setOptions(this,t),this._source=e},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&i.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(\"viewreset\",this._updatePosition,this),i.Browser.any3d&&t.on(\"zoomanim\",this._zoomAnimation,this),t.options.closePopupOnClick&&t.on(\"preclick\",this._close,this),this._update(),e&&i.DomUtil.setOpacity(this._container,1)},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),i.Util.falseFn(this._container.offsetWidth),t.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),t.options.fadeAnimation&&i.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(t){return this._latlng=i.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_close:function(){var t=this._map;t&&(t._popup=null,t.removeLayer(this).fire(\"popupclose\",{popup:this}))},_initLayout:function(){var t,e=\"leaflet-popup\",n=e+\" \"+this.options.className+\" leaflet-zoom-animated\",o=this._container=i.DomUtil.create(\"div\",n);this.options.closeButton&&(t=this._closeButton=i.DomUtil.create(\"a\",e+\"-close-button\",o),t.href=\"#close\",t.innerHTML=\"&#215;\",i.DomEvent.on(t,\"click\",this._onCloseButtonClick,this));var s=this._wrapper=i.DomUtil.create(\"div\",e+\"-content-wrapper\",o);i.DomEvent.disableClickPropagation(s),this._contentNode=i.DomUtil.create(\"div\",e+\"-content\",s),i.DomEvent.on(this._contentNode,\"mousewheel\",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create(\"div\",e+\"-tip-container\",o),this._tip=i.DomUtil.create(\"div\",e+\"-tip\",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility=\"hidden\",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=\"\",this._adjustPan())},_updateContent:function(){if(this._content){if(\"string\"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire(\"contentupdate\")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width=\"\",e.whiteSpace=\"nowrap\";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+\"px\",e.whiteSpace=\"\",e.height=\"\";var o=t.offsetHeight,s=this.options.maxHeight,a=\"leaflet-popup-scrolled\";s&&o>s?(e.height=s+\"px\",i.DomUtil.addClass(t,a)):i.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=i.Browser.any3d,n=this.options.offset;e&&i.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+\"px\",this._container.style.left=this._containerLeft+\"px\"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);i.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,o=new i.Point(this._containerLeft,-e-this._containerBottom);i.Browser.any3d&&o._add(i.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(o),a=this.options.autoPanPadding,r=t.getSize(),h=0,l=0;s.x<0&&(h=s.x-a.x),s.x+n>r.x&&(h=s.x+n-r.x+a.x),s.y<0&&(l=s.y-a.y),s.y+e>r.y&&(l=s.y+e-r.y+a.y),(h||l)&&t.panBy(new i.Point(h,l))}},_onCloseButtonClick:function(t){this._close(),i.DomEvent.stop(t)}}),i.popup=function(t,e){return new i.Popup(t,e)},i.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(t,e){var n=i.point(this.options.icon.options.popupAnchor)||new i.Point(0,0);return n=n.add(i.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=i.extend({offset:n},e),this._popup||this.on(\"click\",this.openPopup,this).on(\"remove\",this.closePopup,this).on(\"move\",this._movePopup,this),this._popup=new i.Popup(e,this).setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup).off(\"move\",this._movePopup)),this},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),i.Map.include({openPopup:function(t){return this.closePopup(),this._popup=t,this.addLayer(t).fire(\"popupopen\",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),i.LayerGroup=i.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=i.stamp(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._map&&this._map.removeLayer(t),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)this._layers.hasOwnProperty(e)&&(i=this._layers[e],i[t]&&i[t].apply(i,n));return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)this._layers.hasOwnProperty(i)&&t.call(e,this._layers[i])}}),i.layerGroup=function(t){return new i.LayerGroup(t)},i.FeatureGroup=i.LayerGroup.extend({includes:i.Mixin.Events,statics:{EVENTS:\"click dblclick mouseover mouseout mousemove contextmenu\"},addLayer:function(t){return this._layers[i.stamp(t)]?this:(t.on(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent),this.fire(\"layeradd\",{layer:t}))},removeLayer:function(t){return t.off(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke(\"unbindPopup\"),this.fire(\"layerremove\",{layer:t})},bindPopup:function(t){return this._popupContent=t,this.invoke(\"bindPopup\",t)},setStyle:function(t){return this.invoke(\"setStyle\",t)},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},getBounds:function(){var t=new i.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof i.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t.layer=t.target,t.target=this,this.fire(t.type,t)}}),i.featureGroup=function(t){return new i.FeatureGroup(t)},i.Path=i.Class.extend({includes:[i.Mixin.Events],statics:{CLIP_PADDING:i.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(t.innerWidth,t.innerHeight)-1)/2)):.5},options:{stroke:!0,color:\"#0033ff\",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0,layer:\"overlay\"},initialize:function(t){i.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(this.options.layer),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._pathRoot.appendChild(this._container),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._pathRoot.removeChild(this._container),this._map=null,i.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),this.fire(\"remove\"),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return i.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),i.Map.include({_pathLayer:function(t){return\"subtile\"===t?this._subtilePane:this._panes.overlayPane},_updatePathViewport:function(){var t=i.Path.CLIP_PADDING,e=this.getSize(),n=i.DomUtil.getPosition(this._mapPane),o=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=o.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new i.Bounds(o,s)}}),i.Path.SVG_NS=\"http://www.w3.org/2000/svg\",i.Browser.svg=!(!document.createElementNS||!document.createElementNS(i.Path.SVG_NS,\"svg\").createSVGRect),i.Path=i.Path.extend({statics:{SVG:i.Browser.svg},bringToFront:function(){var t=this._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return document.createElementNS(i.Path.SVG_NS,t)},_initElements:function(t){this._pathRoot=this._map._initPathRoot(t),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement(\"g\"),this._path=this._createElement(\"path\"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute(\"stroke-linejoin\",\"round\"),this._path.setAttribute(\"stroke-linecap\",\"round\")),this.options.fill&&this._path.setAttribute(\"fill-rule\",\"evenodd\"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute(\"stroke\",this.options.color),this._path.setAttribute(\"stroke-opacity\",this.options.opacity),this._path.setAttribute(\"stroke-width\",this.options.weight),this.options.dashArray?this._path.setAttribute(\"stroke-dasharray\",this.options.dashArray):this._path.removeAttribute(\"stroke-dasharray\")):this._path.setAttribute(\"stroke\",\"none\"),this.options.fill?(this._path.setAttribute(\"fill\",this.options.fillColor||this.options.color),this._path.setAttribute(\"fill-opacity\",this.options.fillOpacity)):this._path.setAttribute(\"fill\",\"none\")},_updatePath:function(){var t=this.getPathString();t||(t=\"M0 0\"),this._path.setAttribute(\"d\",t)},_initEvents:function(){if(this.options.clickable){(i.Browser.svg||!i.Browser.vml)&&this._path.setAttribute(\"class\",\"leaflet-clickable\"),i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);for(var t=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\",\"mousemove\",\"contextmenu\"],e=0;e<t.length;e++)i.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),o=e.containerPointToLayerPoint(n),s=e.layerPointToLatLng(o);this.fire(t.type,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t}),\"contextmenu\"===t.type&&i.DomEvent.preventDefault(t),\"mousemove\"!==t.type&&i.DomEvent.stopPropagation(t)}}}),i.Map.include({_initPathRoot:function(t){var e=this._pathLayer(t),n=\"_pathRoot\"+t,o=this[n];return o||(o=this[n]=i.Path.prototype._createElement(\"svg\"),e.appendChild(o),this.options.zoomAnimation&&i.Browser.any3d?(o.setAttribute(\"class\",\" leaflet-zoom-animated\"),this.on({zoomanim:function(t){this._animatePathZoom(t,n)},zoomend:function(){this._endPathZoom(n)}})):o.setAttribute(\"class\",\" leaflet-zoom-hide\"),this.on(\"moveend\",function(){this._updateSvgViewport(e,o)}),this._updateSvgViewport(e,o)),o},_animatePathZoom:function(t,e){var n=this[e],o=this.getZoomScale(t.zoom),s=this._getCenterOffset(t.center),a=s.multiplyBy(-o)._add(this._pathViewport.min);n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(a)+\" scale(\"+o+\") \",this[e+\"_pathZooming\"]=!0},_endPathZoom:function(t){this[t+\"_pathZooming\"]=!1},_updateSvgViewport:function(t,e){if(!this._pathZooming){this._updatePathViewport();var n=this._pathViewport,o=n.min,s=n.max,a=s.x-o.x,r=s.y-o.y;i.Browser.mobileWebkit&&t.removeChild(e),i.DomUtil.setPosition(e,o),e.setAttribute(\"width\",a),e.setAttribute(\"height\",r),e.setAttribute(\"viewBox\",[o.x,o.y,a,r].join(\" \")),i.Browser.mobileWebkit&&t.appendChild(e)}}}),i.Path.include({bindPopup:function(t,e){return(!this._popup||e)&&(this._popup=new i.Popup(e,this)),this._popup.setContent(t),this._popupHandlersAdded||(this.on(\"click\",this._openPopup,this).on(\"remove\",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),i.Browser.vml=!i.Browser.svg&&function(){try{var t=document.createElement(\"div\");t.innerHTML='<v:shape adj=\"1\"/>';var e=t.firstChild;return e.style.behavior=\"url(#default#VML)\",e&&\"object\"==typeof e.adj}catch(i){return!1}}(),i.Path=i.Browser.svg||!i.Browser.vml?i.Path:i.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return document.namespaces.add(\"lvml\",\"urn:schemas-microsoft-com:vml\"),function(t){return document.createElement(\"<lvml:\"+t+' class=\"lvml\">')}}catch(t){return function(t){return document.createElement(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">')}}}(),_initPath:function(){var t=this._container=this._createElement(\"shape\");i.DomUtil.addClass(t,\"leaflet-vml-shape\"),this.options.clickable&&i.DomUtil.addClass(t,\"leaflet-clickable\"),t.coordsize=\"1 1\",this._path=this._createElement(\"path\"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement(\"stroke\"),t.endcap=\"round\",n.appendChild(t)),t.weight=i.weight+\"px\",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?i.dashArray.replace(/ *, */g,\" \"):\"\"):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement(\"fill\"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display=\"none\",this._path.v=this.getPathString()+\" \",t.display=\"\"}}),i.Map.include(i.Browser.svg||!i.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=document.createElement(\"div\");t.className=\"leaflet-vml-container\",this._panes.subtilePane.appendChild(this._pathRoot),this.on(\"moveend\",this._updatePathViewport),this._updatePathViewport()}}}),i.Browser.canvas=function(){return!!document.createElement(\"canvas\").getContext}(),i.Path=i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?i.Path:i.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return i.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off(\"viewreset\",this.projectLatlngs,this).off(\"moveend\",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!i.Path._updateRequest&&(i.Path._updateRequest=i.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){i.Path._updateRequest=null,this.fire(\"moveend\")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,n,o,s,a;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,o=this._parts[t].length;o>e;e++)s=this._parts[t][e],a=(0===e?\"move\":\"line\")+\"To\",this._ctx[a](s.x,s.y);this instanceof i.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(e.fillOpacity<1&&(t.globalAlpha=e.fillOpacity),t.fill()),e.stroke&&(e.opacity<1&&(t.globalAlpha=e.opacity),t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&this._map.on(\"click\",this._onClick,this)},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire(\"click\",t)}}),i.Map.include(i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=document.createElement(\"canvas\"),e.style.position=\"absolute\",t=this._canvasCtx=e.getContext(\"2d\"),t.lineCap=\"round\",t.lineJoin=\"round\",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className=\"leaflet-zoom-animated\",this.on(\"zoomanim\",this._animatePathZoom),this.on(\"zoomend\",this._endPathZoom)),this.on(\"moveend\",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),o=this._pathRoot;i.DomUtil.setPosition(o,e),o.width=n.x,o.height=n.y,o.getContext(\"2d\").translate(-e.x,-e.y)}}}),i.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,i){var n=t.length,o=typeof Uint8Array!=e+\"\"?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,i,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=(i.min,i.max,n?this._lastCode:this._getBitCode(t,i)),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,n,o){var s=e.x-t.x,a=e.y-t.y,r=o.min,h=o.max;return 8&n?new i.Point(t.x+s*(h.y-t.y)/a,h.y):4&n?new i.Point(t.x+s*(r.y-t.y)/a,r.y):2&n?new i.Point(h.x,t.y+a*(h.x-t.x)/s):1&n?new i.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,n,o){var s,a=e.x,r=e.y,h=n.x-a,l=n.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=n.x,r=n.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,o?h*h+l*l:new i.Point(a,r)}},i.Polyline=i.Path.extend({initialize:function(t,e){i.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t),i.Handler.PolyEdit&&(this.editing=new i.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i=\"\";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(i.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,o=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],n=l[u];var d=i.LineUtil._sqClosestPointOnSegment(t,e,n,!0);o>d&&(o=d,a=i.LineUtil._sqClosestPointOnSegment(t,e,n))}return a&&(a.distance=Math.sqrt(o)),a},getBounds:function(){var t,e,n=new i.LatLngBounds,o=this.getLatLngs();for(t=0,e=o.length;e>t;t++)n.extend(o[t]);return n},onAdd:function(t){i.Path.prototype.onAdd.call(this,t),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(t){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),i.Path.prototype.onRemove.call(this,t)},_convertLatLngs:function(t){var e,n;for(e=0,n=t.length;n>e;e++){if(t[e]instanceof Array&&\"number\"!=typeof t[e][0])return;t[e]=i.latLng(t[e])}return t},_initEvents:function(){i.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=i.Path.VML,o=0,s=t.length,a=\"\";s>o;o++)e=t[o],n&&e._round(),a+=(o?\"L\":\"M\")+e.x+\" \"+e.y;\nreturn a},_clipPoints:function(){var t,e,n,o=this._originalPoints,s=o.length;if(this.options.noClip)return this._parts=[o],void 0;this._parts=[];var a=this._parts,r=this._map._pathViewport,h=i.LineUtil;for(t=0,e=0;s-1>t;t++)n=h.clipSegment(o[t],o[t+1],r,t),n&&(a[e]=a[e]||[],a[e].push(n[0]),(n[1]!==o[t+1]||t===s-2)&&(a[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=i.LineUtil,n=0,o=t.length;o>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),i.Path.prototype._updatePath.call(this))}}),i.polyline=function(t,e){return new i.Polyline(t,e)},i.PolyUtil={},i.PolyUtil.clipPolygon=function(t,e){var n,o,s,a,r,h,l,u,c,d=(e.min,e.max,[1,4,2,8]),_=i.LineUtil;for(o=0,l=t.length;l>o;o++)t[o]._code=_._getBitCode(t[o],e);for(a=0;4>a;a++){for(u=d[a],n=[],o=0,l=t.length,s=l-1;l>o;s=o++)r=t[o],h=t[s],r._code&u?h._code&u||(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)):(h._code&u&&(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)),n.push(r));t=n}return t},i.Polygon=i.Polyline.extend({options:{fill:!0},initialize:function(t,e){i.Polyline.prototype.initialize.call(this,t,e),t&&t[0]instanceof Array&&\"number\"!=typeof t[0][0]&&(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1))},projectLatlngs:function(){if(i.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,o;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,o=this._holes[t].length;o>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,o=this._parts.length;o>n;n++){var s=i.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=i.Polyline.prototype._getPathPartStr.call(this,t);return e+(i.Browser.svg?\"z\":\"x\")}}),i.polygon=function(t,e){return new i.Polygon(t,e)},function(){function t(t){return i.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this}})}i.MultiPolyline=t(i.Polyline),i.MultiPolygon=t(i.Polygon),i.multiPolyline=function(t,e){return new i.MultiPolyline(t,e)},i.multiPolygon=function(t,e){return new i.MultiPolygon(t,e)}}(),i.Rectangle=i.Polygon.extend({initialize:function(t,e){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=i.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),i.rectangle=function(t,e){return new i.Rectangle(t,e)},i.Circle=i.Path.extend({initialize:function(t,e,n){i.Path.prototype.initialize.call(this,n),this._latlng=i.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=i.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=new i.LatLng(this._latlng.lat,this._latlng.lng-t,!0),n=this._map.latLngToLayerPoint(e);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-n.x),1)},getBounds:function(){var t=this._getLngRadius(),e=360*(this._mRadius/40075017),n=this._latlng,o=new i.LatLng(n.lat-e,n.lng-t),s=new i.LatLng(n.lat+e,n.lng+t);return new i.LatLngBounds(o,s)},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?\"\":i.Browser.svg?\"M\"+t.x+\",\"+(t.y-e)+\"A\"+e+\",\"+e+\",0,1,1,\"+(t.x-.1)+\",\"+(t.y-e)+\" z\":(t._round(),e=Math.round(e),\"AL \"+t.x+\",\"+t.y+\" \"+e+\",\"+e+\" 0,\"+23592600)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(i.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),i.circle=function(t,e,n){return new i.Circle(t,e,n)},i.CircleMarker=i.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){i.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(t){return this._radius=t,this.redraw()}}),i.circleMarker=function(t,e){return new i.CircleMarker(t,e)},i.Polyline.include(i.Path.CANVAS?{_containsPoint:function(t,e){var n,o,s,a,r,h,l,u=this.options.weight/2;for(i.Browser.touch&&(u+=10),n=0,a=this._parts.length;a>n;n++)for(l=this._parts[n],o=0,r=l.length,s=r-1;r>o;s=o++)if((e||0!==o)&&(h=i.LineUtil.pointToSegmentDistance(t,l[s],l[o]),u>=h))return!0;return!1}}:{}),i.Polygon.include(i.Path.CANVAS?{_containsPoint:function(t){var e,n,o,s,a,r,h,l,u=!1;if(i.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)n=e[a],o=e[r],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(u=!u);return u}}:{}),i.Circle.include(i.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),i.GeoJSON=i.FeatureGroup.extend({initialize:function(t,e){i.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o=t instanceof Array?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=i.GeoJSON.geometryToLayer(t,s.pointToLayer);return a.feature=t,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&this._setLayerStyle(t,e)},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){\"function\"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),i.extend(i.GeoJSON,{geometryToLayer:function(t,e){var n,o,s,a,r,h=\"Feature\"===t.type?t.geometry:t,l=h.coordinates,u=[];switch(h.type){case\"Point\":return n=this.coordsToLatLng(l),e?e(t,n):new i.Marker(n);case\"MultiPoint\":for(s=0,a=l.length;a>s;s++)n=this.coordsToLatLng(l[s]),r=e?e(t,n):new i.Marker(n),u.push(r);return new i.FeatureGroup(u);case\"LineString\":return o=this.coordsToLatLngs(l),new i.Polyline(o);case\"Polygon\":return o=this.coordsToLatLngs(l,1),new i.Polygon(o);case\"MultiLineString\":return o=this.coordsToLatLngs(l,1),new i.MultiPolyline(o);case\"MultiPolygon\":return o=this.coordsToLatLngs(l,2),new i.MultiPolygon(o);case\"GeometryCollection\":for(s=0,a=h.geometries.length;a>s;s++)r=this.geometryToLayer(h.geometries[s],e),u.push(r);return new i.FeatureGroup(u);default:throw new Error(\"Invalid GeoJSON object.\")}},coordsToLatLng:function(t,e){var n=parseFloat(t[e?0:1]),o=parseFloat(t[e?1:0]);return new i.LatLng(n,o,!0)},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):this.coordsToLatLng(t[o],i),a.push(n);return a}}),i.geoJson=function(t,e){return new i.GeoJSON(t,e)},i.DomEvent={addListener:function(t,e,n,o){var s,a,r,h=i.stamp(n),l=\"_leaflet_\"+e+h;return t[l]?this:(s=function(e){return n.call(o||t,e||i.DomEvent._getEvent())},i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.addMsTouchListener(t,e,s,h):i.Browser.touch&&\"dblclick\"===e&&this.addDoubleTapListener?this.addDoubleTapListener(t,s,h):(\"addEventListener\"in t?\"mousewheel\"===e?(t.addEventListener(\"DOMMouseScroll\",s,!1),t.addEventListener(e,s,!1)):\"mouseenter\"===e||\"mouseleave\"===e?(a=s,r=\"mouseenter\"===e?\"mouseover\":\"mouseout\",s=function(e){return i.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):t.addEventListener(e,s,!1):\"attachEvent\"in t&&t.attachEvent(\"on\"+e,s),t[l]=s,this))},removeListener:function(t,e,n){var o=i.stamp(n),s=\"_leaflet_\"+e+o,a=t[s];if(a)return i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.removeMsTouchListener(t,e,o):i.Browser.touch&&\"dblclick\"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):\"removeEventListener\"in t?\"mousewheel\"===e?(t.removeEventListener(\"DOMMouseScroll\",a,!1),t.removeEventListener(e,a,!1)):\"mouseenter\"===e||\"mouseleave\"===e?t.removeEventListener(\"mouseenter\"===e?\"mouseover\":\"mouseout\",a,!1):t.removeEventListener(e,a,!1):\"detachEvent\"in t&&t.detachEvent(\"on\"+e,a),t[s]=null,this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){var e=i.DomEvent.stopPropagation;return i.DomEvent.addListener(t,i.Draggable.START,e).addListener(t,\"click\",e).addListener(t,\"dblclick\",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return i.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){var n=document.body,o=document.documentElement,s=t.pageX?t.pageX:t.clientX+n.scrollLeft+o.scrollLeft,a=t.pageY?t.pageY:t.clientY+n.scrollTop+o.scrollTop,r=new i.Point(s,a);return e?r._subtract(i.DomUtil.getViewportOffset(e)):r},getWheelDelta:function(t){return t.detail<0||t.wheelDelta>0?1:-1},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e}},i.DomEvent.on=i.DomEvent.addListener,i.DomEvent.off=i.DomEvent.removeListener,i.Draggable=i.Class.extend({includes:i.Mixin.Events,statics:{START:i.Browser.touch?\"touchstart\":\"mousedown\",END:i.Browser.touch?\"touchend\":\"mouseup\",MOVE:i.Browser.touch?\"touchmove\":\"mousemove\",TAP_TOLERANCE:15},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._longPress=n&&!i.Browser.msTouch},enable:function(){this._enabled||(i.DomEvent.on(this._dragStartTarget,i.Draggable.START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(i.DomEvent.off(this._dragStartTarget,i.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(!i.Browser.touch&&t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t),i.Draggable._disabled))){if(this._simulateClick=!0,t.touches&&t.touches.length>1)return this._simulateClick=!1,clearTimeout(this._longPressTimeout),void 0;var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=e.target;i.Browser.touch&&\"a\"===n.tagName.toLowerCase()&&i.DomUtil.addClass(n,\"leaflet-active\"),this._moved=!1,this._moving||(this._startPoint=new i.Point(e.clientX,e.clientY),this._startPos=this._newPos=i.DomUtil.getPosition(this._element),t.touches&&1===t.touches.length&&i.Browser.touch&&this._longPress&&(this._longPressTimeout=setTimeout(i.bind(function(){var t=this._newPos&&this._newPos.distanceTo(this._startPos)||0;t<i.Draggable.TAP_TOLERANCE&&(this._simulateClick=!1,this._onUp(),this._simulateEvent(\"contextmenu\",e))},this),1e3)),i.DomEvent.on(document,i.Draggable.MOVE,this._onMove,this),i.DomEvent.on(document,i.Draggable.END,this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new i.Point(e.clientX,e.clientY),o=n.subtract(this._startPoint);(o.x||o.y)&&(i.DomEvent.preventDefault(t),this._moved||(this.fire(\"dragstart\"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(o),i.Browser.touch||(i.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(o),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire(\"predrag\"),i.DomUtil.setPosition(this._element,this._newPos),this.fire(\"drag\")},_onUp:function(t){var e;if(clearTimeout(this._longPressTimeout),this._simulateClick&&t.changedTouches){var n=t.changedTouches[0],o=n.target,s=this._newPos&&this._newPos.distanceTo(this._startPos)||0;\"a\"===o.tagName.toLowerCase()&&i.DomUtil.removeClass(o,\"leaflet-active\"),s<i.Draggable.TAP_TOLERANCE&&(e=n)}i.Browser.touch||(i.DomUtil.enableTextSelection(),this._restoreCursor()),i.DomEvent.off(document,i.Draggable.MOVE,this._onMove),i.DomEvent.off(document,i.Draggable.END,this._onUp),this._moved&&(i.Util.cancelAnimFrame(this._animRequest),this.fire(\"dragend\")),this._moving=!1,e&&(this._moved=!1,this._simulateEvent(\"click\",e))},_setMovingCursor:function(){i.DomUtil.addClass(document.body,\"leaflet-dragging\")},_restoreCursor:function(){i.DomUtil.removeClass(document.body,\"leaflet-dragging\")},_simulateEvent:function(e,i){var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)}}),i.Handler=i.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:i.Browser.touch?32:18,easeLinearity:.25,longPress:!0,worldCopyJump:!0}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new i.Draggable(t._mapPane,t._container,t.options.longPress),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on(\"predrag\",this._onPreDrag,this),t.on(\"viewreset\",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire(\"movestart\").fire(\"dragstart\"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire(\"move\").fire(\"drag\")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint(new i.LatLng(0,0));this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project(new i.LatLng(0,180)).x},_onPreDrag:function(){var t=(this._map,this._worldWidth),e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(){var t=this._map,e=t.options,n=+new Date-this._lastTime,o=!e.inertia||n>e.inertiaThreshold||!this._positions[0];if(o)t.fire(\"moveend\");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+n-this._times[0])/1e3,r=s.multiplyBy(e.easeLinearity/a),h=r.distanceTo(new i.Point(0,0)),l=Math.min(e.inertiaMaxSpeed,h),u=r.multiplyBy(l/h),c=l/(e.inertiaDeceleration*e.easeLinearity),d=u.multiplyBy(-c/2).round();i.Util.requestAnimFrame(function(){t.panBy(d,c,e.easeLinearity)})}t.fire(\"dragend\"),e.maxBounds&&i.Util.requestAnimFrame(this._panInsideMaxBounds,t,!0,t._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),i.Map.addInitHook(\"addHandler\",\"dragging\",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on(\"dblclick\",this._onDoubleClick)},removeHooks:function(){this._map.off(\"dblclick\",this._onDoubleClick)},_onDoubleClick:function(t){this.setView(t.latlng,this._zoom+1)}}),i.Map.addInitHook(\"addHandler\",\"doubleClickZoom\",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!i.Browser.touch||i.Browser.msTouch}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"mousewheel\",this._onWheelScroll,this),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,\"mousewheel\",this._onWheelScroll)},_onWheelScroll:function(t){var e=i.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),n),i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=Math.round(this._delta),i=t.getZoom();if(e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e){var n=i+e,o=this._getCenterForScrollWheelZoom(n);t.setView(o,n)}},_getCenterForScrollWheelZoom:function(t){var e=this._map,i=e.getZoomScale(t),n=e.getSize()._divideBy(2),o=this._lastMousePos._subtract(n)._multiplyBy(1-1/i),s=e._getTopLeftPoint()._add(n)._add(o);return e.unproject(s)}}),i.Map.addInitHook(\"addHandler\",\"scrollWheelZoom\",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msTouch?\"MSPointerDown\":\"touchstart\",_touchend:i.Browser.msTouch?\"MSPointerUp\":\"touchend\",addDoubleTapListener:function(t,e,n){function o(t){var e;if(i.Browser.msTouch?(_.push(t.pointerId),e=_.length):e=t.touches.length,!(e>1)){var n=Date.now(),o=n-(a||n);r=t.touches?t.touches[0]:t,h=o>0&&l>=o,a=n}}function s(t){if(i.Browser.msTouch){var n=_.indexOf(t.pointerId);if(-1===n)return;_.splice(n,1)}if(h){if(i.Browser.msTouch){var o,s={};for(var l in r)o=r[l],s[l]=\"function\"==typeof o?o.bind(r):o;r=s}r.type=\"dblclick\",e(r),a=null}}var a,r,h=!1,l=250,u=\"_leaflet_\",c=this._touchstart,d=this._touchend,_=[];t[u+c+n]=o,t[u+d+n]=s;var m=i.Browser.msTouch?document.documentElement:t;return t.addEventListener(c,o,!1),m.addEventListener(d,s,!1),i.Browser.msTouch&&m.addEventListener(\"MSPointerCancel\",s,!1),this},removeDoubleTapListener:function(t,e){var n=\"_leaflet_\";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(i.Browser.msTouch?document.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),i.Browser.msTouch&&document.documentElement.removeEventListener(\"MSPointerCancel\",t[n+this._touchend+e],!1),this}}),i.extend(i.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(t,e,i,n){switch(e){case\"touchstart\":return this.addMsTouchListenerStart(t,e,i,n);case\"touchend\":return this.addMsTouchListenerEnd(t,e,i,n);case\"touchmove\":return this.addMsTouchListenerMove(t,e,i,n);default:throw\"Unknown touch event type\"}},addMsTouchListenerStart:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[o+\"touchstart\"+n]=a,t.addEventListener(\"MSPointerDown\",a,!1),!this._msDocumentListener){var r=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};document.documentElement.addEventListener(\"MSPointerUp\",r,!1),document.documentElement.addEventListener(\"MSPointerCancel\",r,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s=\"_leaflet_\",a=this._msTouches;return t[s+\"touchmove\"+n]=o,t.addEventListener(\"MSPointerMove\",o,!1),this},addMsTouchListenerEnd:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+\"touchend\"+n]=a,t.addEventListener(\"MSPointerUp\",a,!1),t.addEventListener(\"MSPointerCancel\",a,!1),this},removeMsTouchListener:function(t,e,i){var n=\"_leaflet_\",o=t[n+e+i];switch(e){case\"touchstart\":t.removeEventListener(\"MSPointerDown\",o,!1);break;case\"touchmove\":t.removeEventListener(\"MSPointerMove\",o,!1);break;case\"touchend\":t.removeEventListener(\"MSPointerUp\",o,!1),t.removeEventListener(\"MSPointerCancel\",o,!1)}return this}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"touchstart\",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,\"touchstart\",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=n.add(o)._divideBy(2),this._startDist=n.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),i.DomEvent.on(document,\"touchmove\",this._onTouchMove,this).on(document,\"touchend\",this._onTouchEnd,this),i.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length){var e=this._map,n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(o)/this._startDist,this._delta=n._add(o)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(i.DomUtil.addClass(e._mapPane,\"leaflet-zoom-anim leaflet-touching\"),e.fire(\"movestart\").fire(\"zoomstart\")._prepareTileBg(),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),i.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e);t.fire(\"zoomanim\",{center:n,zoom:t.getScaleZoom(this._scale)}),t._tileBg.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(this._delta)+\" \"+i.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(){if(this._moved&&this._zooming){var t=this._map;this._zooming=!1,i.DomUtil.removeClass(t._mapPane,\"leaflet-touching\"),i.DomEvent.off(document,\"touchmove\",this._onTouchMove).off(document,\"touchend\",this._onTouchEnd);var e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),r=t._limitZoom(o+a);t.fire(\"zoomanim\",{center:n,zoom:r}),t._runAnimation(n,r,t.getZoomScale(r)/this._scale,e,!0)}},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),i.Map.addInitHook(\"addHandler\",\"touchZoom\",i.Map.TouchZoom),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){i.DomEvent.on(this._container,\"mousedown\",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,\"mousedown\",this._onMouseDown)},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(i.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=i.DomUtil.create(\"div\",\"leaflet-zoom-box\",this._pane),i.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor=\"crosshair\",i.DomEvent.on(document,\"mousemove\",this._onMouseMove,this).on(document,\"mouseup\",this._onMouseUp,this).preventDefault(t),this._map.fire(\"boxzoomstart\"),void 0)},_onMouseMove:function(t){var e=this._startLayerPoint,n=this._box,o=this._map.mouseEventToLayerPoint(t),s=o.subtract(e),a=new i.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));i.DomUtil.setPosition(n,a),n.style.width=Math.max(0,Math.abs(s.x)-4)+\"px\",n.style.height=Math.max(0,Math.abs(s.y)-4)+\"px\"},_onMouseUp:function(t){this._pane.removeChild(this._box),this._container.style.cursor=\"\",i.DomUtil.enableTextSelection(),i.DomEvent.off(document,\"mousemove\",this._onMouseMove).off(document,\"mouseup\",this._onMouseUp);var e=this._map,n=e.mouseEventToLayerPoint(t),o=new i.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(o),e.fire(\"boxzoomend\",{boxZoomBounds:o})}}),i.Map.addInitHook(\"addHandler\",\"boxZoom\",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex=\"0\"),i.DomEvent.addListener(t,\"focus\",this._onFocus,this).addListener(t,\"blur\",this._onBlur,this).addListener(t,\"mousedown\",this._onMouseDown,this),this._map.on(\"focus\",this._addHooks,this).on(\"blur\",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;i.DomEvent.removeListener(t,\"focus\",this._onFocus,this).removeListener(t,\"blur\",this._onBlur,this).removeListener(t,\"mousedown\",this._onMouseDown,this),this._map.off(\"focus\",this._addHooks,this).off(\"blur\",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire(\"focus\")},_onBlur:function(){this._focused=!1,this._map.fire(\"blur\")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){i.DomEvent.addListener(document,\"keydown\",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.removeListener(document,\"keydown\",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode;if(this._panKeys.hasOwnProperty(e))this._map.panBy(this._panKeys[e]);else{if(!this._zoomKeys.hasOwnProperty(e))return;this._map.setZoom(this._map.getZoom()+this._zoomKeys[e])}i.DomEvent.stop(t)}}),i.Map.addInitHook(\"addHandler\",\"keyboard\",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(t,t).on(\"dragstart\",this._onDragStart,this).on(\"drag\",this._onDrag,this).on(\"dragend\",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire(\"movestart\").fire(\"dragstart\")},_onDrag:function(){var t=this._marker,e=t._shadow,n=i.DomUtil.getPosition(t._icon),o=t._map.layerPointToLatLng(n);e&&i.DomUtil.setPosition(e,n),t._latlng=o,t.fire(\"move\",{latlng:o}).fire(\"drag\")},_onDragEnd:function(){this._marker.fire(\"moveend\").fire(\"dragend\")}}),i.Handler.PolyEdit=i.Handler.extend({options:{icon:new i.DivIcon({iconSize:new i.Point(8,8),className:\"leaflet-div-icon leaflet-editing-icon\"})},initialize:function(t,e){this._poly=t,i.setOptions(this,e)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new i.LayerGroup),this._markers=[];var t,e,n,o,s=this._poly._latlngs;for(t=0,n=s.length;n>t;t++)o=this._createMarker(s[t],t),o.on(\"click\",this._onMarkerClick,this),this._markers.push(o);var a,r;for(t=0,e=n-1;n>t;e=t++)(0!==t||i.Polygon&&this._poly instanceof i.Polygon)&&(a=this._markers[e],r=this._markers[t],this._createMiddleMarker(a,r),this._updatePrevNext(a,r))},_createMarker:function(t,e){var n=new i.Marker(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on(\"drag\",this._onMarkerDrag,this),n.on(\"dragend\",this._fireEdit,this),this._markerGroup.addLayer(n),n},_fireEdit:function(){this._poly.fire(\"edit\")},_onMarkerDrag:function(t){var e=t.target;i.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){if(!(this._poly._latlngs.length<3)){var e=t.target,i=e._index;this._markerGroup.removeLayer(e),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._updatePrevNext(e._prev,e._next),e._middleLeft&&this._markerGroup.removeLayer(e._middleLeft),e._middleRight&&this._markerGroup.removeLayer(e._middleRight),e._prev&&e._next?this._createMiddleMarker(e._prev,e._next):e._prev?e._next||(e._prev._middleRight=null):e._next._middleLeft=null,this._poly.fire(\"edit\")}},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},_createMiddleMarker:function(t,e){var i,n,o,s=this._getMiddleLatLng(t,e),a=this._createMarker(s);a.setOpacity(.6),t._middleRight=e._middleLeft=a,n=function(){var n=e._index;a._index=n,a.off(\"click\",i).on(\"click\",this._onMarkerClick,this),s.lat=a.getLatLng().lat,s.lng=a.getLatLng().lng,this._poly.spliceLatLngs(n,0,s),this._markers.splice(n,0,a),a.setOpacity(1),this._updateIndexes(n,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e)},o=function(){a.off(\"dragstart\",n,this),a.off(\"dragend\",o,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},i=function(){n.call(this),o.call(this),this._poly.fire(\"edit\")},a.on(\"click\",i,this).on(\"dragstart\",n,this).on(\"dragend\",o,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.latLngToLayerPoint(t.getLatLng()),o=i.latLngToLayerPoint(e.getLatLng());return i.layerPointToLatLng(n._add(o)._divideBy(2))}}),i.Control=i.Class.extend({options:{position:\"topright\"},initialize:function(t){i.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return i.DomUtil.addClass(e,\"leaflet-control\"),-1!==n.indexOf(\"bottom\")?o.insertBefore(e,o.firstChild):o.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),i.control=function(t){return new i.Control(t)},i.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=n+t+\" \"+n+s;e[t+s]=i.DomUtil.create(\"div\",a,o)}var e=this._controlCorners={},n=\"leaflet-\",o=this._controlContainer=i.DomUtil.create(\"div\",n+\"control-container\",this._container);t(\"top\",\"left\"),t(\"top\",\"right\"),t(\"bottom\",\"left\"),t(\"bottom\",\"right\")}}),i.Control.Zoom=i.Control.extend({options:{position:\"topleft\"},onAdd:function(t){var e=\"leaflet-control-zoom\",n=i.DomUtil.create(\"div\",e);return this._map=t,this._createButton(\"Zoom in\",e+\"-in\",n,this._zoomIn,this),this._createButton(\"Zoom out\",e+\"-out\",n,this._zoomOut,this),n},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,o,s){var a=i.DomUtil.create(\"a\",e,n);\nreturn a.href=\"#\",a.title=t,i.DomEvent.on(a,\"click\",i.DomEvent.stopPropagation).on(a,\"mousedown\",i.DomEvent.stopPropagation).on(a,\"dblclick\",i.DomEvent.stopPropagation).on(a,\"click\",i.DomEvent.preventDefault).on(a,\"click\",o,s),a}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(t){return new i.Control.Zoom(t)},i.Control.Attribution=i.Control.extend({options:{position:\"bottomright\",prefix:'Powered by <a href=\"http://leafletjs.com\">Leaflet</a>'},initialize:function(t){i.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=i.DomUtil.create(\"div\",\"leaflet-control-attribution\"),i.DomEvent.disableClickPropagation(this._container),t.on(\"layeradd\",this._onLayerAdd,this).on(\"layerremove\",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off(\"layeradd\",this._onLayerAdd).off(\"layerremove\",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]--,this._update(),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(\", \")),this._container.innerHTML=i.join(\" &#8212; \")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new i.Control.Attribution).addTo(this))}),i.control.attribution=function(t){return new i.Control.Attribution(t)},i.Control.Scale=i.Control.extend({options:{position:\"bottomleft\",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e=\"leaflet-control-scale\",n=i.DomUtil.create(\"div\",e),o=this.options;return this._addScales(o,e,n),t.on(o.updateWhenIdle?\"moveend\":\"move\",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?\"moveend\":\"move\",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=i.DomUtil.create(\"div\",e+\"-line\",n)),t.imperial&&(this._iScale=i.DomUtil.create(\"div\",e+\"-line\",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+\"px\",this._mScale.innerHTML=1e3>e?e+\" m\":e/1e3+\" km\"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+\"px\",s.innerHTML=i+\" mi\"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+\"px\",s.innerHTML=n+\" ft\")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+\"\").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),i.control.scale=function(t){return new i.Control.Scale(t)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:\"topright\",autoZIndex:!0},initialize:function(t,e,n){i.setOptions(this,n),this._layers={},this._lastZIndex=0;for(var o in t)t.hasOwnProperty(o)&&this._addLayer(t[o],o);for(o in e)e.hasOwnProperty(o)&&this._addLayer(e[o],o,!0)},onAdd:function(){return this._initLayout(),this._update(),this._container},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t=\"leaflet-control-layers\",e=this._container=i.DomUtil.create(\"div\",t);i.Browser.touch?i.DomEvent.on(e,\"click\",i.DomEvent.stopPropagation):i.DomEvent.disableClickPropagation(e);var n=this._form=i.DomUtil.create(\"form\",t+\"-list\");if(this.options.collapsed){i.DomEvent.on(e,\"mouseover\",this._expand,this).on(e,\"mouseout\",this._collapse,this);var o=this._layersLink=i.DomUtil.create(\"a\",t+\"-toggle\",e);o.href=\"#\",o.title=\"Layers\",i.Browser.touch?i.DomEvent.on(o,\"click\",i.DomEvent.stopPropagation).on(o,\"click\",i.DomEvent.preventDefault).on(o,\"click\",this._expand,this):i.DomEvent.on(o,\"focus\",this._expand,this),this._map.on(\"movestart\",this._collapse,this)}else this._expand();this._baseLayersList=i.DomUtil.create(\"div\",t+\"-base\",n),this._separator=i.DomUtil.create(\"div\",t+\"-separator\",n),this._overlaysList=i.DomUtil.create(\"div\",t+\"-overlays\",n),e.appendChild(n)},_addLayer:function(t,e,n){var o=i.stamp(t);this._layers[o]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=\"\",this._overlaysList.innerHTML=\"\";var t=!1,e=!1;for(var i in this._layers)if(this._layers.hasOwnProperty(i)){var n=this._layers[i];this._addItem(n),e=e||n.overlay,t=t||!n.overlay}this._separator.style.display=e&&t?\"\":\"none\"}},_createRadioElement:function(t,e){var i='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'+t+'\"';e&&(i+=' checked=\"checked\"'),i+=\"/>\";var n=document.createElement(\"div\");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,n=document.createElement(\"label\"),o=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement(\"input\"),e.type=\"checkbox\",e.className=\"leaflet-control-layers-selector\",e.defaultChecked=o):e=this._createRadioElement(\"leaflet-base-layers\",o),e.layerId=i.stamp(t.layer),i.DomEvent.on(e,\"click\",this._onInputClick,this);var s=document.createElement(\"span\");s.innerHTML=\" \"+t.name,n.appendChild(e),n.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(n)},_onInputClick:function(){var t,e,i,n,o=this._form.getElementsByTagName(\"input\"),s=o.length;for(t=0;s>t;t++)e=o[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?(this._map.addLayer(i.layer),i.overlay||(n=i.layer)):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);n&&this._map.fire(\"baselayerchange\",{layer:n})},_expand:function(){i.DomUtil.addClass(this._container,\"leaflet-control-layers-expanded\")},_collapse:function(){this._container.className=this._container.className.replace(\" leaflet-control-layers-expanded\",\"\")}}),i.control.layers=function(t,e,n){return new i.Control.Layers(t,e,n)},i.PosAnimation=i.Class.extend({includes:i.Mixin.Events,run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this.fire(\"start\"),t.style[i.DomUtil.TRANSITION]=\"all \"+(n||.25)+\"s cubic-bezier(0,0,\"+(o||.5)+\",1)\",i.DomEvent.on(t,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),i.DomUtil.setPosition(t,e),i.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(i.bind(this.fire,this,\"step\"),50)},stop:function(){this._inProgress&&(i.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),i.Util.falseFn(this._el.offsetWidth))},_transformRe:/(-?[\\d\\.]+), (-?[\\d\\.]+)\\)/,_getPos:function(){var e,n,o,s=this._el,a=t.getComputedStyle(s);return i.Browser.any3d?(o=a[i.DomUtil.TRANSFORM].match(this._transformRe),e=parseFloat(o[1]),n=parseFloat(o[2])):(e=parseFloat(a.left),n=parseFloat(a.top)),new i.Point(e,n,!0)},_onTransitionEnd:function(){i.DomEvent.off(this._el,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[i.DomUtil.TRANSITION]=\"\",clearInterval(this._stepTimer),this.fire(\"step\").fire(\"end\"))}}),i.Map.include({setView:function(t,e,i){e=this._limitZoom(e);var n=this._zoom!==e;if(this._loaded&&!i&&this._layers){this._panAnim&&this._panAnim.stop();var o=n?this._zoomToIfClose&&this._zoomToIfClose(t,e):this._panByIfClose(t);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e,n){if(t=i.point(t),!t.x&&!t.y)return this;this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),this.fire(\"movestart\"),i.DomUtil.addClass(this._mapPane,\"leaflet-pan-anim\");var o=i.DomUtil.getPosition(this._mapPane).subtract(t);return this._panAnim.run(this._mapPane,o,e||.25,n),this},_onPanTransitionStep:function(){this.fire(\"move\")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,\"leaflet-pan-anim\"),this.fire(\"moveend\")},_panByIfClose:function(t){var e=this._getCenterOffset(t)._floor();return this._offsetIsWithinView(e)?(this.panBy(e),!0):!1},_offsetIsWithinView:function(t,e){var i=e||1,n=this.getSize();return Math.abs(t.x)<=n.x*i&&Math.abs(t.y)<=n.y*i}}),i.PosAnimation=i.DomUtil.TRANSITION?i.PosAnimation:i.PosAnimation.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=i.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire(\"start\"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));i.DomUtil.setPosition(this._el,e),this.fire(\"step\")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire(\"end\")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),i.Map.mergeOptions({zoomAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23&&!i.Browser.mobileOpera}),i.DomUtil.TRANSITION&&i.Map.addInitHook(function(){i.DomEvent.on(this._mapPane,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),i.Map.include(i.DomUtil.TRANSITION?{_zoomToIfClose:function(t,e){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);if(!this._offsetIsWithinView(o,1))return!1;i.DomUtil.addClass(this._mapPane,\"leaflet-zoom-anim\"),this.fire(\"movestart\").fire(\"zoomstart\"),this.fire(\"zoomanim\",{center:t,zoom:e});var s=this._getCenterLayerPoint().add(o);return this._prepareTileBg(),this._runAnimation(t,e,n,s),!0},_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(t,e,n,o,s){this._animateToCenter=t,this._animateToZoom=e,this._animatingZoom=!0,i.Draggable&&(i.Draggable._disabled=!0);var a=i.DomUtil.TRANSFORM,r=this._tileBg;clearTimeout(this._clearTileBgTimer),i.Util.falseFn(r.offsetWidth);var h=i.DomUtil.getScaleString(n,o),l=r.style[a];r.style[a]=s?l+\" \"+h:h+\" \"+l},_prepareTileBg:function(){var t=this._tilePane,e=this._tileBg;if(e&&this._getLoadedTilesPercentage(e)>.5&&this._getLoadedTilesPercentage(t)<.5)return t.style.visibility=\"hidden\",t.empty=!0,this._stopLoadingImages(t),void 0;e||(e=this._tileBg=this._createPane(\"leaflet-tile-pane\",this._mapPane),e.style.zIndex=1),e.style[i.DomUtil.TRANSFORM]=\"\",e.style.visibility=\"hidden\",e.empty=!0,t.empty=!1,this._tilePane=this._panes.tilePane=e;var n=this._tileBg=t;i.DomUtil.addClass(n,\"leaflet-zoom-animated\"),this._stopLoadingImages(n)},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName(\"img\"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,n,o,s=Array.prototype.slice.call(t.getElementsByTagName(\"img\"));for(e=0,n=s.length;n>e;e++)o=s[e],o.complete||(o.onload=i.Util.falseFn,o.onerror=i.Util.falseFn,o.src=i.Util.emptyImageUrl,o.parentNode.removeChild(o))},_onZoomTransitionEnd:function(){this._restoreTileFront(),i.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),i.DomUtil.removeClass(this._mapPane,\"leaflet-zoom-anim\"),this._animatingZoom=!1,i.Draggable&&(i.Draggable._disabled=!1)},_restoreTileFront:function(){this._tilePane.innerHTML=\"\",this._tilePane.style.visibility=\"\",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){this._animatingZoom||this.touchZoom._zooming||(this._tileBg.innerHTML=\"\")}}:{}),i.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locationOptions=i.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:\"Geolocation not supported.\"}),this;var e=i.bind(this._handleGeolocationResponse,this),n=i.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?\"permission denied\":2===e?\"position unavailable\":\"timeout\");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(\"locationerror\",{code:e,message:\"Geolocation error: \"+i+\".\"})},_handleGeolocationResponse:function(t){var e=180*t.coords.accuracy/4e7,n=2*e,o=t.coords.latitude,s=t.coords.longitude,a=new i.LatLng(o,s),r=new i.LatLng(o-e,s-n),h=new i.LatLng(o+e,s+n),l=new i.LatLngBounds(r,h),u=this._locationOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(l),u.maxZoom);this.setView(a,c)}this.fire(\"locationfound\",{latlng:a,bounds:l,accuracy:t.coords.accuracy})}})}(this);\n!function(){var t;t=function(){function t(t){this.$map=t,this.init_map()}return t.prototype.clearance=[29,43],t.prototype.init_map=function(){var t;return this.map=L.map(this.$map[0],{zoomControl:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1,fadeAnimation:!1,dragging:!1,maxZoom:13}),t=new L.TileLayer($.hipmunk.map_tiles_url||hm.settings.map_tiles_url),this.map.addLayer(t),this.$map.on(\"mousedown\",\"img\",function(t){return t.preventDefault()})},t.prototype.center_view_from_locations=function(t){var e,i,a,n,o;for(e=new L.LatLngBounds,n=0,o=t.length;o>n;n++)i=t[n],e=e.extend([i[1],i[0]]);a=[this.$map[0].style.width,this.$map[0].style.height],this.$map.css(\"width\",this.$map.width()-this.clearance[0]),this.$map.css(\"height\",this.$map.height()-this.clearance[1]),this.map.invalidateSize(),this.map.fitBounds(e),this.$map.css(\"width\",a[0]),this.$map.css(\"height\",a[1]),this.map.invalidateSize()},t.prototype.insert_marker=function(t,e,i,a){var n,o,r;return null==i&&(i=null),null==a&&(a=null),a||(a=drykup.render($.templates.map_pin_marker(i))),e=new L.LatLng(e[1],e[0]),n=new L.DivIcon({className:t,html:a,iconAnchor:[0,5]}),r={clickable:!1,icon:n},i&&(r.zIndexOffset=1e3-50*i),o=new L.marker(e,r),this.map.addLayer(o)},t.prototype.draw_shape=function(t){var e,i,a,n;return n=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)a=t[e],n.push(new L.LatLng(a[1],a[0]));return n}(),e=new L.Polygon(n,{stroke:!0,fill:!0,fillOpacity:1,strokeOpacity:1,weight:1,layer:\"subtile\",fillColor:\"#e9f7ff\"}),i=new L.Polygon(n,{stroke:!0,color:\"#0d98e2\",weight:2,fill:!1,strokeOpacity:1,hover:!1,clickable:!1}),this.map.addLayer(e),this.map.addLayer(i)},t.prototype.draw_line=function(t){var e,i,a,n;return e=function(){var e,a,n;for(n=[],e=0,a=t.length;a>e;e++)i=t[e],n.push(new L.LatLng(i[1],i[0]));return n}(),a={color:\"#444444\",opacity:1,weight:2,clickable:!1,dashArray:\"5\"},n=new L.polyline(e,a),this.map.addLayer(n)},t}(),hm[\"export\"]({views:{HotelMiniMapView:t}})}.call(this);\n!function(){var t,r,n,e,a,i,u,l,o,d,m,b,p,c,f,s,h,_,k,g,v,w,x,y,j,q,z,A,B,C,D,E;E=window.drykup,g=E.render,a=E.div,w=E.span,x=E.table,B=E.thead,y=E.tbody,C=E.tr,j=E.td,A=E.th,q=E.text,z=E.textarea,e=E.button,d=E.hr,m=E.iframe,k=E.raw,t=E.a,n=E.br,r=E.b,b=E.img,c=E.label,i=E.form,p=E.input,D=E.ul,f=E.li,u=E.h1,l=E.h2,o=E.h4,v=E.select,h=E.option,_=E.p,s=E.meta,$.templates.map_pin_marker=function(t){return a(\".pin\",function(){return null!=t?a(\".number\",function(){return q(t)}):void 0}),a(\".shadow\")},$.templates.list_badge_marker=function(t,r){return a(\".list-badge-marker\"+t,function(){return null!=r?a(\".list-badge-marker__number\",function(){return q(r)}):void 0})}}.call(this);\n!function(){var e,t,i,o,n;t=hm.views.HotelMiniMapView,o=hm.utils.smooth_on_scroll,n=hm.widgets,i=n.RedirectingSearchForm,e=n.ComboSearchForm,$.hipmunk.CityPageView=function(){function i(i,o){var n,s,l,r,a,c;for(null==o&&(o=null),this.$el=$(\".content:first\"),r=new t(this.$el.find(\".minimap\")),s=a=0,c=i.length;c>a;s=++a)l=i[s],n=\"map-pin-marker blue index-\"+s+\" js-map-pin\",r.insert_marker(n,l,s+1);r.center_view_from_locations(i),o&&r.draw_shape(o),e.init({$el:this.$el.find(\".wide-combo-search\"),use_autocomplete:!0,use_calendar:!0}),this.setup_handlers()}return i.prototype.setup_handlers=function(){var e,t,i=this;return this.$el.on(\"click\",\".js-hood-button\",function(e){var t,o;return t=$(e.currentTarget),o=t.cdata(\"hood_idx\"),t.addClass(\"selected\").siblings().removeClass(\"selected\"),i.$el.find(\".hood-content.hood_idx-\"+o).show().siblings().hide(),$.hipmunk.utils.track(\"city_page_neighborhood_click\"),!1}),this.$el.on(\"mouseover mouseout\",\".js-hotel-item\",function(e){var t,o,n;t=$(e.currentTarget),n=t.cdata(\"hotel-item-idx\"),o=i.$el.find(\".minimap .map-pin-marker.index-\"+n),o.toggleClass(\"highlight\",\"mouseover\"===e.type)}),this.$el.on(\"click\",\".js-hotel-item\",function(){$.hipmunk.utils.track(\"city_page_hotel_click\")}),this.$el.on(\"mouseover mouseout click\",\".js-map-pin\",function(e){var t,o;o=$(e.currentTarget).cdata(\"index\"),t=i.$el.find(\".hotel-list-item\").eq(o),\"click\"===e.type?window.open(t.attr(\"href\")):t.toggleClass(\"highlight\",\"mouseover\"===e.type)}),e=this.$el.find(\".wide-combo-search\"),t=$(window),o(function(){var i;i=e.parent().offset().top,e.toggleClass(\"float-on-top\",t.scrollTop()>i),$.close_popups()})},i}()}.call(this);\n}catch(e){window.TraceKit&&TraceKit.report(e);throw e;}\n//# sourceMappingURL=city_page.group.map"
      },
      "/inline_2147bef0afb5c748e494b3d18f0e1f33": {
         "body": " var load_user = function(updates) { if ((typeof $ === \"undefined\" || $ === null) || ($.hipmunk == null) || (typeof _ === \"undefined\" || _ === null)) { setTimeout((function() { return load_user(updates); }), 50); return; } TraceKit.wrap(function () { $.hipmunk.user = updates.user; _.extend($.hipmunk, updates.hipmunk); $.hipmunk.user.deal_alerts_changed = $.Callbacks(); $.hipmunk.user.preferences = JSON.parse($.hipmunk.user.preferences); $.hipmunk.user.deal_alerts = JSON.parse($.hipmunk.user.deal_alerts); $.hipmunk.saved_searches = JSON.parse($.hipmunk.saved_searches); $.hipmunk.user_loaded = true; hipmunk_main(); })(); }; /* if we have a user stick it in direclty */ load_user({\"hipmunk\": {\"saved_searches\": \"[]\", \"trip_planner_enabled\": false, \"bizclass_sidebar_enabled\": true, \"creditcards\": [], \"can_show_nps_survey\": true, \"logged_in\": false}, \"user\": {\"has_entered_sweepstakes_Dec2013\": false, \"billing_hm_status\": \"hm_none\", \"has_bizclass_access\": false, \"referer_url\": \"\", \"last_name\": null, \"has_password\": false, \"id\": \"52a7e76655a3f328bd000893\", \"first_name\": null, \"preferences\": \"{}\", \"phone_number\": null, \"deal_alerts\": \"{}\", \"last_shared_email\": \"\", \"has_fb_linked\": false, \"has_finished_ftue\": false, \"birthday\": null, \"home_airport\": null, \"language\": \"en\", \"country\": \"US\", \"deals_city\": null, \"billing_hm_trial_days_left\": false, \"gender\": null, \"has_google_linked\": false}}); ",
         "pageUrl": "http://www.hipmunk.com/explore/airports",
         "scriptUrl": "/inline_2147bef0afb5c748e494b3d18f0e1f33"
      },
      "https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js": {
         "pageUrl": "http://www.hipmunk.com/explore/events",
         "scriptUrl": "https://ajax.googleapis.com/ajax/libs/jquery/1.8.3/jquery.min.js",
         "body": "/*! jQuery v1.8.3 jquery.com | jquery.org/license */\r\n(function(e,t){function _(e){var t=M[e]={};return v.each(e.split(y),function(e,n){t[n]=!0}),t}function H(e,n,r){if(r===t&&e.nodeType===1){var i=\"data-\"+n.replace(P,\"-$1\").toLowerCase();r=e.getAttribute(i);if(typeof r==\"string\"){try{r=r===\"true\"?!0:r===\"false\"?!1:r===\"null\"?null:+r+\"\"===r?+r:D.test(r)?v.parseJSON(r):r}catch(s){}v.data(e,n,r)}else r=t}return r}function B(e){var t;for(t in e){if(t===\"data\"&&v.isEmptyObject(e[t]))continue;if(t!==\"toJSON\")return!1}return!0}function et(){return!1}function tt(){return!0}function ut(e){return!e||!e.parentNode||e.parentNode.nodeType===11}function at(e,t){do e=e[t];while(e&&e.nodeType!==1);return e}function ft(e,t,n){t=t||0;if(v.isFunction(t))return v.grep(e,function(e,r){var i=!!t.call(e,r,e);return i===n});if(t.nodeType)return v.grep(e,function(e,r){return e===t===n});if(typeof t==\"string\"){var r=v.grep(e,function(e){return e.nodeType===1});if(it.test(t))return v.filter(t,r,!n);t=v.filter(t,r)}return v.grep(e,function(e,r){return v.inArray(e,t)>=0===n})}function lt(e){var t=ct.split(\"|\"),n=e.createDocumentFragment();if(n.createElement)while(t.length)n.createElement(t.pop());return n}function Lt(e,t){return e.getElementsByTagName(t)[0]||e.appendChild(e.ownerDocument.createElement(t))}function At(e,t){if(t.nodeType!==1||!v.hasData(e))return;var n,r,i,s=v._data(e),o=v._data(t,s),u=s.events;if(u){delete o.handle,o.events={};for(n in u)for(r=0,i=u[n].length;r<i;r++)v.event.add(t,n,u[n][r])}o.data&&(o.data=v.extend({},o.data))}function Ot(e,t){var n;if(t.nodeType!==1)return;t.clearAttributes&&t.clearAttributes(),t.mergeAttributes&&t.mergeAttributes(e),n=t.nodeName.toLowerCase(),n===\"object\"?(t.parentNode&&(t.outerHTML=e.outerHTML),v.support.html5Clone&&e.innerHTML&&!v.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):n===\"input\"&&Et.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):n===\"option\"?t.selected=e.defaultSelected:n===\"input\"||n===\"textarea\"?t.defaultValue=e.defaultValue:n===\"script\"&&t.text!==e.text&&(t.text=e.text),t.removeAttribute(v.expando)}function Mt(e){return typeof e.getElementsByTagName!=\"undefined\"?e.getElementsByTagName(\"*\"):typeof e.querySelectorAll!=\"undefined\"?e.querySelectorAll(\"*\"):[]}function _t(e){Et.test(e.type)&&(e.defaultChecked=e.checked)}function Qt(e,t){if(t in e)return t;var n=t.charAt(0).toUpperCase()+t.slice(1),r=t,i=Jt.length;while(i--){t=Jt[i]+n;if(t in e)return t}return r}function Gt(e,t){return e=t||e,v.css(e,\"display\")===\"none\"||!v.contains(e.ownerDocument,e)}function Yt(e,t){var n,r,i=[],s=0,o=e.length;for(;s<o;s++){n=e[s];if(!n.style)continue;i[s]=v._data(n,\"olddisplay\"),t?(!i[s]&&n.style.display===\"none\"&&(n.style.display=\"\"),n.style.display===\"\"&&Gt(n)&&(i[s]=v._data(n,\"olddisplay\",nn(n.nodeName)))):(r=Dt(n,\"display\"),!i[s]&&r!==\"none\"&&v._data(n,\"olddisplay\",r))}for(s=0;s<o;s++){n=e[s];if(!n.style)continue;if(!t||n.style.display===\"none\"||n.style.display===\"\")n.style.display=t?i[s]||\"\":\"none\"}return e}function Zt(e,t,n){var r=Rt.exec(t);return r?Math.max(0,r[1]-(n||0))+(r[2]||\"px\"):t}function en(e,t,n,r){var i=n===(r?\"border\":\"content\")?4:t===\"width\"?1:0,s=0;for(;i<4;i+=2)n===\"margin\"&&(s+=v.css(e,n+$t[i],!0)),r?(n===\"content\"&&(s-=parseFloat(Dt(e,\"padding\"+$t[i]))||0),n!==\"margin\"&&(s-=parseFloat(Dt(e,\"border\"+$t[i]+\"Width\"))||0)):(s+=parseFloat(Dt(e,\"padding\"+$t[i]))||0,n!==\"padding\"&&(s+=parseFloat(Dt(e,\"border\"+$t[i]+\"Width\"))||0));return s}function tn(e,t,n){var r=t===\"width\"?e.offsetWidth:e.offsetHeight,i=!0,s=v.support.boxSizing&&v.css(e,\"boxSizing\")===\"border-box\";if(r<=0||r==null){r=Dt(e,t);if(r<0||r==null)r=e.style[t];if(Ut.test(r))return r;i=s&&(v.support.boxSizingReliable||r===e.style[t]),r=parseFloat(r)||0}return r+en(e,t,n||(s?\"border\":\"content\"),i)+\"px\"}function nn(e){if(Wt[e])return Wt[e];var t=v(\"<\"+e+\">\").appendTo(i.body),n=t.css(\"display\");t.remove();if(n===\"none\"||n===\"\"){Pt=i.body.appendChild(Pt||v.extend(i.createElement(\"iframe\"),{frameBorder:0,width:0,height:0}));if(!Ht||!Pt.createElement)Ht=(Pt.contentWindow||Pt.contentDocument).document,Ht.write(\"<!doctype html><html><body>\"),Ht.close();t=Ht.body.appendChild(Ht.createElement(e)),n=Dt(t,\"display\"),i.body.removeChild(Pt)}return Wt[e]=n,n}function fn(e,t,n,r){var i;if(v.isArray(t))v.each(t,function(t,i){n||sn.test(e)?r(e,i):fn(e+\"[\"+(typeof i==\"object\"?t:\"\")+\"]\",i,n,r)});else if(!n&&v.type(t)===\"object\")for(i in t)fn(e+\"[\"+i+\"]\",t[i],n,r);else r(e,t)}function Cn(e){return function(t,n){typeof t!=\"string\"&&(n=t,t=\"*\");var r,i,s,o=t.toLowerCase().split(y),u=0,a=o.length;if(v.isFunction(n))for(;u<a;u++)r=o[u],s=/^\\+/.test(r),s&&(r=r.substr(1)||\"*\"),i=e[r]=e[r]||[],i[s?\"unshift\":\"push\"](n)}}function kn(e,n,r,i,s,o){s=s||n.dataTypes[0],o=o||{},o[s]=!0;var u,a=e[s],f=0,l=a?a.length:0,c=e===Sn;for(;f<l&&(c||!u);f++)u=a[f](n,r,i),typeof u==\"string\"&&(!c||o[u]?u=t:(n.dataTypes.unshift(u),u=kn(e,n,r,i,u,o)));return(c||!u)&&!o[\"*\"]&&(u=kn(e,n,r,i,\"*\",o)),u}function Ln(e,n){var r,i,s=v.ajaxSettings.flatOptions||{};for(r in n)n[r]!==t&&((s[r]?e:i||(i={}))[r]=n[r]);i&&v.extend(!0,e,i)}function An(e,n,r){var i,s,o,u,a=e.contents,f=e.dataTypes,l=e.responseFields;for(s in l)s in r&&(n[l[s]]=r[s]);while(f[0]===\"*\")f.shift(),i===t&&(i=e.mimeType||n.getResponseHeader(\"content-type\"));if(i)for(s in a)if(a[s]&&a[s].test(i)){f.unshift(s);break}if(f[0]in r)o=f[0];else{for(s in r){if(!f[0]||e.converters[s+\" \"+f[0]]){o=s;break}u||(u=s)}o=o||u}if(o)return o!==f[0]&&f.unshift(o),r[o]}function On(e,t){var n,r,i,s,o=e.dataTypes.slice(),u=o[0],a={},f=0;e.dataFilter&&(t=e.dataFilter(t,e.dataType));if(o[1])for(n in e.converters)a[n.toLowerCase()]=e.converters[n];for(;i=o[++f];)if(i!==\"*\"){if(u!==\"*\"&&u!==i){n=a[u+\" \"+i]||a[\"* \"+i];if(!n)for(r in a){s=r.split(\" \");if(s[1]===i){n=a[u+\" \"+s[0]]||a[\"* \"+s[0]];if(n){n===!0?n=a[r]:a[r]!==!0&&(i=s[0],o.splice(f--,0,i));break}}}if(n!==!0)if(n&&e[\"throws\"])t=n(t);else try{t=n(t)}catch(l){return{state:\"parsererror\",error:n?l:\"No conversion from \"+u+\" to \"+i}}}u=i}return{state:\"success\",data:t}}function Fn(){try{return new e.XMLHttpRequest}catch(t){}}function In(){try{return new e.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(t){}}function $n(){return setTimeout(function(){qn=t},0),qn=v.now()}function Jn(e,t){v.each(t,function(t,n){var r=(Vn[t]||[]).concat(Vn[\"*\"]),i=0,s=r.length;for(;i<s;i++)if(r[i].call(e,t,n))return})}function Kn(e,t,n){var r,i=0,s=0,o=Xn.length,u=v.Deferred().always(function(){delete a.elem}),a=function(){var t=qn||$n(),n=Math.max(0,f.startTime+f.duration-t),r=n/f.duration||0,i=1-r,s=0,o=f.tweens.length;for(;s<o;s++)f.tweens[s].run(i);return u.notifyWith(e,[f,i,n]),i<1&&o?n:(u.resolveWith(e,[f]),!1)},f=u.promise({elem:e,props:v.extend({},t),opts:v.extend(!0,{specialEasing:{}},n),originalProperties:t,originalOptions:n,startTime:qn||$n(),duration:n.duration,tweens:[],createTween:function(t,n,r){var i=v.Tween(e,f.opts,t,n,f.opts.specialEasing[t]||f.opts.easing);return f.tweens.push(i),i},stop:function(t){var n=0,r=t?f.tweens.length:0;for(;n<r;n++)f.tweens[n].run(1);return t?u.resolveWith(e,[f,t]):u.rejectWith(e,[f,t]),this}}),l=f.props;Qn(l,f.opts.specialEasing);for(;i<o;i++){r=Xn[i].call(f,e,l,f.opts);if(r)return r}return Jn(f,l),v.isFunction(f.opts.start)&&f.opts.start.call(e,f),v.fx.timer(v.extend(a,{anim:f,queue:f.opts.queue,elem:e})),f.progress(f.opts.progress).done(f.opts.done,f.opts.complete).fail(f.opts.fail).always(f.opts.always)}function Qn(e,t){var n,r,i,s,o;for(n in e){r=v.camelCase(n),i=t[r],s=e[n],v.isArray(s)&&(i=s[1],s=e[n]=s[0]),n!==r&&(e[r]=s,delete e[n]),o=v.cssHooks[r];if(o&&\"expand\"in o){s=o.expand(s),delete e[r];for(n in s)n in e||(e[n]=s[n],t[n]=i)}else t[r]=i}}function Gn(e,t,n){var r,i,s,o,u,a,f,l,c,h=this,p=e.style,d={},m=[],g=e.nodeType&&Gt(e);n.queue||(l=v._queueHooks(e,\"fx\"),l.unqueued==null&&(l.unqueued=0,c=l.empty.fire,l.empty.fire=function(){l.unqueued||c()}),l.unqueued++,h.always(function(){h.always(function(){l.unqueued--,v.queue(e,\"fx\").length||l.empty.fire()})})),e.nodeType===1&&(\"height\"in t||\"width\"in t)&&(n.overflow=[p.overflow,p.overflowX,p.overflowY],v.css(e,\"display\")===\"inline\"&&v.css(e,\"float\")===\"none\"&&(!v.support.inlineBlockNeedsLayout||nn(e.nodeName)===\"inline\"?p.display=\"inline-block\":p.zoom=1)),n.overflow&&(p.overflow=\"hidden\",v.support.shrinkWrapBlocks||h.done(function(){p.overflow=n.overflow[0],p.overflowX=n.overflow[1],p.overflowY=n.overflow[2]}));for(r in t){s=t[r];if(Un.exec(s)){delete t[r],a=a||s===\"toggle\";if(s===(g?\"hide\":\"show\"))continue;m.push(r)}}o=m.length;if(o){u=v._data(e,\"fxshow\")||v._data(e,\"fxshow\",{}),\"hidden\"in u&&(g=u.hidden),a&&(u.hidden=!g),g?v(e).show():h.done(function(){v(e).hide()}),h.done(function(){var t;v.removeData(e,\"fxshow\",!0);for(t in d)v.style(e,t,d[t])});for(r=0;r<o;r++)i=m[r],f=h.createTween(i,g?u[i]:0),d[i]=u[i]||v.style(e,i),i in u||(u[i]=f.start,g&&(f.end=f.start,f.start=i===\"width\"||i===\"height\"?1:0))}}function Yn(e,t,n,r,i){return new Yn.prototype.init(e,t,n,r,i)}function Zn(e,t){var n,r={height:e},i=0;t=t?1:0;for(;i<4;i+=2-t)n=$t[i],r[\"margin\"+n]=r[\"padding\"+n]=e;return t&&(r.opacity=r.width=e),r}function tr(e){return v.isWindow(e)?e:e.nodeType===9?e.defaultView||e.parentWindow:!1}var n,r,i=e.document,s=e.location,o=e.navigator,u=e.jQuery,a=e.$,f=Array.prototype.push,l=Array.prototype.slice,c=Array.prototype.indexOf,h=Object.prototype.toString,p=Object.prototype.hasOwnProperty,d=String.prototype.trim,v=function(e,t){return new v.fn.init(e,t,n)},m=/[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source,g=/\\S/,y=/\\s+/,b=/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g,w=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,E=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>|)$/,S=/^[\\],:{}\\s]*$/,x=/(?:^|:|,)(?:\\s*\\[)+/g,T=/\\\\(?:[\"\\\\\\/bfnrt]|u[\\da-fA-F]{4})/g,N=/\"[^\"\\\\\\r\\n]*\"|true|false|null|-?(?:\\d\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/g,C=/^-ms-/,k=/-([\\da-z])/gi,L=function(e,t){return(t+\"\").toUpperCase()},A=function(){i.addEventListener?(i.removeEventListener(\"DOMContentLoaded\",A,!1),v.ready()):i.readyState===\"complete\"&&(i.detachEvent(\"onreadystatechange\",A),v.ready())},O={};v.fn=v.prototype={constructor:v,init:function(e,n,r){var s,o,u,a;if(!e)return this;if(e.nodeType)return this.context=this[0]=e,this.length=1,this;if(typeof e==\"string\"){e.charAt(0)===\"<\"&&e.charAt(e.length-1)===\">\"&&e.length>=3?s=[null,e,null]:s=w.exec(e);if(s&&(s[1]||!n)){if(s[1])return n=n instanceof v?n[0]:n,a=n&&n.nodeType?n.ownerDocument||n:i,e=v.parseHTML(s[1],a,!0),E.test(s[1])&&v.isPlainObject(n)&&this.attr.call(e,n,!0),v.merge(this,e);o=i.getElementById(s[2]);if(o&&o.parentNode){if(o.id!==s[2])return r.find(e);this.length=1,this[0]=o}return this.context=i,this.selector=e,this}return!n||n.jquery?(n||r).find(e):this.constructor(n).find(e)}return v.isFunction(e)?r.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),v.makeArray(e,this))},selector:\"\",jquery:\"1.8.3\",length:0,size:function(){return this.length},toArray:function(){return l.call(this)},get:function(e){return e==null?this.toArray():e<0?this[this.length+e]:this[e]},pushStack:function(e,t,n){var r=v.merge(this.constructor(),e);return r.prevObject=this,r.context=this.context,t===\"find\"?r.selector=this.selector+(this.selector?\" \":\"\")+n:t&&(r.selector=this.selector+\".\"+t+\"(\"+n+\")\"),r},each:function(e,t){return v.each(this,e,t)},ready:function(e){return v.ready.promise().done(e),this},eq:function(e){return e=+e,e===-1?this.slice(e):this.slice(e,e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(l.apply(this,arguments),\"slice\",l.call(arguments).join(\",\"))},map:function(e){return this.pushStack(v.map(this,function(t,n){return e.call(t,n,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:f,sort:[].sort,splice:[].splice},v.fn.init.prototype=v.fn,v.extend=v.fn.extend=function(){var e,n,r,i,s,o,u=arguments[0]||{},a=1,f=arguments.length,l=!1;typeof u==\"boolean\"&&(l=u,u=arguments[1]||{},a=2),typeof u!=\"object\"&&!v.isFunction(u)&&(u={}),f===a&&(u=this,--a);for(;a<f;a++)if((e=arguments[a])!=null)for(n in e){r=u[n],i=e[n];if(u===i)continue;l&&i&&(v.isPlainObject(i)||(s=v.isArray(i)))?(s?(s=!1,o=r&&v.isArray(r)?r:[]):o=r&&v.isPlainObject(r)?r:{},u[n]=v.extend(l,o,i)):i!==t&&(u[n]=i)}return u},v.extend({noConflict:function(t){return e.$===v&&(e.$=a),t&&e.jQuery===v&&(e.jQuery=u),v},isReady:!1,readyWait:1,holdReady:function(e){e?v.readyWait++:v.ready(!0)},ready:function(e){if(e===!0?--v.readyWait:v.isReady)return;if(!i.body)return setTimeout(v.ready,1);v.isReady=!0;if(e!==!0&&--v.readyWait>0)return;r.resolveWith(i,[v]),v.fn.trigger&&v(i).trigger(\"ready\").off(\"ready\")},isFunction:function(e){return v.type(e)===\"function\"},isArray:Array.isArray||function(e){return v.type(e)===\"array\"},isWindow:function(e){return e!=null&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return e==null?String(e):O[h.call(e)]||\"object\"},isPlainObject:function(e){if(!e||v.type(e)!==\"object\"||e.nodeType||v.isWindow(e))return!1;try{if(e.constructor&&!p.call(e,\"constructor\")&&!p.call(e.constructor.prototype,\"isPrototypeOf\"))return!1}catch(n){return!1}var r;for(r in e);return r===t||p.call(e,r)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw new Error(e)},parseHTML:function(e,t,n){var r;return!e||typeof e!=\"string\"?null:(typeof t==\"boolean\"&&(n=t,t=0),t=t||i,(r=E.exec(e))?[t.createElement(r[1])]:(r=v.buildFragment([e],t,n?null:[]),v.merge([],(r.cacheable?v.clone(r.fragment):r.fragment).childNodes)))},parseJSON:function(t){if(!t||typeof t!=\"string\")return null;t=v.trim(t);if(e.JSON&&e.JSON.parse)return e.JSON.parse(t);if(S.test(t.replace(T,\"@\").replace(N,\"]\").replace(x,\"\")))return(new Function(\"return \"+t))();v.error(\"Invalid JSON: \"+t)},parseXML:function(n){var r,i;if(!n||typeof n!=\"string\")return null;try{e.DOMParser?(i=new DOMParser,r=i.parseFromString(n,\"text/xml\")):(r=new ActiveXObject(\"Microsoft.XMLDOM\"),r.async=\"false\",r.loadXML(n))}catch(s){r=t}return(!r||!r.documentElement||r.getElementsByTagName(\"parsererror\").length)&&v.error(\"Invalid XML: \"+n),r},noop:function(){},globalEval:function(t){t&&g.test(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(C,\"ms-\").replace(k,L)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,n,r){var i,s=0,o=e.length,u=o===t||v.isFunction(e);if(r){if(u){for(i in e)if(n.apply(e[i],r)===!1)break}else for(;s<o;)if(n.apply(e[s++],r)===!1)break}else if(u){for(i in e)if(n.call(e[i],i,e[i])===!1)break}else for(;s<o;)if(n.call(e[s],s,e[s++])===!1)break;return e},trim:d&&!d.call(\"\\ufeff\\u00a0\")?function(e){return e==null?\"\":d.call(e)}:function(e){return e==null?\"\":(e+\"\").replace(b,\"\")},makeArray:function(e,t){var n,r=t||[];return e!=null&&(n=v.type(e),e.length==null||n===\"string\"||n===\"function\"||n===\"regexp\"||v.isWindow(e)?f.call(r,e):v.merge(r,e)),r},inArray:function(e,t,n){var r;if(t){if(c)return c.call(t,e,n);r=t.length,n=n?n<0?Math.max(0,r+n):n:0;for(;n<r;n++)if(n in t&&t[n]===e)return n}return-1},merge:function(e,n){var r=n.length,i=e.length,s=0;if(typeof r==\"number\")for(;s<r;s++)e[i++]=n[s];else while(n[s]!==t)e[i++]=n[s++];return e.length=i,e},grep:function(e,t,n){var r,i=[],s=0,o=e.length;n=!!n;for(;s<o;s++)r=!!t(e[s],s),n!==r&&i.push(e[s]);return i},map:function(e,n,r){var i,s,o=[],u=0,a=e.length,f=e instanceof v||a!==t&&typeof a==\"number\"&&(a>0&&e[0]&&e[a-1]||a===0||v.isArray(e));if(f)for(;u<a;u++)i=n(e[u],u,r),i!=null&&(o[o.length]=i);else for(s in e)i=n(e[s],s,r),i!=null&&(o[o.length]=i);return o.concat.apply([],o)},guid:1,proxy:function(e,n){var r,i,s;return typeof n==\"string\"&&(r=e[n],n=e,e=r),v.isFunction(e)?(i=l.call(arguments,2),s=function(){return e.apply(n,i.concat(l.call(arguments)))},s.guid=e.guid=e.guid||v.guid++,s):t},access:function(e,n,r,i,s,o,u){var a,f=r==null,l=0,c=e.length;if(r&&typeof r==\"object\"){for(l in r)v.access(e,n,l,r[l],1,o,i);s=1}else if(i!==t){a=u===t&&v.isFunction(i),f&&(a?(a=n,n=function(e,t,n){return a.call(v(e),n)}):(n.call(e,i),n=null));if(n)for(;l<c;l++)n(e[l],r,a?i.call(e[l],l,n(e[l],r)):i,u);s=1}return s?e:f?n.call(e):c?n(e[0],r):o},now:function(){return(new Date).getTime()}}),v.ready.promise=function(t){if(!r){r=v.Deferred();if(i.readyState===\"complete\")setTimeout(v.ready,1);else if(i.addEventListener)i.addEventListener(\"DOMContentLoaded\",A,!1),e.addEventListener(\"load\",v.ready,!1);else{i.attachEvent(\"onreadystatechange\",A),e.attachEvent(\"onload\",v.ready);var n=!1;try{n=e.frameElement==null&&i.documentElement}catch(s){}n&&n.doScroll&&function o(){if(!v.isReady){try{n.doScroll(\"left\")}catch(e){return setTimeout(o,50)}v.ready()}}()}}return r.promise(t)},v.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(e,t){O[\"[object \"+t+\"]\"]=t.toLowerCase()}),n=v(i);var M={};v.Callbacks=function(e){e=typeof e==\"string\"?M[e]||_(e):v.extend({},e);var n,r,i,s,o,u,a=[],f=!e.once&&[],l=function(t){n=e.memory&&t,r=!0,u=s||0,s=0,o=a.length,i=!0;for(;a&&u<o;u++)if(a[u].apply(t[0],t[1])===!1&&e.stopOnFalse){n=!1;break}i=!1,a&&(f?f.length&&l(f.shift()):n?a=[]:c.disable())},c={add:function(){if(a){var t=a.length;(function r(t){v.each(t,function(t,n){var i=v.type(n);i===\"function\"?(!e.unique||!c.has(n))&&a.push(n):n&&n.length&&i!==\"string\"&&r(n)})})(arguments),i?o=a.length:n&&(s=t,l(n))}return this},remove:function(){return a&&v.each(arguments,function(e,t){var n;while((n=v.inArray(t,a,n))>-1)a.splice(n,1),i&&(n<=o&&o--,n<=u&&u--)}),this},has:function(e){return v.inArray(e,a)>-1},empty:function(){return a=[],this},disable:function(){return a=f=n=t,this},disabled:function(){return!a},lock:function(){return f=t,n||c.disable(),this},locked:function(){return!f},fireWith:function(e,t){return t=t||[],t=[e,t.slice?t.slice():t],a&&(!r||f)&&(i?f.push(t):l(t)),this},fire:function(){return c.fireWith(this,arguments),this},fired:function(){return!!r}};return c},v.extend({Deferred:function(e){var t=[[\"resolve\",\"done\",v.Callbacks(\"once memory\"),\"resolved\"],[\"reject\",\"fail\",v.Callbacks(\"once memory\"),\"rejected\"],[\"notify\",\"progress\",v.Callbacks(\"memory\")]],n=\"pending\",r={state:function(){return n},always:function(){return i.done(arguments).fail(arguments),this},then:function(){var e=arguments;return v.Deferred(function(n){v.each(t,function(t,r){var s=r[0],o=e[t];i[r[1]](v.isFunction(o)?function(){var e=o.apply(this,arguments);e&&v.isFunction(e.promise)?e.promise().done(n.resolve).fail(n.reject).progress(n.notify):n[s+\"With\"](this===i?n:this,[e])}:n[s])}),e=null}).promise()},promise:function(e){return e!=null?v.extend(e,r):r}},i={};return r.pipe=r.then,v.each(t,function(e,s){var o=s[2],u=s[3];r[s[1]]=o.add,u&&o.add(function(){n=u},t[e^1][2].disable,t[2][2].lock),i[s[0]]=o.fire,i[s[0]+\"With\"]=o.fireWith}),r.promise(i),e&&e.call(i,i),i},when:function(e){var t=0,n=l.call(arguments),r=n.length,i=r!==1||e&&v.isFunction(e.promise)?r:0,s=i===1?e:v.Deferred(),o=function(e,t,n){return function(r){t[e]=this,n[e]=arguments.length>1?l.call(arguments):r,n===u?s.notifyWith(t,n):--i||s.resolveWith(t,n)}},u,a,f;if(r>1){u=new Array(r),a=new Array(r),f=new Array(r);for(;t<r;t++)n[t]&&v.isFunction(n[t].promise)?n[t].promise().done(o(t,f,n)).fail(s.reject).progress(o(t,a,u)):--i}return i||s.resolveWith(f,n),s.promise()}}),v.support=function(){var t,n,r,s,o,u,a,f,l,c,h,p=i.createElement(\"div\");p.setAttribute(\"className\",\"t\"),p.innerHTML=\"  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>\",n=p.getElementsByTagName(\"*\"),r=p.getElementsByTagName(\"a\")[0];if(!n||!r||!n.length)return{};s=i.createElement(\"select\"),o=s.appendChild(i.createElement(\"option\")),u=p.getElementsByTagName(\"input\")[0],r.style.cssText=\"top:1px;float:left;opacity:.5\",t={leadingWhitespace:p.firstChild.nodeType===3,tbody:!p.getElementsByTagName(\"tbody\").length,htmlSerialize:!!p.getElementsByTagName(\"link\").length,style:/top/.test(r.getAttribute(\"style\")),hrefNormalized:r.getAttribute(\"href\")===\"/a\",opacity:/^0.5/.test(r.style.opacity),cssFloat:!!r.style.cssFloat,checkOn:u.value===\"on\",optSelected:o.selected,getSetAttribute:p.className!==\"t\",enctype:!!i.createElement(\"form\").enctype,html5Clone:i.createElement(\"nav\").cloneNode(!0).outerHTML!==\"<:nav></:nav>\",boxModel:i.compatMode===\"CSS1Compat\",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,boxSizingReliable:!0,pixelPosition:!1},u.checked=!0,t.noCloneChecked=u.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!o.disabled;try{delete p.test}catch(d){t.deleteExpando=!1}!p.addEventListener&&p.attachEvent&&p.fireEvent&&(p.attachEvent(\"onclick\",h=function(){t.noCloneEvent=!1}),p.cloneNode(!0).fireEvent(\"onclick\"),p.detachEvent(\"onclick\",h)),u=i.createElement(\"input\"),u.value=\"t\",u.setAttribute(\"type\",\"radio\"),t.radioValue=u.value===\"t\",u.setAttribute(\"checked\",\"checked\"),u.setAttribute(\"name\",\"t\"),p.appendChild(u),a=i.createDocumentFragment(),a.appendChild(p.lastChild),t.checkClone=a.cloneNode(!0).cloneNode(!0).lastChild.checked,t.appendChecked=u.checked,a.removeChild(u),a.appendChild(p);if(p.attachEvent)for(l in{submit:!0,change:!0,focusin:!0})f=\"on\"+l,c=f in p,c||(p.setAttribute(f,\"return;\"),c=typeof p[f]==\"function\"),t[l+\"Bubbles\"]=c;return v(function(){var n,r,s,o,u=\"padding:0;margin:0;border:0;display:block;overflow:hidden;\",a=i.getElementsByTagName(\"body\")[0];if(!a)return;n=i.createElement(\"div\"),n.style.cssText=\"visibility:hidden;border:0;width:0;height:0;position:static;top:0;margin-top:1px\",a.insertBefore(n,a.firstChild),r=i.createElement(\"div\"),n.appendChild(r),r.innerHTML=\"<table><tr><td></td><td>t</td></tr></table>\",s=r.getElementsByTagName(\"td\"),s[0].style.cssText=\"padding:0;margin:0;border:0;display:none\",c=s[0].offsetHeight===0,s[0].style.display=\"\",s[1].style.display=\"none\",t.reliableHiddenOffsets=c&&s[0].offsetHeight===0,r.innerHTML=\"\",r.style.cssText=\"box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;\",t.boxSizing=r.offsetWidth===4,t.doesNotIncludeMarginInBodyOffset=a.offsetTop!==1,e.getComputedStyle&&(t.pixelPosition=(e.getComputedStyle(r,null)||{}).top!==\"1%\",t.boxSizingReliable=(e.getComputedStyle(r,null)||{width:\"4px\"}).width===\"4px\",o=i.createElement(\"div\"),o.style.cssText=r.style.cssText=u,o.style.marginRight=o.style.width=\"0\",r.style.width=\"1px\",r.appendChild(o),t.reliableMarginRight=!parseFloat((e.getComputedStyle(o,null)||{}).marginRight)),typeof r.style.zoom!=\"undefined\"&&(r.innerHTML=\"\",r.style.cssText=u+\"width:1px;padding:1px;display:inline;zoom:1\",t.inlineBlockNeedsLayout=r.offsetWidth===3,r.style.display=\"block\",r.style.overflow=\"visible\",r.innerHTML=\"<div></div>\",r.firstChild.style.width=\"5px\",t.shrinkWrapBlocks=r.offsetWidth!==3,n.style.zoom=1),a.removeChild(n),n=r=s=o=null}),a.removeChild(p),n=r=s=o=u=a=p=null,t}();var D=/(?:\\{[\\s\\S]*\\}|\\[[\\s\\S]*\\])$/,P=/([A-Z])/g;v.extend({cache:{},deletedIds:[],uuid:0,expando:\"jQuery\"+(v.fn.jquery+Math.random()).replace(/\\D/g,\"\"),noData:{embed:!0,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",applet:!0},hasData:function(e){return e=e.nodeType?v.cache[e[v.expando]]:e[v.expando],!!e&&!B(e)},data:function(e,n,r,i){if(!v.acceptData(e))return;var s,o,u=v.expando,a=typeof n==\"string\",f=e.nodeType,l=f?v.cache:e,c=f?e[u]:e[u]&&u;if((!c||!l[c]||!i&&!l[c].data)&&a&&r===t)return;c||(f?e[u]=c=v.deletedIds.pop()||v.guid++:c=u),l[c]||(l[c]={},f||(l[c].toJSON=v.noop));if(typeof n==\"object\"||typeof n==\"function\")i?l[c]=v.extend(l[c],n):l[c].data=v.extend(l[c].data,n);return s=l[c],i||(s.data||(s.data={}),s=s.data),r!==t&&(s[v.camelCase(n)]=r),a?(o=s[n],o==null&&(o=s[v.camelCase(n)])):o=s,o},removeData:function(e,t,n){if(!v.acceptData(e))return;var r,i,s,o=e.nodeType,u=o?v.cache:e,a=o?e[v.expando]:v.expando;if(!u[a])return;if(t){r=n?u[a]:u[a].data;if(r){v.isArray(t)||(t in r?t=[t]:(t=v.camelCase(t),t in r?t=[t]:t=t.split(\" \")));for(i=0,s=t.length;i<s;i++)delete r[t[i]];if(!(n?B:v.isEmptyObject)(r))return}}if(!n){delete u[a].data;if(!B(u[a]))return}o?v.cleanData([e],!0):v.support.deleteExpando||u!=u.window?delete u[a]:u[a]=null},_data:function(e,t,n){return v.data(e,t,n,!0)},acceptData:function(e){var t=e.nodeName&&v.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute(\"classid\")===t}}),v.fn.extend({data:function(e,n){var r,i,s,o,u,a=this[0],f=0,l=null;if(e===t){if(this.length){l=v.data(a);if(a.nodeType===1&&!v._data(a,\"parsedAttrs\")){s=a.attributes;for(u=s.length;f<u;f++)o=s[f].name,o.indexOf(\"data-\")||(o=v.camelCase(o.substring(5)),H(a,o,l[o]));v._data(a,\"parsedAttrs\",!0)}}return l}return typeof e==\"object\"?this.each(function(){v.data(this,e)}):(r=e.split(\".\",2),r[1]=r[1]?\".\"+r[1]:\"\",i=r[1]+\"!\",v.access(this,function(n){if(n===t)return l=this.triggerHandler(\"getData\"+i,[r[0]]),l===t&&a&&(l=v.data(a,e),l=H(a,e,l)),l===t&&r[1]?this.data(r[0]):l;r[1]=n,this.each(function(){var t=v(this);t.triggerHandler(\"setData\"+i,r),v.data(this,e,n),t.triggerHandler(\"changeData\"+i,r)})},null,n,arguments.length>1,null,!1))},removeData:function(e){return this.each(function(){v.removeData(this,e)})}}),v.extend({queue:function(e,t,n){var r;if(e)return t=(t||\"fx\")+\"queue\",r=v._data(e,t),n&&(!r||v.isArray(n)?r=v._data(e,t,v.makeArray(n)):r.push(n)),r||[]},dequeue:function(e,t){t=t||\"fx\";var n=v.queue(e,t),r=n.length,i=n.shift(),s=v._queueHooks(e,t),o=function(){v.dequeue(e,t)};i===\"inprogress\"&&(i=n.shift(),r--),i&&(t===\"fx\"&&n.unshift(\"inprogress\"),delete s.stop,i.call(e,o,s)),!r&&s&&s.empty.fire()},_queueHooks:function(e,t){var n=t+\"queueHooks\";return v._data(e,n)||v._data(e,n,{empty:v.Callbacks(\"once memory\").add(function(){v.removeData(e,t+\"queue\",!0),v.removeData(e,n,!0)})})}}),v.fn.extend({queue:function(e,n){var r=2;return typeof e!=\"string\"&&(n=e,e=\"fx\",r--),arguments.length<r?v.queue(this[0],e):n===t?this:this.each(function(){var t=v.queue(this,e,n);v._queueHooks(this,e),e===\"fx\"&&t[0]!==\"inprogress\"&&v.dequeue(this,e)})},dequeue:function(e){return this.each(function(){v.dequeue(this,e)})},delay:function(e,t){return e=v.fx?v.fx.speeds[e]||e:e,t=t||\"fx\",this.queue(t,function(t,n){var r=setTimeout(t,e);n.stop=function(){clearTimeout(r)}})},clearQueue:function(e){return this.queue(e||\"fx\",[])},promise:function(e,n){var r,i=1,s=v.Deferred(),o=this,u=this.length,a=function(){--i||s.resolveWith(o,[o])};typeof e!=\"string\"&&(n=e,e=t),e=e||\"fx\";while(u--)r=v._data(o[u],e+\"queueHooks\"),r&&r.empty&&(i++,r.empty.add(a));return a(),s.promise(n)}});var j,F,I,q=/[\\t\\r\\n]/g,R=/\\r/g,U=/^(?:button|input)$/i,z=/^(?:button|input|object|select|textarea)$/i,W=/^a(?:rea|)$/i,X=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,V=v.support.getSetAttribute;v.fn.extend({attr:function(e,t){return v.access(this,v.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){v.removeAttr(this,e)})},prop:function(e,t){return v.access(this,v.prop,e,t,arguments.length>1)},removeProp:function(e){return e=v.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(n){}})},addClass:function(e){var t,n,r,i,s,o,u;if(v.isFunction(e))return this.each(function(t){v(this).addClass(e.call(this,t,this.className))});if(e&&typeof e==\"string\"){t=e.split(y);for(n=0,r=this.length;n<r;n++){i=this[n];if(i.nodeType===1)if(!i.className&&t.length===1)i.className=e;else{s=\" \"+i.className+\" \";for(o=0,u=t.length;o<u;o++)s.indexOf(\" \"+t[o]+\" \")<0&&(s+=t[o]+\" \");i.className=v.trim(s)}}}return this},removeClass:function(e){var n,r,i,s,o,u,a;if(v.isFunction(e))return this.each(function(t){v(this).removeClass(e.call(this,t,this.className))});if(e&&typeof e==\"string\"||e===t){n=(e||\"\").split(y);for(u=0,a=this.length;u<a;u++){i=this[u];if(i.nodeType===1&&i.className){r=(\" \"+i.className+\" \").replace(q,\" \");for(s=0,o=n.length;s<o;s++)while(r.indexOf(\" \"+n[s]+\" \")>=0)r=r.replace(\" \"+n[s]+\" \",\" \");i.className=e?v.trim(r):\"\"}}}return this},toggleClass:function(e,t){var n=typeof e,r=typeof t==\"boolean\";return v.isFunction(e)?this.each(function(n){v(this).toggleClass(e.call(this,n,this.className,t),t)}):this.each(function(){if(n===\"string\"){var i,s=0,o=v(this),u=t,a=e.split(y);while(i=a[s++])u=r?u:!o.hasClass(i),o[u?\"addClass\":\"removeClass\"](i)}else if(n===\"undefined\"||n===\"boolean\")this.className&&v._data(this,\"__className__\",this.className),this.className=this.className||e===!1?\"\":v._data(this,\"__className__\")||\"\"})},hasClass:function(e){var t=\" \"+e+\" \",n=0,r=this.length;for(;n<r;n++)if(this[n].nodeType===1&&(\" \"+this[n].className+\" \").replace(q,\" \").indexOf(t)>=0)return!0;return!1},val:function(e){var n,r,i,s=this[0];if(!arguments.length){if(s)return n=v.valHooks[s.type]||v.valHooks[s.nodeName.toLowerCase()],n&&\"get\"in n&&(r=n.get(s,\"value\"))!==t?r:(r=s.value,typeof r==\"string\"?r.replace(R,\"\"):r==null?\"\":r);return}return i=v.isFunction(e),this.each(function(r){var s,o=v(this);if(this.nodeType!==1)return;i?s=e.call(this,r,o.val()):s=e,s==null?s=\"\":typeof s==\"number\"?s+=\"\":v.isArray(s)&&(s=v.map(s,function(e){return e==null?\"\":e+\"\"})),n=v.valHooks[this.type]||v.valHooks[this.nodeName.toLowerCase()];if(!n||!(\"set\"in n)||n.set(this,s,\"value\")===t)this.value=s})}}),v.extend({valHooks:{option:{get:function(e){var t=e.attributes.value;return!t||t.specified?e.value:e.text}},select:{get:function(e){var t,n,r=e.options,i=e.selectedIndex,s=e.type===\"select-one\"||i<0,o=s?null:[],u=s?i+1:r.length,a=i<0?u:s?i:0;for(;a<u;a++){n=r[a];if((n.selected||a===i)&&(v.support.optDisabled?!n.disabled:n.getAttribute(\"disabled\")===null)&&(!n.parentNode.disabled||!v.nodeName(n.parentNode,\"optgroup\"))){t=v(n).val();if(s)return t;o.push(t)}}return o},set:function(e,t){var n=v.makeArray(t);return v(e).find(\"option\").each(function(){this.selected=v.inArray(v(this).val(),n)>=0}),n.length||(e.selectedIndex=-1),n}}},attrFn:{},attr:function(e,n,r,i){var s,o,u,a=e.nodeType;if(!e||a===3||a===8||a===2)return;if(i&&v.isFunction(v.fn[n]))return v(e)[n](r);if(typeof e.getAttribute==\"undefined\")return v.prop(e,n,r);u=a!==1||!v.isXMLDoc(e),u&&(n=n.toLowerCase(),o=v.attrHooks[n]||(X.test(n)?F:j));if(r!==t){if(r===null){v.removeAttr(e,n);return}return o&&\"set\"in o&&u&&(s=o.set(e,r,n))!==t?s:(e.setAttribute(n,r+\"\"),r)}return o&&\"get\"in o&&u&&(s=o.get(e,n))!==null?s:(s=e.getAttribute(n),s===null?t:s)},removeAttr:function(e,t){var n,r,i,s,o=0;if(t&&e.nodeType===1){r=t.split(y);for(;o<r.length;o++)i=r[o],i&&(n=v.propFix[i]||i,s=X.test(i),s||v.attr(e,i,\"\"),e.removeAttribute(V?i:n),s&&n in e&&(e[n]=!1))}},attrHooks:{type:{set:function(e,t){if(U.test(e.nodeName)&&e.parentNode)v.error(\"type property can't be changed\");else if(!v.support.radioValue&&t===\"radio\"&&v.nodeName(e,\"input\")){var n=e.value;return e.setAttribute(\"type\",t),n&&(e.value=n),t}}},value:{get:function(e,t){return j&&v.nodeName(e,\"button\")?j.get(e,t):t in e?e.value:null},set:function(e,t,n){if(j&&v.nodeName(e,\"button\"))return j.set(e,t,n);e.value=t}}},propFix:{tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},prop:function(e,n,r){var i,s,o,u=e.nodeType;if(!e||u===3||u===8||u===2)return;return o=u!==1||!v.isXMLDoc(e),o&&(n=v.propFix[n]||n,s=v.propHooks[n]),r!==t?s&&\"set\"in s&&(i=s.set(e,r,n))!==t?i:e[n]=r:s&&\"get\"in s&&(i=s.get(e,n))!==null?i:e[n]},propHooks:{tabIndex:{get:function(e){var n=e.getAttributeNode(\"tabindex\");return n&&n.specified?parseInt(n.value,10):z.test(e.nodeName)||W.test(e.nodeName)&&e.href?0:t}}}}),F={get:function(e,n){var r,i=v.prop(e,n);return i===!0||typeof i!=\"boolean\"&&(r=e.getAttributeNode(n))&&r.nodeValue!==!1?n.toLowerCase():t},set:function(e,t,n){var r;return t===!1?v.removeAttr(e,n):(r=v.propFix[n]||n,r in e&&(e[r]=!0),e.setAttribute(n,n.toLowerCase())),n}},V||(I={name:!0,id:!0,coords:!0},j=v.valHooks.button={get:function(e,n){var r;return r=e.getAttributeNode(n),r&&(I[n]?r.value!==\"\":r.specified)?r.value:t},set:function(e,t,n){var r=e.getAttributeNode(n);return r||(r=i.createAttribute(n),e.setAttributeNode(r)),r.value=t+\"\"}},v.each([\"width\",\"height\"],function(e,t){v.attrHooks[t]=v.extend(v.attrHooks[t],{set:function(e,n){if(n===\"\")return e.setAttribute(t,\"auto\"),n}})}),v.attrHooks.contenteditable={get:j.get,set:function(e,t,n){t===\"\"&&(t=\"false\"),j.set(e,t,n)}}),v.support.hrefNormalized||v.each([\"href\",\"src\",\"width\",\"height\"],function(e,n){v.attrHooks[n]=v.extend(v.attrHooks[n],{get:function(e){var r=e.getAttribute(n,2);return r===null?t:r}})}),v.support.style||(v.attrHooks.style={get:function(e){return e.style.cssText.toLowerCase()||t},set:function(e,t){return e.style.cssText=t+\"\"}}),v.support.optSelected||(v.propHooks.selected=v.extend(v.propHooks.selected,{get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}})),v.support.enctype||(v.propFix.enctype=\"encoding\"),v.support.checkOn||v.each([\"radio\",\"checkbox\"],function(){v.valHooks[this]={get:function(e){return e.getAttribute(\"value\")===null?\"on\":e.value}}}),v.each([\"radio\",\"checkbox\"],function(){v.valHooks[this]=v.extend(v.valHooks[this],{set:function(e,t){if(v.isArray(t))return e.checked=v.inArray(v(e).val(),t)>=0}})});var $=/^(?:textarea|input|select)$/i,J=/^([^\\.]*|)(?:\\.(.+)|)$/,K=/(?:^|\\s)hover(\\.\\S+|)\\b/,Q=/^key/,G=/^(?:mouse|contextmenu)|click/,Y=/^(?:focusinfocus|focusoutblur)$/,Z=function(e){return v.event.special.hover?e:e.replace(K,\"mouseenter$1 mouseleave$1\")};v.event={add:function(e,n,r,i,s){var o,u,a,f,l,c,h,p,d,m,g;if(e.nodeType===3||e.nodeType===8||!n||!r||!(o=v._data(e)))return;r.handler&&(d=r,r=d.handler,s=d.selector),r.guid||(r.guid=v.guid++),a=o.events,a||(o.events=a={}),u=o.handle,u||(o.handle=u=function(e){return typeof v==\"undefined\"||!!e&&v.event.triggered===e.type?t:v.event.dispatch.apply(u.elem,arguments)},u.elem=e),n=v.trim(Z(n)).split(\" \");for(f=0;f<n.length;f++){l=J.exec(n[f])||[],c=l[1],h=(l[2]||\"\").split(\".\").sort(),g=v.event.special[c]||{},c=(s?g.delegateType:g.bindType)||c,g=v.event.special[c]||{},p=v.extend({type:c,origType:l[1],data:i,handler:r,guid:r.guid,selector:s,needsContext:s&&v.expr.match.needsContext.test(s),namespace:h.join(\".\")},d),m=a[c];if(!m){m=a[c]=[],m.delegateCount=0;if(!g.setup||g.setup.call(e,i,h,u)===!1)e.addEventListener?e.addEventListener(c,u,!1):e.attachEvent&&e.attachEvent(\"on\"+c,u)}g.add&&(g.add.call(e,p),p.handler.guid||(p.handler.guid=r.guid)),s?m.splice(m.delegateCount++,0,p):m.push(p),v.event.global[c]=!0}e=null},global:{},remove:function(e,t,n,r,i){var s,o,u,a,f,l,c,h,p,d,m,g=v.hasData(e)&&v._data(e);if(!g||!(h=g.events))return;t=v.trim(Z(t||\"\")).split(\" \");for(s=0;s<t.length;s++){o=J.exec(t[s])||[],u=a=o[1],f=o[2];if(!u){for(u in h)v.event.remove(e,u+t[s],n,r,!0);continue}p=v.event.special[u]||{},u=(r?p.delegateType:p.bindType)||u,d=h[u]||[],l=d.length,f=f?new RegExp(\"(^|\\\\.)\"+f.split(\".\").sort().join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null;for(c=0;c<d.length;c++)m=d[c],(i||a===m.origType)&&(!n||n.guid===m.guid)&&(!f||f.test(m.namespace))&&(!r||r===m.selector||r===\"**\"&&m.selector)&&(d.splice(c--,1),m.selector&&d.delegateCount--,p.remove&&p.remove.call(e,m));d.length===0&&l!==d.length&&((!p.teardown||p.teardown.call(e,f,g.handle)===!1)&&v.removeEvent(e,u,g.handle),delete h[u])}v.isEmptyObject(h)&&(delete g.handle,v.removeData(e,\"events\",!0))},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(n,r,s,o){if(!s||s.nodeType!==3&&s.nodeType!==8){var u,a,f,l,c,h,p,d,m,g,y=n.type||n,b=[];if(Y.test(y+v.event.triggered))return;y.indexOf(\"!\")>=0&&(y=y.slice(0,-1),a=!0),y.indexOf(\".\")>=0&&(b=y.split(\".\"),y=b.shift(),b.sort());if((!s||v.event.customEvent[y])&&!v.event.global[y])return;n=typeof n==\"object\"?n[v.expando]?n:new v.Event(y,n):new v.Event(y),n.type=y,n.isTrigger=!0,n.exclusive=a,n.namespace=b.join(\".\"),n.namespace_re=n.namespace?new RegExp(\"(^|\\\\.)\"+b.join(\"\\\\.(?:.*\\\\.|)\")+\"(\\\\.|$)\"):null,h=y.indexOf(\":\")<0?\"on\"+y:\"\";if(!s){u=v.cache;for(f in u)u[f].events&&u[f].events[y]&&v.event.trigger(n,r,u[f].handle.elem,!0);return}n.result=t,n.target||(n.target=s),r=r!=null?v.makeArray(r):[],r.unshift(n),p=v.event.special[y]||{};if(p.trigger&&p.trigger.apply(s,r)===!1)return;m=[[s,p.bindType||y]];if(!o&&!p.noBubble&&!v.isWindow(s)){g=p.delegateType||y,l=Y.test(g+y)?s:s.parentNode;for(c=s;l;l=l.parentNode)m.push([l,g]),c=l;c===(s.ownerDocument||i)&&m.push([c.defaultView||c.parentWindow||e,g])}for(f=0;f<m.length&&!n.isPropagationStopped();f++)l=m[f][0],n.type=m[f][1],d=(v._data(l,\"events\")||{})[n.type]&&v._data(l,\"handle\"),d&&d.apply(l,r),d=h&&l[h],d&&v.acceptData(l)&&d.apply&&d.apply(l,r)===!1&&n.preventDefault();return n.type=y,!o&&!n.isDefaultPrevented()&&(!p._default||p._default.apply(s.ownerDocument,r)===!1)&&(y!==\"click\"||!v.nodeName(s,\"a\"))&&v.acceptData(s)&&h&&s[y]&&(y!==\"focus\"&&y!==\"blur\"||n.target.offsetWidth!==0)&&!v.isWindow(s)&&(c=s[h],c&&(s[h]=null),v.event.triggered=y,s[y](),v.event.triggered=t,c&&(s[h]=c)),n.result}return},dispatch:function(n){n=v.event.fix(n||e.event);var r,i,s,o,u,a,f,c,h,p,d=(v._data(this,\"events\")||{})[n.type]||[],m=d.delegateCount,g=l.call(arguments),y=!n.exclusive&&!n.namespace,b=v.event.special[n.type]||{},w=[];g[0]=n,n.delegateTarget=this;if(b.preDispatch&&b.preDispatch.call(this,n)===!1)return;if(m&&(!n.button||n.type!==\"click\"))for(s=n.target;s!=this;s=s.parentNode||this)if(s.disabled!==!0||n.type!==\"click\"){u={},f=[];for(r=0;r<m;r++)c=d[r],h=c.selector,u[h]===t&&(u[h]=c.needsContext?v(h,this).index(s)>=0:v.find(h,this,null,[s]).length),u[h]&&f.push(c);f.length&&w.push({elem:s,matches:f})}d.length>m&&w.push({elem:this,matches:d.slice(m)});for(r=0;r<w.length&&!n.isPropagationStopped();r++){a=w[r],n.currentTarget=a.elem;for(i=0;i<a.matches.length&&!n.isImmediatePropagationStopped();i++){c=a.matches[i];if(y||!n.namespace&&!c.namespace||n.namespace_re&&n.namespace_re.test(c.namespace))n.data=c.data,n.handleObj=c,o=((v.event.special[c.origType]||{}).handle||c.handler).apply(a.elem,g),o!==t&&(n.result=o,o===!1&&(n.preventDefault(),n.stopPropagation()))}}return b.postDispatch&&b.postDispatch.call(this,n),n.result},props:\"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(e,t){return e.which==null&&(e.which=t.charCode!=null?t.charCode:t.keyCode),e}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(e,n){var r,s,o,u=n.button,a=n.fromElement;return e.pageX==null&&n.clientX!=null&&(r=e.target.ownerDocument||i,s=r.documentElement,o=r.body,e.pageX=n.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),e.pageY=n.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?n.toElement:a),!e.which&&u!==t&&(e.which=u&1?1:u&2?3:u&4?2:0),e}},fix:function(e){if(e[v.expando])return e;var t,n,r=e,s=v.event.fixHooks[e.type]||{},o=s.props?this.props.concat(s.props):this.props;e=v.Event(r);for(t=o.length;t;)n=o[--t],e[n]=r[n];return e.target||(e.target=r.srcElement||i),e.target.nodeType===3&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,s.filter?s.filter(e,r):e},special:{load:{noBubble:!0},focus:{delegateType:\"focusin\"},blur:{delegateType:\"focusout\"},beforeunload:{setup:function(e,t,n){v.isWindow(this)&&(this.onbeforeunload=n)},teardown:function(e,t){this.onbeforeunload===t&&(this.onbeforeunload=null)}}},simulate:function(e,t,n,r){var i=v.extend(new v.Event,n,{type:e,isSimulated:!0,originalEvent:{}});r?v.event.trigger(i,null,t):v.event.dispatch.call(t,i),i.isDefaultPrevented()&&n.preventDefault()}},v.event.handle=v.event.dispatch,v.removeEvent=i.removeEventListener?function(e,t,n){e.removeEventListener&&e.removeEventListener(t,n,!1)}:function(e,t,n){var r=\"on\"+t;e.detachEvent&&(typeof e[r]==\"undefined\"&&(e[r]=null),e.detachEvent(r,n))},v.Event=function(e,t){if(!(this instanceof v.Event))return new v.Event(e,t);e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?tt:et):this.type=e,t&&v.extend(this,t),this.timeStamp=e&&e.timeStamp||v.now(),this[v.expando]=!0},v.Event.prototype={preventDefault:function(){this.isDefaultPrevented=tt;var e=this.originalEvent;if(!e)return;e.preventDefault?e.preventDefault():e.returnValue=!1},stopPropagation:function(){this.isPropagationStopped=tt;var e=this.originalEvent;if(!e)return;e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=tt,this.stopPropagation()},isDefaultPrevented:et,isPropagationStopped:et,isImmediatePropagationStopped:et},v.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(e,t){v.event.special[e]={delegateType:t,bindType:t,handle:function(e){var n,r=this,i=e.relatedTarget,s=e.handleObj,o=s.selector;if(!i||i!==r&&!v.contains(r,i))e.type=s.origType,n=s.handler.apply(this,arguments),e.type=t;return n}}}),v.support.submitBubbles||(v.event.special.submit={setup:function(){if(v.nodeName(this,\"form\"))return!1;v.event.add(this,\"click._submit keypress._submit\",function(e){var n=e.target,r=v.nodeName(n,\"input\")||v.nodeName(n,\"button\")?n.form:t;r&&!v._data(r,\"_submit_attached\")&&(v.event.add(r,\"submit._submit\",function(e){e._submit_bubble=!0}),v._data(r,\"_submit_attached\",!0))})},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&v.event.simulate(\"submit\",this.parentNode,e,!0))},teardown:function(){if(v.nodeName(this,\"form\"))return!1;v.event.remove(this,\"._submit\")}}),v.support.changeBubbles||(v.event.special.change={setup:function(){if($.test(this.nodeName)){if(this.type===\"checkbox\"||this.type===\"radio\")v.event.add(this,\"propertychange._change\",function(e){e.originalEvent.propertyName===\"checked\"&&(this._just_changed=!0)}),v.event.add(this,\"click._change\",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),v.event.simulate(\"change\",this,e,!0)});return!1}v.event.add(this,\"beforeactivate._change\",function(e){var t=e.target;$.test(t.nodeName)&&!v._data(t,\"_change_attached\")&&(v.event.add(t,\"change._change\",function(e){this.parentNode&&!e.isSimulated&&!e.isTrigger&&v.event.simulate(\"change\",this.parentNode,e,!0)}),v._data(t,\"_change_attached\",!0))})},handle:function(e){var t=e.target;if(this!==t||e.isSimulated||e.isTrigger||t.type!==\"radio\"&&t.type!==\"checkbox\")return e.handleObj.handler.apply(this,arguments)},teardown:function(){return v.event.remove(this,\"._change\"),!$.test(this.nodeName)}}),v.support.focusinBubbles||v.each({focus:\"focusin\",blur:\"focusout\"},function(e,t){var n=0,r=function(e){v.event.simulate(t,e.target,v.event.fix(e),!0)};v.event.special[t]={setup:function(){n++===0&&i.addEventListener(e,r,!0)},teardown:function(){--n===0&&i.removeEventListener(e,r,!0)}}}),v.fn.extend({on:function(e,n,r,i,s){var o,u;if(typeof e==\"object\"){typeof n!=\"string\"&&(r=r||n,n=t);for(u in e)this.on(u,n,r,e[u],s);return this}r==null&&i==null?(i=n,r=n=t):i==null&&(typeof n==\"string\"?(i=r,r=t):(i=r,r=n,n=t));if(i===!1)i=et;else if(!i)return this;return s===1&&(o=i,i=function(e){return v().off(e),o.apply(this,arguments)},i.guid=o.guid||(o.guid=v.guid++)),this.each(function(){v.event.add(this,e,i,r,n)})},one:function(e,t,n,r){return this.on(e,t,n,r,1)},off:function(e,n,r){var i,s;if(e&&e.preventDefault&&e.handleObj)return i=e.handleObj,v(e.delegateTarget).off(i.namespace?i.origType+\".\"+i.namespace:i.origType,i.selector,i.handler),this;if(typeof e==\"object\"){for(s in e)this.off(s,n,e[s]);return this}if(n===!1||typeof n==\"function\")r=n,n=t;return r===!1&&(r=et),this.each(function(){v.event.remove(this,e,r,n)})},bind:function(e,t,n){return this.on(e,null,t,n)},unbind:function(e,t){return this.off(e,null,t)},live:function(e,t,n){return v(this.context).on(e,this.selector,t,n),this},die:function(e,t){return v(this.context).off(e,this.selector||\"**\",t),this},delegate:function(e,t,n,r){return this.on(t,e,n,r)},undelegate:function(e,t,n){return arguments.length===1?this.off(e,\"**\"):this.off(t,e||\"**\",n)},trigger:function(e,t){return this.each(function(){v.event.trigger(e,t,this)})},triggerHandler:function(e,t){if(this[0])return v.event.trigger(e,t,this[0],!0)},toggle:function(e){var t=arguments,n=e.guid||v.guid++,r=0,i=function(n){var i=(v._data(this,\"lastToggle\"+e.guid)||0)%r;return v._data(this,\"lastToggle\"+e.guid,i+1),n.preventDefault(),t[i].apply(this,arguments)||!1};i.guid=n;while(r<t.length)t[r++].guid=n;return this.click(i)},hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)}}),v.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(e,t){v.fn[t]=function(e,n){return n==null&&(n=e,e=null),arguments.length>0?this.on(t,null,e,n):this.trigger(t)},Q.test(t)&&(v.event.fixHooks[t]=v.event.keyHooks),G.test(t)&&(v.event.fixHooks[t]=v.event.mouseHooks)}),function(e,t){function nt(e,t,n,r){n=n||[],t=t||g;var i,s,a,f,l=t.nodeType;if(!e||typeof e!=\"string\")return n;if(l!==1&&l!==9)return[];a=o(t);if(!a&&!r)if(i=R.exec(e))if(f=i[1]){if(l===9){s=t.getElementById(f);if(!s||!s.parentNode)return n;if(s.id===f)return n.push(s),n}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(f))&&u(t,s)&&s.id===f)return n.push(s),n}else{if(i[2])return S.apply(n,x.call(t.getElementsByTagName(e),0)),n;if((f=i[3])&&Z&&t.getElementsByClassName)return S.apply(n,x.call(t.getElementsByClassName(f),0)),n}return vt(e.replace(j,\"$1\"),t,n,r,a)}function rt(e){return function(t){var n=t.nodeName.toLowerCase();return n===\"input\"&&t.type===e}}function it(e){return function(t){var n=t.nodeName.toLowerCase();return(n===\"input\"||n===\"button\")&&t.type===e}}function st(e){return N(function(t){return t=+t,N(function(n,r){var i,s=e([],n.length,t),o=s.length;while(o--)n[i=s[o]]&&(n[i]=!(r[i]=n[i]))})})}function ot(e,t,n){if(e===t)return n;var r=e.nextSibling;while(r){if(r===t)return-1;r=r.nextSibling}return 1}function ut(e,t){var n,r,s,o,u,a,f,l=L[d][e+\" \"];if(l)return t?0:l.slice(0);u=e,a=[],f=i.preFilter;while(u){if(!n||(r=F.exec(u)))r&&(u=u.slice(r[0].length)||u),a.push(s=[]);n=!1;if(r=I.exec(u))s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=r[0].replace(j,\" \");for(o in i.filter)(r=J[o].exec(u))&&(!f[o]||(r=f[o](r)))&&(s.push(n=new m(r.shift())),u=u.slice(n.length),n.type=o,n.matches=r);if(!n)break}return t?u.length:u?nt.error(e):L(e,a).slice(0)}function at(e,t,r){var i=t.dir,s=r&&t.dir===\"parentNode\",o=w++;return t.first?function(t,n,r){while(t=t[i])if(s||t.nodeType===1)return e(t,n,r)}:function(t,r,u){if(!u){var a,f=b+\" \"+o+\" \",l=f+n;while(t=t[i])if(s||t.nodeType===1){if((a=t[d])===l)return t.sizset;if(typeof a==\"string\"&&a.indexOf(f)===0){if(t.sizset)return t}else{t[d]=l;if(e(t,r,u))return t.sizset=!0,t;t.sizset=!1}}}else while(t=t[i])if(s||t.nodeType===1)if(e(t,r,u))return t}}function ft(e){return e.length>1?function(t,n,r){var i=e.length;while(i--)if(!e[i](t,n,r))return!1;return!0}:e[0]}function lt(e,t,n,r,i){var s,o=[],u=0,a=e.length,f=t!=null;for(;u<a;u++)if(s=e[u])if(!n||n(s,r,i))o.push(s),f&&t.push(u);return o}function ct(e,t,n,r,i,s){return r&&!r[d]&&(r=ct(r)),i&&!i[d]&&(i=ct(i,s)),N(function(s,o,u,a){var f,l,c,h=[],p=[],d=o.length,v=s||dt(t||\"*\",u.nodeType?[u]:u,[]),m=e&&(s||!t)?lt(v,h,e,u,a):v,g=n?i||(s?e:d||r)?[]:o:m;n&&n(m,g,u,a);if(r){f=lt(g,p),r(f,[],u,a),l=f.length;while(l--)if(c=f[l])g[p[l]]=!(m[p[l]]=c)}if(s){if(i||e){if(i){f=[],l=g.length;while(l--)(c=g[l])&&f.push(m[l]=c);i(null,g=[],f,a)}l=g.length;while(l--)(c=g[l])&&(f=i?T.call(s,c):h[l])>-1&&(s[f]=!(o[f]=c))}}else g=lt(g===o?g.splice(d,g.length):g),i?i(null,o,g,a):S.apply(o,g)})}function ht(e){var t,n,r,s=e.length,o=i.relative[e[0].type],u=o||i.relative[\" \"],a=o?1:0,f=at(function(e){return e===t},u,!0),l=at(function(e){return T.call(t,e)>-1},u,!0),h=[function(e,n,r){return!o&&(r||n!==c)||((t=n).nodeType?f(e,n,r):l(e,n,r))}];for(;a<s;a++)if(n=i.relative[e[a].type])h=[at(ft(h),n)];else{n=i.filter[e[a].type].apply(null,e[a].matches);if(n[d]){r=++a;for(;r<s;r++)if(i.relative[e[r].type])break;return ct(a>1&&ft(h),a>1&&e.slice(0,a-1).join(\"\").replace(j,\"$1\"),n,a<r&&ht(e.slice(a,r)),r<s&&ht(e=e.slice(r)),r<s&&e.join(\"\"))}h.push(n)}return ft(h)}function pt(e,t){var r=t.length>0,s=e.length>0,o=function(u,a,f,l,h){var p,d,v,m=[],y=0,w=\"0\",x=u&&[],T=h!=null,N=c,C=u||s&&i.find.TAG(\"*\",h&&a.parentNode||a),k=b+=N==null?1:Math.E;T&&(c=a!==g&&a,n=o.el);for(;(p=C[w])!=null;w++){if(s&&p){for(d=0;v=e[d];d++)if(v(p,a,f)){l.push(p);break}T&&(b=k,n=++o.el)}r&&((p=!v&&p)&&y--,u&&x.push(p))}y+=w;if(r&&w!==y){for(d=0;v=t[d];d++)v(x,m,a,f);if(u){if(y>0)while(w--)!x[w]&&!m[w]&&(m[w]=E.call(l));m=lt(m)}S.apply(l,m),T&&!u&&m.length>0&&y+t.length>1&&nt.uniqueSort(l)}return T&&(b=k,c=N),x};return o.el=0,r?N(o):o}function dt(e,t,n){var r=0,i=t.length;for(;r<i;r++)nt(e,t[r],n);return n}function vt(e,t,n,r,s){var o,u,f,l,c,h=ut(e),p=h.length;if(!r&&h.length===1){u=h[0]=h[0].slice(0);if(u.length>2&&(f=u[0]).type===\"ID\"&&t.nodeType===9&&!s&&i.relative[u[1].type]){t=i.find.ID(f.matches[0].replace($,\"\"),t,s)[0];if(!t)return n;e=e.slice(u.shift().length)}for(o=J.POS.test(e)?-1:u.length-1;o>=0;o--){f=u[o];if(i.relative[l=f.type])break;if(c=i.find[l])if(r=c(f.matches[0].replace($,\"\"),z.test(u[0].type)&&t.parentNode||t,s)){u.splice(o,1),e=r.length&&u.join(\"\");if(!e)return S.apply(n,x.call(r,0)),n;break}}}return a(e,h)(r,t,s,n,z.test(e)),n}function mt(){}var n,r,i,s,o,u,a,f,l,c,h=!0,p=\"undefined\",d=(\"sizcache\"+Math.random()).replace(\".\",\"\"),m=String,g=e.document,y=g.documentElement,b=0,w=0,E=[].pop,S=[].push,x=[].slice,T=[].indexOf||function(e){var t=0,n=this.length;for(;t<n;t++)if(this[t]===e)return t;return-1},N=function(e,t){return e[d]=t==null||t,e},C=function(){var e={},t=[];return N(function(n,r){return t.push(n)>i.cacheLength&&delete e[t.shift()],e[n+\" \"]=r},e)},k=C(),L=C(),A=C(),O=\"[\\\\x20\\\\t\\\\r\\\\n\\\\f]\",M=\"(?:\\\\\\\\.|[-\\\\w]|[^\\\\x00-\\\\xa0])+\",_=M.replace(\"w\",\"w#\"),D=\"([*^$|!~]?=)\",P=\"\\\\[\"+O+\"*(\"+M+\")\"+O+\"*(?:\"+D+O+\"*(?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\3|(\"+_+\")|)|)\"+O+\"*\\\\]\",H=\":(\"+M+\")(?:\\\\((?:(['\\\"])((?:\\\\\\\\.|[^\\\\\\\\])*?)\\\\2|([^()[\\\\]]*|(?:(?:\"+P+\")|[^:]|\\\\\\\\.)*|.*))\\\\)|)\",B=\":(even|odd|eq|gt|lt|nth|first|last)(?:\\\\(\"+O+\"*((?:-\\\\d)?\\\\d*)\"+O+\"*\\\\)|)(?=[^-]|$)\",j=new RegExp(\"^\"+O+\"+|((?:^|[^\\\\\\\\])(?:\\\\\\\\.)*)\"+O+\"+$\",\"g\"),F=new RegExp(\"^\"+O+\"*,\"+O+\"*\"),I=new RegExp(\"^\"+O+\"*([\\\\x20\\\\t\\\\r\\\\n\\\\f>+~])\"+O+\"*\"),q=new RegExp(H),R=/^(?:#([\\w\\-]+)|(\\w+)|\\.([\\w\\-]+))$/,U=/^:not/,z=/[\\x20\\t\\r\\n\\f]*[+~]/,W=/:not\\($/,X=/h\\d/i,V=/input|select|textarea|button/i,$=/\\\\(?!\\\\)/g,J={ID:new RegExp(\"^#(\"+M+\")\"),CLASS:new RegExp(\"^\\\\.(\"+M+\")\"),NAME:new RegExp(\"^\\\\[name=['\\\"]?(\"+M+\")['\\\"]?\\\\]\"),TAG:new RegExp(\"^(\"+M.replace(\"w\",\"w*\")+\")\"),ATTR:new RegExp(\"^\"+P),PSEUDO:new RegExp(\"^\"+H),POS:new RegExp(B,\"i\"),CHILD:new RegExp(\"^:(only|nth|first|last)-child(?:\\\\(\"+O+\"*(even|odd|(([+-]|)(\\\\d*)n|)\"+O+\"*(?:([+-]|)\"+O+\"*(\\\\d+)|))\"+O+\"*\\\\)|)\",\"i\"),needsContext:new RegExp(\"^\"+O+\"*[>+~]|\"+B,\"i\")},K=function(e){var t=g.createElement(\"div\");try{return e(t)}catch(n){return!1}finally{t=null}},Q=K(function(e){return e.appendChild(g.createComment(\"\")),!e.getElementsByTagName(\"*\").length}),G=K(function(e){return e.innerHTML=\"<a href='#'></a>\",e.firstChild&&typeof e.firstChild.getAttribute!==p&&e.firstChild.getAttribute(\"href\")===\"#\"}),Y=K(function(e){e.innerHTML=\"<select></select>\";var t=typeof e.lastChild.getAttribute(\"multiple\");return t!==\"boolean\"&&t!==\"string\"}),Z=K(function(e){return e.innerHTML=\"<div class='hidden e'></div><div class='hidden'></div>\",!e.getElementsByClassName||!e.getElementsByClassName(\"e\").length?!1:(e.lastChild.className=\"e\",e.getElementsByClassName(\"e\").length===2)}),et=K(function(e){e.id=d+0,e.innerHTML=\"<a name='\"+d+\"'></a><div name='\"+d+\"'></div>\",y.insertBefore(e,y.firstChild);var t=g.getElementsByName&&g.getElementsByName(d).length===2+g.getElementsByName(d+0).length;return r=!g.getElementById(d),y.removeChild(e),t});try{x.call(y.childNodes,0)[0].nodeType}catch(tt){x=function(e){var t,n=[];for(;t=this[e];e++)n.push(t);return n}}nt.matches=function(e,t){return nt(e,null,null,t)},nt.matchesSelector=function(e,t){return nt(t,null,null,[e]).length>0},s=nt.getText=function(e){var t,n=\"\",r=0,i=e.nodeType;if(i){if(i===1||i===9||i===11){if(typeof e.textContent==\"string\")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)n+=s(e)}else if(i===3||i===4)return e.nodeValue}else for(;t=e[r];r++)n+=s(t);return n},o=nt.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?t.nodeName!==\"HTML\":!1},u=nt.contains=y.contains?function(e,t){var n=e.nodeType===9?e.documentElement:e,r=t&&t.parentNode;return e===r||!!(r&&r.nodeType===1&&n.contains&&n.contains(r))}:y.compareDocumentPosition?function(e,t){return t&&!!(e.compareDocumentPosition(t)&16)}:function(e,t){while(t=t.parentNode)if(t===e)return!0;return!1},nt.attr=function(e,t){var n,r=o(e);return r||(t=t.toLowerCase()),(n=i.attrHandle[t])?n(e):r||Y?e.getAttribute(t):(n=e.getAttributeNode(t),n?typeof e[t]==\"boolean\"?e[t]?t:null:n.specified?n.value:null:null)},i=nt.selectors={cacheLength:50,createPseudo:N,match:J,attrHandle:G?{}:{href:function(e){return e.getAttribute(\"href\",2)},type:function(e){return e.getAttribute(\"type\")}},find:{ID:r?function(e,t,n){if(typeof t.getElementById!==p&&!n){var r=t.getElementById(e);return r&&r.parentNode?[r]:[]}}:function(e,n,r){if(typeof n.getElementById!==p&&!r){var i=n.getElementById(e);return i?i.id===e||typeof i.getAttributeNode!==p&&i.getAttributeNode(\"id\").value===e?[i]:t:[]}},TAG:Q?function(e,t){if(typeof t.getElementsByTagName!==p)return t.getElementsByTagName(e)}:function(e,t){var n=t.getElementsByTagName(e);if(e===\"*\"){var r,i=[],s=0;for(;r=n[s];s++)r.nodeType===1&&i.push(r);return i}return n},NAME:et&&function(e,t){if(typeof t.getElementsByName!==p)return t.getElementsByName(name)},CLASS:Z&&function(e,t,n){if(typeof t.getElementsByClassName!==p&&!n)return t.getElementsByClassName(e)}},relative:{\">\":{dir:\"parentNode\",first:!0},\" \":{dir:\"parentNode\"},\"+\":{dir:\"previousSibling\",first:!0},\"~\":{dir:\"previousSibling\"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace($,\"\"),e[3]=(e[4]||e[5]||\"\").replace($,\"\"),e[2]===\"~=\"&&(e[3]=\" \"+e[3]+\" \"),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1]===\"nth\"?(e[2]||nt.error(e[0]),e[3]=+(e[3]?e[4]+(e[5]||1):2*(e[2]===\"even\"||e[2]===\"odd\")),e[4]=+(e[6]+e[7]||e[2]===\"odd\")):e[2]&&nt.error(e[0]),e},PSEUDO:function(e){var t,n;if(J.CHILD.test(e[0]))return null;if(e[3])e[2]=e[3];else if(t=e[4])q.test(t)&&(n=ut(t,!0))&&(n=t.indexOf(\")\",t.length-n)-t.length)&&(t=t.slice(0,n),e[0]=e[0].slice(0,n)),e[2]=t;return e.slice(0,3)}},filter:{ID:r?function(e){return e=e.replace($,\"\"),function(t){return t.getAttribute(\"id\")===e}}:function(e){return e=e.replace($,\"\"),function(t){var n=typeof t.getAttributeNode!==p&&t.getAttributeNode(\"id\");return n&&n.value===e}},TAG:function(e){return e===\"*\"?function(){return!0}:(e=e.replace($,\"\").toLowerCase(),function(t){return t.nodeName&&t.nodeName.toLowerCase()===e})},CLASS:function(e){var t=k[d][e+\" \"];return t||(t=new RegExp(\"(^|\"+O+\")\"+e+\"(\"+O+\"|$)\"))&&k(e,function(e){return t.test(e.className||typeof e.getAttribute!==p&&e.getAttribute(\"class\")||\"\")})},ATTR:function(e,t,n){return function(r,i){var s=nt.attr(r,e);return s==null?t===\"!=\":t?(s+=\"\",t===\"=\"?s===n:t===\"!=\"?s!==n:t===\"^=\"?n&&s.indexOf(n)===0:t===\"*=\"?n&&s.indexOf(n)>-1:t===\"$=\"?n&&s.substr(s.length-n.length)===n:t===\"~=\"?(\" \"+s+\" \").indexOf(n)>-1:t===\"|=\"?s===n||s.substr(0,n.length+1)===n+\"-\":!1):!0}},CHILD:function(e,t,n,r){return e===\"nth\"?function(e){var t,i,s=e.parentNode;if(n===1&&r===0)return!0;if(s){i=0;for(t=s.firstChild;t;t=t.nextSibling)if(t.nodeType===1){i++;if(e===t)break}}return i-=r,i===n||i%n===0&&i/n>=0}:function(t){var n=t;switch(e){case\"only\":case\"first\":while(n=n.previousSibling)if(n.nodeType===1)return!1;if(e===\"first\")return!0;n=t;case\"last\":while(n=n.nextSibling)if(n.nodeType===1)return!1;return!0}}},PSEUDO:function(e,t){var n,r=i.pseudos[e]||i.setFilters[e.toLowerCase()]||nt.error(\"unsupported pseudo: \"+e);return r[d]?r(t):r.length>1?(n=[e,e,\"\",t],i.setFilters.hasOwnProperty(e.toLowerCase())?N(function(e,n){var i,s=r(e,t),o=s.length;while(o--)i=T.call(e,s[o]),e[i]=!(n[i]=s[o])}):function(e){return r(e,0,n)}):r}},pseudos:{not:N(function(e){var t=[],n=[],r=a(e.replace(j,\"$1\"));return r[d]?N(function(e,t,n,i){var s,o=r(e,null,i,[]),u=e.length;while(u--)if(s=o[u])e[u]=!(t[u]=s)}):function(e,i,s){return t[0]=e,r(t,null,s,n),!n.pop()}}),has:N(function(e){return function(t){return nt(e,t).length>0}}),contains:N(function(e){return function(t){return(t.textContent||t.innerText||s(t)).indexOf(e)>-1}}),enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return t===\"input\"&&!!e.checked||t===\"option\"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},parent:function(e){return!i.pseudos.empty(e)},empty:function(e){var t;e=e.firstChild;while(e){if(e.nodeName>\"@\"||(t=e.nodeType)===3||t===4)return!1;e=e.nextSibling}return!0},header:function(e){return X.test(e.nodeName)},text:function(e){var t,n;return e.nodeName.toLowerCase()===\"input\"&&(t=e.type)===\"text\"&&((n=e.getAttribute(\"type\"))==null||n.toLowerCase()===t)},radio:rt(\"radio\"),checkbox:rt(\"checkbox\"),file:rt(\"file\"),password:rt(\"password\"),image:rt(\"image\"),submit:it(\"submit\"),reset:it(\"reset\"),button:function(e){var t=e.nodeName.toLowerCase();return t===\"input\"&&e.type===\"button\"||t===\"button\"},input:function(e){return V.test(e.nodeName)},focus:function(e){var t=e.ownerDocument;return e===t.activeElement&&(!t.hasFocus||t.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},active:function(e){return e===e.ownerDocument.activeElement},first:st(function(){return[0]}),last:st(function(e,t){return[t-1]}),eq:st(function(e,t,n){return[n<0?n+t:n]}),even:st(function(e,t){for(var n=0;n<t;n+=2)e.push(n);return e}),odd:st(function(e,t){for(var n=1;n<t;n+=2)e.push(n);return e}),lt:st(function(e,t,n){for(var r=n<0?n+t:n;--r>=0;)e.push(r);return e}),gt:st(function(e,t,n){for(var r=n<0?n+t:n;++r<t;)e.push(r);return e})}},f=y.compareDocumentPosition?function(e,t){return e===t?(l=!0,0):(!e.compareDocumentPosition||!t.compareDocumentPosition?e.compareDocumentPosition:e.compareDocumentPosition(t)&4)?-1:1}:function(e,t){if(e===t)return l=!0,0;if(e.sourceIndex&&t.sourceIndex)return e.sourceIndex-t.sourceIndex;var n,r,i=[],s=[],o=e.parentNode,u=t.parentNode,a=o;if(o===u)return ot(e,t);if(!o)return-1;if(!u)return 1;while(a)i.unshift(a),a=a.parentNode;a=u;while(a)s.unshift(a),a=a.parentNode;n=i.length,r=s.length;for(var f=0;f<n&&f<r;f++)if(i[f]!==s[f])return ot(i[f],s[f]);return f===n?ot(e,s[f],-1):ot(i[f],t,1)},[0,0].sort(f),h=!l,nt.uniqueSort=function(e){var t,n=[],r=1,i=0;l=h,e.sort(f);if(l){for(;t=e[r];r++)t===e[r-1]&&(i=n.push(r));while(i--)e.splice(n[i],1)}return e},nt.error=function(e){throw new Error(\"Syntax error, unrecognized expression: \"+e)},a=nt.compile=function(e,t){var n,r=[],i=[],s=A[d][e+\" \"];if(!s){t||(t=ut(e)),n=t.length;while(n--)s=ht(t[n]),s[d]?r.push(s):i.push(s);s=A(e,pt(i,r))}return s},g.querySelectorAll&&function(){var e,t=vt,n=/'|\\\\/g,r=/\\=[\\x20\\t\\r\\n\\f]*([^'\"\\]]*)[\\x20\\t\\r\\n\\f]*\\]/g,i=[\":focus\"],s=[\":active\"],u=y.matchesSelector||y.mozMatchesSelector||y.webkitMatchesSelector||y.oMatchesSelector||y.msMatchesSelector;K(function(e){e.innerHTML=\"<select><option selected=''></option></select>\",e.querySelectorAll(\"[selected]\").length||i.push(\"\\\\[\"+O+\"*(?:checked|disabled|ismap|multiple|readonly|selected|value)\"),e.querySelectorAll(\":checked\").length||i.push(\":checked\")}),K(function(e){e.innerHTML=\"<p test=''></p>\",e.querySelectorAll(\"[test^='']\").length&&i.push(\"[*^$]=\"+O+\"*(?:\\\"\\\"|'')\"),e.innerHTML=\"<input type='hidden'/>\",e.querySelectorAll(\":enabled\").length||i.push(\":enabled\",\":disabled\")}),i=new RegExp(i.join(\"|\")),vt=function(e,r,s,o,u){if(!o&&!u&&!i.test(e)){var a,f,l=!0,c=d,h=r,p=r.nodeType===9&&e;if(r.nodeType===1&&r.nodeName.toLowerCase()!==\"object\"){a=ut(e),(l=r.getAttribute(\"id\"))?c=l.replace(n,\"\\\\$&\"):r.setAttribute(\"id\",c),c=\"[id='\"+c+\"'] \",f=a.length;while(f--)a[f]=c+a[f].join(\"\");h=z.test(e)&&r.parentNode||r,p=a.join(\",\")}if(p)try{return S.apply(s,x.call(h.querySelectorAll(p),0)),s}catch(v){}finally{l||r.removeAttribute(\"id\")}}return t(e,r,s,o,u)},u&&(K(function(t){e=u.call(t,\"div\");try{u.call(t,\"[test!='']:sizzle\"),s.push(\"!=\",H)}catch(n){}}),s=new RegExp(s.join(\"|\")),nt.matchesSelector=function(t,n){n=n.replace(r,\"='$1']\");if(!o(t)&&!s.test(n)&&!i.test(n))try{var a=u.call(t,n);if(a||e||t.document&&t.document.nodeType!==11)return a}catch(f){}return nt(n,null,null,[t]).length>0})}(),i.pseudos.nth=i.pseudos.eq,i.filters=mt.prototype=i.pseudos,i.setFilters=new mt,nt.attr=v.attr,v.find=nt,v.expr=nt.selectors,v.expr[\":\"]=v.expr.pseudos,v.unique=nt.uniqueSort,v.text=nt.getText,v.isXMLDoc=nt.isXML,v.contains=nt.contains}(e);var nt=/Until$/,rt=/^(?:parents|prev(?:Until|All))/,it=/^.[^:#\\[\\.,]*$/,st=v.expr.match.needsContext,ot={children:!0,contents:!0,next:!0,prev:!0};v.fn.extend({find:function(e){var t,n,r,i,s,o,u=this;if(typeof e!=\"string\")return v(e).filter(function(){for(t=0,n=u.length;t<n;t++)if(v.contains(u[t],this))return!0});o=this.pushStack(\"\",\"find\",e);for(t=0,n=this.length;t<n;t++){r=o.length,v.find(e,this[t],o);if(t>0)for(i=r;i<o.length;i++)for(s=0;s<r;s++)if(o[s]===o[i]){o.splice(i--,1);break}}return o},has:function(e){var t,n=v(e,this),r=n.length;return this.filter(function(){for(t=0;t<r;t++)if(v.contains(this,n[t]))return!0})},not:function(e){return this.pushStack(ft(this,e,!1),\"not\",e)},filter:function(e){return this.pushStack(ft(this,e,!0),\"filter\",e)},is:function(e){return!!e&&(typeof e==\"string\"?st.test(e)?v(e,this.context).index(this[0])>=0:v.filter(e,this).length>0:this.filter(e).length>0)},closest:function(e,t){var n,r=0,i=this.length,s=[],o=st.test(e)||typeof e!=\"string\"?v(e,t||this.context):0;for(;r<i;r++){n=this[r];while(n&&n.ownerDocument&&n!==t&&n.nodeType!==11){if(o?o.index(n)>-1:v.find.matchesSelector(n,e)){s.push(n);break}n=n.parentNode}}return s=s.length>1?v.unique(s):s,this.pushStack(s,\"closest\",e)},index:function(e){return e?typeof e==\"string\"?v.inArray(this[0],v(e)):v.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(e,t){var n=typeof e==\"string\"?v(e,t):v.makeArray(e&&e.nodeType?[e]:e),r=v.merge(this.get(),n);return this.pushStack(ut(n[0])||ut(r[0])?r:v.unique(r))},addBack:function(e){return this.add(e==null?this.prevObject:this.prevObject.filter(e))}}),v.fn.andSelf=v.fn.addBack,v.each({parent:function(e){var t=e.parentNode;return t&&t.nodeType!==11?t:null},parents:function(e){return v.dir(e,\"parentNode\")},parentsUntil:function(e,t,n){return v.dir(e,\"parentNode\",n)},next:function(e){return at(e,\"nextSibling\")},prev:function(e){return at(e,\"previousSibling\")},nextAll:function(e){return v.dir(e,\"nextSibling\")},prevAll:function(e){return v.dir(e,\"previousSibling\")},nextUntil:function(e,t,n){return v.dir(e,\"nextSibling\",n)},prevUntil:function(e,t,n){return v.dir(e,\"previousSibling\",n)},siblings:function(e){return v.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return v.sibling(e.firstChild)},contents:function(e){return v.nodeName(e,\"iframe\")?e.contentDocument||e.contentWindow.document:v.merge([],e.childNodes)}},function(e,t){v.fn[e]=function(n,r){var i=v.map(this,t,n);return nt.test(e)||(r=n),r&&typeof r==\"string\"&&(i=v.filter(r,i)),i=this.length>1&&!ot[e]?v.unique(i):i,this.length>1&&rt.test(e)&&(i=i.reverse()),this.pushStack(i,e,l.call(arguments).join(\",\"))}}),v.extend({filter:function(e,t,n){return n&&(e=\":not(\"+e+\")\"),t.length===1?v.find.matchesSelector(t[0],e)?[t[0]]:[]:v.find.matches(e,t)},dir:function(e,n,r){var i=[],s=e[n];while(s&&s.nodeType!==9&&(r===t||s.nodeType!==1||!v(s).is(r)))s.nodeType===1&&i.push(s),s=s[n];return i},sibling:function(e,t){var n=[];for(;e;e=e.nextSibling)e.nodeType===1&&e!==t&&n.push(e);return n}});var ct=\"abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",ht=/ jQuery\\d+=\"(?:null|\\d+)\"/g,pt=/^\\s+/,dt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/gi,vt=/<([\\w:]+)/,mt=/<tbody/i,gt=/<|&#?\\w+;/,yt=/<(?:script|style|link)/i,bt=/<(?:script|object|embed|option|style)/i,wt=new RegExp(\"<(?:\"+ct+\")[\\\\s/>]\",\"i\"),Et=/^(?:checkbox|radio)$/,St=/checked\\s*(?:[^=]|=\\s*.checked.)/i,xt=/\\/(java|ecma)script/i,Tt=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)|[\\]\\-]{2}>\\s*$/g,Nt={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]},Ct=lt(i),kt=Ct.appendChild(i.createElement(\"div\"));Nt.optgroup=Nt.option,Nt.tbody=Nt.tfoot=Nt.colgroup=Nt.caption=Nt.thead,Nt.th=Nt.td,v.support.htmlSerialize||(Nt._default=[1,\"X<div>\",\"</div>\"]),v.fn.extend({text:function(e){return v.access(this,function(e){return e===t?v.text(this):this.empty().append((this[0]&&this[0].ownerDocument||i).createTextNode(e))},null,e,arguments.length)},wrapAll:function(e){if(v.isFunction(e))return this.each(function(t){v(this).wrapAll(e.call(this,t))});if(this[0]){var t=v(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){var e=this;while(e.firstChild&&e.firstChild.nodeType===1)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return v.isFunction(e)?this.each(function(t){v(this).wrapInner(e.call(this,t))}):this.each(function(){var t=v(this),n=t.contents();n.length?n.wrapAll(e):t.append(e)})},wrap:function(e){var t=v.isFunction(e);return this.each(function(n){v(this).wrapAll(t?e.call(this,n):e)})},unwrap:function(){return this.parent().each(function(){v.nodeName(this,\"body\")||v(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.appendChild(e)})},prepend:function(){return this.domManip(arguments,!0,function(e){(this.nodeType===1||this.nodeType===11)&&this.insertBefore(e,this.firstChild)})},before:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(e,this),\"before\",this.selector)}},after:function(){if(!ut(this[0]))return this.domManip(arguments,!1,function(e){this.parentNode.insertBefore(e,this.nextSibling)});if(arguments.length){var e=v.clean(arguments);return this.pushStack(v.merge(this,e),\"after\",this.selector)}},remove:function(e,t){var n,r=0;for(;(n=this[r])!=null;r++)if(!e||v.filter(e,[n]).length)!t&&n.nodeType===1&&(v.cleanData(n.getElementsByTagName(\"*\")),v.cleanData([n])),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){var e,t=0;for(;(e=this[t])!=null;t++){e.nodeType===1&&v.cleanData(e.getElementsByTagName(\"*\"));while(e.firstChild)e.removeChild(e.firstChild)}return this},clone:function(e,t){return e=e==null?!1:e,t=t==null?e:t,this.map(function(){return v.clone(this,e,t)})},html:function(e){return v.access(this,function(e){var n=this[0]||{},r=0,i=this.length;if(e===t)return n.nodeType===1?n.innerHTML.replace(ht,\"\"):t;if(typeof e==\"string\"&&!yt.test(e)&&(v.support.htmlSerialize||!wt.test(e))&&(v.support.leadingWhitespace||!pt.test(e))&&!Nt[(vt.exec(e)||[\"\",\"\"])[1].toLowerCase()]){e=e.replace(dt,\"<$1></$2>\");try{for(;r<i;r++)n=this[r]||{},n.nodeType===1&&(v.cleanData(n.getElementsByTagName(\"*\")),n.innerHTML=e);n=0}catch(s){}}n&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(e){return ut(this[0])?this.length?this.pushStack(v(v.isFunction(e)?e():e),\"replaceWith\",e):this:v.isFunction(e)?this.each(function(t){var n=v(this),r=n.html();n.replaceWith(e.call(this,t,r))}):(typeof e!=\"string\"&&(e=v(e).detach()),this.each(function(){var t=this.nextSibling,n=this.parentNode;v(this).remove(),t?v(t).before(e):v(n).append(e)}))},detach:function(e){return this.remove(e,!0)},domManip:function(e,n,r){e=[].concat.apply([],e);var i,s,o,u,a=0,f=e[0],l=[],c=this.length;if(!v.support.checkClone&&c>1&&typeof f==\"string\"&&St.test(f))return this.each(function(){v(this).domManip(e,n,r)});if(v.isFunction(f))return this.each(function(i){var s=v(this);e[0]=f.call(this,i,n?s.html():t),s.domManip(e,n,r)});if(this[0]){i=v.buildFragment(e,this,l),o=i.fragment,s=o.firstChild,o.childNodes.length===1&&(o=s);if(s){n=n&&v.nodeName(s,\"tr\");for(u=i.cacheable||c-1;a<c;a++)r.call(n&&v.nodeName(this[a],\"table\")?Lt(this[a],\"tbody\"):this[a],a===u?o:v.clone(o,!0,!0))}o=s=null,l.length&&v.each(l,function(e,t){t.src?v.ajax?v.ajax({url:t.src,type:\"GET\",dataType:\"script\",async:!1,global:!1,\"throws\":!0}):v.error(\"no ajax\"):v.globalEval((t.text||t.textContent||t.innerHTML||\"\").replace(Tt,\"\")),t.parentNode&&t.parentNode.removeChild(t)})}return this}}),v.buildFragment=function(e,n,r){var s,o,u,a=e[0];return n=n||i,n=!n.nodeType&&n[0]||n,n=n.ownerDocument||n,e.length===1&&typeof a==\"string\"&&a.length<512&&n===i&&a.charAt(0)===\"<\"&&!bt.test(a)&&(v.support.checkClone||!St.test(a))&&(v.support.html5Clone||!wt.test(a))&&(o=!0,s=v.fragments[a],u=s!==t),s||(s=n.createDocumentFragment(),v.clean(e,n,s,r),o&&(v.fragments[a]=u&&s)),{fragment:s,cacheable:o}},v.fragments={},v.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(e,t){v.fn[e]=function(n){var r,i=0,s=[],o=v(n),u=o.length,a=this.length===1&&this[0].parentNode;if((a==null||a&&a.nodeType===11&&a.childNodes.length===1)&&u===1)return o[t](this[0]),this;for(;i<u;i++)r=(i>0?this.clone(!0):this).get(),v(o[i])[t](r),s=s.concat(r);return this.pushStack(s,e,o.selector)}}),v.extend({clone:function(e,t,n){var r,i,s,o;v.support.html5Clone||v.isXMLDoc(e)||!wt.test(\"<\"+e.nodeName+\">\")?o=e.cloneNode(!0):(kt.innerHTML=e.outerHTML,kt.removeChild(o=kt.firstChild));if((!v.support.noCloneEvent||!v.support.noCloneChecked)&&(e.nodeType===1||e.nodeType===11)&&!v.isXMLDoc(e)){Ot(e,o),r=Mt(e),i=Mt(o);for(s=0;r[s];++s)i[s]&&Ot(r[s],i[s])}if(t){At(e,o);if(n){r=Mt(e),i=Mt(o);for(s=0;r[s];++s)At(r[s],i[s])}}return r=i=null,o},clean:function(e,t,n,r){var s,o,u,a,f,l,c,h,p,d,m,g,y=t===i&&Ct,b=[];if(!t||typeof t.createDocumentFragment==\"undefined\")t=i;for(s=0;(u=e[s])!=null;s++){typeof u==\"number\"&&(u+=\"\");if(!u)continue;if(typeof u==\"string\")if(!gt.test(u))u=t.createTextNode(u);else{y=y||lt(t),c=t.createElement(\"div\"),y.appendChild(c),u=u.replace(dt,\"<$1></$2>\"),a=(vt.exec(u)||[\"\",\"\"])[1].toLowerCase(),f=Nt[a]||Nt._default,l=f[0],c.innerHTML=f[1]+u+f[2];while(l--)c=c.lastChild;if(!v.support.tbody){h=mt.test(u),p=a===\"table\"&&!h?c.firstChild&&c.firstChild.childNodes:f[1]===\"<table>\"&&!h?c.childNodes:[];for(o=p.length-1;o>=0;--o)v.nodeName(p[o],\"tbody\")&&!p[o].childNodes.length&&p[o].parentNode.removeChild(p[o])}!v.support.leadingWhitespace&&pt.test(u)&&c.insertBefore(t.createTextNode(pt.exec(u)[0]),c.firstChild),u=c.childNodes,c.parentNode.removeChild(c)}u.nodeType?b.push(u):v.merge(b,u)}c&&(u=c=y=null);if(!v.support.appendChecked)for(s=0;(u=b[s])!=null;s++)v.nodeName(u,\"input\")?_t(u):typeof u.getElementsByTagName!=\"undefined\"&&v.grep(u.getElementsByTagName(\"input\"),_t);if(n){m=function(e){if(!e.type||xt.test(e.type))return r?r.push(e.parentNode?e.parentNode.removeChild(e):e):n.appendChild(e)};for(s=0;(u=b[s])!=null;s++)if(!v.nodeName(u,\"script\")||!m(u))n.appendChild(u),typeof u.getElementsByTagName!=\"undefined\"&&(g=v.grep(v.merge([],u.getElementsByTagName(\"script\")),m),b.splice.apply(b,[s+1,0].concat(g)),s+=g.length)}return b},cleanData:function(e,t){var n,r,i,s,o=0,u=v.expando,a=v.cache,f=v.support.deleteExpando,l=v.event.special;for(;(i=e[o])!=null;o++)if(t||v.acceptData(i)){r=i[u],n=r&&a[r];if(n){if(n.events)for(s in n.events)l[s]?v.event.remove(i,s):v.removeEvent(i,s,n.handle);a[r]&&(delete a[r],f?delete i[u]:i.removeAttribute?i.removeAttribute(u):i[u]=null,v.deletedIds.push(r))}}}}),function(){var e,t;v.uaMatch=function(e){e=e.toLowerCase();var t=/(chrome)[ \\/]([\\w.]+)/.exec(e)||/(webkit)[ \\/]([\\w.]+)/.exec(e)||/(opera)(?:.*version|)[ \\/]([\\w.]+)/.exec(e)||/(msie) ([\\w.]+)/.exec(e)||e.indexOf(\"compatible\")<0&&/(mozilla)(?:.*? rv:([\\w.]+)|)/.exec(e)||[];return{browser:t[1]||\"\",version:t[2]||\"0\"}},e=v.uaMatch(o.userAgent),t={},e.browser&&(t[e.browser]=!0,t.version=e.version),t.chrome?t.webkit=!0:t.webkit&&(t.safari=!0),v.browser=t,v.sub=function(){function e(t,n){return new e.fn.init(t,n)}v.extend(!0,e,this),e.superclass=this,e.fn=e.prototype=this(),e.fn.constructor=e,e.sub=this.sub,e.fn.init=function(r,i){return i&&i instanceof v&&!(i instanceof e)&&(i=e(i)),v.fn.init.call(this,r,i,t)},e.fn.init.prototype=e.fn;var t=e(i);return e}}();var Dt,Pt,Ht,Bt=/alpha\\([^)]*\\)/i,jt=/opacity=([^)]*)/,Ft=/^(top|right|bottom|left)$/,It=/^(none|table(?!-c[ea]).+)/,qt=/^margin/,Rt=new RegExp(\"^(\"+m+\")(.*)$\",\"i\"),Ut=new RegExp(\"^(\"+m+\")(?!px)[a-z%]+$\",\"i\"),zt=new RegExp(\"^([-+])=(\"+m+\")\",\"i\"),Wt={BODY:\"block\"},Xt={position:\"absolute\",visibility:\"hidden\",display:\"block\"},Vt={letterSpacing:0,fontWeight:400},$t=[\"Top\",\"Right\",\"Bottom\",\"Left\"],Jt=[\"Webkit\",\"O\",\"Moz\",\"ms\"],Kt=v.fn.toggle;v.fn.extend({css:function(e,n){return v.access(this,function(e,n,r){return r!==t?v.style(e,n,r):v.css(e,n)},e,n,arguments.length>1)},show:function(){return Yt(this,!0)},hide:function(){return Yt(this)},toggle:function(e,t){var n=typeof e==\"boolean\";return v.isFunction(e)&&v.isFunction(t)?Kt.apply(this,arguments):this.each(function(){(n?e:Gt(this))?v(this).show():v(this).hide()})}}),v.extend({cssHooks:{opacity:{get:function(e,t){if(t){var n=Dt(e,\"opacity\");return n===\"\"?\"1\":n}}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":v.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(e,n,r,i){if(!e||e.nodeType===3||e.nodeType===8||!e.style)return;var s,o,u,a=v.camelCase(n),f=e.style;n=v.cssProps[a]||(v.cssProps[a]=Qt(f,a)),u=v.cssHooks[n]||v.cssHooks[a];if(r===t)return u&&\"get\"in u&&(s=u.get(e,!1,i))!==t?s:f[n];o=typeof r,o===\"string\"&&(s=zt.exec(r))&&(r=(s[1]+1)*s[2]+parseFloat(v.css(e,n)),o=\"number\");if(r==null||o===\"number\"&&isNaN(r))return;o===\"number\"&&!v.cssNumber[a]&&(r+=\"px\");if(!u||!(\"set\"in u)||(r=u.set(e,r,i))!==t)try{f[n]=r}catch(l){}},css:function(e,n,r,i){var s,o,u,a=v.camelCase(n);return n=v.cssProps[a]||(v.cssProps[a]=Qt(e.style,a)),u=v.cssHooks[n]||v.cssHooks[a],u&&\"get\"in u&&(s=u.get(e,!0,i)),s===t&&(s=Dt(e,n)),s===\"normal\"&&n in Vt&&(s=Vt[n]),r||i!==t?(o=parseFloat(s),r||v.isNumeric(o)?o||0:s):s},swap:function(e,t,n){var r,i,s={};for(i in t)s[i]=e.style[i],e.style[i]=t[i];r=n.call(e);for(i in t)e.style[i]=s[i];return r}}),e.getComputedStyle?Dt=function(t,n){var r,i,s,o,u=e.getComputedStyle(t,null),a=t.style;return u&&(r=u.getPropertyValue(n)||u[n],r===\"\"&&!v.contains(t.ownerDocument,t)&&(r=v.style(t,n)),Ut.test(r)&&qt.test(n)&&(i=a.width,s=a.minWidth,o=a.maxWidth,a.minWidth=a.maxWidth=a.width=r,r=u.width,a.width=i,a.minWidth=s,a.maxWidth=o)),r}:i.documentElement.currentStyle&&(Dt=function(e,t){var n,r,i=e.currentStyle&&e.currentStyle[t],s=e.style;return i==null&&s&&s[t]&&(i=s[t]),Ut.test(i)&&!Ft.test(t)&&(n=s.left,r=e.runtimeStyle&&e.runtimeStyle.left,r&&(e.runtimeStyle.left=e.currentStyle.left),s.left=t===\"fontSize\"?\"1em\":i,i=s.pixelLeft+\"px\",s.left=n,r&&(e.runtimeStyle.left=r)),i===\"\"?\"auto\":i}),v.each([\"height\",\"width\"],function(e,t){v.cssHooks[t]={get:function(e,n,r){if(n)return e.offsetWidth===0&&It.test(Dt(e,\"display\"))?v.swap(e,Xt,function(){return tn(e,t,r)}):tn(e,t,r)},set:function(e,n,r){return Zt(e,n,r?en(e,t,r,v.support.boxSizing&&v.css(e,\"boxSizing\")===\"border-box\"):0)}}}),v.support.opacity||(v.cssHooks.opacity={get:function(e,t){return jt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||\"\")?.01*parseFloat(RegExp.$1)+\"\":t?\"1\":\"\"},set:function(e,t){var n=e.style,r=e.currentStyle,i=v.isNumeric(t)?\"alpha(opacity=\"+t*100+\")\":\"\",s=r&&r.filter||n.filter||\"\";n.zoom=1;if(t>=1&&v.trim(s.replace(Bt,\"\"))===\"\"&&n.removeAttribute){n.removeAttribute(\"filter\");if(r&&!r.filter)return}n.filter=Bt.test(s)?s.replace(Bt,i):s+\" \"+i}}),v(function(){v.support.reliableMarginRight||(v.cssHooks.marginRight={get:function(e,t){return v.swap(e,{display:\"inline-block\"},function(){if(t)return Dt(e,\"marginRight\")})}}),!v.support.pixelPosition&&v.fn.position&&v.each([\"top\",\"left\"],function(e,t){v.cssHooks[t]={get:function(e,n){if(n){var r=Dt(e,t);return Ut.test(r)?v(e).position()[t]+\"px\":r}}}})}),v.expr&&v.expr.filters&&(v.expr.filters.hidden=function(e){return e.offsetWidth===0&&e.offsetHeight===0||!v.support.reliableHiddenOffsets&&(e.style&&e.style.display||Dt(e,\"display\"))===\"none\"},v.expr.filters.visible=function(e){return!v.expr.filters.hidden(e)}),v.each({margin:\"\",padding:\"\",border:\"Width\"},function(e,t){v.cssHooks[e+t]={expand:function(n){var r,i=typeof n==\"string\"?n.split(\" \"):[n],s={};for(r=0;r<4;r++)s[e+$t[r]+t]=i[r]||i[r-2]||i[0];return s}},qt.test(e)||(v.cssHooks[e+t].set=Zt)});var rn=/%20/g,sn=/\\[\\]$/,on=/\\r?\\n/g,un=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,an=/^(?:select|textarea)/i;v.fn.extend({serialize:function(){return v.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?v.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||an.test(this.nodeName)||un.test(this.type))}).map(function(e,t){var n=v(this).val();return n==null?null:v.isArray(n)?v.map(n,function(e,n){return{name:t.name,value:e.replace(on,\"\\r\\n\")}}):{name:t.name,value:n.replace(on,\"\\r\\n\")}}).get()}}),v.param=function(e,n){var r,i=[],s=function(e,t){t=v.isFunction(t)?t():t==null?\"\":t,i[i.length]=encodeURIComponent(e)+\"=\"+encodeURIComponent(t)};n===t&&(n=v.ajaxSettings&&v.ajaxSettings.traditional);if(v.isArray(e)||e.jquery&&!v.isPlainObject(e))v.each(e,function(){s(this.name,this.value)});else for(r in e)fn(r,e[r],n,s);return i.join(\"&\").replace(rn,\"+\")};var ln,cn,hn=/#.*$/,pn=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,dn=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,vn=/^(?:GET|HEAD)$/,mn=/^\\/\\//,gn=/\\?/,yn=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,bn=/([?&])_=[^&]*/,wn=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+)|)|)/,En=v.fn.load,Sn={},xn={},Tn=[\"*/\"]+[\"*\"];try{cn=s.href}catch(Nn){cn=i.createElement(\"a\"),cn.href=\"\",cn=cn.href}ln=wn.exec(cn.toLowerCase())||[],v.fn.load=function(e,n,r){if(typeof e!=\"string\"&&En)return En.apply(this,arguments);if(!this.length)return this;var i,s,o,u=this,a=e.indexOf(\" \");return a>=0&&(i=e.slice(a,e.length),e=e.slice(0,a)),v.isFunction(n)?(r=n,n=t):n&&typeof n==\"object\"&&(s=\"POST\"),v.ajax({url:e,type:s,dataType:\"html\",data:n,complete:function(e,t){r&&u.each(r,o||[e.responseText,t,e])}}).done(function(e){o=arguments,u.html(i?v(\"<div>\").append(e.replace(yn,\"\")).find(i):e)}),this},v.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(e,t){v.fn[t]=function(e){return this.on(t,e)}}),v.each([\"get\",\"post\"],function(e,n){v[n]=function(e,r,i,s){return v.isFunction(r)&&(s=s||i,i=r,r=t),v.ajax({type:n,url:e,data:r,success:i,dataType:s})}}),v.extend({getScript:function(e,n){return v.get(e,t,n,\"script\")},getJSON:function(e,t,n){return v.get(e,t,n,\"json\")},ajaxSetup:function(e,t){return t?Ln(e,v.ajaxSettings):(t=e,e=v.ajaxSettings),Ln(e,t),e},ajaxSettings:{url:cn,isLocal:dn.test(ln[1]),global:!0,type:\"GET\",contentType:\"application/x-www-form-urlencoded; charset=UTF-8\",processData:!0,async:!0,accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",text:\"text/plain\",json:\"application/json, text/javascript\",\"*\":Tn},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\"},converters:{\"* text\":e.String,\"text html\":!0,\"text json\":v.parseJSON,\"text xml\":v.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:Cn(Sn),ajaxTransport:Cn(xn),ajax:function(e,n){function T(e,n,s,a){var l,y,b,w,S,T=n;if(E===2)return;E=2,u&&clearTimeout(u),o=t,i=a||\"\",x.readyState=e>0?4:0,s&&(w=An(c,x,s));if(e>=200&&e<300||e===304)c.ifModified&&(S=x.getResponseHeader(\"Last-Modified\"),S&&(v.lastModified[r]=S),S=x.getResponseHeader(\"Etag\"),S&&(v.etag[r]=S)),e===304?(T=\"notmodified\",l=!0):(l=On(c,w),T=l.state,y=l.data,b=l.error,l=!b);else{b=T;if(!T||e)T=\"error\",e<0&&(e=0)}x.status=e,x.statusText=(n||T)+\"\",l?d.resolveWith(h,[y,T,x]):d.rejectWith(h,[x,T,b]),x.statusCode(g),g=t,f&&p.trigger(\"ajax\"+(l?\"Success\":\"Error\"),[x,c,l?y:b]),m.fireWith(h,[x,T]),f&&(p.trigger(\"ajaxComplete\",[x,c]),--v.active||v.event.trigger(\"ajaxStop\"))}typeof e==\"object\"&&(n=e,e=t),n=n||{};var r,i,s,o,u,a,f,l,c=v.ajaxSetup({},n),h=c.context||c,p=h!==c&&(h.nodeType||h instanceof v)?v(h):v.event,d=v.Deferred(),m=v.Callbacks(\"once memory\"),g=c.statusCode||{},b={},w={},E=0,S=\"canceled\",x={readyState:0,setRequestHeader:function(e,t){if(!E){var n=e.toLowerCase();e=w[n]=w[n]||e,b[e]=t}return this},getAllResponseHeaders:function(){return E===2?i:null},getResponseHeader:function(e){var n;if(E===2){if(!s){s={};while(n=pn.exec(i))s[n[1].toLowerCase()]=n[2]}n=s[e.toLowerCase()]}return n===t?null:n},overrideMimeType:function(e){return E||(c.mimeType=e),this},abort:function(e){return e=e||S,o&&o.abort(e),T(0,e),this}};d.promise(x),x.success=x.done,x.error=x.fail,x.complete=m.add,x.statusCode=function(e){if(e){var t;if(E<2)for(t in e)g[t]=[g[t],e[t]];else t=e[x.status],x.always(t)}return this},c.url=((e||c.url)+\"\").replace(hn,\"\").replace(mn,ln[1]+\"//\"),c.dataTypes=v.trim(c.dataType||\"*\").toLowerCase().split(y),c.crossDomain==null&&(a=wn.exec(c.url.toLowerCase()),c.crossDomain=!(!a||a[1]===ln[1]&&a[2]===ln[2]&&(a[3]||(a[1]===\"http:\"?80:443))==(ln[3]||(ln[1]===\"http:\"?80:443)))),c.data&&c.processData&&typeof c.data!=\"string\"&&(c.data=v.param(c.data,c.traditional)),kn(Sn,c,n,x);if(E===2)return x;f=c.global,c.type=c.type.toUpperCase(),c.hasContent=!vn.test(c.type),f&&v.active++===0&&v.event.trigger(\"ajaxStart\");if(!c.hasContent){c.data&&(c.url+=(gn.test(c.url)?\"&\":\"?\")+c.data,delete c.data),r=c.url;if(c.cache===!1){var N=v.now(),C=c.url.replace(bn,\"$1_=\"+N);c.url=C+(C===c.url?(gn.test(c.url)?\"&\":\"?\")+\"_=\"+N:\"\")}}(c.data&&c.hasContent&&c.contentType!==!1||n.contentType)&&x.setRequestHeader(\"Content-Type\",c.contentType),c.ifModified&&(r=r||c.url,v.lastModified[r]&&x.setRequestHeader(\"If-Modified-Since\",v.lastModified[r]),v.etag[r]&&x.setRequestHeader(\"If-None-Match\",v.etag[r])),x.setRequestHeader(\"Accept\",c.dataTypes[0]&&c.accepts[c.dataTypes[0]]?c.accepts[c.dataTypes[0]]+(c.dataTypes[0]!==\"*\"?\", \"+Tn+\"; q=0.01\":\"\"):c.accepts[\"*\"]);for(l in c.headers)x.setRequestHeader(l,c.headers[l]);if(!c.beforeSend||c.beforeSend.call(h,x,c)!==!1&&E!==2){S=\"abort\";for(l in{success:1,error:1,complete:1})x[l](c[l]);o=kn(xn,c,n,x);if(!o)T(-1,\"No Transport\");else{x.readyState=1,f&&p.trigger(\"ajaxSend\",[x,c]),c.async&&c.timeout>0&&(u=setTimeout(function(){x.abort(\"timeout\")},c.timeout));try{E=1,o.send(b,T)}catch(k){if(!(E<2))throw k;T(-1,k)}}return x}return x.abort()},active:0,lastModified:{},etag:{}});var Mn=[],_n=/\\?/,Dn=/(=)\\?(?=&|$)|\\?\\?/,Pn=v.now();v.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){var e=Mn.pop()||v.expando+\"_\"+Pn++;return this[e]=!0,e}}),v.ajaxPrefilter(\"json jsonp\",function(n,r,i){var s,o,u,a=n.data,f=n.url,l=n.jsonp!==!1,c=l&&Dn.test(f),h=l&&!c&&typeof a==\"string\"&&!(n.contentType||\"\").indexOf(\"application/x-www-form-urlencoded\")&&Dn.test(a);if(n.dataTypes[0]===\"jsonp\"||c||h)return s=n.jsonpCallback=v.isFunction(n.jsonpCallback)?n.jsonpCallback():n.jsonpCallback,o=e[s],c?n.url=f.replace(Dn,\"$1\"+s):h?n.data=a.replace(Dn,\"$1\"+s):l&&(n.url+=(_n.test(f)?\"&\":\"?\")+n.jsonp+\"=\"+s),n.converters[\"script json\"]=function(){return u||v.error(s+\" was not called\"),u[0]},n.dataTypes[0]=\"json\",e[s]=function(){u=arguments},i.always(function(){e[s]=o,n[s]&&(n.jsonpCallback=r.jsonpCallback,Mn.push(s)),u&&v.isFunction(o)&&o(u[0]),u=o=t}),\"script\"}),v.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/javascript|ecmascript/},converters:{\"text script\":function(e){return v.globalEval(e),e}}}),v.ajaxPrefilter(\"script\",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type=\"GET\",e.global=!1)}),v.ajaxTransport(\"script\",function(e){if(e.crossDomain){var n,r=i.head||i.getElementsByTagName(\"head\")[0]||i.documentElement;return{send:function(s,o){n=i.createElement(\"script\"),n.async=\"async\",e.scriptCharset&&(n.charset=e.scriptCharset),n.src=e.url,n.onload=n.onreadystatechange=function(e,i){if(i||!n.readyState||/loaded|complete/.test(n.readyState))n.onload=n.onreadystatechange=null,r&&n.parentNode&&r.removeChild(n),n=t,i||o(200,\"success\")},r.insertBefore(n,r.firstChild)},abort:function(){n&&n.onload(0,1)}}}});var Hn,Bn=e.ActiveXObject?function(){for(var e in Hn)Hn[e](0,1)}:!1,jn=0;v.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&Fn()||In()}:Fn,function(e){v.extend(v.support,{ajax:!!e,cors:!!e&&\"withCredentials\"in e})}(v.ajaxSettings.xhr()),v.support.ajax&&v.ajaxTransport(function(n){if(!n.crossDomain||v.support.cors){var r;return{send:function(i,s){var o,u,a=n.xhr();n.username?a.open(n.type,n.url,n.async,n.username,n.password):a.open(n.type,n.url,n.async);if(n.xhrFields)for(u in n.xhrFields)a[u]=n.xhrFields[u];n.mimeType&&a.overrideMimeType&&a.overrideMimeType(n.mimeType),!n.crossDomain&&!i[\"X-Requested-With\"]&&(i[\"X-Requested-With\"]=\"XMLHttpRequest\");try{for(u in i)a.setRequestHeader(u,i[u])}catch(f){}a.send(n.hasContent&&n.data||null),r=function(e,i){var u,f,l,c,h;try{if(r&&(i||a.readyState===4)){r=t,o&&(a.onreadystatechange=v.noop,Bn&&delete Hn[o]);if(i)a.readyState!==4&&a.abort();else{u=a.status,l=a.getAllResponseHeaders(),c={},h=a.responseXML,h&&h.documentElement&&(c.xml=h);try{c.text=a.responseText}catch(p){}try{f=a.statusText}catch(p){f=\"\"}!u&&n.isLocal&&!n.crossDomain?u=c.text?200:404:u===1223&&(u=204)}}}catch(d){i||s(-1,d)}c&&s(u,f,c,l)},n.async?a.readyState===4?setTimeout(r,0):(o=++jn,Bn&&(Hn||(Hn={},v(e).unload(Bn)),Hn[o]=r),a.onreadystatechange=r):r()},abort:function(){r&&r(0,1)}}}});var qn,Rn,Un=/^(?:toggle|show|hide)$/,zn=new RegExp(\"^(?:([-+])=|)(\"+m+\")([a-z%]*)$\",\"i\"),Wn=/queueHooks$/,Xn=[Gn],Vn={\"*\":[function(e,t){var n,r,i=this.createTween(e,t),s=zn.exec(t),o=i.cur(),u=+o||0,a=1,f=20;if(s){n=+s[2],r=s[3]||(v.cssNumber[e]?\"\":\"px\");if(r!==\"px\"&&u){u=v.css(i.elem,e,!0)||n||1;do a=a||\".5\",u/=a,v.style(i.elem,e,u+r);while(a!==(a=i.cur()/o)&&a!==1&&--f)}i.unit=r,i.start=u,i.end=s[1]?u+(s[1]+1)*n:n}return i}]};v.Animation=v.extend(Kn,{tweener:function(e,t){v.isFunction(e)?(t=e,e=[\"*\"]):e=e.split(\" \");var n,r=0,i=e.length;for(;r<i;r++)n=e[r],Vn[n]=Vn[n]||[],Vn[n].unshift(t)},prefilter:function(e,t){t?Xn.unshift(e):Xn.push(e)}}),v.Tween=Yn,Yn.prototype={constructor:Yn,init:function(e,t,n,r,i,s){this.elem=e,this.prop=n,this.easing=i||\"swing\",this.options=t,this.start=this.now=this.cur(),this.end=r,this.unit=s||(v.cssNumber[n]?\"\":\"px\")},cur:function(){var e=Yn.propHooks[this.prop];return e&&e.get?e.get(this):Yn.propHooks._default.get(this)},run:function(e){var t,n=Yn.propHooks[this.prop];return this.options.duration?this.pos=t=v.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):this.pos=t=e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),n&&n.set?n.set(this):Yn.propHooks._default.set(this),this}},Yn.prototype.init.prototype=Yn.prototype,Yn.propHooks={_default:{get:function(e){var t;return e.elem[e.prop]==null||!!e.elem.style&&e.elem.style[e.prop]!=null?(t=v.css(e.elem,e.prop,!1,\"\"),!t||t===\"auto\"?0:t):e.elem[e.prop]},set:function(e){v.fx.step[e.prop]?v.fx.step[e.prop](e):e.elem.style&&(e.elem.style[v.cssProps[e.prop]]!=null||v.cssHooks[e.prop])?v.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},Yn.propHooks.scrollTop=Yn.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},v.each([\"toggle\",\"show\",\"hide\"],function(e,t){var n=v.fn[t];v.fn[t]=function(r,i,s){return r==null||typeof r==\"boolean\"||!e&&v.isFunction(r)&&v.isFunction(i)?n.apply(this,arguments):this.animate(Zn(t,!0),r,i,s)}}),v.fn.extend({fadeTo:function(e,t,n,r){return this.filter(Gt).css(\"opacity\",0).show().end().animate({opacity:t},e,n,r)},animate:function(e,t,n,r){var i=v.isEmptyObject(e),s=v.speed(t,n,r),o=function(){var t=Kn(this,v.extend({},e),s);i&&t.stop(!0)};return i||s.queue===!1?this.each(o):this.queue(s.queue,o)},stop:function(e,n,r){var i=function(e){var t=e.stop;delete e.stop,t(r)};return typeof e!=\"string\"&&(r=n,n=e,e=t),n&&e!==!1&&this.queue(e||\"fx\",[]),this.each(function(){var t=!0,n=e!=null&&e+\"queueHooks\",s=v.timers,o=v._data(this);if(n)o[n]&&o[n].stop&&i(o[n]);else for(n in o)o[n]&&o[n].stop&&Wn.test(n)&&i(o[n]);for(n=s.length;n--;)s[n].elem===this&&(e==null||s[n].queue===e)&&(s[n].anim.stop(r),t=!1,s.splice(n,1));(t||!r)&&v.dequeue(this,e)})}}),v.each({slideDown:Zn(\"show\"),slideUp:Zn(\"hide\"),slideToggle:Zn(\"toggle\"),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(e,t){v.fn[e]=function(e,n,r){return this.animate(t,e,n,r)}}),v.speed=function(e,t,n){var r=e&&typeof e==\"object\"?v.extend({},e):{complete:n||!n&&t||v.isFunction(e)&&e,duration:e,easing:n&&t||t&&!v.isFunction(t)&&t};r.duration=v.fx.off?0:typeof r.duration==\"number\"?r.duration:r.duration in v.fx.speeds?v.fx.speeds[r.duration]:v.fx.speeds._default;if(r.queue==null||r.queue===!0)r.queue=\"fx\";return r.old=r.complete,r.complete=function(){v.isFunction(r.old)&&r.old.call(this),r.queue&&v.dequeue(this,r.queue)},r},v.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},v.timers=[],v.fx=Yn.prototype.init,v.fx.tick=function(){var e,n=v.timers,r=0;qn=v.now();for(;r<n.length;r++)e=n[r],!e()&&n[r]===e&&n.splice(r--,1);n.length||v.fx.stop(),qn=t},v.fx.timer=function(e){e()&&v.timers.push(e)&&!Rn&&(Rn=setInterval(v.fx.tick,v.fx.interval))},v.fx.interval=13,v.fx.stop=function(){clearInterval(Rn),Rn=null},v.fx.speeds={slow:600,fast:200,_default:400},v.fx.step={},v.expr&&v.expr.filters&&(v.expr.filters.animated=function(e){return v.grep(v.timers,function(t){return e===t.elem}).length});var er=/^(?:body|html)$/i;v.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){v.offset.setOffset(this,e,t)});var n,r,i,s,o,u,a,f={top:0,left:0},l=this[0],c=l&&l.ownerDocument;if(!c)return;return(r=c.body)===l?v.offset.bodyOffset(l):(n=c.documentElement,v.contains(n,l)?(typeof l.getBoundingClientRect!=\"undefined\"&&(f=l.getBoundingClientRect()),i=tr(c),s=n.clientTop||r.clientTop||0,o=n.clientLeft||r.clientLeft||0,u=i.pageYOffset||n.scrollTop,a=i.pageXOffset||n.scrollLeft,{top:f.top+u-s,left:f.left+a-o}):f)},v.offset={bodyOffset:function(e){var t=e.offsetTop,n=e.offsetLeft;return v.support.doesNotIncludeMarginInBodyOffset&&(t+=parseFloat(v.css(e,\"marginTop\"))||0,n+=parseFloat(v.css(e,\"marginLeft\"))||0),{top:t,left:n}},setOffset:function(e,t,n){var r=v.css(e,\"position\");r===\"static\"&&(e.style.position=\"relative\");var i=v(e),s=i.offset(),o=v.css(e,\"top\"),u=v.css(e,\"left\"),a=(r===\"absolute\"||r===\"fixed\")&&v.inArray(\"auto\",[o,u])>-1,f={},l={},c,h;a?(l=i.position(),c=l.top,h=l.left):(c=parseFloat(o)||0,h=parseFloat(u)||0),v.isFunction(t)&&(t=t.call(e,n,s)),t.top!=null&&(f.top=t.top-s.top+c),t.left!=null&&(f.left=t.left-s.left+h),\"using\"in t?t.using.call(e,f):i.css(f)}},v.fn.extend({position:function(){if(!this[0])return;var e=this[0],t=this.offsetParent(),n=this.offset(),r=er.test(t[0].nodeName)?{top:0,left:0}:t.offset();return n.top-=parseFloat(v.css(e,\"marginTop\"))||0,n.left-=parseFloat(v.css(e,\"marginLeft\"))||0,r.top+=parseFloat(v.css(t[0],\"borderTopWidth\"))||0,r.left+=parseFloat(v.css(t[0],\"borderLeftWidth\"))||0,{top:n.top-r.top,left:n.left-r.left}},offsetParent:function(){return this.map(function(){var e=this.offsetParent||i.body;while(e&&!er.test(e.nodeName)&&v.css(e,\"position\")===\"static\")e=e.offsetParent;return e||i.body})}}),v.each({scrollLeft:\"pageXOffset\",scrollTop:\"pageYOffset\"},function(e,n){var r=/Y/.test(n);v.fn[e]=function(i){return v.access(this,function(e,i,s){var o=tr(e);if(s===t)return o?n in o?o[n]:o.document.documentElement[i]:e[i];o?o.scrollTo(r?v(o).scrollLeft():s,r?s:v(o).scrollTop()):e[i]=s},e,i,arguments.length,null)}}),v.each({Height:\"height\",Width:\"width\"},function(e,n){v.each({padding:\"inner\"+e,content:n,\"\":\"outer\"+e},function(r,i){v.fn[i]=function(i,s){var o=arguments.length&&(r||typeof i!=\"boolean\"),u=r||(i===!0||s===!0?\"margin\":\"border\");return v.access(this,function(n,r,i){var s;return v.isWindow(n)?n.document.documentElement[\"client\"+e]:n.nodeType===9?(s=n.documentElement,Math.max(n.body[\"scroll\"+e],s[\"scroll\"+e],n.body[\"offset\"+e],s[\"offset\"+e],s[\"client\"+e])):i===t?v.css(n,r,i,u):v.style(n,r,i,u)},n,o?i:t,o,null)}})}),e.jQuery=e.$=v,typeof define==\"function\"&&define.amd&&define.amd.jQuery&&define(\"jquery\",[],function(){return v})})(window);"
      },
      "http://a.adroll.com/j/roundtrip.js": {
         "pageUrl": "http://www.hipmunk.com/",
         "scriptUrl": "http://a.adroll.com/j/roundtrip.js",
         "body": "\nvar _und=\"undefined\",__adroll=window.__adroll||{exp:5E4,eexp:720,pv:1E11*Math.random(),__adc:\"__ar_v4\",_nad:0,_lce:null,_broken:!1,_url:2E3,_r:{},_kwl:50,_logs:[],_secure:function(){return\"https:\"==document.location.protocol?!0:!1},_head:function(){return(document.getElementsByTagName(\"head\")||[null])[0]||(document.getElementsByTagName(\"body\")||[null])[0]||document.getElementsByTagName(\"script\")[0].parentNode},_srv:function(a){a=typeof a==_und?\"\":a;return\"//d.adroll.com\"+a},_cdn:function(a){a=\ntypeof a==_und?\"\":a;return this._secure()?\"https://s.adroll.com\"+a:\"http://a.adroll.com\"+a},log:function(a){this._logs.push(a)},read_log:function(a){return this._logs.join(a?\"\\n\":\"<br>\\n\")},cookieEnabled:function(a){if(adroll_ext_network||adroll_optout||this._broken)return!1;if(2<=this._nad||a)return this._lce;this.set(\"_te_\",\"1\");if(\"1\"==this.get(\"_te_\")){this.del(\"_te_\");return 0<this._nad&&!this.get(this.__adc)?this._lce=!1:this._lce=!0}return this._lce=!1},parseUri:function(a){for(var a=/^(?:(?![^:@]+:[^:@\\/]*@)([^:\\/?#.]+):)?(?:\\/\\/)?((?:(([^:@]*):?([^:@]*))?@)?([^:\\/?#]*)(?::(\\d*))?)(((\\/(?:[^?#](?![^?#\\/]*\\.[^?#\\/.]+(?:[?#]|$)))*\\/?)?([^?#\\/]*))(?:\\?([^#]*))?(?:#(.*))?)/.exec(a),\nb={},c=14,d=\"source,protocol,authority,userInfo,user,password,host,port,relative,path,directory,file,query,anchor\".split(\",\");c--;)b[d[c]]=a[c]||\"\";b.queryKey={};b[d[12]].replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,c,d){c&&(b.queryKey[c]=d)});return b},get_keywords:function(){try{var a=document.referrer||\"\";if(!a)return\"\";var b=this.parseUri(a);return-1!=b.host.indexOf(\"google.com\")?b.queryKey.q.substring(0,this._kwl):\"\"}catch(c){return\"\"}},get:function(a){var b=document.cookie;if(null==b)return this._broken=\n!0,null;var c;0>b.indexOf(a+\"=\")?b=null:(a=b.indexOf(a+\"=\")+a.length+1,c=b.indexOf(\";\",a),-1==c&&(c=b.length),b=b.substring(a,c),b=\"\"==b?null:unescape(b));return b},set:function(a,b,c){var d;!c||\"number\"!=typeof c?c=\"\":(d=new Date,d.setTime(d.getTime()+36E5*c),c=d.toGMTString(),c=\"; expires=\"+c);d=\"; domain=\"+window.location.hostname;b=escape(b);document.cookie=a+\"=\"+b+c+\"; path=/\"+d},del:function(a){this.set(a,\"\",-8760)},generate_link:function(){return\"\"},get_base_url:function(a,b,c,d,e,f){var a=\na+\"/\"+b+\"/\"+c+(d?\"/\"+d:\"\")+(e?\"/\"+e:\"\"),h=\"\";this.cookieEnabled(!1)?(h=escape(this.get_eids()),a+=\"?pv=\"+this.pv+\"&cookie=\"+h):a+=\"?no-cookies=1&pv=\"+this.pv;f&&(a+=\"&\"+f.join(\"&\"));if(a.length>this._url){this.del(this.__adc);if(a.length-h.length>this._url)return\"#\";this.log(\"Url was too big, shrinking it\");return this.get_url(b,c,d,e,f)}this.log(\"Generated url: \"+a);return a},get_url:function(a,b,c,d,e){return this.get_base_url(!c?this._srv(\"/r\"):this._srv(\"/c\"),\na,b,c,d,e)},get_eids:function(){if(adroll_ext_network||adroll_optout)return\"\";try{for(var a=this.get(this.__adc),b=a?a.split(\"|\"):\"\",a=[],c=b.length-1;0<=c;c--)if(b[c]){var d=b[c].split(\":\");a.push([d[0],d[2]].join(\":\"))}return a.join(\"|\")}catch(e){return this.del(this.__adc),\"\"}},get_date:function(a){var b=new Date;a&&b.setTime(b.getTime()+36E5*a);var a=\"\"+b.getUTCFullYear(),c=b.getUTCMonth(),c=10<=c?c:\"0\"+c,b=b.getUTCDate();return[a,c,10<=b?b:\"0\"+b].join(\"\")},normalize_url:function(a){return a.toLowerCase()},\ncheck_cookie:function(a,b){if(adroll_ext_network||adroll_optout)return\"\";for(var c=a.split(\"|\"),d=c.length-1;0<=d;d--)if(c[d]){var e=c[d].split(\":\");b==e[0]&&(e[2]=\"\"+(parseInt(e[2])+1),c[d]=e.join(\":\"))}return c.join(\"|\")},handle:function(a){var b=this.get(this.__adc)||\"\";-1!=b.indexOf(a)?this.set(this.__adc,this.check_cookie(b,a),this.exp):this.set(this.__adc,[b,[a,this.get_date(this.eexp),\"1\"].join(\":\")].join(\"|\"),this.exp)},expire_old:function(){if(!adroll_ext_network&&!adroll_optout){for(var a=\nthis.get_date(),b=this.get(this.__adc),b=b?b.split(\"|\"):[\"\"],c=[],d=b.length-1;0<=d;d--)b[d]&&b[d].split(\":\")[1]>a&&c.push(b[d]);this.set(this.__adc,c.join(\"|\"),this.exp)}},render_win_notification:function(a){if(a.adroll_cpm_macro&&a.adroll_win_notif){var b=new Image,c=this._secure()?\"https://\":\"http://\";b.src=c+a.adroll_win_notif+a.adroll_cpm_macro;b.setAttribute(\"width\",\"1\");b.setAttribute(\"height\",\"1\");b.setAttribute(\"border\",\"0\");this._head().appendChild(b)}},render_ad_code:function(a,b,c,d){d=\ntypeof d==_und?null:d;if(typeof this._r[b]==_und||d){var e=[\"width=\"+adroll_width,\"height=\"+adroll_height,\"x=0\",\"y=0\"];if(c)this.log(\"Rendering test ad \"+c+\" in space \"+b),e.push(\"test_ad=\"+c),a=this.get_url(a,b,null,\"ad\",e);else if(d){this.log(\"Rendering adgroup \"+d);var c=this.macro_values(),f=this.macro_url_params(c,!1,!1,!1,!1);e.push(f);this.render_win_notification(c);a=this.get_url(a,b,d,null,e)}else this.log(\"Rendering ad space \"+b),a=this.get_url(a,b,null,\"ad\",e);this.expire_old();document.write('<script src=\"'+\na+'\"><\\/script>');this._nad+=1;this._r[b]=1}},endswith:function(a,b){return-1!==a.indexOf(b,a.length-b.length)},macro_values:function(){adroll_cpm_macro=typeof adroll_cpm_macro==_und?null:adroll_cpm_macro;adroll_url_macro=typeof adroll_url_macro==_und?null:adroll_url_macro;adroll_c_macro=typeof adroll_c_macro==_und?null:adroll_c_macro;adroll_subnetwork=typeof adroll_subnetwork==_und?null:adroll_subnetwork;adroll_ad_payload=typeof adroll_ad_payload==_und?null:adroll_ad_payload;adroll_win_notif=typeof adroll_win_notif==\n_und?null:adroll_win_notif;var a={r:/^\\$\\{.*\\}$/i,g:/^%%.*%%$/i,b:/^\\[.*\\]$/i,x:/^\\$\\{.*\\}$/i,t:/INSERTCLICKTRACKER/}[adroll_ext_network],a=typeof a==_und?/CANNOT_MATCH_THIS/:a,b={};adroll_cpm_macro&&!a.test(adroll_cpm_macro)&&(b.adroll_cpm_macro=adroll_cpm_macro);adroll_url_macro&&!a.test(adroll_url_macro)&&(b.adroll_url_macro=adroll_url_macro);adroll_c_macro&&!a.test(adroll_c_macro)&&(b.adroll_c_macro=adroll_c_macro);adroll_subnetwork&&!a.test(adroll_subnetwork)&&(b.adroll_subnetwork=adroll_subnetwork);\nadroll_ad_payload&&!a.test(adroll_ad_payload)&&(b.adroll_ad_payload=adroll_ad_payload);adroll_win_notif&&!a.test(adroll_win_notif)&&(b.adroll_win_notif=adroll_win_notif);return b},format_macros:function(a,b,c,d){return this.macro_url_params(this.macro_values(),a,b,c,d)},macro_url_params:function(a,b,c,d,e){var e=typeof e==_und?!1:e,f=d?escape:function(a){return a},h=a.adroll_cpm_macro,i=a.adroll_url_macro,k=c?a.adroll_c_macro:null,g=[],j=b?this.parseUri(b):null,j=j?this.endswith(j.path,\".tp\"):!1;\n!j&&e&&g.push([\"desturl\",\"\"]);k&&0===k.indexOf(\"http\")?(e=f,\"g\"==adroll_ext_network&&(e=d?function(a){return a}:unescape),g.push([\"clickurl\",e(k)])):j&&e&&g.push([\"clickurl\",\"\"]);adroll_ext_network&&g.push([\"adroll_network\",adroll_ext_network]);h&&g.push([\"cpm\",h]);a.adroll_subnetwork&&g.push([\"adroll_subnetwork\",a.adroll_subnetwork]);a.adroll_ad_payload&&g.push([\"adroll_ad_payload\",a.adroll_ad_payload]);i&&(a=this.parseUri(unescape(i)),g.push([\"site_url\",f(\"http://\"+a.host)]),c&&(g.push([\"adroll_width\",\nf(adroll_width)]),g.push([\"adroll_height\",f(adroll_height)])));this.log(\"Macros found \"+this.serialize(g));return b?this.buildurl(b,g):this.serialize(g)},view:function(a){var b=new Image;b.src=this._srv(\"/view/\"+a);b.setAttribute(\"width\",\"1\");b.setAttribute(\"height\",\"1\");b.setAttribute(\"border\",\"0\");this._head().appendChild(b)},serialize:function(a){if(a.length){for(var b=[],c=a.length-1;0<=c;c--)b.push(a[c].join(\"=\"));return b.join(\"&\")}return\"\"},buildurl:function(a,b){var c=this.serialize(b),\nd=a.indexOf(\"?\");return!c?a:d==a.length-1?a+c:-1!=d?\"&\"==a[a.length-1]?a+c:a+\"&\"+c:a+\"?\"+c},set_cookie:function(){},reset:function(){adroll_c_id=null;adroll_cpm_macro=adroll_c_macro=adroll_url_macro=\"\";adroll_win_notif=adroll_ad_payload=adroll_subnetwork=adroll_ext_network=null},addLoadEvent:function(a){if(typeof __adroll_loaded!=_und&&__adroll_loaded||typeof _adroll_ie!=_und&&_adroll_ie||/msie/i.test(navigator.userAgent))return a();if(/WebKit/i.test(navigator.userAgent))load_timer=setInterval(function(){/loaded|complete/.test(document.readyState)&&\nclearInterval(load_timer);a()},10);else{var b=window.onload;window.onload=function(){a();b&&b()}}},render_pixel_code:function(a,b){this.expire_old();var c=this._srv(\"/pixel\"),d=document.createElement(\"script\");d.setAttribute(\"async\",\"true\");d.type=\"text/javascript\";var e=__adroll.get_keywords();this.addLoadEvent(function(){var f=[];try{f.push(\"keyw=\"+escape(e))}catch(h){}try{typeof adroll_segments!=_und&&f.push(\"name=\"+escape(adroll_segments.toLowerCase()))}catch(i){}try{var k=__adroll.get_conversion_value();\nk&&f.push(\"conv_value=\"+k)}catch(g){}try{var j=__adroll.external_data_to_qs(!0);j&&f.push(j)}catch(l){}f=__adroll.get_base_url(c,a,b,null,\"\",f);d.src=f;__adroll._head().appendChild(d)})},record_user:function(a){var b=[\"adroll_conversion_value\",\"adroll_conversion_value_in_dollars\",\"adroll_segments\"],c,d,e=window,a=a||{};for(c=0;c<b.length;c++){try{delete e[b[c]]}catch(f){}if(b[c]in a){e[b[c]]=a[b[c]];try{delete a[b[c]]}catch(h){}}}try{delete e.adroll_custom_data}catch(i){}for(d in a)if(a.hasOwnProperty(d)){e.adroll_custom_data=\na;break}this.render_pixel_code(adroll_adv_id,adroll_pix_id)},normalize_var:function(a,b){if(!a)return\"\";a=a.toString().substr(0,this._kwl).replace(/,/gi,\".\");b&&(a=escape(a));return a},get_conversion_value:function(){return typeof adroll_conversion_value!=_und&&!isNaN(parseInt(adroll_conversion_value))?\"\"+adroll_conversion_value:typeof adroll_conversion_value_in_dollars!=_und&&!isNaN(parseFloat(adroll_conversion_value_in_dollars))?\"\"+parseInt(100*adroll_conversion_value_in_dollars):null},get_external_data:function(){if(typeof adroll_custom_data!=\n_und){var a=adroll_custom_data,b={},c;for(c in a)a.hasOwnProperty(c)&&(b[c.toLowerCase()]=a[c]);return b}return null},_gurl:function(){var a=window.location;return this.normalize_url(a.pathname+a.search)},get_pid:function(a,b,c,d){function e(a){return a?!!RegExp(a,\"gi\").exec(h):null}var f=null,h=this._gurl(),i=this.get_external_data();i&&i.product_id&&(f=i.product_id);if(!f&&c&&!(\"string\"==c&&c instanceof String)&&\"html\"==c.scheme){if(e(b)||!0!=e(a))return\"\";f=this.get_product_id_from_dom(c)}else if(!f){if(e(b))return\"\";\nf=this.get_product_id_from_url(h,a,c)}if(!f)return\"\";f=\"?adroll_product_id=\"+this.normalize_var((f+\"\").toLowerCase(),d);h=this._srv(\"/p/\"+adroll_adv_id+\"/\"+f);return'<img src=\"'+h+'\" width=\"1\" height=\"1\" border=\"0\"/>'},get_product_id_from_dom:function(a){var b=null,c;a.path&&(window.jQuery?(c=jQuery(a.path),c.length&&(c=c.eq(0),b=\"text\"==a.attribute?c.text():c.attr(a.attribute))):window.Prototype&&window.$$?(c=$$(a.path),c.length&&(c=c[0],b=\"text\"==a.attribute?c.innerText&&!window.opera?\nc.innerText:c.innerHTML.stripScripts().unescapeHTML().replace(/[\\n\\r\\s]+/g,\" \"):c.readAttribute(a.attribute))):window.YUI?(c=YUI().use(\"node\"),c.one&&(c=c.one(a.path),b=null,c&&(b=c.get(a.attribute).replace(/[\\n\\r\\s]+/g,\" \")))):window.$$&&(c=$$(a.path),c.length&&(c=c[0],b=\"text\"==a.attribute?c.get(\"text\"):c.getProperty(a.attribute))));if(b&&(b=b.replace(/^\\s\\s*/,\"\").replace(/\\s\\s*$/,\"\"),a.regular_expression&&a.regular_expression_replace&&(c=RegExp(a.regular_expression,\"gi\"),c=c.exec(b),null!=c))){a=\na.regular_expression_replace;for(b=0;b<c.length;b++)a=a.replace(RegExp(\"\\\\\\\\\"+b,\"gi\"),c[b]||\"\");b=a}return b},get_product_id_from_url:function(a,b,c){var d=null;try{d=parseInt(c)}catch(e){}return null!=d&&!isNaN(d)&&b&&(a=RegExp(b,\"gi\").exec(a),null!=a&&d in a)?a[d]:null},external_data_to_qs:function(a){var b=[],c=this.get_external_data();if(!c)return null;for(var d in c)c.hasOwnProperty(d)&&b.push(this.normalize_var(escape(\"\"+d)+\"=\"+escape(\"\"+c[d])));b=b.join(\"&\");a&&(b=escape(b));return\"adroll_external_data=\"+\nb},replace_external_data:function(a){var b=this.get_external_data();if(!b)return a;var c=null,d;for(d in b)b.hasOwnProperty(d)&&(c=RegExp(\"\\\\[\"+d+\"\\\\]\",\"gi\"),a=a.replace(c,b[d]),c=RegExp(\"\\\\[\"+d+\"_ESC\\\\]\",\"gi\"),a=a.replace(c,escape(b[d])));return a},set_pixel_cookie:function(a,b,c){adroll_optout||(this.handle(a),this.handle(b),this.handle(c))}};\nadroll_optout = false;\nadroll_ext_network = null;\n__adroll.render_pixel_code(adroll_adv_id, adroll_pix_id);\n"
      },
      "/inline_026e5cb26205335fd4df50cc5a5603fd": {
         "body": " /* put loading.gif in the pipeline ASAP so it gets displayed ASAP (people reported not seeing it while the rest of the page was loading) */ var img = new Image(); img.src = \"//assets.hipmunk.com/static/loading.gif\"; ",
         "pageUrl": "http://www.hipmunk.com/city/New-York-City-NY",
         "scriptUrl": "/inline_026e5cb26205335fd4df50cc5a5603fd"
      },
      "/inline_d8496c981fb25eee1cc54ee779dbfca8": {
         "body": " var load_user = function(updates) { if ((typeof $ === \"undefined\" || $ === null) || ($.hipmunk == null) || (typeof _ === \"undefined\" || _ === null)) { setTimeout((function() { return load_user(updates); }), 50); return; } TraceKit.wrap(function () { $.hipmunk.user = updates.user; _.extend($.hipmunk, updates.hipmunk); $.hipmunk.user.deal_alerts_changed = $.Callbacks(); $.hipmunk.user.preferences = JSON.parse($.hipmunk.user.preferences); $.hipmunk.user.deal_alerts = JSON.parse($.hipmunk.user.deal_alerts); $.hipmunk.saved_searches = JSON.parse($.hipmunk.saved_searches); $.hipmunk.user_loaded = true; hipmunk_main(); })(); }; /* if we have a user stick it in direclty */ load_user({\"hipmunk\": {\"saved_searches\": \"[]\", \"trip_planner_enabled\": false, \"bizclass_sidebar_enabled\": true, \"creditcards\": [], \"can_show_nps_survey\": true, \"logged_in\": false}, \"user\": {\"has_entered_sweepstakes_Dec2013\": false, \"billing_hm_status\": \"hm_none\", \"has_bizclass_access\": false, \"referer_url\": \"\", \"last_name\": null, \"has_password\": false, \"id\": \"52a7e7e93f1ce91e47000017\", \"first_name\": null, \"preferences\": \"{}\", \"phone_number\": null, \"deal_alerts\": \"{}\", \"last_shared_email\": \"\", \"has_fb_linked\": false, \"has_finished_ftue\": false, \"birthday\": null, \"home_airport\": null, \"language\": \"en\", \"country\": \"US\", \"deals_city\": null, \"billing_hm_trial_days_left\": false, \"gender\": null, \"has_google_linked\": false}}); ",
         "pageUrl": "http://www.hipmunk.com/city/New-York-City-NY",
         "scriptUrl": "/inline_d8496c981fb25eee1cc54ee779dbfca8"
      },
      "/inline_ec63a27a0de521948f4ae17c2b00b51e": {
         "body": " $(function() { $.hipmunk.city_page = new $.hipmunk.CityPageView([[-73.98874, 40.75679], [-74.009025, 40.708928], [-73.98712, 40.75946], [-73.99322, 40.75253], [-73.97322, 40.754954]], null); }); ",
         "pageUrl": "http://www.hipmunk.com/city/New-York-City-NY",
         "scriptUrl": "/inline_ec63a27a0de521948f4ae17c2b00b51e"
      },
      "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/main.group.js": {
         "pageUrl": "http://www.hipmunk.com/",
         "scriptUrl": "http://assets.hipmunk.com/static/7cbee4fb0bdd1324c20d85987342b5d93a2cb41a/main.group.js",
         "body": "try {\n!function(t,e){var i,n;typeof exports!=e+\"\"?i=exports:(n=t.L,i={},i.noConflict=function(){return t.L=n,this},t.L=i),i.version=\"0.4.4\",i.Util={extend:function(t){var e,i,n,o,s=Array.prototype.slice.call(arguments,1);for(i=0,n=s.length;n>i;i++){o=s[i]||{};for(e in o)o.hasOwnProperty(e)&&(t[e]=o[e])}return t},bind:function(t,e){var i=arguments.length>2?Array.prototype.slice.call(arguments,2):null;return function(){return t.apply(e,i||arguments)}},stamp:function(){var t=0,e=\"_leaflet_id\";return function(i){return i[e]=i[e]||++t,i[e]}}(),limitExecByInterval:function(t,e,i){var n,o;return function s(){var a=arguments;return n?(o=!0,void 0):(n=!0,setTimeout(function(){n=!1,o&&(s.apply(i,a),o=!1)},e),t.apply(i,a),void 0)}},falseFn:function(){return!1},formatNum:function(t,e){var i=Math.pow(10,e||5);return Math.round(t*i)/i},splitWords:function(t){return t.replace(/^\\s+|\\s+$/g,\"\").split(/\\s+/)},setOptions:function(t,e){return t.options=i.extend({},t.options,e),t.options},getParamString:function(t){var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i+\"=\"+t[i]);return\"?\"+e.join(\"&\")},template:function(t,e){return t.replace(/\\{ *([\\w_]+) *\\}/g,function(t,i){var n=e[i];if(!e.hasOwnProperty(i))throw new Error(\"No value provided for variable \"+t);return n})},symmetricRound:function(t){return 0>t?Math.ceil(t-.5):Math.floor(t+.5)},emptyImageUrl:\"data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=\"},function(){function e(e){var i,n,o=[\"webkit\",\"moz\",\"o\",\"ms\"];for(i=0;i<o.length&&!n;i++)n=t[o[i]+e];return n}function n(e){var i=+new Date,n=Math.max(0,16-(i-o));return o=i+n,t.setTimeout(e,n)}var o=0,s=t.requestAnimationFrame||e(\"RequestAnimationFrame\")||n,a=t.cancelAnimationFrame||e(\"CancelAnimationFrame\")||e(\"CancelRequestAnimationFrame\")||function(e){t.clearTimeout(e)};i.Util.requestAnimFrame=function(e,o,a,r){return e=i.bind(e,o),a&&s===n?(e(),void 0):s.call(t,e,r)},i.Util.cancelAnimFrame=function(e){e&&a.call(t,e)}}(),i.extend=i.Util.extend,i.bind=i.Util.bind,i.stamp=i.Util.stamp,i.setOptions=i.Util.setOptions,i.Class=function(){},i.Class.extend=function(t){var e=function(){this.initialize&&this.initialize.apply(this,arguments)},n=function(){};n.prototype=this.prototype;var o=new n;o.constructor=e,e.prototype=o;for(var s in this)this.hasOwnProperty(s)&&\"prototype\"!==s&&(e[s]=this[s]);return t.statics&&(i.extend(e,t.statics),delete t.statics),t.includes&&(i.Util.extend.apply(null,[o].concat(t.includes)),delete t.includes),t.options&&o.options&&(t.options=i.extend({},o.options,t.options)),i.extend(o,t),e},i.Class.include=function(t){i.extend(this.prototype,t)},i.Class.mergeOptions=function(t){i.extend(this.prototype.options,t)};var o=\"_leaflet_events\";i.Mixin={},i.Mixin.Events={addEventListener:function(t,e,n){var s,a,r,h=this[o]=this[o]||{};if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.addEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)h[t[a]]=h[t[a]]||[],h[t[a]].push({action:e,context:n||this});return this},hasEventListeners:function(t){return o in this&&t in this[o]&&this[o][t].length>0},removeEventListener:function(t,e,n){var s,a,r,h,l,u=this[o];if(\"object\"==typeof t){for(s in t)t.hasOwnProperty(s)&&this.removeEventListener(s,t[s],e);return this}for(t=i.Util.splitWords(t),a=0,r=t.length;r>a;a++)if(this.hasEventListeners(t[a]))for(h=u[t[a]],l=h.length-1;l>=0;l--)e&&h[l].action!==e||n&&h[l].context!==n||h.splice(l,1);return this},fireEvent:function(t,e){if(!this.hasEventListeners(t))return this;for(var n=i.extend({type:t,target:this},e),s=this[o][t].slice(),a=0,r=s.length;r>a;a++)s[a].action.call(s[a].context||this,n);return this}},i.Mixin.Events.on=i.Mixin.Events.addEventListener,i.Mixin.Events.off=i.Mixin.Events.removeEventListener,i.Mixin.Events.fire=i.Mixin.Events.fireEvent,function(){var n=!!t.ActiveXObject,o=n&&!t.XMLHttpRequest,s=n&&!document.querySelector,a=navigator.userAgent.toLowerCase(),r=-1!==a.indexOf(\"webkit\"),h=-1!==a.indexOf(\"chrome\"),l=-1!==a.indexOf(\"android\"),u=-1!==a.search(\"android [23]\"),c=typeof orientation!=e+\"\",d=t.navigator&&t.navigator.msPointerEnabled&&t.navigator.msMaxTouchPoints,_=\"devicePixelRatio\"in t&&t.devicePixelRatio>1||\"matchMedia\"in t&&t.matchMedia(\"(min-resolution:144dpi)\").matches,m=document.documentElement,p=n&&\"transition\"in m.style,f=\"WebKitCSSMatrix\"in t&&\"m11\"in new t.WebKitCSSMatrix,g=\"MozPerspective\"in m.style,v=\"OTransition\"in m.style,y=!t.L_DISABLE_3D&&(p||f||g||v),P=!t.L_NO_TOUCH&&function(){var t=\"ontouchstart\";if(d||t in m)return!0;var e=document.createElement(\"div\"),i=!1;return e.setAttribute?(e.setAttribute(t,\"return;\"),\"function\"==typeof e[t]&&(i=!0),e.removeAttribute(t),e=null,i):!1}();i.Browser={ie6:o,ie7:s,webkit:r,android:l,android23:u,chrome:h,ie3d:p,webkit3d:f,gecko3d:g,opera3d:v,any3d:y,mobile:c,mobileWebkit:c&&r,mobileWebkit3d:c&&f,mobileOpera:c&&t.opera,touch:P,msTouch:d,retina:_}}(),i.Point=function(t,e,i){this.x=i?Math.round(t):t,this.y=i?Math.round(e):e},i.Point.prototype={clone:function(){return new i.Point(this.x,this.y)},add:function(t){return this.clone()._add(i.point(t))},_add:function(t){return this.x+=t.x,this.y+=t.y,this},subtract:function(t){return this.clone()._subtract(i.point(t))},_subtract:function(t){return this.x-=t.x,this.y-=t.y,this},divideBy:function(t){return this.clone()._divideBy(t)},_divideBy:function(t){return this.x/=t,this.y/=t,this},multiplyBy:function(t){return this.clone()._multiplyBy(t)},_multiplyBy:function(t){return this.x*=t,this.y*=t,this},round:function(){return this.clone()._round()},_round:function(){return this.x=i.Util.symmetricRound(this.x),this.y=i.Util.symmetricRound(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},distanceTo:function(t){t=i.point(t);var e=t.x-this.x,n=t.y-this.y;return Math.sqrt(e*e+n*n)},toString:function(){return\"Point(\"+i.Util.formatNum(this.x)+\", \"+i.Util.formatNum(this.y)+\")\"}},i.point=function(t,e,n){return t instanceof i.Point?t:t instanceof Array?new i.Point(t[0],t[1]):isNaN(t)?t:new i.Point(t,e,n)},i.Bounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=i.point(t),this.min||this.max?(this.min.x=Math.min(t.x,this.min.x),this.max.x=Math.max(t.x,this.max.x),this.min.y=Math.min(t.y,this.min.y),this.max.y=Math.max(t.y,this.max.y)):(this.min=t.clone(),this.max=t.clone()),this},getCenter:function(t){return new i.Point((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,t)},getBottomLeft:function(){return new i.Point(this.min.x,this.max.y)},getTopRight:function(){return new i.Point(this.max.x,this.min.y)},contains:function(t){var e,n;return t=\"number\"==typeof t[0]||t instanceof i.Point?i.point(t):i.bounds(t),t instanceof i.Bounds?(e=t.min,n=t.max):e=n=t,e.x>=this.min.x&&n.x<=this.max.x&&e.y>=this.min.y&&n.y<=this.max.y},intersects:function(t){t=i.bounds(t);var e=this.min,n=this.max,o=t.min,s=t.max,a=s.x>=e.x&&o.x<=n.x,r=s.y>=e.y&&o.y<=n.y;return a&&r},isValid:function(){return!(!this.min||!this.max)}}),i.bounds=function(t,e){return!t||t instanceof i.Bounds?t:new i.Bounds(t,e)},i.Transformation=i.Class.extend({initialize:function(t,e,i,n){this._a=t,this._b=e,this._c=i,this._d=n},transform:function(t,e){return this._transform(t.clone(),e)},_transform:function(t,e){return e=e||1,t.x=e*(this._a*t.x+this._b),t.y=e*(this._c*t.y+this._d),t},untransform:function(t,e){return e=e||1,new i.Point((t.x/e-this._b)/this._a,(t.y/e-this._d)/this._c)}}),i.DomUtil={get:function(t){return\"string\"==typeof t?document.getElementById(t):t},getStyle:function(t,e){var i=t.style[e];if(!i&&t.currentStyle&&(i=t.currentStyle[e]),(!i||\"auto\"===i)&&document.defaultView){var n=document.defaultView.getComputedStyle(t,null);i=n?n[e]:null}return\"auto\"===i?null:i},getViewportOffset:function(t){var e,n=0,o=0,s=t,a=document.body,r=i.Browser.ie7;do{if(n+=s.offsetTop||0,o+=s.offsetLeft||0,e=i.DomUtil.getStyle(s,\"position\"),s.offsetParent===a&&\"absolute\"===e)break;if(\"fixed\"===e){n+=a.scrollTop||0,o+=a.scrollLeft||0;break}s=s.offsetParent}while(s);s=t;do{if(s===a)break;n-=s.scrollTop||0,o-=s.scrollLeft||0,i.DomUtil.documentIsLtr()||!i.Browser.webkit&&!r||(o+=s.scrollWidth-s.clientWidth,r&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow-y\")&&\"hidden\"!==i.DomUtil.getStyle(s,\"overflow\")&&(o+=17)),s=s.parentNode}while(s);return new i.Point(o,n)},documentIsLtr:function(){return i.DomUtil._docIsLtrCached||(i.DomUtil._docIsLtrCached=!0,i.DomUtil._docIsLtr=\"ltr\"===i.DomUtil.getStyle(document.body,\"direction\")),i.DomUtil._docIsLtr},create:function(t,e,i){var n=document.createElement(t);return n.className=e,i&&i.appendChild(n),n},disableTextSelection:function(){document.selection&&document.selection.empty&&document.selection.empty(),this._onselectstart||(this._onselectstart=document.onselectstart,document.onselectstart=i.Util.falseFn)},enableTextSelection:function(){document.onselectstart===i.Util.falseFn&&(document.onselectstart=this._onselectstart,this._onselectstart=null)},hasClass:function(t,e){return t.className.length>0&&new RegExp(\"(^|\\\\s)\"+e+\"(\\\\s|$)\").test(t.className)},addClass:function(t,e){i.DomUtil.hasClass(t,e)||(t.className+=(t.className?\" \":\"\")+e)},removeClass:function(t,e){function i(t,i){return i===e?\"\":t}t.className=t.className.replace(/(\\S+)\\s*/g,i).replace(/(^\\s+|\\s+$)/,\"\")},setOpacity:function(t,e){if(\"opacity\"in t.style)t.style.opacity=e;else if(\"filter\"in t.style){var i=!1,n=\"DXImageTransform.Microsoft.Alpha\";try{i=t.filters.item(n)}catch(o){}e=Math.round(100*e),i?(i.Enabled=100!==e,i.Opacity=e):t.style.filter+=\" progid:\"+n+\"(opacity=\"+e+\")\"}},testProp:function(t){for(var e=document.documentElement.style,i=0;i<t.length;i++)if(t[i]in e)return t[i];return!1},getTranslateString:function(t){var e=i.Browser.webkit3d,n=\"translate\"+(e?\"3d\":\"\")+\"(\",o=(e?\",0\":\"\")+\")\";return n+t.x+\"px,\"+t.y+\"px\"+o},getScaleString:function(t,e){var n=i.DomUtil.getTranslateString(e.add(e.multiplyBy(-1*t))),o=\" scale(\"+t+\") \";return n+o},setPosition:function(t,e,n){t._leaflet_pos=e,!n&&i.Browser.any3d?(t.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(e),i.Browser.mobileWebkit3d&&(t.style.WebkitBackfaceVisibility=\"hidden\")):(t.style.left=e.x+\"px\",t.style.top=e.y+\"px\")},getPosition:function(t){return t._leaflet_pos}},i.DomUtil.TRANSFORM=i.DomUtil.testProp([\"transform\",\"WebkitTransform\",\"OTransform\",\"MozTransform\",\"msTransform\"]),i.DomUtil.TRANSITION=i.DomUtil.testProp([\"transition\",\"webkitTransition\",\"OTransition\",\"MozTransition\",\"msTransition\"]),i.DomUtil.TRANSITION_END=\"webkitTransition\"===i.DomUtil.TRANSITION||\"OTransition\"===i.DomUtil.TRANSITION?i.DomUtil.TRANSITION+\"End\":\"transitionend\",i.LatLng=function(t,e,i){var n=parseFloat(t),o=parseFloat(e);if(isNaN(n)||isNaN(o))throw new Error(\"Invalid LatLng object: (\"+t+\", \"+e+\")\");i!==!0&&(n=Math.max(Math.min(n,90),-90),o=(o+180)%360+(-180>o||180===o?180:-180)),this.lat=n,this.lng=o},i.extend(i.LatLng,{DEG_TO_RAD:Math.PI/180,RAD_TO_DEG:180/Math.PI,MAX_MARGIN:1e-9}),i.LatLng.prototype={equals:function(t){if(!t)return!1;t=i.latLng(t);var e=Math.max(Math.abs(this.lat-t.lat),Math.abs(this.lng-t.lng));return e<=i.LatLng.MAX_MARGIN},toString:function(t){return\"LatLng(\"+i.Util.formatNum(this.lat,t)+\", \"+i.Util.formatNum(this.lng,t)+\")\"},distanceTo:function(t){t=i.latLng(t);var e=6378137,n=i.LatLng.DEG_TO_RAD,o=(t.lat-this.lat)*n,s=(t.lng-this.lng)*n,a=this.lat*n,r=t.lat*n,h=Math.sin(o/2),l=Math.sin(s/2),u=h*h+l*l*Math.cos(a)*Math.cos(r);return 2*e*Math.atan2(Math.sqrt(u),Math.sqrt(1-u))}},i.latLng=function(t,e,n){return t instanceof i.LatLng?t:t instanceof Array?new i.LatLng(t[0],t[1]):isNaN(t)?t:new i.LatLng(t,e,n)},i.LatLngBounds=i.Class.extend({initialize:function(t,e){if(t)for(var i=e?[t,e]:t,n=0,o=i.length;o>n;n++)this.extend(i[n])},extend:function(t){return t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t),t instanceof i.LatLng?this._southWest||this._northEast?(this._southWest.lat=Math.min(t.lat,this._southWest.lat),this._southWest.lng=Math.min(t.lng,this._southWest.lng),this._northEast.lat=Math.max(t.lat,this._northEast.lat),this._northEast.lng=Math.max(t.lng,this._northEast.lng)):(this._southWest=new i.LatLng(t.lat,t.lng,!0),this._northEast=new i.LatLng(t.lat,t.lng,!0)):t instanceof i.LatLngBounds&&(this.extend(t._southWest),this.extend(t._northEast)),this},pad:function(t){var e=this._southWest,n=this._northEast,o=Math.abs(e.lat-n.lat)*t,s=Math.abs(e.lng-n.lng)*t;return new i.LatLngBounds(new i.LatLng(e.lat-o,e.lng-s),new i.LatLng(n.lat+o,n.lng+s))},getCenter:function(){return new i.LatLng((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new i.LatLng(this._northEast.lat,this._southWest.lng,!0)},getSouthEast:function(){return new i.LatLng(this._southWest.lat,this._northEast.lng,!0)},contains:function(t){t=\"number\"==typeof t[0]||t instanceof i.LatLng?i.latLng(t):i.latLngBounds(t);var e,n,o=this._southWest,s=this._northEast;return t instanceof i.LatLngBounds?(e=t.getSouthWest(),n=t.getNorthEast()):e=n=t,e.lat>=o.lat&&n.lat<=s.lat&&e.lng>=o.lng&&n.lng<=s.lng},intersects:function(t){t=i.latLngBounds(t);var e=this._southWest,n=this._northEast,o=t.getSouthWest(),s=t.getNorthEast(),a=s.lat>=e.lat&&o.lat<=n.lat,r=s.lng>=e.lng&&o.lng<=n.lng;return a&&r},toBBoxString:function(){var t=this._southWest,e=this._northEast;return[t.lng,t.lat,e.lng,e.lat].join(\",\")},equals:function(t){return t?(t=i.latLngBounds(t),this._southWest.equals(t.getSouthWest())&&this._northEast.equals(t.getNorthEast())):!1},isValid:function(){return!(!this._southWest||!this._northEast)}}),i.latLngBounds=function(t,e){return!t||t instanceof i.LatLngBounds?t:new i.LatLngBounds(t,e)},i.Projection={},i.Projection.SphericalMercator={MAX_LATITUDE:85.0511287798,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=t.lng*e,a=o*e;return a=Math.log(Math.tan(Math.PI/4+a/2)),new i.Point(s,a)},unproject:function(t){var e=i.LatLng.RAD_TO_DEG,n=t.x*e,o=(2*Math.atan(Math.exp(t.y))-Math.PI/2)*e;return new i.LatLng(o,n,!0)}},i.Projection.LonLat={project:function(t){return new i.Point(t.lng,t.lat)},unproject:function(t){return new i.LatLng(t.y,t.x,!0)}},i.CRS={latLngToPoint:function(t,e){var i=this.projection.project(t),n=this.scale(e);return this.transformation._transform(i,n)},pointToLatLng:function(t,e){var i=this.scale(e),n=this.transformation.untransform(t,i);return this.projection.unproject(n)},project:function(t){return this.projection.project(t)},scale:function(t){return 256*Math.pow(2,t)}},i.CRS.Simple=i.extend({},i.CRS,{projection:i.Projection.LonLat,transformation:new i.Transformation(1,0,1,0)}),i.CRS.EPSG3857=i.extend({},i.CRS,{code:\"EPSG:3857\",projection:i.Projection.SphericalMercator,transformation:new i.Transformation(.5/Math.PI,.5,-.5/Math.PI,.5),project:function(t){var e=this.projection.project(t),i=6378137;return e.multiplyBy(i)}}),i.CRS.EPSG900913=i.extend({},i.CRS.EPSG3857,{code:\"EPSG:900913\"}),i.CRS.EPSG4326=i.extend({},i.CRS,{code:\"EPSG:4326\",projection:i.Projection.LonLat,transformation:new i.Transformation(1/360,.5,-1/360,.5)}),i.Map=i.Class.extend({includes:i.Mixin.Events,options:{crs:i.CRS.EPSG3857,fadeAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23,trackResize:!0,markerZoomAnimation:i.DomUtil.TRANSITION&&i.Browser.any3d},initialize:function(t,n){n=i.setOptions(this,n),this._initContainer(t),this._initLayout(),this._initHooks(),this._initEvents(),n.maxBounds&&this.setMaxBounds(n.maxBounds),n.center&&n.zoom!==e&&this.setView(i.latLng(n.center),n.zoom,!0),this._initLayers(n.layers)},setView:function(t,e){return this._resetView(i.latLng(t),this._limitZoom(e)),this},setZoom:function(t){return this.setView(this.getCenter(),t)},zoomIn:function(t){return this.setZoom(this._zoom+(t||1))},zoomOut:function(t){return this.setZoom(this._zoom-(t||1))},fitBounds:function(t){var e=this.getBoundsZoom(t);return this.setView(i.latLngBounds(t).getCenter(),e)},fitWorld:function(){var t=new i.LatLng(-60,-170),e=new i.LatLng(85,179);return this.fitBounds(new i.LatLngBounds(t,e))},panTo:function(t){return this.setView(t,this._zoom)},panBy:function(t){return this.fire(\"movestart\"),this._rawPanBy(i.point(t)),this.fire(\"move\"),this.fire(\"moveend\")},setMaxBounds:function(t){if(t=i.latLngBounds(t),this.options.maxBounds=t,!t)return this._boundsMinZoom=null,this;var e=this.getBoundsZoom(t,!0);return this._boundsMinZoom=e,this._loaded&&(this._zoom<e?this.setView(t.getCenter(),e):this.panInsideBounds(t)),this},panInsideBounds:function(t){t=i.latLngBounds(t);var e=this.getBounds(),n=this.project(e.getSouthWest()),o=this.project(e.getNorthEast()),s=this.project(t.getSouthWest()),a=this.project(t.getNorthEast()),r=0,h=0;return o.y<a.y&&(h=a.y-o.y),o.x>a.x&&(r=a.x-o.x),n.y>s.y&&(h=s.y-n.y),n.x<s.x&&(r=s.x-n.x),this.panBy(new i.Point(r,h,!0))},addLayer:function(t){var e=i.stamp(t);return this._layers[e]?this:(this._layers[e]=t,t.options&&!isNaN(t.options.maxZoom)&&(this._layersMaxZoom=Math.max(this._layersMaxZoom||0,t.options.maxZoom)),t.options&&!isNaN(t.options.minZoom)&&(this._layersMinZoom=Math.min(this._layersMinZoom||1/0,t.options.minZoom)),this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum++,this._tileLayersToLoad++,t.on(\"load\",this._onTileLayerLoad,this)),this.whenReady(function(){t.onAdd(this),this.fire(\"layeradd\",{layer:t})},this),this)},removeLayer:function(t){var e=i.stamp(t);if(this._layers[e])return t.onRemove(this),delete this._layers[e],this.options.zoomAnimation&&i.TileLayer&&t instanceof i.TileLayer&&(this._tileLayersNum--,this._tileLayersToLoad--,t.off(\"load\",this._onTileLayerLoad,this)),this.fire(\"layerremove\",{layer:t})},hasLayer:function(t){var e=i.stamp(t);return this._layers.hasOwnProperty(e)},invalidateSize:function(t){var e=this.getSize();if(this._sizeChanged=!0,this.options.maxBounds&&this.setMaxBounds(this.options.maxBounds),!this._loaded)return this;var n=e.divideBy(2)._round(),o=this.getSize()._divideBy(2)._round(),s=n.subtract(o);return t===!0?this.panBy(s):(this._rawPanBy(s),this.fire(\"move\"),clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(i.bind(this.fire,this,\"moveend\"),200)),this},addHandler:function(t,e){return e?(this[t]=new e(this),this.options[t]&&this[t].enable(),this):void 0},getCenter:function(){return this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var t=this.getPixelBounds(),e=this.unproject(t.getBottomLeft()),n=this.unproject(t.getTopRight());return new i.LatLngBounds(e,n)},getMinZoom:function(){var t=this.options.minZoom||0,e=this._layersMinZoom||0,i=this._boundsMinZoom||0;return Math.max(t,e,i)},getMaxZoom:function(){var t=this.options.maxZoom===e?1/0:this.options.maxZoom,i=this._layersMaxZoom===e?1/0:this._layersMaxZoom;return Math.min(t,i)},getBoundsZoom:function(t,e){t=i.latLngBounds(t);var n,o,s,a=this.getSize(),r=this.options.minZoom||0,h=this.getMaxZoom(),l=t.getNorthEast(),u=t.getSouthWest(),c=!0;e&&r--;do r++,o=this.project(l,r),s=this.project(u,r),n=new i.Point(Math.abs(o.x-s.x),Math.abs(s.y-o.y)),c=e?n.x<a.x||n.y<a.y:n.x<=a.x&&n.y<=a.y;while(c&&h>=r);return c&&e?null:e?r:r-1},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new i.Point(this._container.clientWidth,this._container.clientHeight),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(){var t=this._getTopLeftPoint();return new i.Bounds(t,t.add(this.getSize()))},getPixelOrigin:function(){return this._initialTopLeftPoint},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(t){var e=this.options.crs;return e.scale(t)/e.scale(this._zoom)},getScaleZoom:function(t){return this._zoom+Math.log(t)/Math.LN2},project:function(t,n){return n=n===e?this._zoom:n,this.options.crs.latLngToPoint(i.latLng(t),n)},unproject:function(t,n){return n=n===e?this._zoom:n,this.options.crs.pointToLatLng(i.point(t),n)},layerPointToLatLng:function(t){var e=i.point(t).add(this._initialTopLeftPoint);return this.unproject(e)},latLngToLayerPoint:function(t){var e=this.project(i.latLng(t))._round();return e._subtract(this._initialTopLeftPoint)},containerPointToLayerPoint:function(t){return i.point(t).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(t){return i.point(t).add(this._getMapPanePos())},containerPointToLatLng:function(t){var e=this.containerPointToLayerPoint(i.point(t));return this.layerPointToLatLng(e)},latLngToContainerPoint:function(t){return this.layerPointToContainerPoint(this.latLngToLayerPoint(i.latLng(t)))},mouseEventToContainerPoint:function(t){return i.DomEvent.getMousePosition(t,this._container)},mouseEventToLayerPoint:function(t){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(t))},mouseEventToLatLng:function(t){return this.layerPointToLatLng(this.mouseEventToLayerPoint(t))},_initContainer:function(t){var e=this._container=i.DomUtil.get(t);if(e._leaflet)throw new Error(\"Map container is already initialized.\");e._leaflet=!0},_initLayout:function(){var t=this._container;t.innerHTML=\"\",i.DomUtil.addClass(t,\"leaflet-container\"),i.Browser.touch&&i.DomUtil.addClass(t,\"leaflet-touch\"),this.options.fadeAnimation&&i.DomUtil.addClass(t,\"leaflet-fade-anim\");var e=i.DomUtil.getStyle(t,\"position\");\"absolute\"!==e&&\"relative\"!==e&&\"fixed\"!==e&&(t.style.position=\"relative\"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var t=this._panes={};this._mapPane=t.mapPane=this._createPane(\"leaflet-map-pane\",this._container),this._subtilePane=t.subtilePane=this._createPane(\"leaflet-subtile-pane\",this._mapPane),this._tilePane=t.tilePane=this._createPane(\"leaflet-tile-pane\",this._mapPane),t.objectsPane=this._createPane(\"leaflet-objects-pane\",this._mapPane),t.shadowPane=this._createPane(\"leaflet-shadow-pane\"),t.overlayPane=this._createPane(\"leaflet-overlay-pane\"),t.markerPane=this._createPane(\"leaflet-marker-pane\"),t.popupPane=this._createPane(\"leaflet-popup-pane\");var e=\" leaflet-zoom-hide\";this.options.markerZoomAnimation||(i.DomUtil.addClass(t.markerPane,e),i.DomUtil.addClass(t.shadowPane,e),i.DomUtil.addClass(t.popupPane,e))},_createPane:function(t,e){return i.DomUtil.create(\"div\",t,e||this._panes.objectsPane)},_initializers:[],_initHooks:function(){var t,e;for(t=0,e=this._initializers.length;e>t;t++)this._initializers[t].call(this)},_initLayers:function(t){t=t?t instanceof Array?t:[t]:[],this._layers={},this._tileLayersNum=0;var e,i;for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},_resetView:function(t,e,n,o){var s=this._zoom!==e;o||(this.fire(\"movestart\"),s&&this.fire(\"zoomstart\")),this._zoom=e,this._initialTopLeftPoint=this._getNewTopLeftPoint(t),n?this._initialTopLeftPoint._add(this._getMapPanePos()):i.DomUtil.setPosition(this._mapPane,new i.Point(0,0)),this._tileLayersToLoad=this._tileLayersNum;var a=!this._loaded;this._loaded=!0,this.fire(\"viewreset\",{hard:!n}),this.fire(\"move\"),(s||o)&&this.fire(\"zoomend\"),this.fire(\"moveend\",{hard:!n}),a&&this.fire(\"load\")},_rawPanBy:function(t){i.DomUtil.setPosition(this._mapPane,this._getMapPanePos().subtract(t))},_initEvents:function(){if(i.DomEvent){i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);var e,n,o=[\"dblclick\",\"mousedown\",\"mouseup\",\"mouseenter\",\"mouseleave\",\"mousemove\",\"contextmenu\"];for(e=0,n=o.length;n>e;e++)i.DomEvent.on(this._container,o[e],this._fireMouseEvent,this);this.options.trackResize&&i.DomEvent.on(t,\"resize\",this._onResize,this)}},_onResize:function(){i.Util.cancelAnimFrame(this._resizeRequest),this._resizeRequest=i.Util.requestAnimFrame(this.invalidateSize,this,!1,this._container)},_onMouseClick:function(t){!this._loaded||this.dragging&&this.dragging.moved()||(this.fire(\"preclick\"),this._fireMouseEvent(t))},_fireMouseEvent:function(t){if(this._loaded){var e=t.type;if(e=\"mouseenter\"===e?\"mouseover\":\"mouseleave\"===e?\"mouseout\":e,this.hasEventListeners(e)){\"contextmenu\"===e&&i.DomEvent.preventDefault(t);var n=this.mouseEventToContainerPoint(t),o=this.containerPointToLayerPoint(n),s=this.layerPointToLatLng(o);this.fire(e,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t})}}},_onTileLayerLoad:function(){this._tileLayersToLoad--,this._tileLayersNum&&!this._tileLayersToLoad&&this._tileBg&&(clearTimeout(this._clearTileBgTimer),this._clearTileBgTimer=setTimeout(i.bind(this._clearTileBg,this),500))},whenReady:function(t,e){return this._loaded?t.call(e||this,this):this.on(\"load\",t,e),this},_getMapPanePos:function(){return i.DomUtil.getPosition(this._mapPane)},_getTopLeftPoint:function(){if(!this._loaded)throw new Error(\"Set map center and zoom first.\");return this._initialTopLeftPoint.subtract(this._getMapPanePos())},_getNewTopLeftPoint:function(t,e){var i=this.getSize()._divideBy(2);return this.project(t,e)._subtract(i)._round()},_latLngToNewLayerPoint:function(t,e,i){var n=this._getNewTopLeftPoint(i,e).add(this._getMapPanePos());return this.project(t,e)._subtract(n)},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(t){return this.latLngToLayerPoint(t).subtract(this._getCenterLayerPoint())},_limitZoom:function(t){var e=this.getMinZoom(),i=this.getMaxZoom();return Math.max(e,Math.min(i,t))}}),i.Map.addInitHook=function(t){var e=Array.prototype.slice.call(arguments,1),i=\"function\"==typeof t?t:function(){this[t].apply(this,e)};this.prototype._initializers.push(i)},i.map=function(t,e){return new i.Map(t,e)},i.Projection.Mercator={MAX_LATITUDE:85.0840591556,R_MINOR:6356752.3142,R_MAJOR:6378137,project:function(t){var e=i.LatLng.DEG_TO_RAD,n=this.MAX_LATITUDE,o=Math.max(Math.min(n,t.lat),-n),s=this.R_MAJOR,a=this.R_MINOR,r=t.lng*e*s,h=o*e,l=a/s,u=Math.sqrt(1-l*l),c=u*Math.sin(h);c=Math.pow((1-c)/(1+c),.5*u);var d=Math.tan(.5*(.5*Math.PI-h))/c;return h=-a*Math.log(d),new i.Point(r,h)},unproject:function(t){for(var e,n=i.LatLng.RAD_TO_DEG,o=this.R_MAJOR,s=this.R_MINOR,a=t.x*n/o,r=s/o,h=Math.sqrt(1-r*r),l=Math.exp(-t.y/s),u=Math.PI/2-2*Math.atan(l),c=15,d=1e-7,_=c,m=.1;Math.abs(m)>d&&--_>0;)e=h*Math.sin(u),m=Math.PI/2-2*Math.atan(l*Math.pow((1-e)/(1+e),.5*h))-u,u+=m;return new i.LatLng(u*n,a,!0)}},i.CRS.EPSG3395=i.extend({},i.CRS,{code:\"EPSG:3395\",projection:i.Projection.Mercator,transformation:function(){var t=i.Projection.Mercator,e=t.R_MAJOR,n=t.R_MINOR;return new i.Transformation(.5/(Math.PI*e),.5,-.5/(Math.PI*n),.5)}()}),i.TileLayer=i.Class.extend({includes:i.Mixin.Events,options:{minZoom:0,maxZoom:18,tileSize:256,subdomains:\"abc\",errorTileUrl:\"\",attribution:\"\",zoomOffset:0,opacity:1,unloadInvisibleTiles:i.Browser.mobile,updateWhenIdle:i.Browser.mobile},initialize:function(t,e){e=i.setOptions(this,e),e.detectRetina&&i.Browser.retina&&e.maxZoom>0&&(e.tileSize=Math.floor(e.tileSize/2),e.zoomOffset++,e.minZoom>0&&e.minZoom--,this.options.maxZoom--),this._url=t;var n=this.options.subdomains;\"string\"==typeof n&&(this.options.subdomains=n.split(\"\"))},onAdd:function(t){this._map=t,this._initContainer(),this._createTileProto(),t.on({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||(this._limitedUpdate=i.Util.limitExecByInterval(this._update,150,this),t.on(\"move\",this._limitedUpdate,this)),this._reset(),this._update()},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){t._panes.tilePane.removeChild(this._container),t.off({viewreset:this._resetCallback,moveend:this._update},this),this.options.updateWhenIdle||t.off(\"move\",this._limitedUpdate,this),this._container=null,this._map=null},bringToFront:function(){var t=this._map._panes.tilePane;return this._container&&(t.appendChild(this._container),this._setAutoZIndex(t,Math.max)),this},bringToBack:function(){var t=this._map._panes.tilePane;return this._container&&(t.insertBefore(this._container,t.firstChild),this._setAutoZIndex(t,Math.min)),this},getAttribution:function(){return this.options.attribution},setOpacity:function(t){return this.options.opacity=t,this._map&&this._updateOpacity(),this},setZIndex:function(t){return this.options.zIndex=t,this._updateZIndex(),this},setUrl:function(t,e){return this._url=t,e||this.redraw(),this},redraw:function(){return this._map&&(this._map._panes.tilePane.empty=!1,this._reset(!0),this._update()),this},_updateZIndex:function(){this._container&&this.options.zIndex!==e&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(t,e){var i,n,o,s=t.getElementsByClassName(\"leaflet-layer\"),a=-e(1/0,-1/0);for(n=0,o=s.length;o>n;n++)s[n]!==this._container&&(i=parseInt(s[n].style.zIndex,10),isNaN(i)||(a=e(a,i)));this.options.zIndex=this._container.style.zIndex=(isFinite(a)?a:0)+e(1,-1)},_updateOpacity:function(){i.DomUtil.setOpacity(this._container,this.options.opacity);var t,e=this._tiles;if(i.Browser.webkit)for(t in e)e.hasOwnProperty(t)&&(e[t].style.webkitTransform+=\" translate(0,0)\")},_initContainer:function(){var t=this._map._panes.tilePane;(!this._container||t.empty)&&(this._container=i.DomUtil.create(\"div\",\"leaflet-layer\"),this._updateZIndex(),t.appendChild(this._container),this.options.opacity<1&&this._updateOpacity())},_resetCallback:function(t){this._reset(t.hard)},_reset:function(t){var e=this._tiles;for(var i in e)e.hasOwnProperty(i)&&this.fire(\"tileunload\",{tile:e[i]});this._tiles={},this._tilesToLoad=0,this.options.reuseTiles&&(this._unusedTiles=[]),t&&this._container&&(this._container.innerHTML=\"\"),this._initContainer()},_update:function(){if(this._map){var t=this._map.getPixelBounds(),e=this._map.getZoom(),n=this.options.tileSize;if(!(e>this.options.maxZoom||e<this.options.minZoom)){var o=new i.Point(Math.floor(t.min.x/n),Math.floor(t.min.y/n)),s=new i.Point(Math.floor(t.max.x/n),Math.floor(t.max.y/n)),a=new i.Bounds(o,s);this._addTilesFromCenterOut(a),(this.options.unloadInvisibleTiles||this.options.reuseTiles)&&this._removeOtherTiles(a)}}},_addTilesFromCenterOut:function(t){var e,n,o,s=[],a=t.getCenter();for(e=t.min.y;e<=t.max.y;e++)for(n=t.min.x;n<=t.max.x;n++)o=new i.Point(n,e),this._tileShouldBeLoaded(o)&&s.push(o);var r=s.length;if(0!==r){s.sort(function(t,e){return t.distanceTo(a)-e.distanceTo(a)});var h=document.createDocumentFragment();for(this._tilesToLoad||this.fire(\"loading\"),this._tilesToLoad+=r,n=0;r>n;n++)this._addTile(s[n],h);this._container.appendChild(h)}},_tileShouldBeLoaded:function(t){if(t.x+\":\"+t.y in this._tiles)return!1;if(!this.options.continuousWorld){var e=this._getWrapTileNum();if(this.options.noWrap&&(t.x<0||t.x>=e)||t.y<0||t.y>=e)return!1}return!0},_removeOtherTiles:function(t){var e,i,n,o;for(o in this._tiles)this._tiles.hasOwnProperty(o)&&(e=o.split(\":\"),i=parseInt(e[0],10),n=parseInt(e[1],10),(i<t.min.x||i>t.max.x||n<t.min.y||n>t.max.y)&&this._removeTile(o))},_removeTile:function(t){var e=this._tiles[t];this.fire(\"tileunload\",{tile:e,url:e.src}),this.options.reuseTiles?(i.DomUtil.removeClass(e,\"leaflet-tile-loaded\"),this._unusedTiles.push(e)):e.parentNode===this._container&&this._container.removeChild(e),i.Browser.android||(e.src=i.Util.emptyImageUrl),delete this._tiles[t]},_addTile:function(t,e){var n=this._getTilePos(t),o=this._getTile();i.DomUtil.setPosition(o,n,i.Browser.chrome||i.Browser.android23),this._tiles[t.x+\":\"+t.y]=o,this._loadTile(o,t),o.parentNode!==this._container&&e.appendChild(o)},_getZoomForUrl:function(){var t=this.options,e=this._map.getZoom();return t.zoomReverse&&(e=t.maxZoom-e),e+t.zoomOffset},_getTilePos:function(t){var e=this._map.getPixelOrigin(),i=this.options.tileSize;return t.multiplyBy(i).subtract(e)},getTileUrl:function(t){return this._adjustTilePoint(t),i.Util.template(this._url,i.extend({s:this._getSubdomain(t),z:this._getZoomForUrl(),x:t.x,y:t.y},this.options))},_getWrapTileNum:function(){return Math.pow(2,this._getZoomForUrl())},_adjustTilePoint:function(t){var e=this._getWrapTileNum();this.options.continuousWorld||this.options.noWrap||(t.x=(t.x%e+e)%e),this.options.tms&&(t.y=e-t.y-1)\n},_getSubdomain:function(t){var e=(t.x+t.y)%this.options.subdomains.length;return this.options.subdomains[e]},_createTileProto:function(){var t=this._tileImg=i.DomUtil.create(\"img\",\"leaflet-tile\");t.style.width=t.style.height=this.options.tileSize+\"px\",t.galleryimg=\"no\"},_getTile:function(){if(this.options.reuseTiles&&this._unusedTiles.length>0){var t=this._unusedTiles.pop();return this._resetTile(t),t}return this._createTile()},_resetTile:function(){},_createTile:function(){var t=this._tileImg.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t.onload=this._tileOnLoad,t.onerror=this._tileOnError,t.src=this.getTileUrl(e)},_tileLoaded:function(){this._tilesToLoad--,this._tilesToLoad||this.fire(\"load\")},_tileOnLoad:function(){var t=this._layer;this.src!==i.Util.emptyImageUrl&&(i.DomUtil.addClass(this,\"leaflet-tile-loaded\"),t.fire(\"tileload\",{tile:this,url:this.src})),t._tileLoaded()},_tileOnError:function(){var t=this._layer;t.fire(\"tileerror\",{tile:this,url:this.src});var e=t.options.errorTileUrl;e&&(this.src=e),t._tileLoaded()}}),i.tileLayer=function(t,e){return new i.TileLayer(t,e)},i.TileLayer.WMS=i.TileLayer.extend({defaultWmsParams:{service:\"WMS\",request:\"GetMap\",version:\"1.1.1\",layers:\"\",styles:\"\",format:\"image/jpeg\",transparent:!1},initialize:function(t,e){this._url=t;var n=i.extend({},this.defaultWmsParams);n.width=n.height=e.detectRetina&&i.Browser.retina?2*this.options.tileSize:this.options.tileSize;for(var o in e)this.options.hasOwnProperty(o)||(n[o]=e[o]);this.wmsParams=n,i.setOptions(this,e)},onAdd:function(t){var e=parseFloat(this.wmsParams.version)>=1.3?\"crs\":\"srs\";this.wmsParams[e]=t.options.crs.code,i.TileLayer.prototype.onAdd.call(this,t)},getTileUrl:function(t,e){var n=this._map,o=n.options.crs,s=this.options.tileSize,a=t.multiplyBy(s),r=a.add(new i.Point(s,s)),h=o.project(n.unproject(a,e)),l=o.project(n.unproject(r,e)),u=[h.x,l.y,l.x,h.y].join(\",\"),c=i.Util.template(this._url,{s:this._getSubdomain(t)});return c+i.Util.getParamString(this.wmsParams)+\"&bbox=\"+u},setParams:function(t,e){return i.extend(this.wmsParams,t),e||this.redraw(),this}}),i.tileLayer.wms=function(t,e){return new i.TileLayer.WMS(t,e)},i.TileLayer.Canvas=i.TileLayer.extend({options:{async:!1},initialize:function(t){i.setOptions(this,t)},redraw:function(){var t=this._tiles;for(var e in t)t.hasOwnProperty(e)&&this._redrawTile(t[e])},_redrawTile:function(t){this.drawTile(t,t._tilePoint,this._map._zoom)},_createTileProto:function(){var t=this._canvasProto=i.DomUtil.create(\"canvas\",\"leaflet-tile\");t.width=t.height=this.options.tileSize},_createTile:function(){var t=this._canvasProto.cloneNode(!1);return t.onselectstart=t.onmousemove=i.Util.falseFn,t},_loadTile:function(t,e){t._layer=this,t._tilePoint=e,this._redrawTile(t),this.options.async||this.tileDrawn(t)},drawTile:function(){},tileDrawn:function(t){this._tileOnLoad.call(t)}}),i.tileLayer.canvas=function(t){return new i.TileLayer.Canvas(t)},i.ImageOverlay=i.Class.extend({includes:i.Mixin.Events,options:{opacity:1},initialize:function(t,e,n){this._url=t,this._bounds=i.latLngBounds(e),i.setOptions(this,n)},onAdd:function(t){this._map=t,this._image||this._initImage(),t._panes.overlayPane.appendChild(this._image),t.on(\"viewreset\",this._reset,this),t.options.zoomAnimation&&i.Browser.any3d&&t.on(\"zoomanim\",this._animateZoom,this),this._reset()},onRemove:function(t){t.getPanes().overlayPane.removeChild(this._image),t.off(\"viewreset\",this._reset,this),t.options.zoomAnimation&&t.off(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},setOpacity:function(t){return this.options.opacity=t,this._updateOpacity(),this},bringToFront:function(){return this._image&&this._map._panes.overlayPane.appendChild(this._image),this},bringToBack:function(){var t=this._map._panes.overlayPane;return this._image&&t.insertBefore(this._image,t.firstChild),this},_initImage:function(){this._image=i.DomUtil.create(\"img\",\"leaflet-image-layer\"),this._map.options.zoomAnimation&&i.Browser.any3d?i.DomUtil.addClass(this._image,\"leaflet-zoom-animated\"):i.DomUtil.addClass(this._image,\"leaflet-zoom-hide\"),this._updateOpacity(),i.extend(this._image,{galleryimg:\"no\",onselectstart:i.Util.falseFn,onmousemove:i.Util.falseFn,onload:i.bind(this._onImageLoad,this),src:this._url})},_animateZoom:function(t){var e=this._map,n=this._image,o=e.getZoomScale(t.zoom),s=this._bounds.getNorthWest(),a=this._bounds.getSouthEast(),r=e._latLngToNewLayerPoint(s,t.zoom,t.center),h=e._latLngToNewLayerPoint(a,t.zoom,t.center)._subtract(r),l=e.latLngToLayerPoint(a)._subtract(e.latLngToLayerPoint(s)),u=r._add(h._subtract(l)._divideBy(2));n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(u)+\" scale(\"+o+\") \"},_reset:function(){var t=this._image,e=this._map.latLngToLayerPoint(this._bounds.getNorthWest()),n=this._map.latLngToLayerPoint(this._bounds.getSouthEast())._subtract(e);i.DomUtil.setPosition(t,e),t.style.width=n.x+\"px\",t.style.height=n.y+\"px\"},_onImageLoad:function(){this.fire(\"load\")},_updateOpacity:function(){i.DomUtil.setOpacity(this._image,this.options.opacity)}}),i.imageOverlay=function(t,e,n){return new i.ImageOverlay(t,e,n)},i.Icon=i.Class.extend({options:{className:\"\"},initialize:function(t){i.setOptions(this,t)},createIcon:function(){return this._createIcon(\"icon\")},createShadow:function(){return this._createIcon(\"shadow\")},_createIcon:function(t){var e=this._getIconUrl(t);if(!e){if(\"icon\"===t)throw new Error(\"iconUrl not set in Icon options (see the docs).\");return null}var i=this._createImg(e);return this._setIconStyles(i,t),i},_setIconStyles:function(t,e){var n,o=this.options,s=i.point(o[e+\"Size\"]);n=\"shadow\"===e?i.point(o.shadowAnchor||o.iconAnchor):i.point(o.iconAnchor),!n&&s&&(n=s.divideBy(2,!0)),t.className=\"leaflet-marker-\"+e+\" \"+o.className,n&&(t.style.marginLeft=-n.x+\"px\",t.style.marginTop=-n.y+\"px\"),s&&(t.style.width=s.x+\"px\",t.style.height=s.y+\"px\")},_createImg:function(t){var e;return i.Browser.ie6?(e=document.createElement(\"div\"),e.style.filter='progid:DXImageTransform.Microsoft.AlphaImageLoader(src=\"'+t+'\")'):(e=document.createElement(\"img\"),e.src=t),e},_getIconUrl:function(t){return this.options[t+\"Url\"]}}),i.icon=function(t){return new i.Icon(t)},i.Icon.Default=i.Icon.extend({options:{iconSize:new i.Point(25,41),iconAnchor:new i.Point(12,41),popupAnchor:new i.Point(1,-34),shadowSize:new i.Point(41,41)},_getIconUrl:function(t){var e=t+\"Url\";if(this.options[e])return this.options[e];var n=i.Icon.Default.imagePath;if(!n)throw new Error(\"Couldn't autodetect L.Icon.Default.imagePath, set it manually.\");return n+\"/marker-\"+t+\".png\"}}),i.Icon.Default.imagePath=function(){var t,e,i,n,o=document.getElementsByTagName(\"script\"),s=/\\/?leaflet[\\-\\._]?([\\w\\-\\._]*)\\.js\\??/;for(t=0,e=o.length;e>t;t++)if(i=o[t].src,n=i.match(s))return i.split(s)[0]+\"/images\"}(),i.Marker=i.Class.extend({includes:i.Mixin.Events,options:{icon:new i.Icon.Default,title:\"\",clickable:!0,draggable:!1,zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250},initialize:function(t,e){i.setOptions(this,e),this._latlng=i.latLng(t)},onAdd:function(t){this._map=t,t.on(\"viewreset\",this.update,this),this._initIcon(),this.update(),t.options.zoomAnimation&&t.options.markerZoomAnimation&&t.on(\"zoomanim\",this._animateZoom,this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._removeIcon(),this.fire(\"remove\"),t.off({viewreset:this.update,zoomanim:this._animateZoom},this),this._map=null},getLatLng:function(){return this._latlng},setLatLng:function(t){this._latlng=i.latLng(t),this.update(),this.fire(\"move\",{latlng:this._latlng})},setZIndexOffset:function(t){this.options.zIndexOffset=t,this.update()},setIcon:function(t){this._map&&this._removeIcon(),this.options.icon=t,this._map&&(this._initIcon(),this.update())},update:function(){if(this._icon){var t=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(t)}},_initIcon:function(){var t=this.options,e=this._map,n=e.options.zoomAnimation&&e.options.markerZoomAnimation,o=n?\"leaflet-zoom-animated\":\"leaflet-zoom-hide\",s=!1;this._icon||(this._icon=t.icon.createIcon(),t.title&&(this._icon.title=t.title),this._initInteraction(),s=this.options.opacity<1,i.DomUtil.addClass(this._icon,o),t.riseOnHover&&i.DomEvent.on(this._icon,\"mouseover\",this._bringToFront,this).on(this._icon,\"mouseout\",this._resetZIndex,this)),this._shadow||(this._shadow=t.icon.createShadow(),this._shadow&&(i.DomUtil.addClass(this._shadow,o),s=this.options.opacity<1)),s&&this._updateOpacity();var a=this._map._panes;a.markerPane.appendChild(this._icon),this._shadow&&a.shadowPane.appendChild(this._shadow)},_removeIcon:function(){var t=this._map._panes;this.options.riseOnHover&&i.DomEvent.off(this._icon,\"mouseover\",this._bringToFront).off(this._icon,\"mouseout\",this._resetZIndex),t.markerPane.removeChild(this._icon),this._shadow&&t.shadowPane.removeChild(this._shadow),this._icon=this._shadow=null},_setPos:function(t){i.DomUtil.setPosition(this._icon,t),this._shadow&&i.DomUtil.setPosition(this._shadow,t),this._zIndex=t.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(t){this._icon.style.zIndex=this._zIndex+t},_animateZoom:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);this._setPos(e)},_initInteraction:function(){if(this.options.clickable){var t=this._icon,e=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\"];i.DomUtil.addClass(t,\"leaflet-clickable\"),i.DomEvent.on(t,\"click\",this._onMouseClick,this);for(var n=0;n<e.length;n++)i.DomEvent.on(t,e[n],this._fireMouseEvent,this);i.Handler.MarkerDrag&&(this.dragging=new i.Handler.MarkerDrag(this),this.options.draggable&&this.dragging.enable())}},_onMouseClick:function(t){var e=this.dragging&&this.dragging.moved();(this.hasEventListeners(t.type)||e)&&i.DomEvent.stopPropagation(t),e||this._map.dragging&&this._map.dragging.moved()||this.fire(t.type,{originalEvent:t})},_fireMouseEvent:function(t){this.fire(t.type,{originalEvent:t}),\"mousedown\"!==t.type&&i.DomEvent.stopPropagation(t)},setOpacity:function(t){this.options.opacity=t,this._map&&this._updateOpacity()},_updateOpacity:function(){i.DomUtil.setOpacity(this._icon,this.options.opacity),this._shadow&&i.DomUtil.setOpacity(this._shadow,this.options.opacity)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)}}),i.marker=function(t,e){return new i.Marker(t,e)},i.DivIcon=i.Icon.extend({options:{iconSize:new i.Point(12,12),className:\"leaflet-div-icon\"},createIcon:function(){var t=document.createElement(\"div\"),e=this.options;return e.html&&(t.innerHTML=e.html),e.bgPos&&(t.style.backgroundPosition=-e.bgPos.x+\"px \"+-e.bgPos.y+\"px\"),this._setIconStyles(t,\"icon\"),t},createShadow:function(){return null}}),i.divIcon=function(t){return new i.DivIcon(t)},i.Map.mergeOptions({closePopupOnClick:!0}),i.Popup=i.Class.extend({includes:i.Mixin.Events,options:{minWidth:50,maxWidth:300,maxHeight:null,autoPan:!0,closeButton:!0,offset:new i.Point(0,6),autoPanPadding:new i.Point(5,5),className:\"\"},initialize:function(t,e){i.setOptions(this,t),this._source=e},onAdd:function(t){this._map=t,this._container||this._initLayout(),this._updateContent();var e=t.options.fadeAnimation;e&&i.DomUtil.setOpacity(this._container,0),t._panes.popupPane.appendChild(this._container),t.on(\"viewreset\",this._updatePosition,this),i.Browser.any3d&&t.on(\"zoomanim\",this._zoomAnimation,this),t.options.closePopupOnClick&&t.on(\"preclick\",this._close,this),this._update(),e&&i.DomUtil.setOpacity(this._container,1)},addTo:function(t){return t.addLayer(this),this},openOn:function(t){return t.openPopup(this),this},onRemove:function(t){t._panes.popupPane.removeChild(this._container),i.Util.falseFn(this._container.offsetWidth),t.off({viewreset:this._updatePosition,preclick:this._close,zoomanim:this._zoomAnimation},this),t.options.fadeAnimation&&i.DomUtil.setOpacity(this._container,0),this._map=null},setLatLng:function(t){return this._latlng=i.latLng(t),this._update(),this},setContent:function(t){return this._content=t,this._update(),this},_close:function(){var t=this._map;t&&(t._popup=null,t.removeLayer(this).fire(\"popupclose\",{popup:this}))},_initLayout:function(){var t,e=\"leaflet-popup\",n=e+\" \"+this.options.className+\" leaflet-zoom-animated\",o=this._container=i.DomUtil.create(\"div\",n);this.options.closeButton&&(t=this._closeButton=i.DomUtil.create(\"a\",e+\"-close-button\",o),t.href=\"#close\",t.innerHTML=\"&#215;\",i.DomEvent.on(t,\"click\",this._onCloseButtonClick,this));var s=this._wrapper=i.DomUtil.create(\"div\",e+\"-content-wrapper\",o);i.DomEvent.disableClickPropagation(s),this._contentNode=i.DomUtil.create(\"div\",e+\"-content\",s),i.DomEvent.on(this._contentNode,\"mousewheel\",i.DomEvent.stopPropagation),this._tipContainer=i.DomUtil.create(\"div\",e+\"-tip-container\",o),this._tip=i.DomUtil.create(\"div\",e+\"-tip\",this._tipContainer)},_update:function(){this._map&&(this._container.style.visibility=\"hidden\",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility=\"\",this._adjustPan())},_updateContent:function(){if(this._content){if(\"string\"==typeof this._content)this._contentNode.innerHTML=this._content;else{for(;this._contentNode.hasChildNodes();)this._contentNode.removeChild(this._contentNode.firstChild);this._contentNode.appendChild(this._content)}this.fire(\"contentupdate\")}},_updateLayout:function(){var t=this._contentNode,e=t.style;e.width=\"\",e.whiteSpace=\"nowrap\";var n=t.offsetWidth;n=Math.min(n,this.options.maxWidth),n=Math.max(n,this.options.minWidth),e.width=n+1+\"px\",e.whiteSpace=\"\",e.height=\"\";var o=t.offsetHeight,s=this.options.maxHeight,a=\"leaflet-popup-scrolled\";s&&o>s?(e.height=s+\"px\",i.DomUtil.addClass(t,a)):i.DomUtil.removeClass(t,a),this._containerWidth=this._container.offsetWidth},_updatePosition:function(){if(this._map){var t=this._map.latLngToLayerPoint(this._latlng),e=i.Browser.any3d,n=this.options.offset;e&&i.DomUtil.setPosition(this._container,t),this._containerBottom=-n.y-(e?0:t.y),this._containerLeft=-Math.round(this._containerWidth/2)+n.x+(e?0:t.x),this._container.style.bottom=this._containerBottom+\"px\",this._container.style.left=this._containerLeft+\"px\"}},_zoomAnimation:function(t){var e=this._map._latLngToNewLayerPoint(this._latlng,t.zoom,t.center);i.DomUtil.setPosition(this._container,e)},_adjustPan:function(){if(this.options.autoPan){var t=this._map,e=this._container.offsetHeight,n=this._containerWidth,o=new i.Point(this._containerLeft,-e-this._containerBottom);i.Browser.any3d&&o._add(i.DomUtil.getPosition(this._container));var s=t.layerPointToContainerPoint(o),a=this.options.autoPanPadding,r=t.getSize(),h=0,l=0;s.x<0&&(h=s.x-a.x),s.x+n>r.x&&(h=s.x+n-r.x+a.x),s.y<0&&(l=s.y-a.y),s.y+e>r.y&&(l=s.y+e-r.y+a.y),(h||l)&&t.panBy(new i.Point(h,l))}},_onCloseButtonClick:function(t){this._close(),i.DomEvent.stop(t)}}),i.popup=function(t,e){return new i.Popup(t,e)},i.Marker.include({openPopup:function(){return this._popup&&this._map&&(this._popup.setLatLng(this._latlng),this._map.openPopup(this._popup)),this},closePopup:function(){return this._popup&&this._popup._close(),this},bindPopup:function(t,e){var n=i.point(this.options.icon.options.popupAnchor)||new i.Point(0,0);return n=n.add(i.Popup.prototype.options.offset),e&&e.offset&&(n=n.add(e.offset)),e=i.extend({offset:n},e),this._popup||this.on(\"click\",this.openPopup,this).on(\"remove\",this.closePopup,this).on(\"move\",this._movePopup,this),this._popup=new i.Popup(e,this).setContent(t),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup).off(\"move\",this._movePopup)),this},_movePopup:function(t){this._popup.setLatLng(t.latlng)}}),i.Map.include({openPopup:function(t){return this.closePopup(),this._popup=t,this.addLayer(t).fire(\"popupopen\",{popup:this._popup})},closePopup:function(){return this._popup&&this._popup._close(),this}}),i.LayerGroup=i.Class.extend({initialize:function(t){this._layers={};var e,i;if(t)for(e=0,i=t.length;i>e;e++)this.addLayer(t[e])},addLayer:function(t){var e=i.stamp(t);return this._layers[e]=t,this._map&&this._map.addLayer(t),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._map&&this._map.removeLayer(t),this},clearLayers:function(){return this.eachLayer(this.removeLayer,this),this},invoke:function(t){var e,i,n=Array.prototype.slice.call(arguments,1);for(e in this._layers)this._layers.hasOwnProperty(e)&&(i=this._layers[e],i[t]&&i[t].apply(i,n));return this},onAdd:function(t){this._map=t,this.eachLayer(t.addLayer,t)},onRemove:function(t){this.eachLayer(t.removeLayer,t),this._map=null},addTo:function(t){return t.addLayer(this),this},eachLayer:function(t,e){for(var i in this._layers)this._layers.hasOwnProperty(i)&&t.call(e,this._layers[i])}}),i.layerGroup=function(t){return new i.LayerGroup(t)},i.FeatureGroup=i.LayerGroup.extend({includes:i.Mixin.Events,statics:{EVENTS:\"click dblclick mouseover mouseout mousemove contextmenu\"},addLayer:function(t){return this._layers[i.stamp(t)]?this:(t.on(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.addLayer.call(this,t),this._popupContent&&t.bindPopup&&t.bindPopup(this._popupContent),this.fire(\"layeradd\",{layer:t}))},removeLayer:function(t){return t.off(i.FeatureGroup.EVENTS,this._propagateEvent,this),i.LayerGroup.prototype.removeLayer.call(this,t),this._popupContent&&this.invoke(\"unbindPopup\"),this.fire(\"layerremove\",{layer:t})},bindPopup:function(t){return this._popupContent=t,this.invoke(\"bindPopup\",t)},setStyle:function(t){return this.invoke(\"setStyle\",t)},bringToFront:function(){return this.invoke(\"bringToFront\")},bringToBack:function(){return this.invoke(\"bringToBack\")},getBounds:function(){var t=new i.LatLngBounds;return this.eachLayer(function(e){t.extend(e instanceof i.Marker?e.getLatLng():e.getBounds())}),t},_propagateEvent:function(t){t.layer=t.target,t.target=this,this.fire(t.type,t)}}),i.featureGroup=function(t){return new i.FeatureGroup(t)},i.Path=i.Class.extend({includes:[i.Mixin.Events],statics:{CLIP_PADDING:i.Browser.mobile?Math.max(0,Math.min(.5,(1280/Math.max(t.innerWidth,t.innerHeight)-1)/2)):.5},options:{stroke:!0,color:\"#0033ff\",dashArray:null,weight:5,opacity:.5,fill:!1,fillColor:null,fillOpacity:.2,clickable:!0,layer:\"overlay\"},initialize:function(t){i.setOptions(this,t)},onAdd:function(t){this._map=t,this._container||(this._initElements(this.options.layer),this._initEvents()),this.projectLatlngs(),this._updatePath(),this._container&&this._pathRoot.appendChild(this._container),t.on({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},addTo:function(t){return t.addLayer(this),this},onRemove:function(t){this._pathRoot.removeChild(this._container),this._map=null,i.Browser.vml&&(this._container=null,this._stroke=null,this._fill=null),this.fire(\"remove\"),t.off({viewreset:this.projectLatlngs,moveend:this._updatePath},this)},projectLatlngs:function(){},setStyle:function(t){return i.setOptions(this,t),this._container&&this._updateStyle(),this},redraw:function(){return this._map&&(this.projectLatlngs(),this._updatePath()),this}}),i.Map.include({_pathLayer:function(t){return\"subtile\"===t?this._subtilePane:this._panes.overlayPane},_updatePathViewport:function(){var t=i.Path.CLIP_PADDING,e=this.getSize(),n=i.DomUtil.getPosition(this._mapPane),o=n.multiplyBy(-1)._subtract(e.multiplyBy(t)._round()),s=o.add(e.multiplyBy(1+2*t)._round());this._pathViewport=new i.Bounds(o,s)}}),i.Path.SVG_NS=\"http://www.w3.org/2000/svg\",i.Browser.svg=!(!document.createElementNS||!document.createElementNS(i.Path.SVG_NS,\"svg\").createSVGRect),i.Path=i.Path.extend({statics:{SVG:i.Browser.svg},bringToFront:function(){var t=this._pathRoot,e=this._container;return e&&t.lastChild!==e&&t.appendChild(e),this},bringToBack:function(){var t=this._pathRoot,e=this._container,i=t.firstChild;return e&&i!==e&&t.insertBefore(e,i),this},getPathString:function(){},_createElement:function(t){return document.createElementNS(i.Path.SVG_NS,t)},_initElements:function(t){this._pathRoot=this._map._initPathRoot(t),this._initPath(),this._initStyle()},_initPath:function(){this._container=this._createElement(\"g\"),this._path=this._createElement(\"path\"),this._container.appendChild(this._path)},_initStyle:function(){this.options.stroke&&(this._path.setAttribute(\"stroke-linejoin\",\"round\"),this._path.setAttribute(\"stroke-linecap\",\"round\")),this.options.fill&&this._path.setAttribute(\"fill-rule\",\"evenodd\"),this._updateStyle()},_updateStyle:function(){this.options.stroke?(this._path.setAttribute(\"stroke\",this.options.color),this._path.setAttribute(\"stroke-opacity\",this.options.opacity),this._path.setAttribute(\"stroke-width\",this.options.weight),this.options.dashArray?this._path.setAttribute(\"stroke-dasharray\",this.options.dashArray):this._path.removeAttribute(\"stroke-dasharray\")):this._path.setAttribute(\"stroke\",\"none\"),this.options.fill?(this._path.setAttribute(\"fill\",this.options.fillColor||this.options.color),this._path.setAttribute(\"fill-opacity\",this.options.fillOpacity)):this._path.setAttribute(\"fill\",\"none\")},_updatePath:function(){var t=this.getPathString();t||(t=\"M0 0\"),this._path.setAttribute(\"d\",t)},_initEvents:function(){if(this.options.clickable){(i.Browser.svg||!i.Browser.vml)&&this._path.setAttribute(\"class\",\"leaflet-clickable\"),i.DomEvent.on(this._container,\"click\",this._onMouseClick,this);for(var t=[\"dblclick\",\"mousedown\",\"mouseover\",\"mouseout\",\"mousemove\",\"contextmenu\"],e=0;e<t.length;e++)i.DomEvent.on(this._container,t[e],this._fireMouseEvent,this)}},_onMouseClick:function(t){this._map.dragging&&this._map.dragging.moved()||this._fireMouseEvent(t)},_fireMouseEvent:function(t){if(this.hasEventListeners(t.type)){var e=this._map,n=e.mouseEventToContainerPoint(t),o=e.containerPointToLayerPoint(n),s=e.layerPointToLatLng(o);this.fire(t.type,{latlng:s,layerPoint:o,containerPoint:n,originalEvent:t}),\"contextmenu\"===t.type&&i.DomEvent.preventDefault(t),\"mousemove\"!==t.type&&i.DomEvent.stopPropagation(t)}}}),i.Map.include({_initPathRoot:function(t){var e=this._pathLayer(t),n=\"_pathRoot\"+t,o=this[n];return o||(o=this[n]=i.Path.prototype._createElement(\"svg\"),e.appendChild(o),this.options.zoomAnimation&&i.Browser.any3d?(o.setAttribute(\"class\",\" leaflet-zoom-animated\"),this.on({zoomanim:function(t){this._animatePathZoom(t,n)},zoomend:function(){this._endPathZoom(n)}})):o.setAttribute(\"class\",\" leaflet-zoom-hide\"),this.on(\"moveend\",function(){this._updateSvgViewport(e,o)}),this._updateSvgViewport(e,o)),o},_animatePathZoom:function(t,e){var n=this[e],o=this.getZoomScale(t.zoom),s=this._getCenterOffset(t.center),a=s.multiplyBy(-o)._add(this._pathViewport.min);n.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(a)+\" scale(\"+o+\") \",this[e+\"_pathZooming\"]=!0},_endPathZoom:function(t){this[t+\"_pathZooming\"]=!1},_updateSvgViewport:function(t,e){if(!this._pathZooming){this._updatePathViewport();var n=this._pathViewport,o=n.min,s=n.max,a=s.x-o.x,r=s.y-o.y;i.Browser.mobileWebkit&&t.removeChild(e),i.DomUtil.setPosition(e,o),e.setAttribute(\"width\",a),e.setAttribute(\"height\",r),e.setAttribute(\"viewBox\",[o.x,o.y,a,r].join(\" \")),i.Browser.mobileWebkit&&t.appendChild(e)}}}),i.Path.include({bindPopup:function(t,e){return(!this._popup||e)&&(this._popup=new i.Popup(e,this)),this._popup.setContent(t),this._popupHandlersAdded||(this.on(\"click\",this._openPopup,this).on(\"remove\",this.closePopup,this),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this._popup=null,this.off(\"click\",this.openPopup).off(\"remove\",this.closePopup),this._popupHandlersAdded=!1),this},openPopup:function(t){return this._popup&&(t=t||this._latlng||this._latlngs[Math.floor(this._latlngs.length/2)],this._openPopup({latlng:t})),this},closePopup:function(){return this._popup&&this._popup._close(),this},_openPopup:function(t){this._popup.setLatLng(t.latlng),this._map.openPopup(this._popup)}}),i.Browser.vml=!i.Browser.svg&&function(){try{var t=document.createElement(\"div\");t.innerHTML='<v:shape adj=\"1\"/>';var e=t.firstChild;return e.style.behavior=\"url(#default#VML)\",e&&\"object\"==typeof e.adj}catch(i){return!1}}(),i.Path=i.Browser.svg||!i.Browser.vml?i.Path:i.Path.extend({statics:{VML:!0,CLIP_PADDING:.02},_createElement:function(){try{return document.namespaces.add(\"lvml\",\"urn:schemas-microsoft-com:vml\"),function(t){return document.createElement(\"<lvml:\"+t+' class=\"lvml\">')}}catch(t){return function(t){return document.createElement(\"<\"+t+' xmlns=\"urn:schemas-microsoft.com:vml\" class=\"lvml\">')}}}(),_initPath:function(){var t=this._container=this._createElement(\"shape\");i.DomUtil.addClass(t,\"leaflet-vml-shape\"),this.options.clickable&&i.DomUtil.addClass(t,\"leaflet-clickable\"),t.coordsize=\"1 1\",this._path=this._createElement(\"path\"),t.appendChild(this._path),this._map._pathRoot.appendChild(t)},_initStyle:function(){this._updateStyle()},_updateStyle:function(){var t=this._stroke,e=this._fill,i=this.options,n=this._container;n.stroked=i.stroke,n.filled=i.fill,i.stroke?(t||(t=this._stroke=this._createElement(\"stroke\"),t.endcap=\"round\",n.appendChild(t)),t.weight=i.weight+\"px\",t.color=i.color,t.opacity=i.opacity,t.dashStyle=i.dashArray?i.dashArray.replace(/ *, */g,\" \"):\"\"):t&&(n.removeChild(t),this._stroke=null),i.fill?(e||(e=this._fill=this._createElement(\"fill\"),n.appendChild(e)),e.color=i.fillColor||i.color,e.opacity=i.fillOpacity):e&&(n.removeChild(e),this._fill=null)},_updatePath:function(){var t=this._container.style;t.display=\"none\",this._path.v=this.getPathString()+\" \",t.display=\"\"}}),i.Map.include(i.Browser.svg||!i.Browser.vml?{}:{_initPathRoot:function(){if(!this._pathRoot){var t=this._pathRoot=document.createElement(\"div\");t.className=\"leaflet-vml-container\",this._panes.subtilePane.appendChild(this._pathRoot),this.on(\"moveend\",this._updatePathViewport),this._updatePathViewport()}}}),i.Browser.canvas=function(){return!!document.createElement(\"canvas\").getContext}(),i.Path=i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?i.Path:i.Path.extend({statics:{CANVAS:!0,SVG:!1},redraw:function(){return this._map&&(this.projectLatlngs(),this._requestUpdate()),this},setStyle:function(t){return i.setOptions(this,t),this._map&&(this._updateStyle(),this._requestUpdate()),this},onRemove:function(t){t.off(\"viewreset\",this.projectLatlngs,this).off(\"moveend\",this._updatePath,this),this._requestUpdate(),this._map=null},_requestUpdate:function(){this._map&&!i.Path._updateRequest&&(i.Path._updateRequest=i.Util.requestAnimFrame(this._fireMapMoveEnd,this._map))},_fireMapMoveEnd:function(){i.Path._updateRequest=null,this.fire(\"moveend\")},_initElements:function(){this._map._initPathRoot(),this._ctx=this._map._canvasCtx},_updateStyle:function(){var t=this.options;t.stroke&&(this._ctx.lineWidth=t.weight,this._ctx.strokeStyle=t.color),t.fill&&(this._ctx.fillStyle=t.fillColor||t.color)},_drawPath:function(){var t,e,n,o,s,a;for(this._ctx.beginPath(),t=0,n=this._parts.length;n>t;t++){for(e=0,o=this._parts[t].length;o>e;e++)s=this._parts[t][e],a=(0===e?\"move\":\"line\")+\"To\",this._ctx[a](s.x,s.y);this instanceof i.Polygon&&this._ctx.closePath()}},_checkIfEmpty:function(){return!this._parts.length},_updatePath:function(){if(!this._checkIfEmpty()){var t=this._ctx,e=this.options;this._drawPath(),t.save(),this._updateStyle(),e.fill&&(e.fillOpacity<1&&(t.globalAlpha=e.fillOpacity),t.fill()),e.stroke&&(e.opacity<1&&(t.globalAlpha=e.opacity),t.stroke()),t.restore()}},_initEvents:function(){this.options.clickable&&this._map.on(\"click\",this._onClick,this)},_onClick:function(t){this._containsPoint(t.layerPoint)&&this.fire(\"click\",t)}}),i.Map.include(i.Path.SVG&&!t.L_PREFER_CANVAS||!i.Browser.canvas?{}:{_initPathRoot:function(){var t,e=this._pathRoot;e||(e=this._pathRoot=document.createElement(\"canvas\"),e.style.position=\"absolute\",t=this._canvasCtx=e.getContext(\"2d\"),t.lineCap=\"round\",t.lineJoin=\"round\",this._panes.overlayPane.appendChild(e),this.options.zoomAnimation&&(this._pathRoot.className=\"leaflet-zoom-animated\",this.on(\"zoomanim\",this._animatePathZoom),this.on(\"zoomend\",this._endPathZoom)),this.on(\"moveend\",this._updateCanvasViewport),this._updateCanvasViewport())},_updateCanvasViewport:function(){if(!this._pathZooming){this._updatePathViewport();var t=this._pathViewport,e=t.min,n=t.max.subtract(e),o=this._pathRoot;i.DomUtil.setPosition(o,e),o.width=n.x,o.height=n.y,o.getContext(\"2d\").translate(-e.x,-e.y)}}}),i.LineUtil={simplify:function(t,e){if(!e||!t.length)return t.slice();var i=e*e;return t=this._reducePoints(t,i),t=this._simplifyDP(t,i)},pointToSegmentDistance:function(t,e,i){return Math.sqrt(this._sqClosestPointOnSegment(t,e,i,!0))},closestPointOnSegment:function(t,e,i){return this._sqClosestPointOnSegment(t,e,i)},_simplifyDP:function(t,i){var n=t.length,o=typeof Uint8Array!=e+\"\"?Uint8Array:Array,s=new o(n);s[0]=s[n-1]=1,this._simplifyDPStep(t,s,i,0,n-1);var a,r=[];for(a=0;n>a;a++)s[a]&&r.push(t[a]);return r},_simplifyDPStep:function(t,e,i,n,o){var s,a,r,h=0;for(a=n+1;o-1>=a;a++)r=this._sqClosestPointOnSegment(t[a],t[n],t[o],!0),r>h&&(s=a,h=r);h>i&&(e[s]=1,this._simplifyDPStep(t,e,i,n,s),this._simplifyDPStep(t,e,i,s,o))},_reducePoints:function(t,e){for(var i=[t[0]],n=1,o=0,s=t.length;s>n;n++)this._sqDist(t[n],t[o])>e&&(i.push(t[n]),o=n);return s-1>o&&i.push(t[s-1]),i},clipSegment:function(t,e,i,n){var o,s,a,r=(i.min,i.max,n?this._lastCode:this._getBitCode(t,i)),h=this._getBitCode(e,i);for(this._lastCode=h;;){if(!(r|h))return[t,e];if(r&h)return!1;o=r||h,s=this._getEdgeIntersection(t,e,o,i),a=this._getBitCode(s,i),o===r?(t=s,r=a):(e=s,h=a)}},_getEdgeIntersection:function(t,e,n,o){var s=e.x-t.x,a=e.y-t.y,r=o.min,h=o.max;return 8&n?new i.Point(t.x+s*(h.y-t.y)/a,h.y):4&n?new i.Point(t.x+s*(r.y-t.y)/a,r.y):2&n?new i.Point(h.x,t.y+a*(h.x-t.x)/s):1&n?new i.Point(r.x,t.y+a*(r.x-t.x)/s):void 0},_getBitCode:function(t,e){var i=0;return t.x<e.min.x?i|=1:t.x>e.max.x&&(i|=2),t.y<e.min.y?i|=4:t.y>e.max.y&&(i|=8),i},_sqDist:function(t,e){var i=e.x-t.x,n=e.y-t.y;return i*i+n*n},_sqClosestPointOnSegment:function(t,e,n,o){var s,a=e.x,r=e.y,h=n.x-a,l=n.y-r,u=h*h+l*l;return u>0&&(s=((t.x-a)*h+(t.y-r)*l)/u,s>1?(a=n.x,r=n.y):s>0&&(a+=h*s,r+=l*s)),h=t.x-a,l=t.y-r,o?h*h+l*l:new i.Point(a,r)}},i.Polyline=i.Path.extend({initialize:function(t,e){i.Path.prototype.initialize.call(this,e),this._latlngs=this._convertLatLngs(t),i.Handler.PolyEdit&&(this.editing=new i.Handler.PolyEdit(this),this.options.editable&&this.editing.enable())},options:{smoothFactor:1,noClip:!1},projectLatlngs:function(){this._originalPoints=[];for(var t=0,e=this._latlngs.length;e>t;t++)this._originalPoints[t]=this._map.latLngToLayerPoint(this._latlngs[t])},getPathString:function(){for(var t=0,e=this._parts.length,i=\"\";e>t;t++)i+=this._getPathPartStr(this._parts[t]);return i},getLatLngs:function(){return this._latlngs},setLatLngs:function(t){return this._latlngs=this._convertLatLngs(t),this.redraw()},addLatLng:function(t){return this._latlngs.push(i.latLng(t)),this.redraw()},spliceLatLngs:function(){var t=[].splice.apply(this._latlngs,arguments);return this._convertLatLngs(this._latlngs),this.redraw(),t},closestLayerPoint:function(t){for(var e,n,o=1/0,s=this._parts,a=null,r=0,h=s.length;h>r;r++)for(var l=s[r],u=1,c=l.length;c>u;u++){e=l[u-1],n=l[u];var d=i.LineUtil._sqClosestPointOnSegment(t,e,n,!0);o>d&&(o=d,a=i.LineUtil._sqClosestPointOnSegment(t,e,n))}return a&&(a.distance=Math.sqrt(o)),a},getBounds:function(){var t,e,n=new i.LatLngBounds,o=this.getLatLngs();for(t=0,e=o.length;e>t;t++)n.extend(o[t]);return n},onAdd:function(t){i.Path.prototype.onAdd.call(this,t),this.editing&&this.editing.enabled()&&this.editing.addHooks()},onRemove:function(t){this.editing&&this.editing.enabled()&&this.editing.removeHooks(),i.Path.prototype.onRemove.call(this,t)},_convertLatLngs:function(t){var e,n;for(e=0,n=t.length;n>e;e++){if(t[e]instanceof Array&&\"number\"!=typeof t[e][0])return;t[e]=i.latLng(t[e])}return t},_initEvents:function(){i.Path.prototype._initEvents.call(this)},_getPathPartStr:function(t){for(var e,n=i.Path.VML,o=0,s=t.length,a=\"\";s>o;o++)e=t[o],n&&e._round(),a+=(o?\"L\":\"M\")+e.x+\" \"+e.y;\nreturn a},_clipPoints:function(){var t,e,n,o=this._originalPoints,s=o.length;if(this.options.noClip)return this._parts=[o],void 0;this._parts=[];var a=this._parts,r=this._map._pathViewport,h=i.LineUtil;for(t=0,e=0;s-1>t;t++)n=h.clipSegment(o[t],o[t+1],r,t),n&&(a[e]=a[e]||[],a[e].push(n[0]),(n[1]!==o[t+1]||t===s-2)&&(a[e].push(n[1]),e++))},_simplifyPoints:function(){for(var t=this._parts,e=i.LineUtil,n=0,o=t.length;o>n;n++)t[n]=e.simplify(t[n],this.options.smoothFactor)},_updatePath:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),i.Path.prototype._updatePath.call(this))}}),i.polyline=function(t,e){return new i.Polyline(t,e)},i.PolyUtil={},i.PolyUtil.clipPolygon=function(t,e){var n,o,s,a,r,h,l,u,c,d=(e.min,e.max,[1,4,2,8]),_=i.LineUtil;for(o=0,l=t.length;l>o;o++)t[o]._code=_._getBitCode(t[o],e);for(a=0;4>a;a++){for(u=d[a],n=[],o=0,l=t.length,s=l-1;l>o;s=o++)r=t[o],h=t[s],r._code&u?h._code&u||(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)):(h._code&u&&(c=_._getEdgeIntersection(h,r,u,e),c._code=_._getBitCode(c,e),n.push(c)),n.push(r));t=n}return t},i.Polygon=i.Polyline.extend({options:{fill:!0},initialize:function(t,e){i.Polyline.prototype.initialize.call(this,t,e),t&&t[0]instanceof Array&&\"number\"!=typeof t[0][0]&&(this._latlngs=this._convertLatLngs(t[0]),this._holes=t.slice(1))},projectLatlngs:function(){if(i.Polyline.prototype.projectLatlngs.call(this),this._holePoints=[],this._holes){var t,e,n,o;for(t=0,n=this._holes.length;n>t;t++)for(this._holePoints[t]=[],e=0,o=this._holes[t].length;o>e;e++)this._holePoints[t][e]=this._map.latLngToLayerPoint(this._holes[t][e])}},_clipPoints:function(){var t=this._originalPoints,e=[];if(this._parts=[t].concat(this._holePoints),!this.options.noClip){for(var n=0,o=this._parts.length;o>n;n++){var s=i.PolyUtil.clipPolygon(this._parts[n],this._map._pathViewport);s.length&&e.push(s)}this._parts=e}},_getPathPartStr:function(t){var e=i.Polyline.prototype._getPathPartStr.call(this,t);return e+(i.Browser.svg?\"z\":\"x\")}}),i.polygon=function(t,e){return new i.Polygon(t,e)},function(){function t(t){return i.FeatureGroup.extend({initialize:function(t,e){this._layers={},this._options=e,this.setLatLngs(t)},setLatLngs:function(e){var i=0,n=e.length;for(this.eachLayer(function(t){n>i?t.setLatLngs(e[i++]):this.removeLayer(t)},this);n>i;)this.addLayer(new t(e[i++],this._options));return this}})}i.MultiPolyline=t(i.Polyline),i.MultiPolygon=t(i.Polygon),i.multiPolyline=function(t,e){return new i.MultiPolyline(t,e)},i.multiPolygon=function(t,e){return new i.MultiPolygon(t,e)}}(),i.Rectangle=i.Polygon.extend({initialize:function(t,e){i.Polygon.prototype.initialize.call(this,this._boundsToLatLngs(t),e)},setBounds:function(t){this.setLatLngs(this._boundsToLatLngs(t))},_boundsToLatLngs:function(t){return t=i.latLngBounds(t),[t.getSouthWest(),t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}}),i.rectangle=function(t,e){return new i.Rectangle(t,e)},i.Circle=i.Path.extend({initialize:function(t,e,n){i.Path.prototype.initialize.call(this,n),this._latlng=i.latLng(t),this._mRadius=e},options:{fill:!0},setLatLng:function(t){return this._latlng=i.latLng(t),this.redraw()},setRadius:function(t){return this._mRadius=t,this.redraw()},projectLatlngs:function(){var t=this._getLngRadius(),e=new i.LatLng(this._latlng.lat,this._latlng.lng-t,!0),n=this._map.latLngToLayerPoint(e);this._point=this._map.latLngToLayerPoint(this._latlng),this._radius=Math.max(Math.round(this._point.x-n.x),1)},getBounds:function(){var t=this._getLngRadius(),e=360*(this._mRadius/40075017),n=this._latlng,o=new i.LatLng(n.lat-e,n.lng-t),s=new i.LatLng(n.lat+e,n.lng+t);return new i.LatLngBounds(o,s)},getLatLng:function(){return this._latlng},getPathString:function(){var t=this._point,e=this._radius;return this._checkIfEmpty()?\"\":i.Browser.svg?\"M\"+t.x+\",\"+(t.y-e)+\"A\"+e+\",\"+e+\",0,1,1,\"+(t.x-.1)+\",\"+(t.y-e)+\" z\":(t._round(),e=Math.round(e),\"AL \"+t.x+\",\"+t.y+\" \"+e+\",\"+e+\" 0,\"+23592600)},getRadius:function(){return this._mRadius},_getLatRadius:function(){return 360*(this._mRadius/40075017)},_getLngRadius:function(){return this._getLatRadius()/Math.cos(i.LatLng.DEG_TO_RAD*this._latlng.lat)},_checkIfEmpty:function(){if(!this._map)return!1;var t=this._map._pathViewport,e=this._radius,i=this._point;return i.x-e>t.max.x||i.y-e>t.max.y||i.x+e<t.min.x||i.y+e<t.min.y}}),i.circle=function(t,e,n){return new i.Circle(t,e,n)},i.CircleMarker=i.Circle.extend({options:{radius:10,weight:2},initialize:function(t,e){i.Circle.prototype.initialize.call(this,t,null,e),this._radius=this.options.radius},projectLatlngs:function(){this._point=this._map.latLngToLayerPoint(this._latlng)},setRadius:function(t){return this._radius=t,this.redraw()}}),i.circleMarker=function(t,e){return new i.CircleMarker(t,e)},i.Polyline.include(i.Path.CANVAS?{_containsPoint:function(t,e){var n,o,s,a,r,h,l,u=this.options.weight/2;for(i.Browser.touch&&(u+=10),n=0,a=this._parts.length;a>n;n++)for(l=this._parts[n],o=0,r=l.length,s=r-1;r>o;s=o++)if((e||0!==o)&&(h=i.LineUtil.pointToSegmentDistance(t,l[s],l[o]),u>=h))return!0;return!1}}:{}),i.Polygon.include(i.Path.CANVAS?{_containsPoint:function(t){var e,n,o,s,a,r,h,l,u=!1;if(i.Polyline.prototype._containsPoint.call(this,t,!0))return!0;for(s=0,h=this._parts.length;h>s;s++)for(e=this._parts[s],a=0,l=e.length,r=l-1;l>a;r=a++)n=e[a],o=e[r],n.y>t.y!=o.y>t.y&&t.x<(o.x-n.x)*(t.y-n.y)/(o.y-n.y)+n.x&&(u=!u);return u}}:{}),i.Circle.include(i.Path.CANVAS?{_drawPath:function(){var t=this._point;this._ctx.beginPath(),this._ctx.arc(t.x,t.y,this._radius,0,2*Math.PI,!1)},_containsPoint:function(t){var e=this._point,i=this.options.stroke?this.options.weight/2:0;return t.distanceTo(e)<=this._radius+i}}:{}),i.GeoJSON=i.FeatureGroup.extend({initialize:function(t,e){i.setOptions(this,e),this._layers={},t&&this.addData(t)},addData:function(t){var e,n,o=t instanceof Array?t:t.features;if(o){for(e=0,n=o.length;n>e;e++)this.addData(o[e]);return this}var s=this.options;if(!s.filter||s.filter(t)){var a=i.GeoJSON.geometryToLayer(t,s.pointToLayer);return a.feature=t,this.resetStyle(a),s.onEachFeature&&s.onEachFeature(t,a),this.addLayer(a)}},resetStyle:function(t){var e=this.options.style;e&&this._setLayerStyle(t,e)},setStyle:function(t){this.eachLayer(function(e){this._setLayerStyle(e,t)},this)},_setLayerStyle:function(t,e){\"function\"==typeof e&&(e=e(t.feature)),t.setStyle&&t.setStyle(e)}}),i.extend(i.GeoJSON,{geometryToLayer:function(t,e){var n,o,s,a,r,h=\"Feature\"===t.type?t.geometry:t,l=h.coordinates,u=[];switch(h.type){case\"Point\":return n=this.coordsToLatLng(l),e?e(t,n):new i.Marker(n);case\"MultiPoint\":for(s=0,a=l.length;a>s;s++)n=this.coordsToLatLng(l[s]),r=e?e(t,n):new i.Marker(n),u.push(r);return new i.FeatureGroup(u);case\"LineString\":return o=this.coordsToLatLngs(l),new i.Polyline(o);case\"Polygon\":return o=this.coordsToLatLngs(l,1),new i.Polygon(o);case\"MultiLineString\":return o=this.coordsToLatLngs(l,1),new i.MultiPolyline(o);case\"MultiPolygon\":return o=this.coordsToLatLngs(l,2),new i.MultiPolygon(o);case\"GeometryCollection\":for(s=0,a=h.geometries.length;a>s;s++)r=this.geometryToLayer(h.geometries[s],e),u.push(r);return new i.FeatureGroup(u);default:throw new Error(\"Invalid GeoJSON object.\")}},coordsToLatLng:function(t,e){var n=parseFloat(t[e?0:1]),o=parseFloat(t[e?1:0]);return new i.LatLng(n,o,!0)},coordsToLatLngs:function(t,e,i){var n,o,s,a=[];for(o=0,s=t.length;s>o;o++)n=e?this.coordsToLatLngs(t[o],e-1,i):this.coordsToLatLng(t[o],i),a.push(n);return a}}),i.geoJson=function(t,e){return new i.GeoJSON(t,e)},i.DomEvent={addListener:function(t,e,n,o){var s,a,r,h=i.stamp(n),l=\"_leaflet_\"+e+h;return t[l]?this:(s=function(e){return n.call(o||t,e||i.DomEvent._getEvent())},i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.addMsTouchListener(t,e,s,h):i.Browser.touch&&\"dblclick\"===e&&this.addDoubleTapListener?this.addDoubleTapListener(t,s,h):(\"addEventListener\"in t?\"mousewheel\"===e?(t.addEventListener(\"DOMMouseScroll\",s,!1),t.addEventListener(e,s,!1)):\"mouseenter\"===e||\"mouseleave\"===e?(a=s,r=\"mouseenter\"===e?\"mouseover\":\"mouseout\",s=function(e){return i.DomEvent._checkMouse(t,e)?a(e):void 0},t.addEventListener(r,s,!1)):t.addEventListener(e,s,!1):\"attachEvent\"in t&&t.attachEvent(\"on\"+e,s),t[l]=s,this))},removeListener:function(t,e,n){var o=i.stamp(n),s=\"_leaflet_\"+e+o,a=t[s];if(a)return i.Browser.msTouch&&0===e.indexOf(\"touch\")?this.removeMsTouchListener(t,e,o):i.Browser.touch&&\"dblclick\"===e&&this.removeDoubleTapListener?this.removeDoubleTapListener(t,o):\"removeEventListener\"in t?\"mousewheel\"===e?(t.removeEventListener(\"DOMMouseScroll\",a,!1),t.removeEventListener(e,a,!1)):\"mouseenter\"===e||\"mouseleave\"===e?t.removeEventListener(\"mouseenter\"===e?\"mouseover\":\"mouseout\",a,!1):t.removeEventListener(e,a,!1):\"detachEvent\"in t&&t.detachEvent(\"on\"+e,a),t[s]=null,this},stopPropagation:function(t){return t.stopPropagation?t.stopPropagation():t.cancelBubble=!0,this},disableClickPropagation:function(t){var e=i.DomEvent.stopPropagation;return i.DomEvent.addListener(t,i.Draggable.START,e).addListener(t,\"click\",e).addListener(t,\"dblclick\",e)},preventDefault:function(t){return t.preventDefault?t.preventDefault():t.returnValue=!1,this},stop:function(t){return i.DomEvent.preventDefault(t).stopPropagation(t)},getMousePosition:function(t,e){var n=document.body,o=document.documentElement,s=t.pageX?t.pageX:t.clientX+n.scrollLeft+o.scrollLeft,a=t.pageY?t.pageY:t.clientY+n.scrollTop+o.scrollTop,r=new i.Point(s,a);return e?r._subtract(i.DomUtil.getViewportOffset(e)):r},getWheelDelta:function(t){return t.detail<0||t.wheelDelta>0?1:-1},_checkMouse:function(t,e){var i=e.relatedTarget;if(!i)return!0;try{for(;i&&i!==t;)i=i.parentNode}catch(n){return!1}return i!==t},_getEvent:function(){var e=t.event;if(!e)for(var i=arguments.callee.caller;i&&(e=i.arguments[0],!e||t.Event!==e.constructor);)i=i.caller;return e}},i.DomEvent.on=i.DomEvent.addListener,i.DomEvent.off=i.DomEvent.removeListener,i.Draggable=i.Class.extend({includes:i.Mixin.Events,statics:{START:i.Browser.touch?\"touchstart\":\"mousedown\",END:i.Browser.touch?\"touchend\":\"mouseup\",MOVE:i.Browser.touch?\"touchmove\":\"mousemove\",TAP_TOLERANCE:15},initialize:function(t,e,n){this._element=t,this._dragStartTarget=e||t,this._longPress=n&&!i.Browser.msTouch},enable:function(){this._enabled||(i.DomEvent.on(this._dragStartTarget,i.Draggable.START,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(i.DomEvent.off(this._dragStartTarget,i.Draggable.START,this._onDown),this._enabled=!1,this._moved=!1)},_onDown:function(t){if(!(!i.Browser.touch&&t.shiftKey||1!==t.which&&1!==t.button&&!t.touches||(i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t),i.Draggable._disabled))){if(this._simulateClick=!0,t.touches&&t.touches.length>1)return this._simulateClick=!1,clearTimeout(this._longPressTimeout),void 0;var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=e.target;i.Browser.touch&&\"a\"===n.tagName.toLowerCase()&&i.DomUtil.addClass(n,\"leaflet-active\"),this._moved=!1,this._moving||(this._startPoint=new i.Point(e.clientX,e.clientY),this._startPos=this._newPos=i.DomUtil.getPosition(this._element),t.touches&&1===t.touches.length&&i.Browser.touch&&this._longPress&&(this._longPressTimeout=setTimeout(i.bind(function(){var t=this._newPos&&this._newPos.distanceTo(this._startPos)||0;t<i.Draggable.TAP_TOLERANCE&&(this._simulateClick=!1,this._onUp(),this._simulateEvent(\"contextmenu\",e))},this),1e3)),i.DomEvent.on(document,i.Draggable.MOVE,this._onMove,this),i.DomEvent.on(document,i.Draggable.END,this._onUp,this))}},_onMove:function(t){if(!(t.touches&&t.touches.length>1)){var e=t.touches&&1===t.touches.length?t.touches[0]:t,n=new i.Point(e.clientX,e.clientY),o=n.subtract(this._startPoint);(o.x||o.y)&&(i.DomEvent.preventDefault(t),this._moved||(this.fire(\"dragstart\"),this._moved=!0,this._startPos=i.DomUtil.getPosition(this._element).subtract(o),i.Browser.touch||(i.DomUtil.disableTextSelection(),this._setMovingCursor())),this._newPos=this._startPos.add(o),this._moving=!0,i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updatePosition,this,!0,this._dragStartTarget))}},_updatePosition:function(){this.fire(\"predrag\"),i.DomUtil.setPosition(this._element,this._newPos),this.fire(\"drag\")},_onUp:function(t){var e;if(clearTimeout(this._longPressTimeout),this._simulateClick&&t.changedTouches){var n=t.changedTouches[0],o=n.target,s=this._newPos&&this._newPos.distanceTo(this._startPos)||0;\"a\"===o.tagName.toLowerCase()&&i.DomUtil.removeClass(o,\"leaflet-active\"),s<i.Draggable.TAP_TOLERANCE&&(e=n)}i.Browser.touch||(i.DomUtil.enableTextSelection(),this._restoreCursor()),i.DomEvent.off(document,i.Draggable.MOVE,this._onMove),i.DomEvent.off(document,i.Draggable.END,this._onUp),this._moved&&(i.Util.cancelAnimFrame(this._animRequest),this.fire(\"dragend\")),this._moving=!1,e&&(this._moved=!1,this._simulateEvent(\"click\",e))},_setMovingCursor:function(){i.DomUtil.addClass(document.body,\"leaflet-dragging\")},_restoreCursor:function(){i.DomUtil.removeClass(document.body,\"leaflet-dragging\")},_simulateEvent:function(e,i){var n=document.createEvent(\"MouseEvents\");n.initMouseEvent(e,!0,!0,t,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),i.target.dispatchEvent(n)}}),i.Handler=i.Class.extend({initialize:function(t){this._map=t},enable:function(){this._enabled||(this._enabled=!0,this.addHooks())},disable:function(){this._enabled&&(this._enabled=!1,this.removeHooks())},enabled:function(){return!!this._enabled}}),i.Map.mergeOptions({dragging:!0,inertia:!i.Browser.android23,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,inertiaThreshold:i.Browser.touch?32:18,easeLinearity:.25,longPress:!0,worldCopyJump:!0}),i.Map.Drag=i.Handler.extend({addHooks:function(){if(!this._draggable){var t=this._map;this._draggable=new i.Draggable(t._mapPane,t._container,t.options.longPress),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),t.options.worldCopyJump&&(this._draggable.on(\"predrag\",this._onPreDrag,this),t.on(\"viewreset\",this._onViewReset,this))}this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){var t=this._map;t._panAnim&&t._panAnim.stop(),t.fire(\"movestart\").fire(\"dragstart\"),t.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(){if(this._map.options.inertia){var t=this._lastTime=+new Date,e=this._lastPos=this._draggable._newPos;this._positions.push(e),this._times.push(t),t-this._times[0]>200&&(this._positions.shift(),this._times.shift())}this._map.fire(\"move\").fire(\"drag\")},_onViewReset:function(){var t=this._map.getSize()._divideBy(2),e=this._map.latLngToLayerPoint(new i.LatLng(0,0));this._initialWorldOffset=e.subtract(t).x,this._worldWidth=this._map.project(new i.LatLng(0,180)).x},_onPreDrag:function(){var t=(this._map,this._worldWidth),e=Math.round(t/2),i=this._initialWorldOffset,n=this._draggable._newPos.x,o=(n-e+i)%t+e-i,s=(n+e+i)%t-e-i,a=Math.abs(o+i)<Math.abs(s+i)?o:s;this._draggable._newPos.x=a},_onDragEnd:function(){var t=this._map,e=t.options,n=+new Date-this._lastTime,o=!e.inertia||n>e.inertiaThreshold||!this._positions[0];if(o)t.fire(\"moveend\");else{var s=this._lastPos.subtract(this._positions[0]),a=(this._lastTime+n-this._times[0])/1e3,r=s.multiplyBy(e.easeLinearity/a),h=r.distanceTo(new i.Point(0,0)),l=Math.min(e.inertiaMaxSpeed,h),u=r.multiplyBy(l/h),c=l/(e.inertiaDeceleration*e.easeLinearity),d=u.multiplyBy(-c/2).round();i.Util.requestAnimFrame(function(){t.panBy(d,c,e.easeLinearity)})}t.fire(\"dragend\"),e.maxBounds&&i.Util.requestAnimFrame(this._panInsideMaxBounds,t,!0,t._container)},_panInsideMaxBounds:function(){this.panInsideBounds(this.options.maxBounds)}}),i.Map.addInitHook(\"addHandler\",\"dragging\",i.Map.Drag),i.Map.mergeOptions({doubleClickZoom:!0}),i.Map.DoubleClickZoom=i.Handler.extend({addHooks:function(){this._map.on(\"dblclick\",this._onDoubleClick)},removeHooks:function(){this._map.off(\"dblclick\",this._onDoubleClick)},_onDoubleClick:function(t){this.setView(t.latlng,this._zoom+1)}}),i.Map.addInitHook(\"addHandler\",\"doubleClickZoom\",i.Map.DoubleClickZoom),i.Map.mergeOptions({scrollWheelZoom:!i.Browser.touch||i.Browser.msTouch}),i.Map.ScrollWheelZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"mousewheel\",this._onWheelScroll,this),this._delta=0},removeHooks:function(){i.DomEvent.off(this._map._container,\"mousewheel\",this._onWheelScroll)},_onWheelScroll:function(t){var e=i.DomEvent.getWheelDelta(t);this._delta+=e,this._lastMousePos=this._map.mouseEventToContainerPoint(t),this._startTime||(this._startTime=+new Date);var n=Math.max(40-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(i.bind(this._performZoom,this),n),i.DomEvent.preventDefault(t),i.DomEvent.stopPropagation(t)},_performZoom:function(){var t=this._map,e=Math.round(this._delta),i=t.getZoom();if(e=Math.max(Math.min(e,4),-4),e=t._limitZoom(i+e)-i,this._delta=0,this._startTime=null,e){var n=i+e,o=this._getCenterForScrollWheelZoom(n);t.setView(o,n)}},_getCenterForScrollWheelZoom:function(t){var e=this._map,i=e.getZoomScale(t),n=e.getSize()._divideBy(2),o=this._lastMousePos._subtract(n)._multiplyBy(1-1/i),s=e._getTopLeftPoint()._add(n)._add(o);return e.unproject(s)}}),i.Map.addInitHook(\"addHandler\",\"scrollWheelZoom\",i.Map.ScrollWheelZoom),i.extend(i.DomEvent,{_touchstart:i.Browser.msTouch?\"MSPointerDown\":\"touchstart\",_touchend:i.Browser.msTouch?\"MSPointerUp\":\"touchend\",addDoubleTapListener:function(t,e,n){function o(t){var e;if(i.Browser.msTouch?(_.push(t.pointerId),e=_.length):e=t.touches.length,!(e>1)){var n=Date.now(),o=n-(a||n);r=t.touches?t.touches[0]:t,h=o>0&&l>=o,a=n}}function s(t){if(i.Browser.msTouch){var n=_.indexOf(t.pointerId);if(-1===n)return;_.splice(n,1)}if(h){if(i.Browser.msTouch){var o,s={};for(var l in r)o=r[l],s[l]=\"function\"==typeof o?o.bind(r):o;r=s}r.type=\"dblclick\",e(r),a=null}}var a,r,h=!1,l=250,u=\"_leaflet_\",c=this._touchstart,d=this._touchend,_=[];t[u+c+n]=o,t[u+d+n]=s;var m=i.Browser.msTouch?document.documentElement:t;return t.addEventListener(c,o,!1),m.addEventListener(d,s,!1),i.Browser.msTouch&&m.addEventListener(\"MSPointerCancel\",s,!1),this},removeDoubleTapListener:function(t,e){var n=\"_leaflet_\";return t.removeEventListener(this._touchstart,t[n+this._touchstart+e],!1),(i.Browser.msTouch?document.documentElement:t).removeEventListener(this._touchend,t[n+this._touchend+e],!1),i.Browser.msTouch&&document.documentElement.removeEventListener(\"MSPointerCancel\",t[n+this._touchend+e],!1),this}}),i.extend(i.DomEvent,{_msTouches:[],_msDocumentListener:!1,addMsTouchListener:function(t,e,i,n){switch(e){case\"touchstart\":return this.addMsTouchListenerStart(t,e,i,n);case\"touchend\":return this.addMsTouchListenerEnd(t,e,i,n);case\"touchmove\":return this.addMsTouchListenerMove(t,e,i,n);default:throw\"Unknown touch event type\"}},addMsTouchListenerStart:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=!1,n=0;n<s.length;n++)if(s[n].pointerId===t.pointerId){e=!0;break}e||s.push(t),t.touches=s.slice(),t.changedTouches=[t],i(t)};if(t[o+\"touchstart\"+n]=a,t.addEventListener(\"MSPointerDown\",a,!1),!this._msDocumentListener){var r=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}};document.documentElement.addEventListener(\"MSPointerUp\",r,!1),document.documentElement.addEventListener(\"MSPointerCancel\",r,!1),this._msDocumentListener=!0}return this},addMsTouchListenerMove:function(t,e,i,n){function o(t){if(t.pointerType!==t.MSPOINTER_TYPE_MOUSE||0!==t.buttons){for(var e=0;e<a.length;e++)if(a[e].pointerId===t.pointerId){a[e]=t;break}t.touches=a.slice(),t.changedTouches=[t],i(t)}}var s=\"_leaflet_\",a=this._msTouches;return t[s+\"touchmove\"+n]=o,t.addEventListener(\"MSPointerMove\",o,!1),this},addMsTouchListenerEnd:function(t,e,i,n){var o=\"_leaflet_\",s=this._msTouches,a=function(t){for(var e=0;e<s.length;e++)if(s[e].pointerId===t.pointerId){s.splice(e,1);break}t.touches=s.slice(),t.changedTouches=[t],i(t)};return t[o+\"touchend\"+n]=a,t.addEventListener(\"MSPointerUp\",a,!1),t.addEventListener(\"MSPointerCancel\",a,!1),this},removeMsTouchListener:function(t,e,i){var n=\"_leaflet_\",o=t[n+e+i];switch(e){case\"touchstart\":t.removeEventListener(\"MSPointerDown\",o,!1);break;case\"touchmove\":t.removeEventListener(\"MSPointerMove\",o,!1);break;case\"touchend\":t.removeEventListener(\"MSPointerUp\",o,!1),t.removeEventListener(\"MSPointerCancel\",o,!1)}return this}}),i.Map.mergeOptions({touchZoom:i.Browser.touch&&!i.Browser.android23}),i.Map.TouchZoom=i.Handler.extend({addHooks:function(){i.DomEvent.on(this._map._container,\"touchstart\",this._onTouchStart,this)},removeHooks:function(){i.DomEvent.off(this._map._container,\"touchstart\",this._onTouchStart,this)},_onTouchStart:function(t){var e=this._map;if(t.touches&&2===t.touches.length&&!e._animatingZoom&&!this._zooming){var n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]),s=e._getCenterLayerPoint();this._startCenter=n.add(o)._divideBy(2),this._startDist=n.distanceTo(o),this._moved=!1,this._zooming=!0,this._centerOffset=s.subtract(this._startCenter),e._panAnim&&e._panAnim.stop(),i.DomEvent.on(document,\"touchmove\",this._onTouchMove,this).on(document,\"touchend\",this._onTouchEnd,this),i.DomEvent.preventDefault(t)}},_onTouchMove:function(t){if(t.touches&&2===t.touches.length){var e=this._map,n=e.mouseEventToLayerPoint(t.touches[0]),o=e.mouseEventToLayerPoint(t.touches[1]);this._scale=n.distanceTo(o)/this._startDist,this._delta=n._add(o)._divideBy(2)._subtract(this._startCenter),1!==this._scale&&(this._moved||(i.DomUtil.addClass(e._mapPane,\"leaflet-zoom-anim leaflet-touching\"),e.fire(\"movestart\").fire(\"zoomstart\")._prepareTileBg(),this._moved=!0),i.Util.cancelAnimFrame(this._animRequest),this._animRequest=i.Util.requestAnimFrame(this._updateOnMove,this,!0,this._map._container),i.DomEvent.preventDefault(t))}},_updateOnMove:function(){var t=this._map,e=this._getScaleOrigin(),n=t.layerPointToLatLng(e);t.fire(\"zoomanim\",{center:n,zoom:t.getScaleZoom(this._scale)}),t._tileBg.style[i.DomUtil.TRANSFORM]=i.DomUtil.getTranslateString(this._delta)+\" \"+i.DomUtil.getScaleString(this._scale,this._startCenter)},_onTouchEnd:function(){if(this._moved&&this._zooming){var t=this._map;this._zooming=!1,i.DomUtil.removeClass(t._mapPane,\"leaflet-touching\"),i.DomEvent.off(document,\"touchmove\",this._onTouchMove).off(document,\"touchend\",this._onTouchEnd);var e=this._getScaleOrigin(),n=t.layerPointToLatLng(e),o=t.getZoom(),s=t.getScaleZoom(this._scale)-o,a=s>0?Math.ceil(s):Math.floor(s),r=t._limitZoom(o+a);t.fire(\"zoomanim\",{center:n,zoom:r}),t._runAnimation(n,r,t.getZoomScale(r)/this._scale,e,!0)}},_getScaleOrigin:function(){var t=this._centerOffset.subtract(this._delta).divideBy(this._scale);return this._startCenter.add(t)}}),i.Map.addInitHook(\"addHandler\",\"touchZoom\",i.Map.TouchZoom),i.Map.mergeOptions({boxZoom:!0}),i.Map.BoxZoom=i.Handler.extend({initialize:function(t){this._map=t,this._container=t._container,this._pane=t._panes.overlayPane},addHooks:function(){i.DomEvent.on(this._container,\"mousedown\",this._onMouseDown,this)},removeHooks:function(){i.DomEvent.off(this._container,\"mousedown\",this._onMouseDown)},_onMouseDown:function(t){return!t.shiftKey||1!==t.which&&1!==t.button?!1:(i.DomUtil.disableTextSelection(),this._startLayerPoint=this._map.mouseEventToLayerPoint(t),this._box=i.DomUtil.create(\"div\",\"leaflet-zoom-box\",this._pane),i.DomUtil.setPosition(this._box,this._startLayerPoint),this._container.style.cursor=\"crosshair\",i.DomEvent.on(document,\"mousemove\",this._onMouseMove,this).on(document,\"mouseup\",this._onMouseUp,this).preventDefault(t),this._map.fire(\"boxzoomstart\"),void 0)},_onMouseMove:function(t){var e=this._startLayerPoint,n=this._box,o=this._map.mouseEventToLayerPoint(t),s=o.subtract(e),a=new i.Point(Math.min(o.x,e.x),Math.min(o.y,e.y));i.DomUtil.setPosition(n,a),n.style.width=Math.max(0,Math.abs(s.x)-4)+\"px\",n.style.height=Math.max(0,Math.abs(s.y)-4)+\"px\"},_onMouseUp:function(t){this._pane.removeChild(this._box),this._container.style.cursor=\"\",i.DomUtil.enableTextSelection(),i.DomEvent.off(document,\"mousemove\",this._onMouseMove).off(document,\"mouseup\",this._onMouseUp);var e=this._map,n=e.mouseEventToLayerPoint(t),o=new i.LatLngBounds(e.layerPointToLatLng(this._startLayerPoint),e.layerPointToLatLng(n));e.fitBounds(o),e.fire(\"boxzoomend\",{boxZoomBounds:o})}}),i.Map.addInitHook(\"addHandler\",\"boxZoom\",i.Map.BoxZoom),i.Map.mergeOptions({keyboard:!0,keyboardPanOffset:80,keyboardZoomOffset:1}),i.Map.Keyboard=i.Handler.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61],zoomOut:[189,109]},initialize:function(t){this._map=t,this._setPanOffset(t.options.keyboardPanOffset),this._setZoomOffset(t.options.keyboardZoomOffset)},addHooks:function(){var t=this._map._container;-1===t.tabIndex&&(t.tabIndex=\"0\"),i.DomEvent.addListener(t,\"focus\",this._onFocus,this).addListener(t,\"blur\",this._onBlur,this).addListener(t,\"mousedown\",this._onMouseDown,this),this._map.on(\"focus\",this._addHooks,this).on(\"blur\",this._removeHooks,this)},removeHooks:function(){this._removeHooks();var t=this._map._container;i.DomEvent.removeListener(t,\"focus\",this._onFocus,this).removeListener(t,\"blur\",this._onBlur,this).removeListener(t,\"mousedown\",this._onMouseDown,this),this._map.off(\"focus\",this._addHooks,this).off(\"blur\",this._removeHooks,this)},_onMouseDown:function(){this._focused||this._map._container.focus()},_onFocus:function(){this._focused=!0,this._map.fire(\"focus\")},_onBlur:function(){this._focused=!1,this._map.fire(\"blur\")},_setPanOffset:function(t){var e,i,n=this._panKeys={},o=this.keyCodes;for(e=0,i=o.left.length;i>e;e++)n[o.left[e]]=[-1*t,0];for(e=0,i=o.right.length;i>e;e++)n[o.right[e]]=[t,0];for(e=0,i=o.down.length;i>e;e++)n[o.down[e]]=[0,t];for(e=0,i=o.up.length;i>e;e++)n[o.up[e]]=[0,-1*t]},_setZoomOffset:function(t){var e,i,n=this._zoomKeys={},o=this.keyCodes;for(e=0,i=o.zoomIn.length;i>e;e++)n[o.zoomIn[e]]=t;for(e=0,i=o.zoomOut.length;i>e;e++)n[o.zoomOut[e]]=-t},_addHooks:function(){i.DomEvent.addListener(document,\"keydown\",this._onKeyDown,this)},_removeHooks:function(){i.DomEvent.removeListener(document,\"keydown\",this._onKeyDown,this)},_onKeyDown:function(t){var e=t.keyCode;if(this._panKeys.hasOwnProperty(e))this._map.panBy(this._panKeys[e]);else{if(!this._zoomKeys.hasOwnProperty(e))return;this._map.setZoom(this._map.getZoom()+this._zoomKeys[e])}i.DomEvent.stop(t)}}),i.Map.addInitHook(\"addHandler\",\"keyboard\",i.Map.Keyboard),i.Handler.MarkerDrag=i.Handler.extend({initialize:function(t){this._marker=t},addHooks:function(){var t=this._marker._icon;this._draggable||(this._draggable=new i.Draggable(t,t).on(\"dragstart\",this._onDragStart,this).on(\"drag\",this._onDrag,this).on(\"dragend\",this._onDragEnd,this)),this._draggable.enable()},removeHooks:function(){this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},_onDragStart:function(){this._marker.closePopup().fire(\"movestart\").fire(\"dragstart\")},_onDrag:function(){var t=this._marker,e=t._shadow,n=i.DomUtil.getPosition(t._icon),o=t._map.layerPointToLatLng(n);e&&i.DomUtil.setPosition(e,n),t._latlng=o,t.fire(\"move\",{latlng:o}).fire(\"drag\")},_onDragEnd:function(){this._marker.fire(\"moveend\").fire(\"dragend\")}}),i.Handler.PolyEdit=i.Handler.extend({options:{icon:new i.DivIcon({iconSize:new i.Point(8,8),className:\"leaflet-div-icon leaflet-editing-icon\"})},initialize:function(t,e){this._poly=t,i.setOptions(this,e)},addHooks:function(){this._poly._map&&(this._markerGroup||this._initMarkers(),this._poly._map.addLayer(this._markerGroup))},removeHooks:function(){this._poly._map&&(this._poly._map.removeLayer(this._markerGroup),delete this._markerGroup,delete this._markers)},updateMarkers:function(){this._markerGroup.clearLayers(),this._initMarkers()},_initMarkers:function(){this._markerGroup||(this._markerGroup=new i.LayerGroup),this._markers=[];var t,e,n,o,s=this._poly._latlngs;for(t=0,n=s.length;n>t;t++)o=this._createMarker(s[t],t),o.on(\"click\",this._onMarkerClick,this),this._markers.push(o);var a,r;for(t=0,e=n-1;n>t;e=t++)(0!==t||i.Polygon&&this._poly instanceof i.Polygon)&&(a=this._markers[e],r=this._markers[t],this._createMiddleMarker(a,r),this._updatePrevNext(a,r))},_createMarker:function(t,e){var n=new i.Marker(t,{draggable:!0,icon:this.options.icon});return n._origLatLng=t,n._index=e,n.on(\"drag\",this._onMarkerDrag,this),n.on(\"dragend\",this._fireEdit,this),this._markerGroup.addLayer(n),n},_fireEdit:function(){this._poly.fire(\"edit\")},_onMarkerDrag:function(t){var e=t.target;i.extend(e._origLatLng,e._latlng),e._middleLeft&&e._middleLeft.setLatLng(this._getMiddleLatLng(e._prev,e)),e._middleRight&&e._middleRight.setLatLng(this._getMiddleLatLng(e,e._next)),this._poly.redraw()},_onMarkerClick:function(t){if(!(this._poly._latlngs.length<3)){var e=t.target,i=e._index;this._markerGroup.removeLayer(e),this._markers.splice(i,1),this._poly.spliceLatLngs(i,1),this._updateIndexes(i,-1),this._updatePrevNext(e._prev,e._next),e._middleLeft&&this._markerGroup.removeLayer(e._middleLeft),e._middleRight&&this._markerGroup.removeLayer(e._middleRight),e._prev&&e._next?this._createMiddleMarker(e._prev,e._next):e._prev?e._next||(e._prev._middleRight=null):e._next._middleLeft=null,this._poly.fire(\"edit\")}},_updateIndexes:function(t,e){this._markerGroup.eachLayer(function(i){i._index>t&&(i._index+=e)})},_createMiddleMarker:function(t,e){var i,n,o,s=this._getMiddleLatLng(t,e),a=this._createMarker(s);a.setOpacity(.6),t._middleRight=e._middleLeft=a,n=function(){var n=e._index;a._index=n,a.off(\"click\",i).on(\"click\",this._onMarkerClick,this),s.lat=a.getLatLng().lat,s.lng=a.getLatLng().lng,this._poly.spliceLatLngs(n,0,s),this._markers.splice(n,0,a),a.setOpacity(1),this._updateIndexes(n,1),e._index++,this._updatePrevNext(t,a),this._updatePrevNext(a,e)},o=function(){a.off(\"dragstart\",n,this),a.off(\"dragend\",o,this),this._createMiddleMarker(t,a),this._createMiddleMarker(a,e)},i=function(){n.call(this),o.call(this),this._poly.fire(\"edit\")},a.on(\"click\",i,this).on(\"dragstart\",n,this).on(\"dragend\",o,this),this._markerGroup.addLayer(a)},_updatePrevNext:function(t,e){t&&(t._next=e),e&&(e._prev=t)},_getMiddleLatLng:function(t,e){var i=this._poly._map,n=i.latLngToLayerPoint(t.getLatLng()),o=i.latLngToLayerPoint(e.getLatLng());return i.layerPointToLatLng(n._add(o)._divideBy(2))}}),i.Control=i.Class.extend({options:{position:\"topright\"},initialize:function(t){i.setOptions(this,t)},getPosition:function(){return this.options.position},setPosition:function(t){var e=this._map;return e&&e.removeControl(this),this.options.position=t,e&&e.addControl(this),this},addTo:function(t){this._map=t;var e=this._container=this.onAdd(t),n=this.getPosition(),o=t._controlCorners[n];return i.DomUtil.addClass(e,\"leaflet-control\"),-1!==n.indexOf(\"bottom\")?o.insertBefore(e,o.firstChild):o.appendChild(e),this},removeFrom:function(t){var e=this.getPosition(),i=t._controlCorners[e];return i.removeChild(this._container),this._map=null,this.onRemove&&this.onRemove(t),this}}),i.control=function(t){return new i.Control(t)},i.Map.include({addControl:function(t){return t.addTo(this),this},removeControl:function(t){return t.removeFrom(this),this},_initControlPos:function(){function t(t,s){var a=n+t+\" \"+n+s;e[t+s]=i.DomUtil.create(\"div\",a,o)}var e=this._controlCorners={},n=\"leaflet-\",o=this._controlContainer=i.DomUtil.create(\"div\",n+\"control-container\",this._container);t(\"top\",\"left\"),t(\"top\",\"right\"),t(\"bottom\",\"left\"),t(\"bottom\",\"right\")}}),i.Control.Zoom=i.Control.extend({options:{position:\"topleft\"},onAdd:function(t){var e=\"leaflet-control-zoom\",n=i.DomUtil.create(\"div\",e);return this._map=t,this._createButton(\"Zoom in\",e+\"-in\",n,this._zoomIn,this),this._createButton(\"Zoom out\",e+\"-out\",n,this._zoomOut,this),n},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,e,n,o,s){var a=i.DomUtil.create(\"a\",e,n);\nreturn a.href=\"#\",a.title=t,i.DomEvent.on(a,\"click\",i.DomEvent.stopPropagation).on(a,\"mousedown\",i.DomEvent.stopPropagation).on(a,\"dblclick\",i.DomEvent.stopPropagation).on(a,\"click\",i.DomEvent.preventDefault).on(a,\"click\",o,s),a}}),i.Map.mergeOptions({zoomControl:!0}),i.Map.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new i.Control.Zoom,this.addControl(this.zoomControl))}),i.control.zoom=function(t){return new i.Control.Zoom(t)},i.Control.Attribution=i.Control.extend({options:{position:\"bottomright\",prefix:'Powered by <a href=\"http://leafletjs.com\">Leaflet</a>'},initialize:function(t){i.setOptions(this,t),this._attributions={}},onAdd:function(t){return this._container=i.DomUtil.create(\"div\",\"leaflet-control-attribution\"),i.DomEvent.disableClickPropagation(this._container),t.on(\"layeradd\",this._onLayerAdd,this).on(\"layerremove\",this._onLayerRemove,this),this._update(),this._container},onRemove:function(t){t.off(\"layeradd\",this._onLayerAdd).off(\"layerremove\",this._onLayerRemove)},setPrefix:function(t){return this.options.prefix=t,this._update(),this},addAttribution:function(t){return t?(this._attributions[t]||(this._attributions[t]=0),this._attributions[t]++,this._update(),this):void 0},removeAttribution:function(t){return t?(this._attributions[t]--,this._update(),this):void 0},_update:function(){if(this._map){var t=[];for(var e in this._attributions)this._attributions.hasOwnProperty(e)&&this._attributions[e]&&t.push(e);var i=[];this.options.prefix&&i.push(this.options.prefix),t.length&&i.push(t.join(\", \")),this._container.innerHTML=i.join(\" &#8212; \")}},_onLayerAdd:function(t){t.layer.getAttribution&&this.addAttribution(t.layer.getAttribution())},_onLayerRemove:function(t){t.layer.getAttribution&&this.removeAttribution(t.layer.getAttribution())}}),i.Map.mergeOptions({attributionControl:!0}),i.Map.addInitHook(function(){this.options.attributionControl&&(this.attributionControl=(new i.Control.Attribution).addTo(this))}),i.control.attribution=function(t){return new i.Control.Attribution(t)},i.Control.Scale=i.Control.extend({options:{position:\"bottomleft\",maxWidth:100,metric:!0,imperial:!0,updateWhenIdle:!1},onAdd:function(t){this._map=t;var e=\"leaflet-control-scale\",n=i.DomUtil.create(\"div\",e),o=this.options;return this._addScales(o,e,n),t.on(o.updateWhenIdle?\"moveend\":\"move\",this._update,this),t.whenReady(this._update,this),n},onRemove:function(t){t.off(this.options.updateWhenIdle?\"moveend\":\"move\",this._update,this)},_addScales:function(t,e,n){t.metric&&(this._mScale=i.DomUtil.create(\"div\",e+\"-line\",n)),t.imperial&&(this._iScale=i.DomUtil.create(\"div\",e+\"-line\",n))},_update:function(){var t=this._map.getBounds(),e=t.getCenter().lat,i=6378137*Math.PI*Math.cos(e*Math.PI/180),n=i*(t.getNorthEast().lng-t.getSouthWest().lng)/180,o=this._map.getSize(),s=this.options,a=0;o.x>0&&(a=n*(s.maxWidth/o.x)),this._updateScales(s,a)},_updateScales:function(t,e){t.metric&&e&&this._updateMetric(e),t.imperial&&e&&this._updateImperial(e)},_updateMetric:function(t){var e=this._getRoundNum(t);this._mScale.style.width=this._getScaleWidth(e/t)+\"px\",this._mScale.innerHTML=1e3>e?e+\" m\":e/1e3+\" km\"},_updateImperial:function(t){var e,i,n,o=3.2808399*t,s=this._iScale;o>5280?(e=o/5280,i=this._getRoundNum(e),s.style.width=this._getScaleWidth(i/e)+\"px\",s.innerHTML=i+\" mi\"):(n=this._getRoundNum(o),s.style.width=this._getScaleWidth(n/o)+\"px\",s.innerHTML=n+\" ft\")},_getScaleWidth:function(t){return Math.round(this.options.maxWidth*t)-10},_getRoundNum:function(t){var e=Math.pow(10,(Math.floor(t)+\"\").length-1),i=t/e;return i=i>=10?10:i>=5?5:i>=3?3:i>=2?2:1,e*i}}),i.control.scale=function(t){return new i.Control.Scale(t)},i.Control.Layers=i.Control.extend({options:{collapsed:!0,position:\"topright\",autoZIndex:!0},initialize:function(t,e,n){i.setOptions(this,n),this._layers={},this._lastZIndex=0;for(var o in t)t.hasOwnProperty(o)&&this._addLayer(t[o],o);for(o in e)e.hasOwnProperty(o)&&this._addLayer(e[o],o,!0)},onAdd:function(){return this._initLayout(),this._update(),this._container},addBaseLayer:function(t,e){return this._addLayer(t,e),this._update(),this},addOverlay:function(t,e){return this._addLayer(t,e,!0),this._update(),this},removeLayer:function(t){var e=i.stamp(t);return delete this._layers[e],this._update(),this},_initLayout:function(){var t=\"leaflet-control-layers\",e=this._container=i.DomUtil.create(\"div\",t);i.Browser.touch?i.DomEvent.on(e,\"click\",i.DomEvent.stopPropagation):i.DomEvent.disableClickPropagation(e);var n=this._form=i.DomUtil.create(\"form\",t+\"-list\");if(this.options.collapsed){i.DomEvent.on(e,\"mouseover\",this._expand,this).on(e,\"mouseout\",this._collapse,this);var o=this._layersLink=i.DomUtil.create(\"a\",t+\"-toggle\",e);o.href=\"#\",o.title=\"Layers\",i.Browser.touch?i.DomEvent.on(o,\"click\",i.DomEvent.stopPropagation).on(o,\"click\",i.DomEvent.preventDefault).on(o,\"click\",this._expand,this):i.DomEvent.on(o,\"focus\",this._expand,this),this._map.on(\"movestart\",this._collapse,this)}else this._expand();this._baseLayersList=i.DomUtil.create(\"div\",t+\"-base\",n),this._separator=i.DomUtil.create(\"div\",t+\"-separator\",n),this._overlaysList=i.DomUtil.create(\"div\",t+\"-overlays\",n),e.appendChild(n)},_addLayer:function(t,e,n){var o=i.stamp(t);this._layers[o]={layer:t,name:e,overlay:n},this.options.autoZIndex&&t.setZIndex&&(this._lastZIndex++,t.setZIndex(this._lastZIndex))},_update:function(){if(this._container){this._baseLayersList.innerHTML=\"\",this._overlaysList.innerHTML=\"\";var t=!1,e=!1;for(var i in this._layers)if(this._layers.hasOwnProperty(i)){var n=this._layers[i];this._addItem(n),e=e||n.overlay,t=t||!n.overlay}this._separator.style.display=e&&t?\"\":\"none\"}},_createRadioElement:function(t,e){var i='<input type=\"radio\" class=\"leaflet-control-layers-selector\" name=\"'+t+'\"';e&&(i+=' checked=\"checked\"'),i+=\"/>\";var n=document.createElement(\"div\");return n.innerHTML=i,n.firstChild},_addItem:function(t){var e,n=document.createElement(\"label\"),o=this._map.hasLayer(t.layer);t.overlay?(e=document.createElement(\"input\"),e.type=\"checkbox\",e.className=\"leaflet-control-layers-selector\",e.defaultChecked=o):e=this._createRadioElement(\"leaflet-base-layers\",o),e.layerId=i.stamp(t.layer),i.DomEvent.on(e,\"click\",this._onInputClick,this);var s=document.createElement(\"span\");s.innerHTML=\" \"+t.name,n.appendChild(e),n.appendChild(s);var a=t.overlay?this._overlaysList:this._baseLayersList;a.appendChild(n)},_onInputClick:function(){var t,e,i,n,o=this._form.getElementsByTagName(\"input\"),s=o.length;for(t=0;s>t;t++)e=o[t],i=this._layers[e.layerId],e.checked&&!this._map.hasLayer(i.layer)?(this._map.addLayer(i.layer),i.overlay||(n=i.layer)):!e.checked&&this._map.hasLayer(i.layer)&&this._map.removeLayer(i.layer);n&&this._map.fire(\"baselayerchange\",{layer:n})},_expand:function(){i.DomUtil.addClass(this._container,\"leaflet-control-layers-expanded\")},_collapse:function(){this._container.className=this._container.className.replace(\" leaflet-control-layers-expanded\",\"\")}}),i.control.layers=function(t,e,n){return new i.Control.Layers(t,e,n)},i.PosAnimation=i.Class.extend({includes:i.Mixin.Events,run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this.fire(\"start\"),t.style[i.DomUtil.TRANSITION]=\"all \"+(n||.25)+\"s cubic-bezier(0,0,\"+(o||.5)+\",1)\",i.DomEvent.on(t,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),i.DomUtil.setPosition(t,e),i.Util.falseFn(t.offsetWidth),this._stepTimer=setInterval(i.bind(this.fire,this,\"step\"),50)},stop:function(){this._inProgress&&(i.DomUtil.setPosition(this._el,this._getPos()),this._onTransitionEnd(),i.Util.falseFn(this._el.offsetWidth))},_transformRe:/(-?[\\d\\.]+), (-?[\\d\\.]+)\\)/,_getPos:function(){var e,n,o,s=this._el,a=t.getComputedStyle(s);return i.Browser.any3d?(o=a[i.DomUtil.TRANSFORM].match(this._transformRe),e=parseFloat(o[1]),n=parseFloat(o[2])):(e=parseFloat(a.left),n=parseFloat(a.top)),new i.Point(e,n,!0)},_onTransitionEnd:function(){i.DomEvent.off(this._el,i.DomUtil.TRANSITION_END,this._onTransitionEnd,this),this._inProgress&&(this._inProgress=!1,this._el.style[i.DomUtil.TRANSITION]=\"\",clearInterval(this._stepTimer),this.fire(\"step\").fire(\"end\"))}}),i.Map.include({setView:function(t,e,i){e=this._limitZoom(e);var n=this._zoom!==e;if(this._loaded&&!i&&this._layers){this._panAnim&&this._panAnim.stop();var o=n?this._zoomToIfClose&&this._zoomToIfClose(t,e):this._panByIfClose(t);if(o)return clearTimeout(this._sizeTimer),this}return this._resetView(t,e),this},panBy:function(t,e,n){if(t=i.point(t),!t.x&&!t.y)return this;this._panAnim||(this._panAnim=new i.PosAnimation,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),this.fire(\"movestart\"),i.DomUtil.addClass(this._mapPane,\"leaflet-pan-anim\");var o=i.DomUtil.getPosition(this._mapPane).subtract(t);return this._panAnim.run(this._mapPane,o,e||.25,n),this},_onPanTransitionStep:function(){this.fire(\"move\")},_onPanTransitionEnd:function(){i.DomUtil.removeClass(this._mapPane,\"leaflet-pan-anim\"),this.fire(\"moveend\")},_panByIfClose:function(t){var e=this._getCenterOffset(t)._floor();return this._offsetIsWithinView(e)?(this.panBy(e),!0):!1},_offsetIsWithinView:function(t,e){var i=e||1,n=this.getSize();return Math.abs(t.x)<=n.x*i&&Math.abs(t.y)<=n.y*i}}),i.PosAnimation=i.DomUtil.TRANSITION?i.PosAnimation:i.PosAnimation.extend({run:function(t,e,n,o){this.stop(),this._el=t,this._inProgress=!0,this._duration=n||.25,this._easeOutPower=1/Math.max(o||.5,.2),this._startPos=i.DomUtil.getPosition(t),this._offset=e.subtract(this._startPos),this._startTime=+new Date,this.fire(\"start\"),this._animate()},stop:function(){this._inProgress&&(this._step(),this._complete())},_animate:function(){this._animId=i.Util.requestAnimFrame(this._animate,this),this._step()},_step:function(){var t=+new Date-this._startTime,e=1e3*this._duration;e>t?this._runFrame(this._easeOut(t/e)):(this._runFrame(1),this._complete())},_runFrame:function(t){var e=this._startPos.add(this._offset.multiplyBy(t));i.DomUtil.setPosition(this._el,e),this.fire(\"step\")},_complete:function(){i.Util.cancelAnimFrame(this._animId),this._inProgress=!1,this.fire(\"end\")},_easeOut:function(t){return 1-Math.pow(1-t,this._easeOutPower)}}),i.Map.mergeOptions({zoomAnimation:i.DomUtil.TRANSITION&&!i.Browser.android23&&!i.Browser.mobileOpera}),i.DomUtil.TRANSITION&&i.Map.addInitHook(function(){i.DomEvent.on(this._mapPane,i.DomUtil.TRANSITION_END,this._catchTransitionEnd,this)}),i.Map.include(i.DomUtil.TRANSITION?{_zoomToIfClose:function(t,e){if(this._animatingZoom)return!0;if(!this.options.zoomAnimation)return!1;var n=this.getZoomScale(e),o=this._getCenterOffset(t)._divideBy(1-1/n);if(!this._offsetIsWithinView(o,1))return!1;i.DomUtil.addClass(this._mapPane,\"leaflet-zoom-anim\"),this.fire(\"movestart\").fire(\"zoomstart\"),this.fire(\"zoomanim\",{center:t,zoom:e});var s=this._getCenterLayerPoint().add(o);return this._prepareTileBg(),this._runAnimation(t,e,n,s),!0},_catchTransitionEnd:function(){this._animatingZoom&&this._onZoomTransitionEnd()},_runAnimation:function(t,e,n,o,s){this._animateToCenter=t,this._animateToZoom=e,this._animatingZoom=!0,i.Draggable&&(i.Draggable._disabled=!0);var a=i.DomUtil.TRANSFORM,r=this._tileBg;clearTimeout(this._clearTileBgTimer),i.Util.falseFn(r.offsetWidth);var h=i.DomUtil.getScaleString(n,o),l=r.style[a];r.style[a]=s?l+\" \"+h:h+\" \"+l},_prepareTileBg:function(){var t=this._tilePane,e=this._tileBg;if(e&&this._getLoadedTilesPercentage(e)>.5&&this._getLoadedTilesPercentage(t)<.5)return t.style.visibility=\"hidden\",t.empty=!0,this._stopLoadingImages(t),void 0;e||(e=this._tileBg=this._createPane(\"leaflet-tile-pane\",this._mapPane),e.style.zIndex=1),e.style[i.DomUtil.TRANSFORM]=\"\",e.style.visibility=\"hidden\",e.empty=!0,t.empty=!1,this._tilePane=this._panes.tilePane=e;var n=this._tileBg=t;i.DomUtil.addClass(n,\"leaflet-zoom-animated\"),this._stopLoadingImages(n)},_getLoadedTilesPercentage:function(t){var e,i,n=t.getElementsByTagName(\"img\"),o=0;for(e=0,i=n.length;i>e;e++)n[e].complete&&o++;return o/i},_stopLoadingImages:function(t){var e,n,o,s=Array.prototype.slice.call(t.getElementsByTagName(\"img\"));for(e=0,n=s.length;n>e;e++)o=s[e],o.complete||(o.onload=i.Util.falseFn,o.onerror=i.Util.falseFn,o.src=i.Util.emptyImageUrl,o.parentNode.removeChild(o))},_onZoomTransitionEnd:function(){this._restoreTileFront(),i.Util.falseFn(this._tileBg.offsetWidth),this._resetView(this._animateToCenter,this._animateToZoom,!0,!0),i.DomUtil.removeClass(this._mapPane,\"leaflet-zoom-anim\"),this._animatingZoom=!1,i.Draggable&&(i.Draggable._disabled=!1)},_restoreTileFront:function(){this._tilePane.innerHTML=\"\",this._tilePane.style.visibility=\"\",this._tilePane.style.zIndex=2,this._tileBg.style.zIndex=1},_clearTileBg:function(){this._animatingZoom||this.touchZoom._zooming||(this._tileBg.innerHTML=\"\")}}:{}),i.Map.include({_defaultLocateOptions:{watch:!1,setView:!1,maxZoom:1/0,timeout:1e4,maximumAge:0,enableHighAccuracy:!1},locate:function(t){if(t=this._locationOptions=i.extend(this._defaultLocateOptions,t),!navigator.geolocation)return this._handleGeolocationError({code:0,message:\"Geolocation not supported.\"}),this;var e=i.bind(this._handleGeolocationResponse,this),n=i.bind(this._handleGeolocationError,this);return t.watch?this._locationWatchId=navigator.geolocation.watchPosition(e,n,t):navigator.geolocation.getCurrentPosition(e,n,t),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch(this._locationWatchId),this},_handleGeolocationError:function(t){var e=t.code,i=t.message||(1===e?\"permission denied\":2===e?\"position unavailable\":\"timeout\");this._locationOptions.setView&&!this._loaded&&this.fitWorld(),this.fire(\"locationerror\",{code:e,message:\"Geolocation error: \"+i+\".\"})},_handleGeolocationResponse:function(t){var e=180*t.coords.accuracy/4e7,n=2*e,o=t.coords.latitude,s=t.coords.longitude,a=new i.LatLng(o,s),r=new i.LatLng(o-e,s-n),h=new i.LatLng(o+e,s+n),l=new i.LatLngBounds(r,h),u=this._locationOptions;if(u.setView){var c=Math.min(this.getBoundsZoom(l),u.maxZoom);this.setView(a,c)}this.fire(\"locationfound\",{latlng:a,bounds:l,accuracy:t.coords.accuracy})}})}(this);\nL.Control.Zoomslider=L.Control.extend({options:{position:\"topleft\",stepHeight:9},_baseClass:\"leaflet-control-zoomslider\",_additionalClasses:\"\",_container:null,onAdd:function(t){var o=this._baseClass,i=o+\" \"+this._additionalClasses,e=L.DomUtil.create(\"div\",i);return L.DomEvent.on(e,\"click\",L.DomEvent.stopPropagation).on(e,\"mousedown\",L.DomEvent.stopPropagation).on(e,\"dblclick\",L.DomEvent.stopPropagation),this._map=t,this._createButton(\"Zoom in\",o+\"-in\",e,this._zoomIn,this),this._createSlider(o+\"-slider\",e,t),this._createButton(\"Zoom out\",o+\"-out\",e,this._zoomOut,this),t.on(\"zoomend\",this._snapToSliderValue,this),t.on(\"layeradd layerremove\",this._refresh,this),t._loaded?this._snapToSliderValue():t.on(\"load\",this._snapToSliderValue,this),this._container=e,e},onRemove:function(t){if(this._container&&this._container.className){var o=this._container.className;this._additionalClasses=o.replace(this._baseClass,\"\")}t.off(\"zoomend\",this._snapToSliderValue),t.off(\"layeradd layerremove\",this._refresh)},_refresh:function(){this._map.removeControl(this).addControl(this)},_createSlider:function(t,o,i){var e=i.getMaxZoom()-i.getMinZoom();if(1/0==e)return void 0;this._sliderHeight=this.options.stepHeight*e;var n=L.DomUtil.create(\"div\",t+\"-wrap\",o);n.style.height=this._sliderHeight+5+\"px\";var s=L.DomUtil.create(\"div\",t,n);return this._knob=L.DomUtil.create(\"div\",t+\"-knob\",s),this._draggable=this._createDraggable(),this._draggable.enable(),L.DomEvent.on(s,\"click\",this._onSliderClick,this),s},_zoomIn:function(t){this._map.zoomIn(t.shiftKey?3:1)},_zoomOut:function(t){this._map.zoomOut(t.shiftKey?3:1)},_createButton:function(t,o,i,e,n){var s=L.DomUtil.create(\"a\",o,i);return s.href=\"#\",s.title=t,L.DomEvent.on(s,\"click\",L.DomEvent.preventDefault).on(s,\"click\",e,n),s},_createDraggable:function(){L.DomUtil.setPosition(this._knob,new L.Point(0,0)),L.DomEvent.on(this._knob,\"click\",L.DomEvent.stopPropagation);var t=new L.Bounds(new L.Point(0,0),new L.Point(0,this._sliderHeight)),o=new L.BoundedDraggable(this._knob,this._knob,t).on(\"drag\",this._snap,this).on(\"dragend\",this._setZoom,this);return o},_snap:function(){this._snapToSliderValue(this._posToSliderValue())},_setZoom:function(){this._map.setZoom(this._toZoomLevel(this._posToSliderValue()))},_onSliderClick:function(t){var o=t.touches&&1===t.touches.length?t.touches[0]:t,i=o.offsetY?o.offsetY:L.DomEvent.getMousePosition(o).y-L.DomUtil.getViewportOffset(this._knob).y,e=this._posToSliderValue(i-this._knob.offsetHeight/2);this._snapToSliderValue(e),this._map.setZoom(this._toZoomLevel(e))},_posToSliderValue:function(t){return t=isNaN(t)?L.DomUtil.getPosition(this._knob).y:t,Math.round((this._sliderHeight-t)/this.options.stepHeight)},_snapToSliderValue:function(t){if(this._knob){t=isNaN(t)?this._getSliderValue():t;var o=this._sliderHeight-t*this.options.stepHeight;L.DomUtil.setPosition(this._knob,new L.Point(0,o))}},_toZoomLevel:function(t){return t+this._map.getMinZoom()},_toSliderValue:function(t){return t-this._map.getMinZoom()},_getSliderValue:function(){return this._toSliderValue(this._map.getZoom())}}),L.Map.prototype._initializers.unshift(function(){this.options.zoomControl&&(this.zoomControl=new L.Control.Zoomslider,this.addControl(this.zoomControl),this.options.zoomControl=!1)}),L.control.zoomslider=function(t){return new L.Control.Zoomslider(t)},L.BoundedDraggable=L.Draggable.extend({initialize:function(t,o,i){L.Draggable.prototype.initialize.call(this,t,o),this._bounds=i,this.on(\"predrag\",function(){this._bounds.contains(this._newPos)||(this._newPos=this._fitPoint(this._newPos))},this)},_fitPoint:function(t){var o=new L.Point(Math.min(t.x,this._bounds.max.x),Math.min(t.y,this._bounds.max.y));return o.x=Math.max(o.x,this._bounds.min.x),o.y=Math.max(o.y,this._bounds.min.y),o}});\n!function(e,i){\"use strict\";var t=\"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///ywAAAAAAQABAAACAUwAOw==\";e.fn.imagesLoaded=function(a){function n(){var i=e(l),t=e(g);s&&(g.length?s.reject(A,i,t):s.resolve(A)),e.isFunction(a)&&a.call(d,A,i,t)}function r(e){o(e.target,\"error\"===e.type)}function o(i,a){i.src!==t&&-1===e.inArray(i,u)&&(u.push(i),a?g.push(i):l.push(i),e.data(i,\"imagesLoaded\",{isBroken:a,src:i.src}),c&&s.notifyWith(e(i),[a,A,e(l),e(g)]),A.length===u.length&&(setTimeout(n),A.unbind(\".imagesLoaded\",r)))}var d=this,s=e.isFunction(e.Deferred)?e.Deferred():0,c=e.isFunction(s.notify),A=d.find(\"img\").add(d.filter(\"img\")),u=[],l=[],g=[];return e.isPlainObject(a)&&e.each(a,function(e,i){\"callback\"===e?a=i:s&&s[e](i)}),A.length?A.bind(\"load.imagesLoaded error.imagesLoaded\",r).each(function(a,n){var r=n.src,d=e.data(n,\"imagesLoaded\");return d&&d.src===r?(o(n,d.isBroken),void 0):n.complete&&n.naturalWidth!==i?(o(n,0===n.naturalWidth||0===n.naturalHeight),void 0):((n.readyState||n.complete)&&(n.src=t,n.src=r),void 0)}):n(),s?s.promise(d):d}}(jQuery);\n!function(){var e;e=function(){function e(){}return e.prototype._deferred_cache={},e.prototype.lookup_address=function(e,r,t){return null==t&&(t=2),this._deferred_cache[e]||(this._deferred_cache[e]=$.Deferred(),this._do_request(e,t)),this._deferred_cache[e].done(r)},e.prototype._do_request=function(e,r){var t=this;return $.ajax(\"/api/geocode\",{type:\"post\",dataType:\"json\",data:{address:JSON.stringify(e)},success:function(o){return t._handle_response(o,e,r)},error:function(){return t._handle_response(\"error\",e,r)}})},e.prototype._handle_response=function(e,r,t){var o,n=this;return t--,o=this._deferred_cache[r],\"error\"!==e?(o.resolve(e),void 0):0===t?(o.resolve(null),delete this._deferred_cache[r],void 0):set_timeout(5e3,function(){return n._do_request(r,t)})},e}(),$.hipmunk.geocoder=new e}.call(this);\n!function(){var t,r=function(t,r){return function(){return t.apply(r,arguments)}};t=function(t,r){return new L.Icon({iconUrl:t,iconSize:[26,38],iconAnchor:[13,37],shadowUrl:\"/calendar/pin.png?shadow=t&theme=theme_2\",shadowSize:[40,30],shadowAnchor:[7,23],className:\"user-flag-icon \"+r})},window.UserFlag=function(){function i(n,s,o,h,e){var a;this.pos=n,this.number=s,this.color=o,this.title=h,this.highlight=r(this.highlight,this),this.url_args={theme:\"theme_2\"},null!=this.number&&null!=this.color&&(this.url_args.number=this.number,this.url_args.color=this.color),a=i.base_url+$.param(this.url_args),this.marker=new L.Marker(this.pos,{icon:t(a,e),draggable:!1,fixed:!0,title:h})}return i.base_url=\"/calendar/pin.png?\",i.prototype.highlight=function(r){var n,s;return s=$.extend({},this.url_args),r&&(n=luma(\"#\"+this.color,.3).slice(1),s.color=n),this.marker.setIcon(t(i.base_url+$.param(s)))},i.prototype.panto=function(){return this.ht.map.panTo(this.pos)},i.prototype.sortByDistance=function(){return this.ht.map.panTo(this.pos),this.ht.distance_sort(this.pos)},i}()}.call(this);\n!function(){var a,n={}.hasOwnProperty,i=function(a,i){function e(){this.constructor=a}for(var r in i)n.call(i,r)&&(a[r]=i[r]);return e.prototype=i.prototype,a.prototype=new e,a.__super__=i.prototype,a};a=[[\"AF\",\"Afghanistan\"],[\"AL\",\"Albania\"],[\"DZ\",\"Algeria\"],[\"AS\",\"American Samoa\"],[\"AD\",\"Andorra\"],[\"AO\",\"Angola\"],[\"AI\",\"Anguilla\"],[\"AQ\",\"Antarctica\"],[\"AG\",\"Antigua and Barbuda\"],[\"AR\",\"Argentina\"],[\"AM\",\"Armenia\"],[\"AW\",\"Aruba\"],[\"01\",\"Ashmore and Cartier\"],[\"AU\",\"Australia\"],[\"AT\",\"Austria\"],[\"AZ\",\"Azerbaijan\"],[\"BH\",\"Bahrain\"],[\"02\",\"Baker Island\"],[\"BD\",\"Bangladesh\"],[\"BB\",\"Barbados\"],[\"BY\",\"Belarus\"],[\"BE\",\"Belgium\"],[\"BZ\",\"Belize\"],[\"BJ\",\"Benin\"],[\"BM\",\"Bermuda\"],[\"BT\",\"Bhutan\"],[\"BO\",\"Bolivia\"],[\"BQ\",\"Bonaire\"],[\"BA\",\"Bosnia and Herzegovina\"],[\"BW\",\"Botswana\"],[\"BV\",\"Bouvet Island\"],[\"BR\",\"Brazil\"],[\"IO\",\"British Indian Ocean Territory\"],[\"VG\",\"British Virgin Islands\"],[\"BN\",\"Brunei Darussalam\"],[\"BG\",\"Bulgaria\"],[\"BF\",\"Burkina Faso\"],[\"BI\",\"Burundi\"],[\"KH\",\"Cambodia\"],[\"CM\",\"Cameroon\"],[\"CA\",\"Canada\"],[\"CV\",\"Cape Verde\"],[\"KY\",\"Cayman Islands\"],[\"CF\",\"Central African Republic\"],[\"TD\",\"Chad\"],[\"CL\",\"Chile\"],[\"CN\",\"China\"],[\"CX\",\"Christmas Island\"],[\"CC\",\"Cocos (Keeling) Islands\"],[\"CO\",\"Colombia\"],[\"KM\",\"Comoros\"],[\"CK\",\"Cook Islands\"],[\"04\",\"Coral Sea Islands\"],[\"CR\",\"Costa Rica\"],[\"CI\",\"Cte d'Ivoire\"],[\"HR\",\"Croatia\"],[\"CU\",\"Cuba\"],[\"CW\",\"Curaao\"],[\"CY\",\"Cyprus\"],[\"CZ\",\"Czech Republic\"],[\"CD\",\"Democratic Republic of the Congo\"],[\"DK\",\"Denmark\"],[\"DJ\",\"Djibouti\"],[\"DM\",\"Dominica\"],[\"DO\",\"Dominican Republic\"],[\"ZZ\",\"Earth\"],[\"TL\",\"East Timor\"],[\"EC\",\"Ecuador\"],[\"EG\",\"Egypt\"],[\"SV\",\"El Salvador\"],[\"GQ\",\"Equatorial Guinea\"],[\"ER\",\"Eritrea\"],[\"EE\",\"Estonia\"],[\"ET\",\"Ethiopia\"],[\"05\",\"Europa Island\"],[\"FK\",\"Falkland Islands (Islas Malvinas)\"],[\"FO\",\"Faroe Islands\"],[\"FM\",\"Federated States of Micronesia\"],[\"FJ\",\"Fiji\"],[\"FI\",\"Finland\"],[\"FR\",\"France\"],[\"GF\",\"French Guiana\"],[\"PF\",\"French Polynesia\"],[\"TF\",\"French Southern and Antarctic Lands\"],[\"GA\",\"Gabon\"],[\"GE\",\"Georgia\"],[\"DE\",\"Germany\"],[\"GH\",\"Ghana\"],[\"GI\",\"Gibraltar\"],[\"07\",\"Glorioso Islands\"],[\"GR\",\"Greece\"],[\"GL\",\"Greenland\"],[\"GD\",\"Grenada\"],[\"GP\",\"Guadeloupe\"],[\"GU\",\"Guam\"],[\"GT\",\"Guatemala\"],[\"GG\",\"Guernsey\"],[\"GN\",\"Guinea\"],[\"GW\",\"Guinea-Bissau\"],[\"GY\",\"Guyana\"],[\"HT\",\"Haiti\"],[\"HM\",\"Heard Island and McDonald Islands\"],[\"VA\",\"Holy See (Vatican City)\"],[\"HN\",\"Honduras\"],[\"HK\",\"Hong Kong\"],[\"09\",\"Howland Island\"],[\"HU\",\"Hungary\"],[\"IS\",\"Iceland\"],[\"IN\",\"India\"],[\"ID\",\"Indonesia\"],[\"IR\",\"Iran\"],[\"IQ\",\"Iraq\"],[\"IE\",\"Ireland\"],[\"IM\",\"Isle of Man\"],[\"IL\",\"Israel\"],[\"IT\",\"Italy\"],[\"JM\",\"Jamaica\"],[\"10\",\"Jan Mayen\"],[\"JP\",\"Japan\"],[\"11\",\"Jarvis Island\"],[\"JE\",\"Jersey\"],[\"14\",\"Johnston Atoll\"],[\"JO\",\"Jordan\"],[\"13\",\"Juan de Nova Island\"],[\"KZ\",\"Kazakhstan\"],[\"KE\",\"Kenya\"],[\"15\",\"Kingman Reef\"],[\"KI\",\"Kiribati\"],[\"XK\",\"Kosovo\"],[\"KW\",\"Kuwait\"],[\"KG\",\"Kyrgyzstan\"],[\"LA\",\"Laos\"],[\"LV\",\"Latvia\"],[\"LB\",\"Lebanon\"],[\"LS\",\"Lesotho\"],[\"LR\",\"Liberia\"],[\"LY\",\"Libya\"],[\"LI\",\"Liechtenstein\"],[\"LT\",\"Lithuania\"],[\"LU\",\"Luxembourg\"],[\"MO\",\"Macao\"],[\"MK\",\"Macedonia\"],[\"MG\",\"Madagascar\"],[\"MW\",\"Malawi\"],[\"MY\",\"Malaysia\"],[\"MV\",\"Maldives\"],[\"ML\",\"Mali\"],[\"MT\",\"Malta\"],[\"MH\",\"Marshall Islands\"],[\"MQ\",\"Martinique\"],[\"MR\",\"Mauritania\"],[\"MU\",\"Mauritius\"],[\"YT\",\"Mayotte\"],[\"MX\",\"Mexico\"],[\"17\",\"Midway Islands\"],[\"MD\",\"Moldova\"],[\"MC\",\"Monaco\"],[\"MN\",\"Mongolia\"],[\"ME\",\"Montenegro\"],[\"MS\",\"Montserrat\"],[\"MA\",\"Morocco\"],[\"MZ\",\"Mozambique\"],[\"MM\",\"Myanmar\"],[\"NA\",\"Namibia\"],[\"NR\",\"Nauru\"],[\"21\",\"Navassa Island\"],[\"NP\",\"Nepal\"],[\"NL\",\"Netherlands\"],[\"NC\",\"New Caledonia\"],[\"NZ\",\"New Zealand\"],[\"NI\",\"Nicaragua\"],[\"NE\",\"Niger\"],[\"NG\",\"Nigeria\"],[\"NU\",\"Niue\"],[\"NF\",\"Norfolk Island\"],[\"MP\",\"Northern Mariana Islands\"],[\"KP\",\"North Korea\"],[\"NO\",\"Norway\"],[\"OM\",\"Oman\"],[\"PK\",\"Pakistan\"],[\"PW\",\"Palau\"],[\"PS\",\"Palestinian Territory Occupied\"],[\"22\",\"Palmyra Atoll\"],[\"PA\",\"Panama\"],[\"PG\",\"Papua New Guinea\"],[\"23\",\"Paracel Islands\"],[\"PY\",\"Paraguay\"],[\"PE\",\"Peru\"],[\"PH\",\"Philippines\"],[\"PN\",\"Pitcairn Islands\"],[\"PL\",\"Poland\"],[\"PT\",\"Portugal\"],[\"PR\",\"Puerto Rico\"],[\"QA\",\"Qatar\"],[\"CG\",\"Republic of the Congo\"],[\"RE\",\"Runion\"],[\"RO\",\"Romania\"],[\"RU\",\"Russia\"],[\"RW\",\"Rwanda\"],[\"BL\",\"Saint Barthlemy\"],[\"SH\",\"Saint Helena\"],[\"KN\",\"Saint Kitts and Nevis\"],[\"LC\",\"Saint Lucia\"],[\"MF\",\"Saint Martin\"],[\"PM\",\"Saint Pierre and Miquelon\"],[\"VC\",\"Saint Vincent and the Grenadines\"],[\"WS\",\"Samoa\"],[\"SM\",\"San Marino\"],[\"ST\",\"So Tom and Prncipe\"],[\"SA\",\"Saudi Arabia\"],[\"SN\",\"Senegal\"],[\"RS\",\"Serbia\"],[\"SC\",\"Seychelles\"],[\"SL\",\"Sierra Leone\"],[\"SG\",\"Singapore\"],[\"SX\",\"Sint Maarten\"],[\"SK\",\"Slovakia\"],[\"SI\",\"Slovenia\"],[\"SB\",\"Solomon Islands\"],[\"SO\",\"Somalia\"],[\"ZA\",\"South Africa\"],[\"GS\",\"South Georgia and the South Sandwich Islands\"],[\"KR\",\"South Korea\"],[\"ES\",\"Spain\"],[\"26\",\"Spratly Islands\"],[\"LK\",\"Sri Lanka\"],[\"SD\",\"Sudan\"],[\"SR\",\"Suriname\"],[\"SJ\",\"Svalbard\"],[\"SZ\",\"Swaziland\"],[\"SE\",\"Sweden\"],[\"CH\",\"Switzerland\"],[\"SY\",\"Syria\"],[\"TW\",\"Taiwan\"],[\"TJ\",\"Tajikistan\"],[\"TZ\",\"Tanzania\"],[\"TH\",\"Thailand\"],[\"BS\",\"The Bahamas\"],[\"GM\",\"The Gambia\"],[\"TG\",\"Togo\"],[\"TK\",\"Tokelau\"],[\"TO\",\"Tonga\"],[\"TT\",\"Trinidad and Tobago\"],[\"27\",\"Tromelin Island\"],[\"TN\",\"Tunisia\"],[\"TR\",\"Turkey\"],[\"TM\",\"Turkmenistan\"],[\"TC\",\"Turks and Caicos Islands\"],[\"TV\",\"Tuvalu\"],[\"UG\",\"Uganda\"],[\"UA\",\"Ukraine\"],[\"AE\",\"United Arab Emirates\"],[\"GB\",\"United Kingdom\"],[\"US\",\"United States\"],[\"UM\",\"United States Minor Outlying Islands\"],[\"UY\",\"Uruguay\"],[\"UZ\",\"Uzbekistan\"],[\"VU\",\"Vanuatu\"],[\"VE\",\"Venezuela\"],[\"VN\",\"Vietnam\"],[\"VI\",\"Virgin Islands\"],[\"30\",\"Wake Island\"],[\"WF\",\"Wallis and Futuna\"],[\"EH\",\"Western Sahara\"],[\"32\",\"Western Samoa\"],[\"YE\",\"Yemen\"],[\"ZM\",\"Zambia\"],[\"ZW\",\"Zimbabwe\"]],$.hipmunk.CreditCardFormView=function(n){function e(a){this.cvc_required=a,e.__super__.constructor.call(this),null==this.cvc_required&&(this.cvc_required=!0),this.setup_handlers()}return i(e,n),e.prototype.setup_handlers=function(){},e.prototype.render=function(){return this.$el.html(drykup.render($.templates.credit_card_form_view(a,this.cvc_required))),this.$(\".input-container label\").inFieldLabels(),this},e}($.hipmunk.View)}.call(this);\n!function(){var t=function(t,e){return function(){return t.apply(e,arguments)}},e={}.hasOwnProperty,n=function(t,n){function s(){this.constructor=t}for(var r in n)e.call(n,r)&&(t[r]=n[r]);return s.prototype=n.prototype,t.prototype=new s,t.__super__=n.prototype,t},s=[].slice;$.hipmunk.Billing=function(){function e(){this.handle_error=t(this.handle_error,this),this.handle_success=t(this.handle_success,this),this.update_account=t(this.update_account,this),this.fetch_account=t(this.fetch_account,this),this.data=null}return e.prototype.fetch_account=function(t){var e,n,s=this;return n=t.success,e=t.error,$.ajax(\"/billing/account\",{dataType:\"json\",type:\"get\",success:function(t){return s.handle_success(t,n)},error:function(t,n,r){return s.handle_error(t,n,r,e)}})},e.prototype.update_account=function(t){var e,n,s,r=this;return e=t.data,s=t.success,n=t.error,$.ajax(\"/billing/update\",{dataType:\"json\",data:e,success:function(t){return r.handle_success(t,s)},error:function(t,e,s){return r.handle_error(t,e,s,n)}})},e.prototype.handle_success=function(t,e){var n;return this.data=t,$.hipmunk.user.billing_hm_status=this.data.status,$.hipmunk.user.has_bizclass_access=this.data.has_bizclass_access,(\"trialing\"===(n=this.data.status)||\"active\"===n)&&window.hide_top_message(),e(this.data)},e.prototype.handle_error=function(t,e,n,s){return s(t,e,n)},e}(),$.hipmunk.BillingView=function(e){function r(){this.process_token=t(this.process_token,this),this.billing_error=t(this.billing_error,this),this.account_data=t(this.account_data,this),this.fetch_account=t(this.fetch_account,this);var e,n=this;r.__super__.constructor.call(this),this.charges=[],this.$el.addClass(\"payment-content\"),this.$el.on(\"success.payment\",this.process_token),e=!1,this.$el.on(\"click\",\".cancel-subscription .confirm-confirm\",function(t){var n;e||(e=!0,n=$(t.currentTarget),$.ajax(\"/billing/cancel\",{dataType:\"json\",success:function(){return $.reload()}}),n.text(\"Canceling...\"))}),this.$el.on(\"click\",\"#update-card\",function(){$(\"#update-card\").hide(),$(\"#payment-edit-form\").show(),n.activate()}),this.$el.on(\"click\",\"#cancel-update-card\",function(){$(\"#update-card\").show(),$(\"#payment-edit-form\").hide()}),this.$el.on(\"click\",\".cvc-tip-button\",function(t){$(t.currentTarget).parent().find(\".tile-explanation\").fadeToggle(200),t.stopPropagation()}),this.$el.on(\"click\",function(){n.$(\".tile-explanation\").fadeOut(200)}),this.fetch_account()}return n(r,e),r.prototype.fetch_account=function(){return this.$el.html($(drykup.render($.templates.payment_wait()))),trip_planner.billing.fetch_account({success:this.account_data,error:this.billing_error})},r.prototype.account_data=function(t){var e,n=this;return this.data=t,e=function(){return n.render(),n.activate()},\"undefined\"!=typeof Stripe&&null!==Stripe?e():$(document).on(\"stripe-load\",e)},r.prototype.billing_error=function(t){var e,n;try{n=$.parseJSON(t.responseText).error}catch(s){e=s,n={message:\"Sorry, there was an error processing your billing info. Please try again later.\"}}return this.payment_view.handleError(n)},r.prototype.process_token=function(t,e){var n=this;return e?trip_planner.billing.update_account({data:{token:e},error:function(){var t;return t=1<=arguments.length?s.call(arguments,0):[],n.$(\".payment\").removeClass(\"success\").data(\"payment-tag\").enableInputs(),n.billing_error.apply(n,t)},success:function(t){return n.account_data(t),n.set_flash_message(\"Your credit card has been saved.\")}}):(console.log(\"Success called without token\"),this.billing_error(),!1)},r.prototype.render=function(){return this.$el.html(drykup.render($.templates.payment_content(this.data))),this.$(\".input-container label\").inFieldLabels(),this.payment_view=new PaymentTag({el:this.$(\".payment\")}),this.payment_view.$number=this.$(\".number input\"),this.payment_view.$cvc=this.$(\".cvc input\"),this.payment_view.$expiryMonth=this.$(\".expiry input.expiryMonth\"),this.payment_view.$expiryYear=this.$(\".expiry input.expiryYear\"),this.payment_view.$message=this.$(\".message\")},r.prototype.set_flash_message=function(t){return t?(this.$(\".success-status\").show().find(\".success-message\").text(t),this.$(\".success-status\").delay(3e3).fadeOut(200)):this.$(\".success-status\").hide()},r.prototype.activate=function(){return this.$(\"#card-number\").focus()},r}($.hipmunk.View)}.call(this);\n!function(){var e,t,r,i,n=function(e,t){return function(){return e.apply(t,arguments)}},s={}.hasOwnProperty,o=[].indexOf||function(e){for(var t=0,r=this.length;r>t;t++)if(t in this&&this[t]===e)return t;return-1},a=function(e,t){function r(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return r.prototype=t.prototype,e.prototype=new r,e.__super__=t.prototype,e};t=hm.widgets.SearchForm,e={Chicago:[\"ORD\",\"MDW\"],Houston:[\"IAH\",\"HOU\"],Miami:[\"MIA\",\"PBI\",\"FLL\"],\"New York City\":[\"JFK\",\"EWR\",\"LGA\",\"HPN\"],Orlando:[\"MCO\",\"SFB\"],\"Fort Worth\":[\"DFW\",\"DAL\"],\"Los Angeles\":[\"LAX\",\"LGB\",\"BUR\",\"ONT\"],Maui:[\"OGG\",\"JHM\"],\"San Francisco\":[\"SFO\",\"OAK\",\"SJC\",\"MRY\"],Washington:[\"DCA\",\"IAD\",\"BWI\"],Toronto:[\"YYZ\",\"YTZ\"],Berlin:[\"TXL\",\"SXF\"],\"Buenos Aires\":[\"EZE\",\"AEP\"],London:[\"LHR\",\"LGW\",\"LCY\",\"STN\",\"LTN\"],Milan:[\"MXP\",\"LIN\"],Moscow:[\"SVO\",\"DME\",\"VKO\"],Osaka:[\"KIX\",\"ITM\"],Paris:[\"CDG\",\"ORY\"],\"Rio de Janeiro\":[\"GIG\",\"SDU\"],\"Sao Paulo\":[\"GRU\",\"CGH\",\"VCP\"],Seoul:[\"ICN\",\"GMP\"],Stockholm:[\"ARN\",\"BMA\"],Tokyo:[\"NRT\",\"HND\"]},i=function(e){var t,r;return!e||0>e||e>5?0:(t=Math.floor(e),r=e-t,0!==r&&.5!==r&&(e=t),e)},$.hipmunk.biz_class_activated=function(e){return adroll_event(\"business_class_signup\"),$.hipmunk.utils.ga_track(\"BusinessClass\",\"SignUp\"),$.hipmunk.utils.track(\"biz_class_activated\",\"business_class\",{planner:e})},r=function(){function e(){this.id=$.hipmunk.utils.make_uuid(),this.name=null,this.email=null,this.prefs={},this.groups={}}return e}(),window.TripPlanner=function(){function t(){this.show_billing_warning=n(this.show_billing_warning,this);var e,t=this;this.travelers=[],this.active_traveler=null,this.selected_hotels={},this.booking_cache={},this.billing=new $.hipmunk.Billing,this.show_billing_warning(),this.popup=new ManageTripsPopup,$(\"#biz-class-button\").click(function(){return t.popup.show()}),$(\"#topmessage\").on(\"click\",\".biz-billing-link\",function(){t.popup.show(ManageTripsPopup.VIEW_BILLING)}),this.travelers_status=\"Loading travelers...\",e=function(){return t.travelers_status=\"Error loading travelers\",t.popup.showing()?t.popup.render_sidebar():void 0},$.ajax(\"/trip/gets\",{dataType:\"json\",type:\"GET\",success:function(r){var i,n;return r.error?e():(t.travelers_status=null,t.travelers=function(){var e;e=[];for(i in r)s.call(r,i)&&(n=r[i],e.push(n));return e}(),t.determine_active_traveler(),t.reset_selected_hotels(),t.popup.showing()?t.popup.render_sidebar():void 0)},error:e})}return t.prototype.show_billing_warning=function(){var e,t,r,i,n,s,o,a,l;if(i=864e5,n=0,a=$.hipmunk.user.billing_hm_status,l=$.hipmunk.user.billing_hm_trial_days_left,e=parseInt($.cookie(\"biz_last_reminded\"),10)||0,s=!1,o=!1,\"hm_trialing\"===a?7>l?(s=!0,n=7*i):14>l&&(o=!0,n=i):(s=\"hm_trial_expired\"===a||\"past_due\"===a||\"unpaid\"===a,n=i),!((new Date).getTime()<e+n)){switch(a){case\"hm_trial_expired\":r=\"Your Hipmunk for Business trial has ended.\";break;case\"past_due\":r=\"Your Hipmunk for Business payment is past due.\";break;case\"unpaid\":r=\"Your Hipmunk for Business subscription is no longer active because we were unable to charge your credit card.\";break;case\"hm_trialing\":r=\"Your Hipmunk for Business trial is going to expire \"+$.hipmunk.utils.humanize_days(l)+\".\"}return o?(show_top_message(r+\"  <a class='hiplink biz-billing-link'>Set up your subscription.</a>\"),$.cookie(\"biz_last_reminded\",(new Date).getTime())):s?(t=new BizWarningLightbox,t.message=r,t.show()):void 0}},t.prototype.fix_calendars=function(){return this.active_traveler&&$.prefs.touched_cals===!1?$.prefs.enabled_cals=[this.active_traveler.email]:void 0},t.prototype.determine_active_traveler=function(){var e;return e=null,this.travelers.length&&(e=this.traveler_by_id($.prefs.persona)||this.travelers[0]),this.set_active_traveler(e)},t.prototype.get_active_traveler=function(){var e;return e=this.active_traveler,o.call(this.travelers,e)>=0?this.active_traveler:null},t.prototype.set_active_traveler=function(e){return this.active_traveler=e,this.active_traveler&&($.prefs.persona!==this.active_traveler.id&&$.prefs.select(this.active_traveler.id),this.fix_calendars()),$.hipmunk.url.active_tab.refresh()},t.prototype.sorted_travelers=function(){return this.travelers.sort(function(e,t){return t.last_modified-e.last_modified})},t.prototype.traveler_by_id=function(e){var t,r,i,n;for(n=this.travelers,r=0,i=n.length;i>r;r++)if(t=n[r],t.id===e)return t;return null},t.prototype.delete_traveler=function(e){return this.travelers=$.grep(this.travelers,function(t){return t.id!==e}),this.db_delete_traveler(e),this.determine_active_traveler()},t.prototype.add_itin_to_traveler=function(e,t,r,i){var n,s,o,a,l,p,c,u,h,d,f,v,g,m,b;if(t.routings=$.hipmunk.flight_utils.extract_selected_routings_data(t,r),f=null!=i?[t.routings[i]]:t.routings,e){for(v=0,g=f.length;g>v;v++){d=f[v],d=$.hipmunk.flight_utils.trip(d,t,r),o=d.legs[0],u=d.legs[d.legs.length-1],p=\"Flight from \"+o.from_code+\" to \"+u.to_code,c=!1,m=e.groups;for(a in m)if(l=m[a],\"flights\"===l.type){if(!this.route_match(_.values(l.choices)[0],d))continue;if(!this.flight_date_match(l.choices,d))continue;c=!0,s=!1,b=l.choices;for(n in b)if(h=b[n],_.isEqual(h.legs,d.legs)){s=!0;break}s||(l.choices[$.hipmunk.utils.make_uuid()]=d);break}c||(l={type:\"flights\",choices:{},name:p},l.choices[$.hipmunk.utils.make_uuid()]=d,e.groups[$.hipmunk.utils.make_uuid()]=l)}return this.db_update_traveler(e)}},t.prototype.create_traveler_with_itin=function(e,t,i){var n;return e.routings=$.hipmunk.flight_utils.extract_selected_routings_data(e,t),n=new r,this.add_itin_to_traveler(n,e,t,i),n},t.prototype.get_booking_urls_from_stays=function(e){var t,r,i,n,s,o;for(i=[\"booking_id\",\"direct\",\"price\",\"provider\",\"url\"],r=[],s=0,o=e.length;o>s;s++)n=e[s],n.url&&(t=_.pick(n,i),t.name=n.booking_label,r.push(t));return r},t.prototype.get_stay_info=function(e){var t,r,n;return t=e.current_hotel,r=i(t.stars),n={lat:t.loc.lat,lon:t.loc.lng,booking_urls:this.get_booking_urls_from_stays(e.current_best_stays),name:t.name,img:t.thumbnail,industrystars:r,star_cls:\"stars-\"+10*r}},t.prototype.traveler_hotel=function(e){var t,r;return r=this.get_stay_info(e),t={hotel_iden:e.current_hotel.id,stay_info:r,tab_iden:e.tab_iden,time:parseInt(e.calendar_start),booking_urls:r.booking_urls,dates:[e.calendar_start_iso,e.calendar_end_iso],tab_params:e.tab_params}},t.prototype.add_hotel_to_traveler=function(e,t){var r,i,n,s,o,a,l,p,c;if(e){a=this.traveler_hotel(t),l=!1,p=e.groups;for(n in p)if(s=p[n],\"hotels\"===s.type){if(!this.hotel_match(_.values(s.choices)[0],a))continue;if(!this.hotel_date_match(s.choices,a))continue;i=!1,l=!0,c=s.choices;for(r in c)if(o=c[r],o.hotel_iden===a.hotel_iden){i=!0;break}i||(s.choices[$.hipmunk.utils.make_uuid()]=a);break}return l||(s={type:\"hotels\",choices:{},name:t.title_str,city:t.tab_params.locations[0]},s.choices[$.hipmunk.utils.make_uuid()]=a,e.groups[$.hipmunk.utils.make_uuid()]=s),this.db_update_traveler(e)}},t.prototype.create_traveler_with_hotel=function(e){var t;return t=new r,this.add_hotel_to_traveler(t,e),t},t.prototype.db_create_traveler=function(e){return e.last_modified=(new Date).getTime(),$.ajax(\"/trip/create\",{dataType:\"json\",type:\"POST\",data:{traveler:JSON.stringify(e)}}),this.save_calendars(),this.set_active_traveler(e)},t.prototype.db_update_traveler=function(e){return e.last_modified=(new Date).getTime(),$.ajax(\"/trip/update\",{dataType:\"json\",type:\"POST\",data:{traveler:JSON.stringify(e)}}),this.save_calendars()},t.prototype.db_delete_traveler=function(e){return $.ajax(\"/trip/delete\",{type:\"POST\",data:{id:e}}),this.save_calendars()},t.prototype.save_calendars=function(){var e;return null!=(e=$.hipmunk.url.active_tab.calendar_drop)&&e.clear_all_calendars(),$.hipmunk.url.active_tab.refresh()},t.prototype.calc_header=function(e){var t,r,i,n,s,o,a;return s=null,n=null,r={},a={},i=function(){var r,i;r=e.choices,i=[];for(t in r)o=r[t],i.push($.hipmunk.flight_utils.header(o));return i}()},t.prototype.img_header=function(e){return e=JSON.stringify(e),\"/trip/header.png?h=\"+escape(e)},t.prototype.img_routing=function(e,t,r){return $.hipmunk.flight_utils.img_url(e,t,r)},t.prototype.hotel_match=function(e,t){var r,i,n;return i=e.stay_info.lat-t.stay_info.lat,n=e.stay_info.lon-e.stay_info.lon,r=Math.sqrt(i*i+n*n),.2>r?!0:!1},t.prototype.hotel_date_match=function(e,t){var r,i,n,s,o;o=$.hipmunk.utils.iso_to_date(t.dates[0]),s=2592e5;for(i in e)if(r=e[i],n=$.hipmunk.utils.iso_to_date(r.dates[0]),Math.abs(n.getTime()-o.getTime())<=s)return!0;return!1},t.prototype.route_match=function(t,r){var i;return i=function(t){var r;return r=function(t){var r,i,n,s,o;for(n in e)for(i=e[n],s=0,o=i.length;o>s;s++)if(r=i[s],r===t)return n;return t},[r(t.legs[0].from_code),r(t.legs[t.legs.length-1].to_code)]},\"\"+i(t)==\"\"+i(r)?!0:!1},t.prototype.flight_date_match=function(e,t){var r,i,n;n=259200;for(i in e)if(r=e[i],Math.abs(t.legs[0].depart_sec-r.legs[0].depart_sec)<n)return!0;return!1},t.prototype.mark_tabs=function(){var e;return e=$.hipmunk.url.active_tab,e instanceof FlightTab?this.mark_flight_tab(e):e instanceof NewHotelTab&&this.mark_hotel_tab(e),e.refresh()},t.prototype.mark_flight_tab=function(e){var t,r,i,n,s,o,a,l,p,c,u,_,h,d,f,v,g,m,$,b;for(p=function(e){var t,r;return t=[].concat(function(){var t,i,n,s;for(n=e.legs,s=[],t=0,i=n.length;i>t;t++)r=n[t],s.push([r.arrive_sec,r.depart_sec,r.marketing_num[0],r.marketing_num[1],r.operating_num[0],r.operating_num[1],r.from_code,r.to_code]);return s}()),t.join(\" \")},c={},v=this.travelers,_=0,d=v.length;d>_;_++){u=v[_],g=u.groups;for(r in g)if(i=g[r],\"flights\"===i.type){s=[],m=i.choices;for(t in m)l=m[t],s=p(l),c[s]=!0}}if(e.flight_data){for($=e.flight_data.routings,b=[],o=h=0,f=$.length;f>h;o=++h)i=$[o],b.push(function(){var e,t,r;for(r=[],n=e=0,t=i.length;t>e;n=++e)a=i[n],r.push(a.marked=c[p(a)]===!0);return r}());return b}},t.prototype.reset_selected_hotels=function(){var e,t,r,i,n,s,o,a,l,p;for(this.selected_hotels={},l=this.travelers,p=[],o=0,a=l.length;a>o;o++)s=l[o],p.push(function(){var o,a;o=s.groups,a=[];for(t in o)r=o[t],\"hotels\"===r.type?(n=[],a.push(function(){var t,n;t=r.choices,n=[];for(e in t)i=t[e],n.push(this.selected_hotels[i.hotel_iden]=!0);return n}.call(this))):a.push(void 0);return a}.call(this));return p},t.prototype.mark_hotel_tab=function(e){return this.reset_selected_hotels(),e.refresh_hotel_list()},t.prototype.sort_groups=function(e){var t;return t=function(e,t){var r,i,n,s,o;if(\"flights\"===t.type){n=!1,s=t.choices;for(e in s)i=s[e],(!n||i.legs[0].depart_sec<n)&&(n=i.legs[0].depart_sec)}else if(\"hotels\"===t.type){n=!1,o=t.choices;for(e in o)r=o[e],(!n||r.time<n)&&(n=r.time);n+=129600}return n},$.hipmunk.utils.sort_dict(e,t)},t.prototype.gen_tab_iden_from_route=function(e){var t,r,i,n,s,o,a,l;return i=e.legs[0].from_code,l=e.legs[e.legs.length-1].to_code,n=e.legs[0],r=new Date(1e3*n.depart_sec),o=$.hipmunk.utils.tz_fix(r,$.hipmunk.utils.parse_offset(n.depart)),t=o.toString(\"MMMdd\"),s=function(){var t,r,i,s;for(i=e.legs,s=[],t=0,r=i.length;r>t;t++)n=i[t],s.push(n.marketing_num[0]+n.marketing_num[1]);return s}(),a=i+\"::\"+s.join(\"_\")+\".\"+l+\",\"+t,\"Coach\"!==n.cabin_str&&(a+=\"&1,\"+n.cabin_str.replace(\"+\",\" \")),a},t.prototype.get_booking_urls=function(e,t){var r;return r=this.gen_tab_iden_from_route(e),$.ajax(\"/api/flight/pricecheck\",{data:{i:r},success:function(e){var i,n,s,o,a,l,p,c,u,_,h,d,f;if(!e||0===e.itins.length)return t([]);for(o=e.itins[0],d=o.booking_urls,c=0,_=d.length;_>c;c++){for(i=d[c],p=[],f=o.idx_routings,a=u=0,h=f.length;h>u;a=++u)s=f[a],l=e.routings[a][s],p.push(l.api_iden);n={name:i.name,price:i.price,iden:r,routings:p},i.url=\"/simplebook/\"+escape(JSON.stringify(n))}return t(o.booking_urls)}})},t.prototype.handle_add_flights_to_traveler=function(e,t,r,i){var n,s,o,a,l;return $.hipmunk.user.has_bizclass_access?(n=$(e.currentTarget),l=n.parent().find(\"select\").val(),i?(r=t.sel_routing.itins[0],s=t.sel_routing.group_num):s=null,\"0\"!==l?(a=this.traveler_by_id(l),this.add_itin_to_traveler(a,r,t.flight_data,s),this.set_active_traveler(a),o=this.popup.show(ManageTripsPopup.VIEW_TRAVELER)):(a=this.create_traveler_with_itin(r,t.flight_data,s),this.popup.show_new_traveler(a))):(this.popup.show(ManageTripsPopup.VIEW_BILLING),void 0)},t}(),window.ManageTripsPopup=function(e){function t(){this.handle_delete_traveler=n(this.handle_delete_traveler,this),this.handle_list_item_click=n(this.handle_list_item_click,this),this.setup_handlers=n(this.setup_handlers,this),this._show=n(this._show,this),this.show=n(this.show,this),this.close=n(this.close,this),this._close=n(this._close,this),this.current_view=null,this.sidebar=null,this.showing_expanded=!1,this.$popup=$(drykup.render($.templates.manage_trips_box())),this.setup_handlers(),t.__super__.constructor.call(this,\"manage-trips\",this.$popup,!1)}return a(t,e),t.VIEW_BILLING=\"subscription\",t.VIEW_INVITE=\"invite\",t.VIEW_CALENDAR=\"calendar\",t.VIEW_TRAVELER=\"traveler\",t.VIEW_HELP=\"help\",t.VIEW_NEW_TRAVELER=\"new-traveler\",t.VIEW_EDIT_TRAVELER=\"edit-traveler\",t.EXPANDED_HEIGHT=500,t.EXPANDED_WIDTH=836,t.COLLAPSED_WIDTH=180,t.COLLAPSED_SPACE=14,t.COLLAPSED_RIGHT=t.EXPANDED_WIDTH/2-t.COLLAPSED_SPACE,t.ANIMATION_DURATION=400,t.prototype.showing=function(){return this.showing_expanded||this.sidebar},t.prototype.showing_collapsed=function(){return this.sidebar&&!this.showing_expanded},t.prototype.attach_to_sidebar=function(e){return this.showing_expanded&&this.close(),this.sidebar=e,this.$content=e.$el,this.render_sidebar(),this._show_collapsed(),this.$popup.appendTo(e.el).show()},t.prototype.detach_from_sidebar=function(){return this.sidebar=null,this.showing_expanded&&this.close(),this.$content=this.$popup,this.$popup.detach()},t.prototype._close=function(){var e,r;return e=$(window).scrollTop(),trip_planner.mark_tabs(),$(window).scrollTop(e).scroll(),t.__super__.close.call(this),this.sidebar?(this.$content.show(),null!=(r=this.sidebar)?\"function\"==typeof r.attach_cal_overlay?r.attach_cal_overlay():void 0:void 0):void 0},t.prototype.close=function(){return this._show_collapsed({animate:this.sidebar&&this.showing_expanded,on_done:this._close}),this.set_current_view(null)},t.prototype.show=function(e,r){return null==e&&(e=t.VIEW_TRAVELER),this._show_expanded({animate:this.showing_collapsed(),on_done:this._show}),r=_.extend({},r,{focus:!1}),this.set_current_view(e,r)},t.prototype._show=function(){return t.__super__.show.call(this)},t.prototype._show_expanded=function(e){var r,i,n,s,o,a,l,p,c,u,_=this;return n=e.animate,o=e.on_done,s=n?t.ANIMATION_DURATION:0,this.showing_expanded=!0,null!=(c=this.sidebar)&&c.$el.addClass(\"lightbox-container\"),null!=(u=this.sidebar)&&\"function\"==typeof u.detach_cal_overlay&&u.detach_cal_overlay(),this.$popup.removeClass(\"collapsed\"),$(document.body).addClass(\"noscroll\"),p=t.EXPANDED_WIDTH-t.COLLAPSED_WIDTH,l=$(\"body\").width()/2-t.COLLAPSED_RIGHT,this.$popup.prop(\"dummy\",0),this.$popup.css(\"top\",$(document).scrollTop()),this.$popup.animate({dummy:p+l},{duration:s,step:function(e){var r,i;return r=e-p,i=e,r>0&&(i=p,$(this).css(\"right\",r+t.COLLAPSED_RIGHT)),$(this).width(i+t.COLLAPSED_WIDTH)},complete:function(){return _.$popup.css(\"right\",\"50%\"),_.$popup.css(\"top\",\"\")}}),r=this.$popup.find(\".sidebar-column\"),r.css(\"height\")!==t.EXPANDED_HEIGHT&&r.animate({height:t.EXPANDED_HEIGHT},s),i=$(\"#overlay-main\"),a=i.css(\"opacity\"),i.css(\"opacity\",0).show().animate({opacity:a},s),$(\"#lightbox-scroll\").css(\"opacity\",0).show().animate({opacity:1},{duration:s,complete:function(){return\"function\"==typeof o?o():void 0}})},t.prototype._show_collapsed=function(e){var r,i,n,s,o,a,l,p,c,u,h,d,f=this;return h=null!=e?e:{},n=h.animate,a=h.on_done,o=n?t.ANIMATION_DURATION:0,this.showing_expanded=!1,this.$popup.addClass(\"collapsed\"),null!=(d=this.sidebar)&&d.$el.appendTo(\"body\"),p=$(\"body\").width()/2,$(\"body\").removeClass(\"noscroll\"),u=t.EXPANDED_WIDTH-t.COLLAPSED_WIDTH,c=p-t.COLLAPSED_RIGHT,this.$popup.prop(\"dummy\",0),this.$popup.css(\"top\",$(document).scrollTop()),this.$popup.css(\"right\",p).animate({dummy:u+c},{duration:o,step:function(e){var r,i;return i=e-c,r=e,i>0&&(r=c,$(this).width(t.EXPANDED_WIDTH-i)),$(this).css(\"right\",p-r)}}),r=this.$popup.find(\".sidebar-column\"),s=r.autoHeight(),r.height()!==s&&r.animate({height:s},{duration:o,complete:function(){return r.css(\"height\",\"auto\")}}),n?(i=$(\"#overlay-main\"),l=i.css(\"opacity\"),i.animate({opacity:\"0\"},{duration:o,complete:function(){var e;return i.hide().css(\"opacity\",l),null!=(e=f.sidebar)&&e.$el.removeClass(\"lightbox-container\"),f.$popup.css(\"top\",\"\")}}),$(\"#lightbox-scroll\").animate({opacity:0},{duration:o,complete:function(){return $(this).hide().css(\"opacity\",\"\"),a?o?_.defer(a):a():void 0}})):(\"function\"==typeof a&&a(),void 0)},t.prototype.setup_handlers=function(){var e,r=this;return this.$popup.on(\"click\",\".collapsed .header, .collapsed .traveler-overview\",function(){r.show()}),this.$popup.on(\"click\",\".sidebar-item\",this.handle_list_item_click),this.$popup.on(\"click\",\".traveler-details .decision-section .section-link a\",function(e){var t,i;confirm(\"Are you sure you want to delete this decision and all of the choices in it?\")&&(t=$(e.currentTarget),i=t.cdata_closest(\"g\"),delete trip_planner.active_traveler.groups[i],trip_planner.db_update_traveler(trip_planner.active_traveler),r.refresh())}),this.$popup.on(\"click\",\".traveler-details .traveler-info .section-link a\",function(){r.set_current_view(t.VIEW_EDIT_TRAVELER)}),this.$popup.on(\"click\",\".delete-traveler\",this.handle_delete_traveler),this.$popup.on(\"click\",\".choices .choice .bar\",function(e){var t,r,i,n,s,o,a,l,p;if(t=$(e.currentTarget).closest(\".choice\"),r=t.find(\".choice-details\"),!r.is(\":hidden\"))return r.slideUp(300),t.removeClass(\"expanded\"),void 0;if(r.slideDown(300),t.addClass(\"expanded\"),i=$(e.currentTarget),n=i.cdata_closest(\"ch\"),s=i.cdata_closest(\"g\"),o=trip_planner.active_traveler.groups[s],\"flights\"===o.type){if(a=o.choices[n],\"2V\"===a.legs[0].operating_num[0])return r.find(\".booking-buttons\").remove(),void 0;null==trip_planner.booking_cache[a.iden]&&(p=t.find(\".info-space .spinner\").get(0),l=new Spinner({radius:3,length:5,width:1.5}).spin(p),a.new_booking_urls=!0,trip_planner.get_booking_urls(a,function(e){var r,i;return trip_planner.booking_cache[a.iden]=e,r=$(drykup.render($.templates.trip_flight_booking_urls(e))),i=t.find(\".booking-buttons\"),i.empty().append(r),l.stop()}))}}),this.$popup.on(\"click\",\".choices .choice .delete-icon\",function(e){var t,i,n,s,o;n=$(e.currentTarget),t=n.closest(\".choice\"),i=n.closest(\".decision-section\"),s=t.cdata(\"ch\"),o=i.cdata(\"g\"),delete trip_planner.active_traveler.groups[o].choices[s],0===$.hipmunk.utils.dict_size(trip_planner.active_traveler.groups[o].choices)&&delete trip_planner.active_traveler.groups[o],trip_planner.db_update_traveler(trip_planner.active_traveler),r.refresh()}),this.$popup.on(\"click\",\".choices .choice .choose-button\",function(e){var t,i,n,s;t=$(e.currentTarget),t.toggleClass(\"selected\"),n=t.cdata_closest(\"g\"),i=t.cdata_closest(\"ch\"),s=trip_planner.active_traveler.groups[n],s.choices[i].chosen=t.hasClass(\"selected\"),trip_planner.db_update_traveler(trip_planner.active_traveler),r.render_sidebar()}),this.$popup.on(\"click\",\".add-tab\",function(e){var t,i,n,s,o,a;t=$(e.currentTarget),n=t.cdata_closest(\"g\"),i=t.cdata_closest(\"ch\"),s=trip_planner.active_traveler.groups[n],a=s.choices[i].tab_params,r.close(),$.hipmunk.url.add_tab(a),o=$.hipmunk.url.active_tab,o instanceof FlightTab&&o.select_routings_from_selected_flights(a.selected_flights)}),this.$popup.on(\"submit\",\".traveler-form form\",function(e){e.preventDefault(),r.handle_save(e)}),this.$popup.on(\"click\",\".traveler-form .secondary\",function(){r.set_current_view(t.VIEW_TRAVELER)}),this.$popup.on(\"click\",\".traveler-section.no-decisions .small-button\",function(e){var t;t=$(e.currentTarget),r.close(),$(\"#tab-search\").click(),toggle_form(t.cdata(\"search\"))}),this.$popup.on(\"click\",\".send-button\",function(e){var t,r;t=$(e.currentTarget),t.addClass(\"selected\"),r=t.closest(\".section-header\").find(\".send-popup\"),r.show().find(\"label\").inFieldLabels(),r.closest(\".traveler-section\").siblings().find(\".send-popup\").hide(),r.find(\"input\").first().focus(),e.stopPropagation()}),this.$popup.on(\"click\",\".send-popup\",function(e){e.stopPropagation()}),e=function(){r.$popup.find(\".send-popup\").hide().find(\".success-status, .error-status\").hide(),r.$popup.find(\".send-button.selected\").removeClass(\"selected\")},this.$popup.on(\"click\",\".send-popup .cancel\",e),this.$popup.on(\"click\",e),this.$popup.on(\"keypress\",\".send-popup input\",function(e){13===e.which&&$(e.currentTarget).closest(\".send-popup\").find(\".send\").click()}),this.$popup.on(\"click\",\".send-popup .send:not([disabled])\",function(e){var t,i,n,s,o,a;return t=$(e.currentTarget),i=t.closest(\".send-popup\"),a=i.find(\"input\").val(),0===a.length?(alert(\"Please enter an email address\"),void 0):(o=i.find(\"textarea\").val(),n={to:a,message:o,traveler_id:trip_planner.active_traveler.id},(s=t.cdata_closest(\"g\"))&&(n.group_id=s),$.ajax(\"/trip/send\",{data:n,complete:function(){return t.find(\"span\").text(\"Send\")},success:function(){return t.closest(\".send-popup\").find(\".success-status\").show()},error:function(){return t.closest(\".send-popup\").find(\".error-status\").show()}}),t.closest(\".send-popup\").find(\".error-status, .success-status\").hide(),t.find(\"span\").text(\"Sending...\"),r.$popup.find(\".recipient-section input\").val(a),void 0)})},t.prototype.render_details_content=function(e){var i;switch(i=\"\",this.current_view){case t.VIEW_INVITE:i=$(drykup.render($.templates.send_invites($.hipmunk.user.referer_url)));break;case t.VIEW_TRAVELER:trip_planner.active_traveler&&(i=$(drykup.render($.templates.traveler_details(trip_planner.active_traveler))));break;case t.VIEW_BILLING:i=(new $.hipmunk.BillingView).el;break;case t.VIEW_NEW_TRAVELER:this.new_traveler=(null!=e?e.traveler:void 0)||new r,i=$(drykup.render($.templates.traveler_form(this.new_traveler,!0)));break;case t.VIEW_EDIT_TRAVELER:i=$(drykup.render($.templates.traveler_form(trip_planner.active_traveler)))}return this.$popup.find(\".details-column\").html(i),e.focus!==!1?this.$popup.find(\"input[type=text]:visible\").first().focus():void 0},t.prototype.handle_save=function(e){var r,i,n,s;return i=$(e.currentTarget),r=i.closest(\".traveler-form\"),s=$.trim(r.find(\".name\").val()),n=$.trim(r.find(\".email\").val()),s?n?(this.current_view===t.VIEW_NEW_TRAVELER?(this.new_traveler.name=s,this.new_traveler.email=n,trip_planner.travelers.unshift(this.new_traveler),trip_planner.db_create_traveler(this.new_traveler),trip_planner.active_traveler=this.new_traveler,this.new_traveler=null):(trip_planner.active_traveler.name=s,trip_planner.active_traveler.email=n,trip_planner.db_update_traveler(trip_planner.active_traveler)),this.set_current_view(t.VIEW_TRAVELER)):(alert(\"Please enter an email address.\"),void 0):(alert(\"Please enter a name.\"),void 0)},t.prototype.show_new_traveler=function(e){return this.show(t.VIEW_NEW_TRAVELER,{traveler:e})},t.prototype.render_sidebar=function(e){var r,i,n;return i=trip_planner.travelers_status||trip_planner.sorted_travelers(),r=$(drykup.render($.templates.biz_class_sidebar(i,this.current_view,null!=(n=trip_planner.active_traveler)?n.id:void 0))),this.$popup.find(\".sidebar-column\").html(r),(null!=e?e.animate:void 0)&&this.current_view===t.VIEW_TRAVELER?this.$popup.find(\".traveler-overview\").hide().slideDown():void 0},t.prototype.handle_list_item_click=function(e){var r,i,n;return r=$(e.currentTarget),i=r.cdata(\"item\"),i===t.VIEW_HELP?(window.open(\"/business/help\"),void 0):$.hipmunk.user.has_bizclass_access?(i===t.VIEW_TRAVELER&&(n=trip_planner.traveler_by_id(r.cdata(\"traveler_id\")),trip_planner.set_active_traveler(n)),this.showing_collapsed()&&(i!==t.VIEW_TRAVELER||r.hasClass(\"selected\"))&&this.show(),this.set_current_view(i,{animate:!0})):void 0},t.prototype.refresh=function(e){return this.current_view!==t.VIEW_TRAVELER||trip_planner.active_traveler?(this.showing()&&this.render_sidebar(e),this.current_view&&this.showing_expanded?this.render_details_content(e):void 0):(this.set_current_view(t.VIEW_NEW_TRAVELER,e),void 0)},t.prototype.set_current_view=function(e,r){return this.current_view=e,$.hipmunk.user.has_bizclass_access||(this.current_view=t.VIEW_BILLING),this.refresh(r)},t.prototype.handle_delete_traveler=function(){confirm(\"Are you sure you want to delete this traveler?\")&&(trip_planner.delete_traveler(trip_planner.active_traveler.id),this.set_current_view(t.VIEW_TRAVELER))},t}(Lightbox),window.BizWarningLightbox=function(e){function t(){t.__super__.constructor.call(this,\"biz-warning\"),this.setup_handlers()}return a(t,e),t.prototype.show=function(){return this.$content=$(drykup.render($.templates.biz_warning_lightbox(this.message))),t.__super__.show.apply(this,arguments)},t.prototype.setup_handlers=function(){return this.$container.on(\"click\",\".darkbookingbutton\",function(){trip_planner.popup.show(ManageTripsPopup.VIEW_BILLING)})},t.prototype.close=function(){return t.__super__.close.apply(this,arguments),$.cookie(\"biz_last_reminded\",(new Date).getTime())},t}(Lightbox),window.BizWelcomeLightbox=function(e){function i(){this.next=n(this.next,this),i.__super__.constructor.call(this,\"biz-welcome\"),this.NUM_STEPS=2,this.setup_handlers(),this.do_refresh=!1}return a(i,e),i.prototype.show=function(){return this.$content=$(drykup.render($.templates.biz_welcome_lightbox(this.NUM_STEPS))),this.step=0,i.__super__.show.apply(this,arguments),this.show_step()},i.prototype.setup_handlers=function(){var e=this;return this.$container.on(\"click\",\".next-step\",this.next),this.$container.on(\"click\",\".quit\",this.close),this.$container.on(\"submit\",\"form#biz-welcome-add-travelers\",function(){var t,i,n;return i=$(\"#traveler_name\").val(),t=$(\"#traveler_email\").val(),i&&t?(n=new r,n.name=i,n.email=t,trip_planner.travelers.unshift(n),trip_planner.db_create_traveler(n),$(\"#traveler_name\").val(\"\"),$(\"#traveler_email\").val(\"\"),e.update_traveler_list(),!1):void 0}),this.$container.on(\"click\",\".cal-integ-options .option\",function(t){var r;r=$(t.currentTarget),r.removeClass(\"faded\").addClass(\"selected\").siblings().removeClass(\"selected\").addClass(\"faded\"),r.hasClass(\"exchange\")?(e.$container.find(\".google-content\").fadeOut(),e.$container.find(\".exchange-content\").fadeIn(),e.$container.find(\".input-container label\").inFieldLabels(),e.$container.find(\".default-content\").hide(),$.hipmunk.exchange_success=function(){return e.do_refresh=!0,e.$container.find(\".exchange-content\").find(\".success-status\").fadeIn().end().find(\"form\").hide()}):(e.$container.find(\".exchange-content\").fadeOut(),$.hipmunk.utils.popup_window(\"/google/calendar-login-redirect\",500,500),$.hipmunk.google_auth_complete=function(){return e.do_refresh=!0,e.$container.find(\".default-content\").hide(),e.$container.find(\".google-content\").show().find(\".success-status\").fadeIn()})})},i.prototype.next=function(){return this.step++,this.step===this.NUM_STEPS?this.close():this.show_step()},i.prototype.show_step=function(){var e;switch(this.step){case 0:if($.hipmunk.user.preferences.exchange_enabled&&$.hipmunk.user.preferences.google_calendar)return this.next(),void 0;e=$(drykup.render($.templates.biz_welcome_calendars())),new t(e.find(\"form\"));break;case 1:e=$(drykup.render($.templates.biz_welcome_add_travelers()))}return this.$content.find(\".progress-ball\").removeClass(\"active\").eq(this.step).addClass(\"active\"),this.$content.find(\".next-step\").hide().eq(this.step).show(),this.$content.find(\".content\").html(e),this.$content.find(\".input-container label\").inFieldLabels(),this.update_traveler_list(),$.hipmunk.utils.first_show(this.$content)},i.prototype.update_traveler_list=function(){var e;return e=drykup.render($.templates.biz_welcome_traveler_list(trip_planner.travelers)),this.$content.find(\".traveler-list\").html(e)},i.prototype.close_fn=function(){return this.do_refresh?(window.location.hash=\"#bizhint\",$.reload()):(window.location.hash=\"\",$.hipmunk.show_biz_hint())},i}(Lightbox),$.hipmunk.show_biz_hint=function(){var e;return e=$(\"#biz-class-button .harass\"),e.fadeIn(),e.on(\"click\",function(){return!1}),e.on(\"click\",\".close\",function(t){e.fadeOut(),t.stopPropagation()})}}.call(this);\n!function(){var e,t,n,s={}.hasOwnProperty,i=function(e,t){function n(){this.constructor=e}for(var i in t)s.call(t,i)&&(e[i]=t[i]);return n.prototype=t.prototype,e.prototype=new n,e.__super__=t.prototype,e};n=hm.utils.parse_int,t=function(e){function t(e){var n,s;s=null!=e?e:{},n=s.attrs,this.items_per_page=s.items_per_page,this.show_pages=s.show_pages,this.max_num_pages=s.max_num_pages,this.label=s.label,this.show_num_items=s.show_num_items,this.spinner=s.spinner,null==n&&(n=\".m-theme1.m-medium\"),null==this.show_pages&&(this.show_pages=!0),t.__super__.constructor.call(this,{attrs:n}),this.on_page_change=$.Callbacks(),this._setup_handlers()}return i(t,e),t.prototype.attrs=\".paginator\",t.prototype.render=function(){var e;return this.render_drykup($.templates.paginator({current_page:this.current_page,num_items:this.num_items,items_per_page:this.items_per_page,show_pages:this.show_pages,max_num_pages:this.max_num_pages,label:this.label,show_num_items:this.show_num_items,search_done:this.search_done})),this.search_done?void 0:this.$el.find(\".js-spinner-container\").append(null!=(e=this.spinner)?e.$el:void 0)},t.prototype.update=function(e){var t,n,s,i;return n=e.current_page,s=e.num_items,i=e.search_done,t=!1,null!=n&&n!==this.current_page&&(this.current_page=n,t=!0),null!=s&&s!==this.num_items&&(this.num_items=s,t=!0),null!=i&&i!==this.search_done&&(this.search_done=i,t=!0),t?this.render():void 0},t.prototype._setup_handlers=function(){var e=this;return this.$el.on(\"click\",\".paginator__block\",function(t){var s,i;s=$(t.currentTarget),s.hasClass(\"m-disabled\")||s.hasClass(\"m-selected\")||(i=s.text(),\"<\"===i?e.current_page--:\">\"===i?e.current_page++:e.current_page=n(i)-1,e.render(),e.on_page_change.fire(e.current_page))})},t}($.hipmunk.View),window.AppHeaderedBox=function(){function e(e){this.$el=$(drykup.render($.templates.app_headered_box_component())),e&&this.$el.addClass(e),this.set_header_class(\"m-default\")}return e.prototype.title=\"Hipmunk\",e.prototype.loading=!1,e.prototype.loading_text=\"Loading\",e.prototype.set_content=function(e){var t;return t=$(e).detach(),this.$el.find(\".app-headered-box__content\").html(t)},e.prototype.set_header_class=function(e){var t,n;return n=\"app-headered-box__header\",t=this.$el.find(\".\"+n),t.attr(\"class\",n+\" \"+e)},e.prototype.set_header=function(e){var t,n,s,i;return i=e.title,n=e.loading,s=e.loading_text,t=e.cls,null!=t&&this.set_header_class(t),null!=i&&(this.title=i),null!=n&&(this.loading=n),null!=s&&(this.loading_text=s),this.update_display()},e.prototype.update_display=function(){var e,t;return e=this.$el.find(\".app-headered-box__header-ellipses\"),e.toggle(this.loading),this.loading?($.hipmunk.utils.animate_ellipses(e),t=this.loading_text):($.hipmunk.utils._reset_animate_ellipses(e),t=this.title),this.$el.find(\".app-headered-box__header-text\").text(t)},e.prototype.set_close_button_visible=function(e){return null==e&&(e=!0),this.$el.find(\".app-header-box__close-button\").toggle(e)},e}(),e=function(){function e(){}return e.init=function(e){var t;return t=e.find(\".mini-hotel-module__image img\"),t.imagesLoaded(function(){var e,n,s,i,r;for(r=[],s=0,i=t.length;i>s;s++)n=t[s],e=$(n),e.height()<e.parent().height()?(e.css(\"height\",e.parent().height()),e.css(\"width\",\"auto\"),r.push(e.css(\"left\",(e.parent().width()-e.width())/2))):r.push(void 0);return r})},e}(),hm[\"export\"]({components:{Paginator:t,AppHeaderedBox:AppHeaderedBox,MiniHotelModule:e}})}.call(this);\n!function(){var e,t,n,a,r,l,o,i,p,u,s,_,m,c,d,h,b,g,f,x,k,v,w,y,M,j,q,D,z,A,B,C,E;E=window.drykup,k=E.render,r=E.div,w=E.span,y=E.table,A=E.thead,M=E.tbody,B=E.tr,j=E.td,z=E.th,q=E.text,D=E.textarea,a=E.button,u=E.hr,s=E.iframe,x=E.raw,e=E.a,n=E.br,t=E.b,_=E.img,c=E.label,l=E.form,m=E.input,C=E.ul,d=E.li,o=E.h1,i=E.h2,p=E.h4,v=E.select,g=E.option,f=E.p,h=E.meta,b=$.hipmunk.utils.ntext,$.templates.paginator=function(e){var t,n,a,l,o,i,p,u,s,_,m,c,d;return d=null!=e?e:{},t=d.current_page,i=d.num_items,a=d.items_per_page,c=d.show_pages,o=d.max_num_pages,l=d.label,m=d.show_num_items,_=d.search_done,null==_&&(_=!1),p=Math.ceil(i/a),n=t*a,s=n+1,u=Math.min(i,n+a),null!=l&&(w(\".paginator__label\",l),w(\".paginator__label.m-number\",function(){return x(\" \"+s+\"&mdash;\"+u)}),m&&(w(\".paginator__label\",function(){return x(\"&nbsp;of&nbsp;\")}),_?w(\".paginator__label.m-number\",\" \"+i+\" \"):w(\".js-spinner-container\"))),r(\".paginator__blocks\",function(){return $.templates.paginator_blocks({current_page:t,num_pages:p,show_pages:c,max_num_pages:o})})},$.templates.paginator_block=function(e,t){var n,a,l,o;return o=null!=t?t:{},n=o.cls,l=o.selected,a=o.disabled,null==n&&(n=\"\"),n+=\".paginator__block\",a?n+=\".m-disabled\":l&&(n+=\".m-selected\"),r(n,function(){return q(e)})},$.templates.paginator_blocks=function(e){var t,n,a,r,l,o,i,p,u,s,_,m;return u=null!=e?e:{},t=u.current_page,l=u.num_pages,i=u.show_pages,a=u.max_num_pages,null==i&&(i=!0),$.templates.paginator_block(\"<\",{cls:\".m-arrow\",disabled:0===t}),i&&(n=function(e){var n,a,r,o;for(o=[],a=0,r=e.length;r>a;a++)n=e[a],o.push($.templates.paginator_block(n,{selected:n-1===t,disabled:1===l}));return o},!a||a>=l?n(function(){s=[];for(var e=1;l>=1?l>=e:e>=l;l>=1?e++:e--)s.push(e);return s}.apply(this)):(p=t-Math.floor((a-4)/2)+1,r=0,1>p&&(p=1),p>1&&(r++,$.templates.paginator_block(1),p>2&&(r++,$.templates.paginator_block(\"...\",{cls:\".m-ellipsis\",disabled:!0}))),l>p+a-r?(o=function(){_=[];for(var e=p,t=p+a-r-3;t>=p?t>=e:e>=t;t>=p?e++:e--)_.push(e);return _}.apply(this),n(o),$.templates.paginator_block(\"...\",{cls:\".m-ellipsis\",disabled:!0}),$.templates.paginator_block(l)):(p=l-a+r+1,o=function(){m=[];for(var e=p;l>=p?l>=e:e>=l;l>=p?e++:e--)m.push(e);return m}.apply(this),n(o)))),$.templates.paginator_block(\">\",{cls:\".m-arrow.m-last-child\",disabled:t===l-1})},$.templates.app_headered_box_component=function(){return r(\".app-headered-box\",function(){return r(\".app-headered-box__header\",function(){return r(\".app-header-box__close-button.close-x\"),r(\".app-headered-box__header-content\",function(){return r(\".app-headered-box__header-image\"),r(\".app-headered-box__header-label\",function(){return r(\".app-headered-box__header-text\"),r(\".app-headered-box__header-ellipses\")})})}),r(\".app-headered-box__content-wrapper\",function(){return r(\".app-headered-box__margin-collapse\",function(){return x(\"&nbsp;\")}),r(\".app-headered-box__content\"),r(\".app-headered-box__margin-collapse\",function(){return x(\"&nbsp;\")})})})},$.templates.mini_hotel_module=function(t,n){var a;return null==n&&(n=\"\"),a={href:t.details_url(),target:\"_blank\",\"js-track-event\":\"frontpage_hotel_click\"},e(\".mini-hotel-module\"+n,a,function(){var e;return r(\".mini-hotel-module__image-wrapper\",function(){return r(\".mini-hotel-module__image\",function(){var e,n;return _({src:null!=(e=null!=(n=t.media)?n[0]:void 0)?e:\"/static/no-hotel.png\"})})}),r(\".mini-hotel-module__name\",t.name),r(\".mini-hotel-module__rating-row\",function(){return $.templates.industry_stars(t),t.has_percs()?r(\".inline-percs\",function(){return $.templates.hotel_percs(t)}):void 0}),t.has_rating()&&r(\".mini-hotel-module__rating-row\",function(){return r(\".rating\",function(){return $.templates.hotel_rating(t)})}),e=\".mini-hotel-module__details-button.small-button.silver.taller\",r(e,function(){return x(\"Details &raquo;\")}),r(\".mini-hotel-module__price-disclaimer\",\"prices from\"),r(\".mini-hotel-module__price\",\"$\"+Math.round(t.minrate)),r(\".clear\")})}}.call(this);\n!function(n){\"function\"==typeof module?module.exports=n(this.jQuery||require(\"jquery\")):this.NProgress=n(this.jQuery)}(function(n){function t(n,t,e){return t>n?t:n>e?e:n}function e(n){return 100*(-1+n)}function r(n,t,r){var s;return s=\"translate3d\"===i.positionUsing?{transform:\"translate3d(\"+e(n)+\"%,0,0)\"}:\"translate\"===i.positionUsing?{transform:\"translate(\"+e(n)+\"%,0)\"}:{\"margin-left\":e(n)+\"%\"},s.transition=\"all \"+t+\"ms \"+r,s}var s={};s.version=\"0.1.2\";var i=s.settings={minimum:.08,easing:\"ease\",positionUsing:\"\",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,template:'<div class=\"bar\" role=\"bar\"><div class=\"peg\"></div></div><div class=\"spinner\" role=\"spinner\"><div class=\"spinner-icon\"></div></div>'};return s.configure=function(t){return n.extend(i,t),this},s.status=null,s.set=function(n){var e=s.isStarted();n=t(n,i.minimum,1),s.status=1===n?null:n;var o=s.render(!e),a=o.find('[role=\"bar\"]'),u=i.speed,c=i.easing;return o[0].offsetWidth,o.queue(function(t){\"\"===i.positionUsing&&(i.positionUsing=s.getPositioningCSS()),a.css(r(n,u,c)),1===n?(o.css({transition:\"none\",opacity:1}),o[0].offsetWidth,setTimeout(function(){o.css({transition:\"all \"+u+\"ms linear\",opacity:0}),setTimeout(function(){s.remove(),t()},u)},u)):setTimeout(t,u)}),this},s.isStarted=function(){return\"number\"==typeof s.status},s.start=function(){s.status||s.set(0);var n=function(){setTimeout(function(){s.status&&(s.trickle(),n())},i.trickleSpeed)};return i.trickle&&n(),this},s.done=function(n){return n||s.status?s.inc(.3+.5*Math.random()).set(1):this},s.inc=function(n){var e=s.status;return e?(\"number\"!=typeof n&&(n=(1-e)*t(Math.random()*e,.1,.95)),e=t(e+n,0,.994),s.set(e)):s.start()},s.trickle=function(){return s.inc(Math.random()*i.trickleRate)},s.render=function(t){if(s.isRendered())return n(\"#nprogress\");n(\"html\").addClass(\"nprogress-busy\");var r=n(\"<div id='nprogress'>\").html(i.template),o=t?\"-100\":e(s.status||0);return r.find('[role=\"bar\"]').css({transition:\"all 0 linear\",transform:\"translate3d(\"+o+\"%,0,0)\"}),i.showSpinner||r.find('[role=\"spinner\"]').remove(),r.appendTo(document.body),r},s.remove=function(){n(\"html\").removeClass(\"nprogress-busy\"),n(\"#nprogress\").remove()},s.isRendered=function(){return n(\"#nprogress\").length>0},s.getPositioningCSS=function(){var n=document.body.style,t=\"WebkitTransform\"in n?\"Webkit\":\"MozTransform\"in n?\"Moz\":\"msTransform\"in n?\"ms\":\"OTransform\"in n?\"O\":\"\";return t+\"Perspective\"in n?\"translate3d\":t+\"Transform\"in n?\"translate\":\"margin\"},s});\n!function(){var o;o=function(o){return $(function(){return\"undefined\"!=typeof cookie_frame_name&&null!==cookie_frame_name?$(\"#\"+cookie_frame_name)[0].contentWindow.postMessage(o,$.hipmunk.trackframe_url):void 0})},window.track_script=function(n){return o(\"js|\"+n)},window.track_pixel=function(n){return o(\"gf|\"+n)},window.send_criteo_conf=function(n){return o(\"cr|\"+JSON.stringify(n))},window.track_flight_search=function(o,n){return sojern_flight_search(o,n),adara_flight_search(o,n),criteo_flight_search(o,n)},window.track_flight_book=function(){var o,n,t;return null!=$.hipmunk.retargeting_flight_book_info?(t=$.hipmunk.retargeting_flight_book_info,o=t[0],n=t[1],adara_flight_book(o,n),sojern_flight_book(o,n),criteo_flight_confirmation(o,n)):void 0},window.track_hotel_search=function(o){return sojern_hotel_search(o),adara_hotel_search(o)},window.track_hotel_book=function(){var o,n,t;return null!=$.hipmunk.retargeting_hotel_book_info?(t=$.hipmunk.retargeting_hotel_book_info,n=t[0],o=t[1],sojern_hotel_book(n,o),adara_hotel_book(n,o)):void 0},window.store_hotel_book=function(o,n){return $.hipmunk.retargeting_hotel_book_info=[o,n]},window.store_flight_book=function(o,n){return $.hipmunk.retargeting_flight_book_info=[o,n],criteo_flight_basket(o,n)}}.call(this);\n!function(){var c,r;r=function(c){var r,t;return c=_.clone(c),_.defaults(c,{p:1432,u:$.hipmunk.user.md5,t:\"i\"}),r=jQuery.param(c),t=\"https://tag.yieldoptimizer.com/ps/ps?\"+r,track_pixel(t)},window.adara_flight_book=function(t,o){var e,a,y,n,d,s,i;return a=o.idx_routings[0],y=t.routings[0][a],d=y.f_leg.from_code,n=y.l_leg.to_code,e={cocty:t.airports[d].city,cdcty:t.airports[n].city,cdctry:t.airports[n].country_code,cacr:o.booking_urls[0].name,cddte:c(y.f_leg.dep_dt_local,\"yyyy-M-d\"),coac:d,cdac:n,ccls:t.search.cabin,cpax:t.search.pax,cafre:o.booking_urls[0].price,cweb:o.booking_urls[0].url,uctry:$.hipmunk.user.country,ucur:t.search.currency.code},o.idx_routings.length>1&&(s=o.idx_routings[o.idx_routings.length-1],i=t.routings[t.routings.length-1][s],e.crdte=c(i.l_leg.arr_dt_local,\"yyyy-M-d\")),r(e)},window.adara_flight_search=function(t,o){var e,a,y;return a=t.airports[o.from_code],y=t.airports[o.to_code],e={socty:a.city,sdcty:y.city,sdctry:y.country_code,sddte:c(o.f_leg.dep_dt_local,\"yyyy-M-d\"),soac:o.from_code,sdac:o.to_code,srdte:c(o.l_leg.arr_dt_local,\"yyyy-M-d\"),scls:t.search.cabin,spax:t.search.pax,uctry:t.search.country},r(e)},window.adara_hotel_search=function(t){var o,e;return e=t.search,o={schcty:t.city_name.split(\", \")[0],schctry:e.country,shdte:c(e.check_in,\"yyyy-M-d\"),shddte:c(e.check_out,\"yyyy-M-d\"),snor:e.rooms,sgstc:e.pax,sctry:e.country},r(o)},window.adara_hotel_book=function(t,o){var e,a;return a=t.search,e={cchcty:t.city_name.split(\", \")[0],cchctry:a.country,chdte:c(a.check_in,\"yyyy-M-d\"),chddte:c(a.check_out,\"yyyy-M-d\"),cnor:a.rooms,cgstc:a.pax,uctry:a.country,ucur:t.currency.code,chnme:o.name},r(e)},c=function(c,r){var t;return null!=(t=Date.parse(c))?t.toString(r):void 0}}.call(this);\n!function(){var t,r,o;r=function(t,r){var o,n;return o=\"https://pixel.sojern.com/partner/igTlX5Lgk4GXI1bk/\",n=o+t+\"?\"+jQuery.param(r),track_script(n)},window.sojern_flight_search=function(t,o){var n,e,i;return e=t.airports[o.from_code],i=t.airports[o.to_code],n=t.routings[t.routings.length-1][0],r(\"fs\",{fa1:o.from_code,fa2:o.to_code,fd1:o.f_leg.dep_dt_local.toString(\"yyyy-MM-dd\"),fd2:n.l_leg.arr_dt_local.toString(\"yyyy-MM-dd\"),t:t.search.pax,fc:t.search.cabin})},window.sojern_flight_book=function(t,o){var n,e,i,c,d,_;return n=o.idx_routings[0],e=t.routings[0][n],c=e.f_leg.from_code,i=e.l_leg.to_code,d=o.idx_routings[o.idx_routings.length-1],_=t.routings[t.routings.length-1][d],r(\"fc\",{fa1:e.from_code,fa2:e.to_code,fd1:e.f_leg.dep_dt_local.toString(\"yyyy-MM-dd\"),fd2:_.l_leg.dep_dt_local.toString(\"yyyy-MM-dd\"),t:t.search.pax,fc:t.search.cabin,fp:o.booking_urls[0].price.toString().split(\".\")[0]})},o=function(r){var o,n,e;return e=r.search,n={t:e.pax,hr:e.rooms,hd1:t(e.check_in,\"yyyy-MM-dd\"),hd2:t(e.check_out,\"yyyy-MM-dd\"),hn1:e.country},o=r.city_name.split(\", \"),o.length>1&&2===o[1].length?(n.hc1=o[0],n.hs1=o[1]):n.hc1=r.city_name,n},window.sojern_hotel_search=function(t){return r(\"hs\",o(t))},window.sojern_hotel_book=function(t,n){var e;return e=o(t),e.hz1=n.postal_code,e.hp=n.get_price().toString().split(\".\")[0],r(\"hc\",e)},t=function(t,r){var o;return null!=(o=Date.parse(t))?o.toString(r):void 0}}.call(this);\n!function(){var t;window.criteo_flight_search=function(t,i){var r,o,n;return o=t.airports[i.from_code],n=t.airports[i.to_code],r=t.routings[t.routings.length-1][0],send_criteo_conf([[{pageType:\"product\",\"Flight ID\":i.from_code+\"/\"+i.to_code},{pageType:\"search\",\"Departure Date\":i.f_leg.dep_dt_local.toString(\"yyyy-MM-dd\"),\"Return Date\":r.l_leg.arr_dt_local.toString(\"yyyy-MM-dd\"),Adults:t.search.pax,Cabin:t.search.cabin}],[8398,\"pgi\",\"us.\",\"000\",[[7725593,7725594]],{\"Flight ID\":[\"i\",0],\"Departure Date\":[\"din\",0],\"Return Date\":[\"dout\",0],Adults:[\"pax\",0],Cabin:[\"cab\",0]}]])},window.criteo_flight_basket=function(t,i){var r,o,n,e,g,a;return r=i.idx_routings[0],o=t.routings[0][r],e=o.f_leg.from_code,n=o.l_leg.to_code,g=i.idx_routings[i.idx_routings.length-1],a=t.routings[t.routings.length-1][g],send_criteo_conf([[{pageType:\"basket\",\"Flight ID\":[e+\"/\"+n],Price:[i.booking_urls[0].price.toString().split(\".\")[0]],Quantity:[\"1\"]}],[8398,\"pgi\",\"us.\",\"000\",[[7725593,7725594]],{\"Flight ID\":[\"i\",1],Price:[\"p\",1],Quantity:[\"q\",1]}]])},t=Math.random().toString().split(\".\")[1],window.criteo_flight_confirmation=function(i,r){var o,n,e,g,a,c;return o=r.idx_routings[0],n=i.routings[0][o],g=n.f_leg.from_code,e=n.l_leg.to_code,a=r.idx_routings[r.idx_routings.length-1],c=i.routings[i.routings.length-1][a],send_criteo_conf([[{pageType:\"confirmation\",\"Transaction ID\":t,\"Flight ID\":[g+\"/\"+e],Price:[r.booking_urls[0].price.toString().split(\".\")[0]],Quantity:[\"1\"]}],[8398,\"pgi\",\"us.\",\"000\",[[7725593,7725594]],{\"Transaction ID\":[\"t\",0],\"Flight ID\":[\"i\",1],Price:[\"p\",1],Quantity:[\"q\",1]}]])}}.call(this);\n!function(){var t,e,r,i,o,s,n,u,a,l=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};a=hm.utils,u=a.tz_fix,s=a.parse_offset,n=a.pretty_time,o=a.days_between,r=3600,e=86400,i=7,t=function(){function t(t){this.search=t,this.flight_data=null,this.tab_iden=null,this.number_of_groups=null,this.airlines_cheapest={},this.airport_cheapest=[],this.fromto_codes=[],this.stops_cheapest=[],this.groups=null,this.sel_group=null,this.sel_routings=[],this.routings=null,this.from_airport=null,this.to_airport=null,this.min_time=null,this.max_time=null,this.show_days=null,this.time_scale=null,this.lines=null,this.time_per=null,this.time_window=null,this.slider_min_percent=0,this.slider_max_percent=1,this.first=null,this.last=null,this.show_dominated=null,this.stop_filters=[!1,!1,!1],this.fromto_filters={},this.preferred_airlines=[],this.only_wifi=!1}return t.prototype._iterate_over_routings_in_itin=function(t,e){var r,i,o,s,n,_;for(_=t.idx_routings,i=s=0,n=_.length;n>s;i=++s)r=_[i],o=this.flight_data.routings[i][r],e(o)},t.prototype.has_flight_data=function(){return null!=this.flight_data},t.prototype.add_itins_to_routing=function(t,e){t.itins?t.itins.push(e):t.itins=[e],null==t.sorts&&(t.sorts={})},t.prototype.add_lowest_price_to_routing=function(t,e){var r,i,o,s,n,_=this;for(i=function(t,e){return t.price<_.airlines_cheapest[e]},(!t.sorts.price||e.price<t.sorts.price)&&(t.sorts.price=e.price),n=t.airlines,o=0,s=n.length;s>o;o++)r=n[o],(null==this.airlines_cheapest[r]||i(e,r))&&(this.airlines_cheapest[r]=e.price)},t.prototype.compute_routing=function(t,e){this.add_itins_to_routing(t,e),this.add_lowest_price_to_routing(t,e)},t.prototype.build_routings_for_itin=function(t){var e=this;this._iterate_over_routings_in_itin(t,function(r){return e.compute_routing(r,t)})},t.prototype.get_api_idens_for_routings=function(t){var e;return e=[],this._iterate_over_routings_in_itin(t,function(t){return e.push(t.api_iden)}),e},t.prototype.make_booking_urls_for_itin=function(t){var e,r,i,o,s;for(s=t.booking_urls,i=0,o=s.length;o>i;i++)e=s[i],r={name:e.name,price:e.price,iden:this.tab_iden,routings:this.get_api_idens_for_routings(t)},\"undefined\"!=typeof trip_planner&&null!==trip_planner&&(r.business_class=!0),e.url=\"/simplebook/\"+escape(JSON.stringify(r))},t.prototype.get_number_of_groups=function(){return this.flight_data.routings.length},t.prototype.setup_sel_routings=function(t){var e;return function(){var r,i;for(i=[],e=r=0;t>=0?t>r:r>t;e=t>=0?++r:--r)i.push(null);return i}()},t.prototype.setup_show_dominated=function(t){var e;return function(){var r,i;for(i=[],e=r=0;t>=0?t>r:r>t;e=t>=0?++r:--r)i.push({});return i}()},t.prototype.parse_and_add_format_times_to_leg=function(t,e){var r;return t.dep_dt=new Date(1e3*t.depart_sec),t.arr_dt=new Date(1e3*t.arrive_sec),t.dep_dt_local=u(t.dep_dt,s(t.depart)),t.arr_dt_local=u(t.arr_dt,s(t.arrive)),t.dep_dt_tm=n(t.dep_dt_local),t.arr_dt_tm=n(t.arr_dt_local),t.cabin_str=this.flight_data.cabin_map[t.cabin],r=t.operating_num[0],l.call(e,r)<0?t.operating_num[0]:null},t.prototype.build_legs_and_airline_codes=function(t){var e,r,i,o,s;for(e=[],o=0,s=t.length;s>o;o++)r=t[o],i=this.parse_and_add_format_times_to_leg(r,e),i&&e.push(i);return e},t.prototype.routing_setup_index_and_iden=function(t,e,r){t.idx=e,t.tiebreak=Math.random(),t.group_num=r,t.iden=r+\"-\"+t.idx},t.prototype.routing_setup_first_and_last_leg=function(t){t.f_leg=t.legs[0],t.l_leg=t.legs[t.legs.length-1]},t.prototype.routing_setup_depart_and_arrive=function(t){t.dep=t.f_leg.depart_sec,t.arr=t.l_leg.arrive_sec,t.from_code=t.f_leg.from_code,t.to_code=t.l_leg.to_code,t.num_days_after_depart=!1},t.prototype.routing_setup_sorts=function(t,e){t.sorts.agony=t.agony,t.sorts.spite=-t.agony,t.sorts.depart=t.dep,t.sorts.arrive=t.arr,t.sorts.duration=t.arr-t.dep,t.sorts.stops=t.legs.length-1,t.sorts.fromto=t.from_code+\" \"+t.to_code,t.sorts.airline=e.join(\" \")},t.prototype.routing_setup_from_and_to_codes=function(t,e,r){e[t.from_code]=t.from_code,r[t.to_code]=t.to_code},t.prototype.determine_cheapest_price=function(t,e){var r;return r=Math.min(2,t.legs.length-1),t.sorts.price<e[r]&&(e[r]=t.sorts.price),e},t.prototype.determine_cheapest_airport=function(t,e){var r,i,o,s;i=t.from_code,s=t.to_code,r=function(t){return null!=e[t]},o=function(t,r){return t.sorts.price<e[r]},(!r(i)||o(t,i))&&(e[i]=t.sorts.price),(!r(s)||o(t,s))&&(e[s]=t.sorts.price)},t.prototype.determine_shortest_routes=function(t,e,r){var i;return t.shortest=!1,i=t.arr-t.dep,r>i?(r=i,e=[t]):i===r&&e.push(t),[e,r]},t.prototype.make_routing=function(t,e,r,i,o,s,n,_){var u,a,l;return this.routing_setup_index_and_iden(t,e,r),u=this.build_legs_and_airline_codes(t.legs),this.routing_setup_first_and_last_leg(t),this.routing_setup_depart_and_arrive(t),this.routing_setup_sorts(t,u),o=this.determine_cheapest_price(t,o),this.determine_cheapest_airport(t,i),l=this.determine_shortest_routes(t,s,a),s=l[0],a=l[1],this.routing_setup_from_and_to_codes(t,n,_),[o,s,a]},t.prototype.combine_codes=function(t,e){var r;return[function(){var e;e=[];for(r in t)e.push(r);return e}(),function(){var t;t=[];for(r in e)t.push(r);return t}()]},t.prototype.build_routings=function(){var t,e,r,i,o,s,n,_,u,a,l,p,h,f,c,d,g,m;for(g=this.flight_data.routings,s=l=0,f=g.length;f>l;s=++l){for(r=g[s],o=1/0,_=[],t={},e={},a={},u=[1/0,1/0,1/0],i=p=0,c=r.length;c>p;i=++p)n=r[i],m=this.make_routing(n,i,s,t,u,_,e,a),u=m[0],_=m[1],o=m[2];for(this.airport_cheapest.push(t),this.fromto_codes.push(this.combine_codes(e,a)),this.stops_cheapest.push(u),h=0,d=_.length;d>h;h++)n=_[h],n.shortest=!0}},t.prototype.precompute_graph=function(t,e){var r,i,o,s;for(this.flight_data=t,this.tab_iden=e,this.number_of_groups=this.get_number_of_groups(),this.sel_routings=this.setup_sel_routings(this.number_of_groups),this.show_dominated=this.setup_show_dominated(this.number_of_groups),s=this.flight_data.itins,i=0,o=s.length;o>i;i++)r=s[i],this.build_routings_for_itin(r),this.make_booking_urls_for_itin(r);this.build_routings(),this.flight_data.airlines.X1=[\"Mystery Airline\",\"4B0082\",\"Mystery Airline\",\"\"],this.flight_data.airlines_cheapest=this.airlines_cheapest,this.flight_data.airport_cheapest=this.airport_cheapest,this.flight_data.fromto_codes=this.fromto_codes,this.flight_data.stops_cheapest=this.stops_cheapest},t.prototype.create_group_from_selected=function(t){var e,r,i,s,n,_;return s=t.f_leg.from_code,_=t.l_leg.to_code,i=t.f_leg.dep_dt_local,r=t.l_leg.arr_dt_local,e=t.f_leg.operating_num[0],n=o(t.f_leg.dep_dt_local,t.l_leg.arr_dt_local),[s,_,i,r,e,n]},t.prototype.create_group_from_unselected=function(t,e){var r,i,o,s,n,_;return s=t.search.groups[e].from_loc.short_name,_=t.search.groups[e].to_loc.short_name,o=Date.parse(t.search.groups[e].date),i=null,r=null,n=null,[s,_,o,i,r,n]},t.prototype.create_groups=function(){var t,e,r;return this.groups=function(){var i,o,s,n;for(s=this.flight_data.routings,n=[],t=i=0,o=s.length;o>i;t=++i)e=s[t],r=this.sel_routings[t],null!==r?n.push(this.create_group_from_selected(e[r])):n.push(this.create_group_from_unselected(this.flight_data,t));return n}.call(this),this.groups},t.prototype.setup_sel_group=function(t,e){var r;return r=null==t[e]?0:parseInt(e,10)||0},t.prototype.compute_flight_times=function(t){var e,r,i,o,s,n;return n=_.min(t,function(t){return t.f_leg.depart_sec}),o=_.max(t,function(t){return t.f_leg.depart_sec}),s=_.max(t,function(t){return t.l_leg.arrive_sec}),i=n.f_leg.depart_sec,e=o.f_leg.depart_sec,r=s.l_leg.arrive_sec,[i,r,e]},t.prototype.should_show_days=function(t,r,i){var o,s;return o=i-t>e,s=r-t>2*e,o||s},t.prototype.compute_time_scale_with_days=function(t,i,o,s,n){var _,u,a,l,p;for(a=this.round_down(i,e),a-=n;a>t;)a-=e;for(t=a,_=t;i>_;)i-_>e/2?_+=e:_=i+2*r;return i=_,l=e/2,u=(i-t)/l,p=100/(i-t),[t,i,s,p,u,l]},t.prototype.compute_time_scale_without_days=function(t,e,i,o,s){var n,_,u,a;for(a=s%r,a||(t-=900),t=this.round_down(t,r),t-=a,n=8,_=0;e>t+_*n;)_+=r;return e=t+_*n,u=100/(_*n),[t,e,o,u,n,_]},t.prototype.compute_time_scale=function(t,e){var r,i,o,s,n;return n=this.compute_flight_times(e),o=n[0],i=n[1],r=n[2],s=this.should_show_days(o,i,r),s?this.compute_time_scale_with_days(o,i,r,s,t):this.compute_time_scale_without_days(o,i,r,s,t)},t.prototype.build_time_scale=function(t,e){var r,i,o,s,n,_,u,a,l,p;return p=this.compute_time_scale(t,e),n=p[0],s=p[1],_=p[2],a=p[3],o=p[4],u=p[5],l=s-n,r=n,i=s,[n,s,_,a,o,u,l,r,i]},t.prototype.round_down=function(t,e){return Math.floor(t/e)*e},t.prototype.determine_to_from_aiport=function(t,e,r){var i,o,s,n,_,u,a,l;return n=t[0].legs,o=n[0].from_code,a=n[n.length-1].to_code,i=e[o],u=e[a],s=i.timezones[r],l=u.timezones[r],_=s!==l,[i,u,_]},t.prototype.get_timezone_offset=function(t,e){return t.timezones[e]*r},t.prototype.build_data_for_current_leg=function(){var t,e,r,i,o;null!=this.flight_data&&(this.sel_group=this.setup_sel_group(this.flight_data.routings,this.sel_group),this.routings=this.flight_data.routings[this.sel_group],e=this.flight_data.routings[this.sel_group],t=this.flight_data.airports,i=this.determine_to_from_aiport(e,t,this.sel_group),this.from_airport=i[0],this.to_airport=i[1],this.show_cities=i[2],r=this.get_timezone_offset(this.from_airport,this.sel_group),o=this.build_time_scale(r,e),this.min_time=o[0],this.max_time=o[1],this.show_days=o[2],this.time_scale=o[3],this.lines=o[4],this.time_per=o[5],this.time_window=o[6],this.first=o[7],this.last=o[8])},t.prototype.get_selected_flights=function(t){var e,r,i,o,s,n,_;if(null==t||0===function(){var r,i,o;for(o=[],r=0,i=t.length;i>r;r++)e=t[r],null!=e&&o.push(e);return o}().length)return[];for(s=[],r=n=0,_=t.length;_>n;r=++n)i=t[r],o=null!=i?this.flight_data.routings[r][i].api_iden:\"\",s.push(o);return s},t.prototype.get_baggage_fees_info=function(){var t,e,r,i,o,s,n;i=[],s=[],n=this.flight_data.airlines;for(t in n)e=n[t],o=e[0],r=e[3],null!=r&&(null!=r.first?i.push([o,r]):null!=r.url&&s.push([o,r.url]));return i.sort(cmp),s.sort(cmp),[i,s]},t.prototype.find_routing_num_from_api_iden=function(t,e){var r,i,o,s,n;for(n=this.flight_data.routings[t],i=o=0,s=n.length;s>o;i=++o)if(r=n[i],r.api_iden===e)return i;return null},t.prototype.preselect_group=function(t){this.has_flight_data()&&(this.sel_group=null!=t?t:0)},t.prototype.preselect_flights=function(t){var e,r,i,o;if(this.has_flight_data()){if(!t.length)return this.sel_routings=this.setup_sel_routings(this.get_number_of_groups()),void 0;for(e=i=0,o=t.length;o>i;e=++i)r=t[e],r&&(this.sel_routings[e]=this.find_routing_num_from_api_iden(e,r))}},t.prototype.invalidate_hashes_in_sel_routings=function(){var t,e,r,i,o;for(o=this.sel_routings,t=r=0,i=o.length;i>r;t=++r)e=o[t],null!=e&&(this.flight_data.routings[t][e].hash=null)},t}(),hm[\"export\"]({components:{AirTrafficControl:t}})}.call(this);\n!function(){$.hipmunk.flight_utils={extract_selected_routings_data:function(e,t){var i,n,r,a,_,u;return u=function(){var u,o,c,s;for(c=e.idx_routings,s=[],a=u=0,o=c.length;o>u;a=++u)i=c[a],_=t.routings[a][i],r=function(){var e,t,i,r;for(i=_.legs,r=[],e=0,t=i.length;t>e;e++)n=i[e],r.push({depart:n.depart,arrive:n.arrive,depart_sec:n.depart_sec,arrive_sec:n.arrive_sec,cabin:n.cabin,cabin_str:n.cabin_str,from_code:n.from_code,to_code:n.to_code,wifi:n.wifi,marketing_num:n.marketing_num,operating_num:n.operating_num,equipment:n.equipment});return r}(),s.push({iden:_.api_iden,legs:r});return s}()},trip:function(e,t,i){var n,r,a,_,u,o,c,s,g,l,m,p,f;if(o=$.hipmunk.utils.deepcopy(e),o.tab_iden=i.search.tab_iden,c=$.hipmunk.url.active_tab.serialize(),t.routings.length>1){for(p=t.routings,a=s=0,l=p.length;l>s&&(u=p[a],u!==e);a=++s);c.dates=[c.dates[a]],c.selected_flights=[u.iden],c.locations=[u.legs[0].from_code,u.legs[u.legs.length-1].to_code]}for(o.tab_params=c,o.price=t.price,o.round_trip=t.routings.length>1,r=i.airports,n=i.airlines,f=o.legs,g=0,m=f.length;m>g;g++)_=f[g],_.flight_name=$.trim($.hipmunk.flight_utils.leg_desc(i,_.operating_num)),\"X1\"!==_.marketing_num[0]&&_.operating_num[0]!==_.marketing_num[0]&&(_.marketing_name=$.trim($.hipmunk.flight_utils.leg_desc(i,_.marketing_num))),_.from_city=r[_.from_code].city,_.to_city=r[_.to_code].city,_.equipment=[i.equipments[_.equipment+_.operating_num[0]][0]];return o},header:function(e){var t,i,n;return i=e.legs[0],n=e.legs.slice(-1)[0],t=$.hipmunk.flight_utils.leg_code_suffix(i),[i.depart_sec,i.from_code+t,n.arrive_sec,n.to_code+t]},img_url:function(e,t,i){var n,r,a,_;return a=function(){var e,i,n,a;for(n=t.legs,a=[],e=0,i=n.length;i>e;e++)_=n[e],r=$.hipmunk.flight_utils.leg_code_suffix(_),a.push([_.depart_sec,_.arrive_sec,_.from_code+r,_.to_code+r,_.marketing_num,_.operating_num,_.wifi,_.cabin]);return a}(),n={n:e+1,h:JSON.stringify(i),d:JSON.stringify(a)},\"/trip/graph.png?\"+$.param(n)},leg_code_suffix:function(e){return\"2V\"===e.operating_num[0]?\".amtrak\":\"\"},leg_desc:function(e,t){var i,n,r,a;return i=t[0],r=t[1],n=e.airlines[i][0],-1===r&&(r=\"\"),a=n,\"X\"!==i[0]&&(a+=\" (\"+i+\") \"+r+\" \"),a},no_other_legs_selected:function(e,t){var i;return i=$.extend([],e),i.splice(t,1),0===_.compact(i).length}}}.call(this);\n!function(){var t,e,i,s,r,o,n,l,a,h=function(t,e){return function(){return t.apply(e,arguments)}},u={}.hasOwnProperty,d=function(t,e){function i(){this.constructor=t}for(var s in e)u.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},c=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};a=hm.utils.select_if_special_day,e=3600,t=86400,r=7,n=hm.utils.parse_int,s=hm.tabs.TabWithSidebar,i={halloween:\"flights-loading-halloween\",\"default\":\"flights-loading\"},o=function(){return a(i)},l=function(){var t,e,s;s=[];for(e in i)t=i[e],s.push($(\"body\").removeClass(t));return s},window.FlightTabBase=function(t){function e(){this.edit_search_toggle=h(this.edit_search_toggle,this),this.edit_search_close=h(this.edit_search_close,this),this.edit_search_open=h(this.edit_search_open,this),e.__super__.constructor.apply(this,arguments),this.$tab=$(\"#tab-\"+this.id)}return d(e,t),e.NO_RESULTS_ERROR_MESSAGE=\"No flights are available from the airlines we searched.\",e.prototype.edit_search_open=function(){return null==this.searchform&&(this.searchform=init_search_form(\"edit-search-form-\"+this.id,!0,!0,!0)),this.searchform.$this.data(\"success\",function(){var t;return(t=$.hipmunk.url).add_tab.apply(t,arguments)}),this.is_edit_search_open=!0,this.$results.find(\".edit-search-wrapper\").slideDown(),this.$tab.find(\".edit-search div:first\").removeClass(\"dd-arrow-blue\").addClass(\"dd-arrow-blue-up\"),$.hipmunk.utils.track(\"edit_search_open\",\"flight\")},e.prototype.edit_search_close=function(){return this.is_edit_search_open=!1,this.$results.find(\".edit-search-wrapper\").slideUp(),this.$tab.find(\".edit-search div:first\").removeClass(\"dd-arrow-blue-up\").addClass(\"dd-arrow-blue\"),$.hipmunk.utils.track(\"edit_search_close\",\"flight\")},e.prototype.edit_search_toggle=function(){var t;return t=this.is_edit_search_open?\"close\":\"open\",this[\"edit_search_\"+t]()},e.prototype.no_results=function(t){var e,i,s,r;return this.tip.try_close(),e=this.$results.find(\".errorbox:first\"),e.show(),e.find(\".inner\").html(t),i=this.$results.find(\".edit-search-wrapper\"),i.stop(!0,!0),r=i.is(\":visible\"),r||i.show(),s=i.offset().top+i.outerHeight(),r||(i.hide(),setTimeout(this.edit_search_open,400)),e.css(\"top\",s+10)},e}(s),window.FlightTab=function(i){function s(t,e,i){this.selection_and_price=h(this.selection_and_price,this),this.render_leg_selector=h(this.render_leg_selector,this),this.launch_ftue=h(this.launch_ftue,this),this.maybe_show_hotels_toaster=h(this.maybe_show_hotels_toaster,this),this.get_nearby_hotels=h(this.get_nearby_hotels,this),this.render_hotels_toaster=h(this.render_hotels_toaster,this),this.show_hotels_toaster=h(this.show_hotels_toaster,this),this.build_full=h(this.build_full,this),this.refresh=h(this.refresh,this);var r;s.__super__.constructor.call(this,t,e,i,[\"Bizclass\",\"Ads\"]),this.classname=\"FlightTab\",this.tab_iden=i.tab_iden,this.country=i.country,this.language=i.language,this.search=i.search,this.deals_city_id=i.deals_city_id,this.deals_city_name=i.deals_city_name,this.ip_loc=i.ip_loc,this.hotel_tab_params=i.hotel_tab_params,$.hipmunk.user.deals_city_id=this.deals_city_id,$.hipmunk.user.deals_city_name=this.deals_city_name,r=this.tab_params.locations,(null!=r?r.length:void 0)>=2&&(this.title_str=\"Flights from \"+r[0]+\" to \"+r[1]),this.make_api_call(),this.sel_group=this.tab_params.group,this.sel_routings=null,this.number_of_groups=0,this.cheapest_route=null,this.show_dominated=[],this.fromto_filters={},this.stop_filters=[!1,!1,!1],this.timebar_info={},this.$results=$(\"#results-\"+this.id),this.loading_box=new AppHeaderedBox(\"basic-app-modal interstitial-tip\"),this.$results.append(this.loading_box.$el),this.loading_box.set_header({loading:!0,loading_text:\"Searching\"}),this.loading_box.$el.hide(),this.cur_sort=this.choose_initial_sort(),this.tip=new_flight_tip(this),this.tip.show_in_tab(),this.fa_tip=null,this.$conflict_button=$(\"#calcut-\"+this.id),this.$cal_button=this.$results.find(\".filters .calendars-button\"),this.$too_picky_warning=$(\"#too-picky-warning-\"+t),this.$flightbar=null,this.tt_timer=null,this.slider_min_percent=0,this.slider_max_percent=1,this.$container=$.make_container(),this.$lightbox_container=Lightbox.make_container(),this.showing_booking_slideout=!1,this.setup_handlers()}return d(s,i),s.prototype.HOTELS_TOASTER_LOAD_DELAY=2e3,s.prototype.HOTELS_TOASTER_SHOW_DELAY=3e3,s.prototype.HOTELS_TOASTER_NUM_HOTELS=3,s.prototype.choose_initial_sort=function(){return\"agony\"},s.prototype.get_content_top=function(){var t;return t=$(\"#flight-holder-\"+this.id),t.offset().top},s.prototype.close_flightbar=function(){return $(\"#flightbar_tooltip\").remove(),null!=this.$flightbar&&this.$flightbar.closest(\".routing .routing-info\").removeClass(\"ontooltip\"),this.$flightbar=null},s.prototype.setup_handlers=function(){var t,e,i=this;return this.$results.on(\"click\",\"div.routing .select-column .small-button.orange\",function(t){var e,s,r;t.stopImmediatePropagation(),t.preventDefault(),i.tip.close(),e=$(t.currentTarget).closest(\"div.routing\"),r=n(e.cdata(\"r\")),s=n(e.cdata(\"g\")),i.select_routing(s,r),$.hipmunk.utils.track(\"flight_buy_button\",\"button-list\",{position:e.index()+1})}),this.$results.on(\"click\",\"div.grouptab\",function(t){var e,s;e=$(t.currentTarget),e.hasClass(\"book\")?e.hasClass(\"init-tooltip\")||i.show_booking():(i.hide_booking(),s=n(e.cdata(\"tab\")),i.update_url({group:s}),$.hipmunk.utils.track(\"flight_group\",s))}),this.$results.on(\"mouseenter mouseleave\",\"div.grouptab\",function(t){var e;e=$(t.currentTarget),\"mouseenter\"===t.type?e.hasClass(\"init-tooltip\")||e.hasClass(\"selected\")||e.addClass(\"hover\"):e.removeClass(\"hover\")}),this.$results.on(\"click\",\"div.grouptab .routing-clear\",function(t){var e;e=n($(t.currentTarget).closest(\".grouptab\").cdata(\"tab\")),i.unselect_routing(e),t.stopPropagation(),$.hipmunk.utils.track(\"flight_clear\",\"leg_selector\",{group:e})}),this.$results.on(\"click\",\".routing .routing-clear\",function(t){var e;t.stopImmediatePropagation(),t.preventDefault(),e=n($(t.currentTarget).closest(\".routing\").cdata(\"g\")),i.unselect_routing(e),$.hipmunk.utils.track(\"flight_clear\",\"select_column\",{group:e})}),this.$results.on(\"click\",\"div.box\",function(t){var e,s;s=$(t.currentTarget),e=s.closest(\".routing\"),$.hipmunk.utils.track(\"flight_buy_button\",\"flight-bar\",{group:i.tt_group,position:e.index()+1}),$.close_popups(),i.select_routing(i.tt_group,i.tt_routing),t.stopPropagation()}),this.$results.on(\"mouseenter mouseleave touchend\",\"div.box\",function(t){var e,s,r,o,l,a;if(\"mouseenter\"===t.type||\"touchend\"===t.type){if(null!=i.tt_timer&&clearTimeout(i.tt_timer),e=$(t.currentTarget),r=e.closest(\".routing\"),\"touchend\"===t.type&&(t.preventDefault(),$.tap_anywhere(function(){i.close_flightbar()})),null!=i.$flightbar){if(s=i.$flightbar.closest(\".routing\"),s[0]===r[0])return\"touchend\"===t.type&&$(t.currentTarget).trigger(\"click\"),void 0;i.close_flightbar()}i.$flightbar=e,a=n(r.cdata(\"r\")),l=n(r.cdata(\"g\")),o=i.flight_data.routings[l][a],i.sel_routing=o,i.tt_routing=a,i.tt_group=l,i.show_flight_info_harass(t,i.$flightbar,o),t.stopPropagation(),$.hipmunk.utils.track(\"flight_leg_hover\",\"bar\",{group:l,position:r.index()+1})}else i.tt_timer=set_timeout(50,function(){return i.close_flightbar()})}),this.$container.on(\"mouseenter mouseleave\",\"#flightbar_tooltip\",function(t){\"mouseenter\"===t.type?(clearTimeout(i.tt_timer),i.$flightbar.closest(\".routing .routing-info\").addClass(\"ontooltip\")):i.tt_timer=set_timeout(50,function(){return i.close_flightbar()})}),this.$results.on(\"click\",\"div.toggle-dominated\",function(t){var e,s,r;e=$(t.currentTarget).closest(\".routing\"),s=n(e.cdata(\"g\")),r=n(e.cdata(\"r\")),null!=i.show_dominated[s][r]?delete i.show_dominated[s][r]:i.show_dominated[s][r]=!0,$.hipmunk.utils.track(\"flight_dominate\",showhide(i.show_dominated[s][r]),{number:n($(t.currentTarget).text()),position:e.index()+1}),i.build_graph()}),t=function(){return i.booking_modal_timeout?(clearTimeout(i.booking_modal_timeout),i.booking_modal_timeout=null):void 0},this.$results.on(\"click\",\".book-button\",function(){var e;\"show\"===$.hipmunk.experiments.get_option(\"hotel_upsell_modal\")&&(t(),i.booking_modal_timeout=setTimeout(function(){return e()},15e3),i.$results.one(\"mousemove\",function(){t()}),e=function(){var t;return i.booking_modal_timeout=null,t=i.get_nearby_hotels(),t.done(function(t){var e;return e=new HotelUpsellLightbox,e.nearby_hotels=t,e.tab=i,e.show()})})}),this.$results.on(\"click\",\"div.sorts .small-button\",function(t){var e;e=$(t.currentTarget),i.cur_sort=e.cdata(\"sort\"),i.update_sort_header(),i.shuffle_graph(),$.hipmunk.utils.track(\"flight_sort\",i.cur_sort)}),this.$results.on(\"click\",\"div.nonstops\",function(t){var e;e=$(t.currentTarget),e.toggleClass(\"selected\"),i.stop_filters=[e.hasClass(\"selected\"),!1,!1],i.build_graph(),$.hipmunk.utils.track(\"flight_filter\",\"nonstop\")}),this.$results.on(\"change\",\"div.nonstop-filter input\",function(t){var e;e=$(t.currentTarget),i.stop_filters=[e.prop(\"checked\"),!1,!1],i.build_graph(),$.hipmunk.utils.track(\"flight_filter\",\"nonstop\")}),this.$results.on(\"click\",\"div.calcut\",function(t){var e;e=$(t.currentTarget),e.toggleClass(\"selected\"),i.calcut=e.hasClass(\"selected\"),i.build_graph(),$.hipmunk.utils.track(\"flight_filter\",\"calendar\")}),this.$results.delegate(\"div.hit-area\",\"dragstart\",function(t){i.slider_down(t,$(t.currentTarget).parent())}),this.$results.on(\"click\",\"div.controls-header .button-airline\",function(t){var e,s,r,o;e=i.$results.find(\".airline-filter-dropdown\"),e.length&&(r=function(){var t,e;t=this.flight_data.airlines,e=[];for(o in t)s=t[o],e.push([o,s[2]]);return e}.call(i),r=_.sortBy(r,function(t){return t[1]}),e.html(drykup.render($.templates.pref_airlines_box(i.id,r,$.prefs.airlines,$.prefs.airlines_show,i.flight_data))),t.stopPropagation(),$.hipmunk.utils.track(\"flight_dd_filter_open\",\"airlines\"))}),this.$results.on(\"click\",\"div.controls-header .button-fromto\",function(t){var e;e=i.$results.find(\".fromto-filter-dropdown\"),e.length&&(e.html(drykup.render($.templates.fromto_filter_dropdown(i.flight_data,i.sel_group,i.fromto_filters,i.id))),t.stopPropagation(),$.hipmunk.utils.track(\"flight_dd_filter_open\",\"fromto\"))}),this.$results.on(\"click\",\"div.controls-header .button-stops\",function(t){var e;e=i.$results.find(\".stops-filter-dropdown\"),e.length&&(e.html(drykup.render($.templates.stops_filter_dropdown(i.flight_data,i.sel_group,i.stop_filters,i.id))),t.stopPropagation(),$.hipmunk.utils.track(\"flight_dd_filter_open\",\"stops\"))}),this.$results.on(\"click\",\"div.filters div.dd-button, div.controls-header div.dd-button\",function(t){var e,s,r;i.tip.close(),e=$(t.currentTarget),s=i.$results.find(\".\"+e.cdata(\"button\")+\"-filter-dropdown\"),$.close_popups(),s.length&&($.show_dropdown(s,i.$container),r=s.find(\".popup-tri\"),r.css(\"left\",e.offset().left-r.parent().offset().left+(e.outerWidth()-r.width())/2)),t.stopPropagation()}),this.$results.on(\"mouseenter mouseleave\",\"div.airline-column .multiple-airlines .airline-logo\",function(t){var e,i,s;i=$(t.currentTarget),e=i.closest(\".airline-column\"),\"mouseleave\"===t.type?e.find(\".main-airline-name\").show().end().find(\".extra-airline-name\").hide():(s=i.cdata(\"logo\"),e.find(\".main-airline-name\").hide().end().find(\".airline-\"+s).show())}),this.$results.on(\"click\",\".baggage-fees-link\",function(t){var e,s,r,o,n,l,a,h,u,_;t.preventDefault(),l=[],h=[],_=i.flight_data.airlines;for(s in _)r=_[s],a=r[0],u=r[1],u=r[2],o=r[3],null!=o&&(null!=o.first?l.push([a,o]):null!=o.url&&h.push([a,o.url]));l.sort(cmp),h.sort(cmp),e=$(drykup.render($.templates.baggage_fee_lightbox(l,h))),n=new Lightbox(\"baggage_fees\",e,i.$lightbox_container),n.show()}),e=function(){var t,e,s,r;t=i.$container.find(\"input.airline:checked\"),$.prefs.airlines=function(){var i,s,o;for(o=[],i=0,s=t.length;s>i;i++)r=t[i],e=$(r),o.push([$(r).val(),e.siblings(\"label\").text()]);return o}(),$.prefs.save(),i.build_graph(),$.hipmunk.utils.track(\"flight_airlines\",$.prefs.airlines_show,{airlines:function(){var t,e,i,r;for(i=$.prefs.airlines,r=[],t=0,e=i.length;e>t;t++)s=i[t],r.push(s[0]);return r}()})},this.$container.on(\"change\",\".airline-filter-dropdown input\",function(){e(),$.hipmunk.utils.track(\"flight_dd_filter_change\",\"airline\")}),this.$container.on(\"change\",\".fromto-filter-dropdown input\",function(){var t,e,s,r,o,n,l,a,h;for(e=i.$container.find(\"input:not(:disabled)\"),h=function(){var t,i,r;for(r=[],t=0,i=e.length;i>t;t++)s=e[t],r.push($(s));return r}(),l=0,a=h.length;a>l;l++)t=h[l],n=t.cdata(\"which\"),r=t.cdata(\"code\"),o=t.cdata(\"group\"),i.fromto_filters[\"\"+n+\"-\"+o+\"-\"+r]=t.prop(\"checked\");i.build_graph(),$.hipmunk.utils.track(\"flight_dd_filter_change\",\"fromto\")}),this.$container.on(\"change\",\".stops-filter-dropdown input\",function(){var t,e,s,r,o,n,l;for(e=i.$container.find(\"input\"),l=function(){var t,i,r;for(r=[],t=0,i=e.length;i>t;t++)s=e[t],r.push($(s));return r}(),o=0,n=l.length;n>o;o++)t=l[o],r=t.cdata(\"stop_idx\"),i.stop_filters[+r]=t.prop(\"checked\");i.build_graph(),$.hipmunk.utils.track(\"flight_dd_filter_change\",\"stops\")}),this.$results.on(\"click\",\".add-fare-alert\",function(t){var e;return null==$.hipmunk.user.email?(e=new FareAlertTip(i),e.render(),e.show_as_lightbox(),void 0):($(t.currentTarget).hasClass(\"selected\")?$.hipmunk.settings_lightbox.open_with_section(\"email\"):farealert_add(i),void 0)}),this.$container.on(\"click\",\".ridetype .equipment a\",function(t){var e;e=$(t.currentTarget),$.hipmunk.utils.track(\"flight_seatguru\",e.text(),{href:e.attr(\"href\")})}),this.$results.on(\"click\",\".slideout-container .booking-details-link-container\",function(t){$(t.currentTarget).closest(\".slideout-box\").toggleClass(\"show-details\"),$.hipmunk.utils.track(\"flight_booking_details\",\"Flight Booking Slideout\")}),this.$results.on(\"click\",\".slideout-container .js-share-flight\",function(t){$(t.currentTarget).closest(\".slideout-box\").removeClass(\"show-share-success\").toggleClass(\"show-share-form\"),$.hipmunk.utils.track(\"flight_slideout_mail_click\")}),this.$results.on(\"click\",\".slideout-container .slideout-x\",function(){i.hide_booking(),$.hipmunk.utils.track(\"flight_slideout_close\")}),this.$results.on(\"click\",\".slideout-container .js-cal-link\",function(t){var e;e=$(t.currentTarget),-1!==e.attr(\"title\").indexOf(\"Outlook\")?$.hipmunk.utils.track(\"add_to_calendar\",\"outlook-download\"):-1!==e.attr(\"title\").indexOf(\"iCal\")&&$.hipmunk.utils.track(\"add_to_calendar\",\"iCal-download\")}),this.$results.on(\"click\",\".slideout-container .js-gcal-link\",function(t){var e,s,r;e=$(t.currentTarget),r=i.find_itins(i.sel_routings)[0],s=new CalendarAdder(r,i.flight_data),$.hipmunk.show_gcal_dropdown(i.$results.find(\".gcal-popup\"),e,i,s)}),this.$results.on(\"click\",\".slideout-container .js-hotel-upsell\",function(){$.hipmunk.url.add_hotel_tab_from_flight_tab(i)}),this.$results.on(\"click\",\".slideout-container .add-itin-to-trip .trip-add\",function(t){trip_planner.handle_add_flights_to_traveler(t,i,i.find_itins(i.sel_routings)[0]),t.stopPropagation()}),this.$results.on(\"click\",\".js-hotels-toaster__see-more\",function(){var t;$.hipmunk.url.add_tab(i.hotel_tab_params),t=i.hotel_tab_params.locations[0],$.hipmunk.utils.track(\"toaster_see_more_click\",null,{hotel_city:t})}),this.$results.on(\"click\",\".js-hotel-iwop\",function(){var t;t=i.hotel_tab_params.locations[0],$.hipmunk.utils.track(\"toaster_hotel_click\",null,{hotel_city:t})}),this.$results.on(\"click\",\".js-hotels-toaster__close\",function(t){var e,s,r;$.hipmunk.hotels_toaster_closed[i.to_loc_lat_lon]=!0,e=$(t.currentTarget).closest(\".hotels-toaster\"),s=e.outerHeight(),e.animate({bottom:-s},\"slow\",function(){return e.remove()}),r=i.hotel_tab_params.locations[0],$.hipmunk.utils.track(\"toaster_close\",null,{hotel_city:r})})},s.prototype.serialize=function(){return $.extend({},this.tab_params,{group:this.sel_group,selected_flights:this.get_selected_flights()})},s.prototype.to_url=function(){var t,e,i,s,r,o;return o=$.hipmunk.url.url_codec.encode([this.tab_params],!0),i=o[0],e=o[1],s=this.get_selected_flights(),t=this.sel_group,r=\"\"+i+\"#!\"+e+\"&group=\"+t+\"&selected_flights=\"+s.join(\",\")},s.prototype.update_url=function(t){$.hipmunk.url.update_url(this,t)},s.prototype.on_params_change=function(t){return $.hipmunk.url.active_tab===this&&this.update_ads(),t.group!==this.sel_group&&this.handle_select_group(t.group),$.hipmunk.utils.equals(t.selected_flights,this.get_selected_flights())?void 0:this.handle_select_flights(t.selected_flights)},s.prototype.handle_select_group=function(t){var e;return this.sel_group!==t?(e=this.sel_group,this.sel_group=t,this.reset_timebar_info(t,e),this.build_full()):void 0},s.prototype.handle_select_flights=function(t){return t.length>0?null!=this.flight_data?this.select_routings_from_selected_flights(t):this.tab_params.selected_flights=t:this.clear_all_routings()},s.prototype.get_selected_flights=function(){return this.routings_to_selected_flights(this.sel_routings)},s.prototype.routings_to_selected_flights=function(t){var e,i,s,r,o,n,l;if(null==t||0===function(){var i,s,r;for(r=[],i=0,s=t.length;s>i;i++)e=t[i],null!=e&&r.push(e);return r}().length)return[];for(o=[],i=n=0,l=t.length;l>n;i=++n)s=t[i],r=null!=s?this.flight_data.routings[i][s].api_iden:\"\",o.push(r);return o},s.prototype.select_routing=function(t,e){var i,s,r,o,n,l=this;return s=this.sel_routings.slice(0),s[t]=e,n=this.routings_to_selected_flights(s),c.call(s,null)>=0?(r=s.indexOf(null,t),-1===r&&(r=s.indexOf(null)),this.loading_box.$el.show(),set_timeout(500,function(){return l.update_url({group:r,selected_flights:n}),l.loading_box.$el.hide(),window.scrollTo(0,0)}),i=!1):($.hipmunk.utils.equals(this.sel_routings,s)?this.show_booking():this.update_url({selected_flights:n}),i=!0),o=this.routings[e],$.hipmunk.utils.track(\"flight_leg\",\"Results\",{final_leg:i,leg:t,agony:o.agony,price_shown:o.tmp_price,airlines:o.airlines,position:o.$html.index()+1})},s.prototype.unselect_routing=function(t){var e,i;return e=this.sel_routings.slice(0),e[t]=null,i=this.routings_to_selected_flights(e),this.update_url({selected_flights:i})},s.prototype.clear_all_routings=function(){var t;return null!=this.sel_routings&&(this.sel_routings=function(){var e,i,s,r;for(s=this.sel_routings,r=[],e=0,i=s.length;i>e;e++)t=s[e],r.push(null);return r}.call(this)),null!=this.flight_data?(this.reset_timebar_info(),this.build_full()):void 0},s.prototype.get_routings_from_selected_flights=function(t){var e,i,s,r,o,n,l;if(o=function(){var t,i,s;for(s=[],e=t=0,i=this.number_of_groups;i>=0?i>t:t>i;e=i>=0?++t:--t)s.push(null);return s}.call(this),t.length===this.number_of_groups)for(o=[],i=n=0,l=t.length;l>n;i=++n)s=t[i],r=null!=s?this.find_routing_number(i,s):null,o[i]=r;return 0===this.find_itins(o).length&&(o=function(){var t,i,s;for(s=[],e=t=0,i=this.number_of_groups;i>=0?i>t:t>i;e=i>=0?++t:--t)s.push(null);return s}.call(this)),o},s.prototype.build_full_from_routings=function(t){return this.sel_routings=t,this.build_full(),c.call(this.sel_routings,null)>=0?void 0:this.show_booking()},s.prototype.select_routings_from_selected_flights=function(t){var e;return e=this.get_routings_from_selected_flights(t),this.build_full_from_routings(e)},s.prototype.select_routings_from_pre_selected_flights=function(t){var e,i,s,r,o,n,l,a;return l=this.get_routings_from_selected_flights(t),a=function(){var e,i,r;for(r=[],s=e=0,i=l.length;i>e;s=++e)n=l[s],null==n&&t[s]&&r.push(s);return r}(),o=a.length,0===o?this.build_full_from_routings(l):(r=null,e=\"no longer available. Sorry for the inconvenience.\",i=a[0],this.sel_group=i,r=o===l.length?o>1?\"Your selected itinerary is \":\"Your selected flight is \":2===l.length?0===i?\"Your departure flight is \":\"Your return flight is \":o>1?\"Some of your selected flights are \":\"One of your selected flights is \",r&&show_top_message(r+e),this.build_full_from_routings(l))},s.prototype.show_booking=function(){return this.show_booking_slideout()},s.prototype.show_booking_slideout=function(){var t,e,i,s,r,o;this===$.hipmunk.url.active_tab&&(e=$(\"#leg-selector-\"+this.id),e.find(\".grouptab\").removeClass(\"selected\").end().find(\".grouptab.book\").addClass(\"selected\").removeClass(\"init-tooltip\"),r=this.find_itins(this.sel_routings)[0],o=this.sel_routings[this.sel_group],i=$(\"#rtable-\"+this.id),t=i.find(\".routing.r-\"+o+\".g-\"+this.sel_group),s=new BookingSlideout(this),s.show(t,r,this.sel_group),store_flight_book(this.flight_data,r),this.showing_booking_slideout=!0)},s.prototype.hide_booking=function(){var t,e;e=$(\"#leg-selector-\"+this.id),e.find(\".grouptab\").removeClass(\"selected\").end().find(\".grouptab.tab-\"+this.sel_group).addClass(\"selected\"),t=this.$results.find(\".routing.slideout\"),t.removeClass(\"slideout\").find(\".slideout-container\").empty(),this.showing_booking_slideout=!1},s.prototype.find_routing_number=function(t,e){var i,s,r,o,n;for(n=this.flight_data.routings[t],s=r=0,o=n.length;o>r;s=++r)if(i=n[s],i.api_iden===e)return s;return null},s.prototype.round_down=function(t,e){return Math.floor(t/e)*e},s.prototype.find_itins=function(t){var e,i,s,r,o,n;for(s=function(e){var i,s,r,o,n;for(n=e.idx_routings,i=r=0,o=n.length;o>r;i=++r)if(s=n[i],null!=t[i]&&t[i]!==s)return!1;return!0},i=[],n=this.flight_data.itins,r=0,o=n.length;o>r;r++)e=n[r],s(e)&&i.push(e);return i},s.prototype.on_activate=function(){s.__super__.on_activate.call(this),this.adjust_floating_header(),null==this.flight_data&&this===$.hipmunk.url.active_tab&&$(\"body\").addClass(o())},s.prototype.on_deactivate=function(){s.__super__.on_deactivate.call(this),l()},s.prototype.adjust_for_scroll=function(){this.adjust_floating_header(),this.sidebar&&this.sidebar.scroll()},s.prototype.adjust_floating_header=function(){var t,e,i,s;return s=$(\"#timelines-spacer-\"+this.id),e=$(\"#timelines-header-\"+this.id),s.size()&&e.size()?(i=$(window).scrollTop(),t=e.hasClass(\"float-on-top\"),t&&i-1<s.offset().top?(t=!1,e.removeClass(\"float-on-top \"+this.sidebar_spacer_classes),this.$flightholder.removeClass(\"border-timesabove\"),s.height(0)):!t&&i+1>s.offset().top&&(t=!0,s.height(e.outerHeight()),e.addClass(\"float-on-top\"),this.sidebar&&(e.addClass(this.sidebar.spacer_classes),this.$flightholder.addClass(\"border-timesabove\"))),t?(e.css(\"left\",-$(window).scrollLeft()),$.close_popups()):e.css(\"left\",0)):void 0},s.prototype.make_api_call=function(){var t=this;return this.call_time=$.now(),this.start_loading(),$.ajax(\"/api/results\",{type:\"post\",dataType:\"json\",data:{i:this.tab_iden,deals_mode:$.hipmunk.utils.query_param(\"deals_mode\")},complete:function(e,i){return t.finish_loading(\"plane\",i)},error:function(){return t.no_results(\"there was an error loading your search\")},success:function(e){var i;return null===e||0===e.itins.length?(t.no_results(FlightTabBase.NO_RESULTS_ERROR_MESSAGE),i=!0):(t.process_flight_data(e),i=!1),$.hipmunk.utils.track(\"flight_results\",\"flight\",{no_results:i,load_time:$.now()-t.call_time})}})},s.prototype.process_flight_data=function(t){var e,i;return this.flight_data=t,this.$results.addClass(\"currency-\"+t.search.currency.symbol_len),this.precompute_graph(),$.hipmunk.utils.equals(this.tab_params.selected_flights,this.get_selected_flights())?this.build_full():this.select_routings_from_pre_selected_flights(this.tab_params.selected_flights),this.tip.try_close(),this.$results.find(\".hider:first\").show().end().find(\".white-sep:first\").hide(),this.cheapest_route&&track_flight_search(this.flight_data,this.cheapest_route),i=this.flight_data.search.groups[0].to_loc,e=i.city_obj,this.to_loc_lat_lon=(null!=e?e.lat:void 0)?[e.lat,e.lon]:[i.latitude,i.longitude],this.init_calendar(),this.on_content_init(),this.confirm_price()},s.prototype.precompute_graph=function(){var t,e,i,s,r,o,n,l,a,h,u,_,d,p,f,g,m,b,v,y,k,w,x,T,C,S,O,H,E,A,L,M,j,D,R,z,P,B,N,Y,F,U,W,q,X,G,J,I;for(this.number_of_groups=this.flight_data.routings.length,this.sel_routings=function(){var t,e,i;for(i=[],h=t=0,e=this.number_of_groups;e>=0?e>t:t>e;h=e>=0?++t:--t)i.push(null);return i}.call(this),this.show_dominated=function(){var t,e,i;for(i=[],h=t=0,e=this.number_of_groups;e>=0?e>t:t>e;h=e>=0?++t:--t)i.push({});return i}.call(this),e={},F=this.flight_data.itins,x=0,O=F.length;O>x;x++){for(_=F[x],U=_.idx_routings,g=T=0,H=U.length;H>T;g=++T)for(u=U[g],m=this.flight_data.routings[g][u],m.itins?m.itins.push(_):m.itins=[_],null==m.sorts&&(m.sorts={}),(!m.sorts.price||_.price<m.sorts.price)&&(m.sorts.price=_.price),W=m.airlines,C=0,E=W.length;E>C;C++)r=W[C],(!e[r]||_.price<e[r])&&(e[r]=_.price);for(q=_.booking_urls,S=0,A=q.length;A>S;S++){for(s=q[S],b=[],X=_.idx_routings,g=z=0,L=X.length;L>z;g=++z)u=X[g],m=this.flight_data.routings[g][u],b.push(m.api_iden);o={name:s.name,price:s.price,iden:this.tab_iden,routings:b,user_id:$.hipmunk.user.id},\"undefined\"!=typeof trip_planner&&null!==trip_planner&&(o.business_class=!0),s.url=\"/simplebook/\"+escape(JSON.stringify(o))}}for(this.flight_data.airlines_cheapest=e,this.flight_data.airport_cheapest=[],this.flight_data.fromto_codes=[],this.flight_data.stops_cheapest=[],G=this.flight_data.routings,g=P=0,M=G.length;M>P;g=++P){for(a=G[g],f=1/0,v=[],i={},l={},w={},y=[1/0,1/0,1/0],u=B=0,j=a.length;j>B;u=++B){for(m=a[u],m.idx=u,m.tiebreak=Math.random(),m.group_num=g,m.iden=g+\"-\"+m.idx,t=[],J=m.legs,N=0,D=J.length;D>N;N++)p=J[N],p.dep_dt=new Date(1e3*p.depart_sec),p.arr_dt=new Date(1e3*p.arrive_sec),p.dep_dt_local=$.hipmunk.utils.tz_fix(p.dep_dt,$.hipmunk.utils.parse_offset(p.depart)),p.arr_dt_local=$.hipmunk.utils.tz_fix(p.arr_dt,$.hipmunk.utils.parse_offset(p.arrive)),p.dep_dt_tm=$.hipmunk.utils.pretty_time(p.dep_dt_local),p.arr_dt_tm=$.hipmunk.utils.pretty_time(p.arr_dt_local),p.cabin_str=this.flight_data.cabin_map[p.cabin],I=p.operating_num[0],c.call(t,I)<0&&t.push(p.operating_num[0]);m.airline_codes=t,m.f_leg=m.legs[0],m.l_leg=m.legs[m.legs.length-1],m.dep=m.f_leg.depart_sec,m.arr=m.l_leg.arrive_sec,m.from_code=m.f_leg.from_code,m.to_code=m.l_leg.to_code,m.num_days_after_depart=!1,m.sorts.agony=m.agony,m.sorts.spite=-m.agony,m.sorts.depart=m.dep,m.sorts.arrive=m.arr,m.sorts.duration=m.arr-m.dep,m.sorts.stops=m.legs.length-1,m.sorts.fromto=m.from_code+\" \"+m.to_code,m.sorts.airline=m.airline_codes.join(\" \"),k=Math.min(2,m.legs.length-1),m.sorts.price<y[k]&&(y[k]=m.sorts.price),(!i[m.from_code]||m.sorts.price<i[m.from_code])&&(i[m.from_code]=m.sorts.price),(!i[m.to_code]||m.sorts.price<i[m.to_code])&&(i[m.to_code]=m.sorts.price),m.shortest=!1,n=m.arr-m.dep,f>n?(f=n,v=[m]):n===f&&v.push(m),l[m.from_code]=m.from_code,w[m.to_code]=m.to_code}for(this.flight_data.airport_cheapest.push(i),this.flight_data.fromto_codes.push([function(){var t;t=[];for(d in l)t.push(d);return t}(),function(){var t;t=[];for(d in w)t.push(d);return t}()]),this.flight_data.stops_cheapest.push(y),Y=0,R=v.length;R>Y;Y++)m=v[Y],m.shortest=!0}return this.flight_data.airlines.X1=[\"Mystery Airline\",\"4B0082\",\"Mystery Airline\",\"\"],\"undefined\"!=typeof trip_planner&&null!==trip_planner?trip_planner.mark_flight_tab(this):void 0},s.prototype.refresh=function(){null!=this.calendar_drop&&this.calendar_drop.refresh(),this.build_full(),this.showing_booking_slideout&&this.show_booking_slideout()},s.prototype.build_full=function(){var t,e,i,s,r,o,a,h,u,_,d,c,p;null!=this.flight_data&&(this===$.hipmunk.url.active_tab&&l(),null==this.flight_data.routings[this.sel_group]&&(this.sel_group=0),$.close_popups(),e=$(\"#rtable-\"+this.id),this.sel_group=n(this.sel_group)||0,d=this.flight_data.routings[this.sel_group],this.setup_to_from_airport(d),this.setup_time_scale(),$.browser.msie&&(t=$(\"#sub-graph-\"+this.id),t.children().remove()),e.html(drykup.render($.templates.flight_graph(this.flight_data,this.id,this.from_airport,this.to_airport,this.show_cities,this.lines,this.time_per,this.time_scale,this.show_days,this.min_time,this.max_time,this.sel_group))),this.$results.find(\".calendar-controls\").append(this.$cal_button),this.$results.find(\".filters .fare-alert-area\").remove(),this.$conflict_button.appendTo(this.$results.find(\".conflicts-control-set\")),this.$results.find(\".filters\").remove(),this.update_sort_header(),this.$rtable=$(\"#rtable-\"+this.id),this.$flightholder=$(\"#flight-holder-\"+this.id),this.update_slider_display(),this.groups=function(){var t,e,n,l;for(n=this.flight_data.routings,l=[],a=t=0,e=n.length;e>t;a=++t)_=n[a],c=this.sel_routings[a],null!==c?(u=_[c],o=u.f_leg.from_code,p=u.l_leg.to_code,r=u.f_leg.dep_dt_local,s=u.l_leg.arr_dt_local,i=u.f_leg.operating_num[0],h=$.hipmunk.utils.days_between(u.f_leg.dep_dt_local,u.l_leg.arr_dt_local)):(o=this.flight_data.search.groups[a].from_loc.short_name,p=this.flight_data.search.groups[a].to_loc.short_name,r=Date.parse(this.flight_data.search.groups[a].date),s=null,i=null,h=null),l.push([o,p,r,s,i,h]);return l}.call(this),this.routings=d,this.build_graph(),this.render_leg_selector(this.groups),\"flight\"===this.search.form&&this.search.groups.length<=2&&\"USD\"===this.search.currency.code&&set_fare_button(this),null==this.retargetted&&(adroll_event(\"flight retarget\"),this.retargetted=!0))},s.prototype.show_hotels_toaster=function(t){var e,i,s,r,o,n;return this.did_show_hotels_toaster=!0,this.$results.append(t),e=t.find(\".hotel-iwo:first\"),r=e.width(),i=r/e.height(),t.find(\".hotel-iwo__image\").each(function(t,e){var s;return s=$(e),s.width()/s.height()>i?(s.css(\"height\",\"100%\"),s.css(\"margin-left\",(r-s.width())/2)):s.css(\"width\",\"100%\")}),s=t.css(\"bottom\"),o=t.outerHeight(),t.css(\"bottom\",-o).animate({bottom:s},\"slow\"),n=this.hotel_tab_params.locations[0],$.hipmunk.utils.track(\"toaster_show\",null,{hotel_city:n})},s.prototype.render_hotels_toaster=function(){var t,e=this;return t=$.Deferred(),this.get_nearby_hotels().done(function(i){var s;return i.length?(s=$.render($.templates.hotels_toaster(e.hotel_tab_params,i)),s.imagesLoaded(function(){return t.resolve(s)})):(console.log(\"no nearby hotels\"),t.reject(),void 0)}),t.promise()},s.prototype.get_nearby_hotels=function(){var t,e=this;return t=$.Deferred(),this.to_loc_lat_lon in $.hipmunk.nearby_hotels?(t.resolve($.hipmunk.nearby_hotels[this.to_loc_lat_lon]),t):($.ajax(\"/api/hotel2/nearby\",{type:\"get\",data:{lat:this.to_loc_lat_lon[0],lon:this.to_loc_lat_lon[1],limit:this.HOTELS_TOASTER_NUM_HOTELS,country:this.country,language:this.language},dataType:\"json\",success:function(i){var s,r;return r=function(){var t,e,r,o,n;for(o=null!=(r=i.hotels)?r:[],n=[],t=0,e=o.length;e>t;t++)s=o[t],n.push(new HotelModel(s,i.amens));return n}(),$.hipmunk.nearby_hotels[e.to_loc_lat_lon]=r,t.resolve(r)}}),t.promise())},s.prototype.on_content_deactivate=function(){var t,e;return s.__super__.on_content_deactivate.apply(this,arguments),null!=(t=this.hotels_toaster_load_wait)&&t.clear(),null!=(e=this.hotels_toaster_show_wait)?e.clear():void 0},s.prototype.on_content_activate=function(){return s.__super__.on_content_activate.apply(this,arguments),$.hipmunk.NpsToaster.maybe_show({search_kind:\"flight\"}),$.hipmunk.user.has_finished_ftue||$(\"#ftue-harass\").length?void 0:this.launch_ftue()},s.prototype.maybe_show_hotels_toaster=function(){var t=this;return this.did_show_hotels_toaster||$.hipmunk.hotels_toaster_closed[this.to_loc_lat_lon]?void 0:(this.hotels_toaster_load_wait=$.wait(this.HOTELS_TOASTER_LOAD_DELAY),this.hotels_toaster_load_wait.done(function(){return t.hotels_toaster_show_wait=$.wait(t.HOTELS_TOASTER_SHOW_DELAY),$.when(t.render_hotels_toaster(),t.hotels_toaster_show_wait).done(function(e){return t.show_hotels_toaster(e)})}))},s.prototype.launch_ftue=function(){var t,e,i,s,r,o,n,l,a,h,u,_,d,c,p=this;return s=9,r=4,i=160,u=[{heading:\"Skip the Agony!\",text:\"We sort flights by a combo of best\\nprice, shortest length and fewest layovers.\",next:\"Got it!\"}],_=[function(){var o,n,a;return e.on(\"click\",function(t){var e,i;return e=$(t.target),i=e.hasClass(\"next\")?\"next_link\":e.hasClass(\"close\")?\"close\":\"callout_body\",$.hipmunk.utils.track(\"flight_ftue_click\",i),l(t)}),e.find(\".tri\").removeClass(\"bottom\").css(\"top\",-s).end().find(\".sliced_hipmunk\").show(),t.on(\"mouseenter\",h),o=t.offset(),n=o.left+.5*(t.outerWidth()-i),a=o.top+t.outerHeight()+s-r,n=Math.max(n,5),{left:n,top:a}}],l=function(){var t,i,s;if(o>=d)return n(),void 0;\ne.hide(),t=u[o];for(i in t)s=t[i],e.find(\".\"+i).html(s);return a(),o+=1},a=function(){var t,i,s,r;i=_[o](),r=[];for(t in i)s=i[t],r.push(e.css(t,s));return r},n=function(){return e.hide(),t.off(\"mouseenter\",h),$.post(\"/user/finished_ftue\"),$.hipmunk.user.has_finished_ftue=!0},h=function(){return!1},o=0,d=1,e=$(drykup.render($.templates.ftue_harass())),t=this.$results.find(\".sort-agony\"),c=function(){t=p.$results.find(\".sort-agony\"),l(),$.show_popup_group(\"ftue\",e,p.$container,n)},set_timeout(300,function(){p===$.hipmunk.url.active_tab&&c()})},s.prototype.update_ads=function(){this.did_content_init&&this.sidebar instanceof AdsSidebar&&this.show_sidebar()},s.prototype.show_sidebar=function(){s.__super__.show_sidebar.call(this),$(\"#dfp-ad-slot-1\").appendTo(this.$results.find(\".bottom-ad-container\"))},s.prototype.add_sidebar_layout=function(){s.__super__.add_sidebar_layout.call(this),this.$flightholder.addClass(\"border-filter\")},s.prototype.render_leg_selector=function(t){var e,i;return e=$(\"#leg-selector-\"+this.id),i=drykup.render($.templates.group_selector_line(this.sel_group,this.sel_routings,t,!0)),e.html(i)},s.prototype.build_graph=function(){var t,e,i,s,r,o,n,l,a,h,u,_,d,c,p;if(null!=this.flight_data){for(null!=this.calendar_drop&&this.calendar_drop.refresh(this.compute_time_scale(this.sel_group)),n=$.prefs.airlines.length>0,$(\"#airlines-button-\"+this.id).toggleClass(\"selected\",n),this.$results.find(\".controls-header .button-airline\").toggleClass(\"selected\",n),this.$results.find(\".controls-header .button-stops\").toggleClass(\"selected\",\"false,false,false\"!==this.stop_filters.toString()),this.itins=this.filter_itins(),u=this.routings,i=JSON.stringify([this.sel_routings,this.cur_sort,this.sel_group,this.show_dominated,$.prefs.airlines,$.prefs.disabled_events,$.prefs.disabled_cals]),i!==this.dom_hash&&(this.dom_hash=i,u=this.selection_and_price(u),u=this.sort_routings(u),u=this.compute_domination(u),u=this.expand_dominated(u),this.shown_routings=u),t=$(\".airline-prefs-warning\"),t.hide(),this.$too_picky_warning.hide(),p=this.filter_out(this.shown_routings),u=p[0],l=p[1],0===l.length&&t.show(),0===u.length&&this.$too_picky_warning.show(),_=function(){var t,e,i,r;for(i=this.sel_routings,r=[],t=0,e=i.length;e>t;t++)s=i[t],null==s&&r.push(s);return r}.call(this).length,h=0===_||1===_&&null===this.sel_routings[this.sel_group],e=$(\"#sub-graph-\"+this.id),o=0,e.children().detach(),d=0,c=u.length;c>d;d++)a=u[d],r=JSON.stringify([a.tmp_price,a.dominated_num,a.selected,a.expanded,a.cheapest,a.bracket,h,a.marked]),r!==a.hash&&(a.hash=r,a.$html=$(drykup.render($.templates.flight_routing(a,this))),o+=1),e.append(a.$html);this.$rtable.toggleClass(\"showfromto\",this.need_airports(this.routings)),this.update_conflicts_button(),this.update_nonstop_button(),this.update_airport_button(),this.update_striping()}},s.prototype.shuffle_graph=function(){var t,e,i,s,r,o;for(i=this.shown_routings,i=this.sort_routings(i),s=$(\"#sub-graph-\"+this.id),r=0,o=i.length;o>r;r++)e=i[r],t=$(\"#r-\"+e.iden+\"-\"+this.id),s.append(t);this.update_striping()},s.prototype.update_striping=function(){var t;t=$(\"#sub-graph-\"+this.id+\" .routing\"),t.removeClass(\"even\"),t.filter(\":nth-child(2n)\").addClass(\"even\")},s.prototype.filter_itins=function(){var t,e,i,s,r,o,n,l;for(s=this.flight_data.search.total_seats,n=this.flight_data.itins,l=[],r=0,o=n.length;o>r;r++)e=n[r],e.filtered=!1,l.push(function(){var s,r,o,n;for(o=this.sel_routings,n=[],t=s=0,r=o.length;r>s;t=++s)i=o[t],t!==this.sel_group&&(null!==i&&e.idx_routings[t]!==i?n.push(e.filtered=!0):n.push(void 0));return n}.call(this));return l},s.prototype.selection_and_price=function(t){var e,i,s,r,o,n,l,a,h,u,_,d,c,p,f;for(o=!1,i=[],s=[],l=this.flight_data.search.total_seats,a=0,_=t.length;_>a;a++){for(n=t[a],n.selected=n.idx===this.sel_routings[this.sel_group],n.cheapest=!1,n.tmp_price=null,p=n.itins,h=0,d=p.length;d>h;h++)r=p[h],r.filtered||(!n.tmp_price||n.tmp_price>r.price)&&(n.tmp_price=Math.round(r.price),n.tmp_total_seats=null!=(f=r.total_seats)?f:l);n.tmp_price&&(this.is_amtrak(n)||(!o||o>n.tmp_price?(o=n.tmp_price,i=[n]):o===n.tmp_price&&i.push(n)),null!=n.sorts&&(n.sorts.price=n.tmp_price*n.tmp_total_seats),s.push(n))}for(u=0,c=i.length;c>u;u++)e=i[u],e.cheapest=!0;return this.cheapest_route=i[0],s},s.prototype.is_amtrak=function(t){return\"2V\"===t.legs[0].operating_num[0]},s.prototype.compute_flight_times=function(t){var e,i,s;return s=_.min(t,function(t){return t.f_leg.depart_sec}).f_leg.depart_sec,e=_.max(t,function(t){return t.f_leg.depart_sec}).f_leg.depart_sec,i=_.max(t,function(t){return t.l_leg.arrive_sec}).l_leg.arrive_sec,[s,i,e]},s.prototype.should_show_days=function(e,i,s){return s-e>t||i-e>2*t},s.prototype.compute_time_scale=function(i){var s,r,o,n,l,a,h,u,_,d,c,p,f,g,m,$;if(_=this.flight_data.routings[i],$=this.compute_flight_times(_),u=$[0],h=$[1],n=$[2],d=this.should_show_days(u,h,n),l=_[0].legs,o=l[0].from_code,r=this.flight_data.airports[o],g=r.timezones[i]*e,d){for(c=this.round_down(h,t),c-=g;c>u;)c-=t;for(u=c,s=u;h>s;)h-s>t/2?s+=t:s=h+2*e;h=s,p=t/2,a=(h-u)/p,f=100/(h-u)}else{for(m=g%e,m||(u-=900),u=this.round_down(u,e),u-=m,a=8,p=0;h>u+p*a;)p+=e;h=u+p*a,f=100/(p*a)}return{min_time:u,max_time:h,show_days:d,time_scale:f,lines:a,time_per:p}},s.prototype.setup_time_scale=function(){var t;return t=this.compute_time_scale(this.sel_group),this.min_time=t.min_time,this.max_time=t.max_time,this.show_days=t.show_days,this.time_scale=t.time_scale,this.lines=t.lines,this.time_per=t.time_per,this.time_window=this.max_time-this.min_time,this.first=this.min_time,this.last=this.max_time},s.prototype.setup_to_from_airport=function(t){var e,i,s;return i=t[0].legs,e=i[0].from_code,s=i[i.length-1].to_code,this.from_airport=this.flight_data.airports[e],this.to_airport=this.flight_data.airports[s],this.show_cities=this.from_airport.timezones[this.sel_group]!==this.to_airport.timezones[this.sel_group]},s.prototype.update_conflicts_button=function(){var t,e,i,s,r,o,n;if(t=this.calcut,this.calcut=!1,n=this.filter_out(this.shown_routings),s=n[0],e=n[1],this.calendar_drop)for(r=0,o=s.length;o>r;r++)if(i=s[r],this.calendar_drop.is_calcut(i))return this.calcut=t,this.$conflict_button.show();this.$conflict_button.hide(),t&&(this.$conflict_button.removeClass(\"selected\"),this.build_graph())},s.prototype.update_nonstop_button=function(){var t;t=\"true,false,false\"===this.stop_filters.toString(),this.$results.find(\".nonstops\").toggleClass(\"selected\",t),this.$results.find(\".nonstop-filter input\").prop(\"checked\",t)},s.prototype.update_airport_button=function(){var t,e,i,s;t=!1,s=this.fromto_filters;for(e in s)i=s[e],-1!==e.indexOf(\"-\"+this.sel_group+\"-\")&&i&&(t=!0);this.$results.find(\".button-fromto\").toggleClass(\"selected\",t)},s.prototype.filter_out=function(t){var e,i,s,r,o,n,l,a,h,u,_,d,c,p,f,g,m;u=function(){var e,i,s;for(s=[],e=0,i=t.length;i>e;e++)_=t[e],$.prefs.airlines.length>0&&!this.has(_.airlines,$.prefs.airlines)||s.push(_);return s}.call(this),o=0===u.length?t:u,c=\"false,false,false\"===this.stop_filters.toString(),d=!0,p=!0,g=this.fromto_filters;for(l in g)r=g[l],m=l.split(\"-\"),f=m[0],n=m[1],e=m[2],r&&+n===this.sel_group&&(\"from\"===f?d=!1:p=!1);return s=this.min_time+this.slider_min_percent*this.time_window,i=this.min_time+this.slider_max_percent*this.time_window,a=function(){var t,e,r;for(r=[],t=0,e=o.length;e>t;t++)_=o[t],s>_.legs[0].depart_sec||i<_.legs[_.legs.length-1].arrive_sec||this.calcut&&this.calendar_drop&&this.calendar_drop.is_calcut(_)||(d||this.fromto_filters[\"from-\"+this.sel_group+\"-\"+_.from_code])&&(p||this.fromto_filters[\"to-\"+this.sel_group+\"-\"+_.to_code])&&(h=Math.min(2,_.legs.length-1),(this.stop_filters[h]||c||_.dominatedby!==!1)&&r.push(_));return r}.call(this),[a,u]},s.prototype.sort_routings=function(t){var e=this;return t.sort(function(t,i){var s;return s=\"string\"==typeof t.sorts[e.cur_sort]?t.sorts[e.cur_sort].localeCompare(i.sorts[e.cur_sort]):t.sorts[e.cur_sort]-i.sorts[e.cur_sort],0===s&&(s=t.sorts.agony-i.sorts.agony),0===s&&(s=t.tiebreak-i.tiebreak),s})},s.prototype.expand_dominated=function(t){var e,i,s,r,o,l,a,h,u,_,d,c,p,f,g,m;for(g=this.routings,a=0,d=g.length;d>a;a++)o=g[a],o.selected&&(s=o.dominatedby,null!=s&&s.group_num===this.sel_group&&(this.show_dominated[this.sel_group][s.idx]=!0));for(r=[],h=0,c=t.length;c>h;h++){o=t[h],r.push(o),o.expanded=!1,o.bracket=null;for(l in this.show_dominated[this.sel_group])if(n(l)===o.idx&&null!=this.domination[o.iden])for(o.expanded=!0,m=this.domination[o.iden],u=0,p=m.length;p>u;u++)i=m[u],r.push(i)}for(e=r[0],_=0,f=r.length;f>_;_++)o=r[_],o.dominatedby!==!1?(o.bracket=\"side\",o.dominatedby===e&&(e.bracket=\"top\")):e.dominatedby!==!1&&(e.bracket=\"bottom\"),e=o;return r},s.prototype.has=function(t,e){var i,s,r,o,n;for(r=0,o=e.length;o>r;r++)if(n=e[r],i=n[0],s=n[1],c.call(t,i)>=0)return!0;return!1},s.prototype.compute_domination=function(t){var e,i,s,r,o,n,l,a,h,u,_,d,c,p,f=this;for(h=0,d=t.length;d>h;h++)n=t[h],n.dominatedby=null,n.dominated_num=0;for(a=function(t,e){var i,s,r,o,n,l,a,h;for(r=function(t){var e;return null!=(e=t[i])?e:0},a=f.flight_data.rules,n=0,l=a.length;l>n;n++){if(h=a[n],s=h[0],i=h[1],o=h[2],\"<\"===s&&r(e,i)<r(t,i))return o;if(\">\"===s&&r(e,i)>r(t,i))return o;if(\"==\"===s&&r(e,i)===r(t,i))return o;if(\"!=\"===s&&r(e,i)!==r(t,i))return o;if(\"<=\"===s&&r(e,i)<=r(t,i))return o;if(\">=\"===s&&r(e,i)>=r(t,i))return o;if(\"!=0\"===s&&0!==r(t,i))return o}return!1},s=function(t,e){var i,s;return a(t,e)?$.prefs.airlines.length>0?(s=f.has(t.airlines,$.prefs.airlines),i=f.has(e.airlines,$.prefs.airlines),s===i):t.airlines.length>0?\"\"+t.airlines==\"\"+e.airlines:!0:!1},e=function(i){var r,o,n;if(null==i.dominatedby){for(o=0,n=t.length;n>o;o++)if(r=t[o],i!==r&&!r.dominatedby&&s(i,r)&&(e(r),!r.dominatedby))return i.dominatedby=r,r.dominated_num+=1,void 0;return i.dominatedby=!1}},u=0,c=t.length;c>u;u++)n=t[u],e(n);for(o=[],this.domination={},l={},_=0,p=t.length;p>_;_++)n=t[_],r=n.dominatedby,r?(i=this.domination[r.iden],i||(this.domination[r.iden]=i=[]),i.push(n)):o.push(n);return o},s.prototype.need_airports=function(t){var e,i,s,r,o;for(e=null,s=null,r=0,o=t.length;o>r;r++)if(i=t[r],e||s||(e=i.f_leg.from_code,s=i.l_leg.to_code),e!==i.f_leg.from_code||s!==i.l_leg.to_code)return!0;return!1},s.prototype.show_flight_info_harass=function(t,e,i){var s,r,o,n,l,a,h,u,_,d,c,p;return n=$(drykup.render($.templates.flightbar_tooltip(i,this.flight_data))),o=n.find(\".tri\"),$.show_popup(n,this.$container),s=e.closest(\"div.graph\").children(\"div.box\"),p=n.width(),d=n.outerHeight(),l=s.first().offset(),a=l.top,r=s.last(),u=r.offset(),_=(u.left+r.width()+l.left-8-p)/2,_=Math.min(_,$(window).width()-p-20),h=t.offsetY<e.outerHeight()/2,c=a+s.outerHeight()+.5*o.outerHeight(),(h||this.is_above_frame(c+d,s))&&(c-=d+s.outerHeight()+o.outerHeight(),o.addClass(\"bottom\").css(\"top\",d)),n.css({top:c,left:_})},s.prototype.is_above_frame=function(t,e){var i;return i=window.innerHeight||document.body.clientHeight,t+e.outerHeight()>$(window).scrollTop()+i},s.prototype.slider_down=function(t,e){var i,s,r,o,n,l,a,h,u=this;return\"touchstart\"===t.type?(n=t.originalEvent.touches[0].pageX,t.preventDefault()):n=t.pageX,i=e.children(\"div.hit-area\"),e.hasClass(\"left\")?(h=\"left\",s=this.$results.find(\".anchor.right\")):(h=\"right\",s=this.$results.find(\".anchor.left\")),a=e.parent().width(),l=e.parent().offset().left,o=s.position().left,r=n-e.offset().left,i.addClass(\"hover\"),$(document).on(\"dragmove.slider\",function(t){var e,i,s,_,d,c;return n=t.pageX,e=120,\"right\"===h?(i=a,s=o+e):(i=o-e,s=0),_=n-l-r,d=Math.min(Math.max(_,s),i),c=d/a,\"right\"===h?u.slider_max_percent=c:u.slider_min_percent=c,u.update_slider_display([h]),!1}),$(document).on(\"dragend.slider\",function(){var t,s;s=\"dragmove.slider dragend.slider\",$(document).off(s),i.removeClass(\"hover\"),t=e.css(\"left\"),u.build_graph(),$.hipmunk.utils.track(\"flight_time_slider\",h,{flight_left:u.$rtable.find(\".routing\").length,pos:t})}),!1},s.prototype.move_slider_to_percent=function(t,e,i,s){var r;return null==i&&(i=!1),null==s&&(s=null),r={left:100*e+\"%\"},i?t.animate(r,function(){return\"function\"==typeof s?s():void 0}):t.css(r)},s.prototype.update_slider_display=function(t,e,i){var s,r,o,n,l,a,h,u;for(null==t&&(t=[\"left\",\"right\"]),null==e&&(e=!1),null==i&&(i=null),u=[],a=0,h=t.length;h>a;a++)l=t[a],s=this.$results.find(\".anchor.\"+l),r=this.$results.find(\".graydiv-\"+l),\"left\"===l?(n=this.slider_min_percent,o=n):(n=this.slider_max_percent,o=1-n),this.move_slider_to_percent(s,n,e,i),this.update_time_box_and_clock(s,n,l),u.push(r.width(100*o+\"%\"));return u},s.prototype.update_time_box_and_clock=function(t,e,i){var s,r,o,n,l,a,h,u,_;return r=t.find(\".timebox\"),s=t.find(\".clock\"),u=this.min_time+e*this.time_window,n=!0,\"right\"===i?(_=this.to_airport.timezones[this.sel_group],n=1===e):(_=this.from_airport.timezones[this.sel_group],n=0===e),o=new Date(1e3*u),o=$.hipmunk.utils.tz_fix(o,_),n?r.hide():r.html($.hipmunk.utils.pretty_time(o)).show(),a=Math.floor(6*o.getMinutes()),l=Math.floor((60*(o.getHours()%12)+o.getMinutes())/2),h=Modernizr.testAllProps(\"transform\",\"pfx\"),h?(s.find(\".minute-hand\").css(h,\"rotate(\"+a+\"deg)\"),s.find(\".hour-hand\").css(h,\"rotate(\"+l+\"deg)\")):s.hide()},s.prototype.reset_timebar_info=function(t,e){var i;return null==t&&(t=this.sel_group),null!=e&&(this.timebar_info[e]={slider_min_percent:this.slider_min_percent,slider_max_percent:this.slider_max_percent}),null!=t&&this.timebar_info[t]?(i=this.timebar_info[t],this.slider_min_percent=i.slider_min_percent,this.slider_max_percent=i.slider_max_percent):(this.slider_min_percent=0,this.slider_max_percent=1)},s.prototype.init_calendar=function(){var t,e,i,s;if(t=$(\"#calendar-holder-\"+this.id+\", #active-calendars-filter-\"+this.id),!calendar_on())return t.hide(),this.$button=$(\"#calendars-button-\"+this.id),this.$button.html(drykup.render($.templates.calendar_connect_with_google(\"flight\"))),this.$button.show();if(t.show(),this.$cal_header=$(\"#calendar-header-\"+this.id),this.$stain_pane=$(\"#stain-pane-\"+this.id),null==this.calendar_drop){for(this.calendar_drop=new UserCalendar(this,this.id,this.$results,this.$container,\"flight\"),e=i=0,s=this.number_of_groups;s>=0?s>i:i>s;e=s>=0?++i:--i)this.calendar_drop.preload(this.compute_time_scale(e));return this.calendar_drop.refresh(this.compute_time_scale(this.sel_group))}},s.prototype.update_sort_header=function(){return this.$results.find(\".sorts .small-button\").removeClass(\"selected\").filter(\".sort-\"+this.cur_sort).addClass(\"selected\")},s.prototype.confirm_price=function(){var t,e,i,s,r,o;if(this.tab_params.confirm_price){for(t=null,o=this.flight_data.routings[0],s=0,r=o.length;r>s;s++)e=o[s],this.is_amtrak(e)||(!t||e.tmp_price<t)&&(t=e);return!t||t.tmp_price>+this.tab_params.confirm_price?(show_top_message(\"The price we showed you earlier for this search is no longer available. We apologize for the inconvenience.\"),$.hipmunk.utils.track(\"deals_price_mismatch_shown\")):this.tab_params.selected_flights.length||(i=function(){var t,i,s;for(s=[],e=t=0,i=this.number_of_groups;i>=0?i>t:t>i;e=i>=0?++t:--t)s.push(\"\");return s}.call(this),i[0]=t.api_iden,this.select_routings_from_selected_flights(i)),this.update_url({confirm_price:0})}},s}(FlightTabBase)}.call(this);\n!function(){var t,r,n,e,a,i,u,l,o,d,m,b,p,c,f,s,h,_,k,g,v,w,x,y,j,q,z,A,B,C,D,E;E=window.drykup,g=E.render,a=E.div,w=E.span,x=E.table,B=E.thead,y=E.tbody,C=E.tr,j=E.td,A=E.th,q=E.text,z=E.textarea,e=E.button,d=E.hr,m=E.iframe,k=E.raw,t=E.a,n=E.br,r=E.b,b=E.img,c=E.label,i=E.form,p=E.input,D=E.ul,f=E.li,u=E.h1,l=E.h2,o=E.h4,v=E.select,h=E.option,_=E.p,s=E.meta,$.templates.map_pin_marker=function(t){return a(\".pin\",function(){return null!=t?a(\".number\",function(){return q(t)}):void 0}),a(\".shadow\")},$.templates.list_badge_marker=function(t,r){return a(\".list-badge-marker\"+t,function(){return null!=r?a(\".list-badge-marker__number\",function(){return q(r)}):void 0})}}.call(this);\n!function(){var t,i,o,s,e,n,r=function(t,i){return function(){return t.apply(i,arguments)}};t=-1,i=1,o=\"left\",s=\"\",n=\":visible\",e=function(){function e(t){this.$el=t,this.update_control_height=r(this.update_control_height,this),this.slideshow_proceed=r(this.slideshow_proceed,this),this.$controls=this.$el.find(\".simple-photo-browser__control\"),this.setup_handlers()}var h;return e.prototype._slideshow_running=!1,e.prototype._animating=!1,h=null,e.prototype.frame_interval_length=3800,e.prototype.photo_slide_duration=800,e.PHOTO=\".simple-photo-browser__photo\",e.PHOTOS=\"\"+e.PHOTO+\"s\",e.CURRENT=\"m-current\",e.NEXT=\"m-next\",e.CURRENT_PHOTO=\"\"+e.PHOTO+\".\"+e.CURRENT,e.prototype.setup_handlers=function(){var o,s=this;o=this.$el.find(\".simple-photo-browser__photo\").first(),o.addClass(\"m-current\").on(\"load\",function(){s.update_control_height(o)}),this.$controls.on(\"click\",function(o){var e;s._animating||(s.stop_slideshow(),e=$(o.currentTarget),e.hasClass(\"m-control-right\")?s.next(t):s.next(i))})},e.prototype.get_photo_count=function(){return this.$el.find(e.PHOTO).length},e.prototype.start_slideshow=function(){this._slideshow_running||this.get_photo_count()<2||(this._slideshow_running=!0,this._timeout_id=set_interval(this.frame_interval_length,this.slideshow_proceed))},e.prototype.slideshow_proceed=function(){return this.$el.is(n)?(this._animating||this.next(t),void 0):(this.stop_slideshow(),void 0)},e.prototype.stop_slideshow=function(){this._slideshow_running&&(this._slideshow_running=!1,clearTimeout(this._timeout_id),this._timeout_id=null)},e.prototype.next=function(t){var o,s;null==t&&(t=i),o=this.$el.find(e.CURRENT_PHOTO),s=t===i?o.nextOrFirst():o.prevOrLast(),this.do_animation(s,o,t)},e.prototype.update_control_height=function(t){var i,o,s;o=t.height(),o&&(s=this.$el.outerHeight(),i=Math.max(0,s-o),this.$controls.css(\"top\",i))},e.prototype.do_animation=function(t,i,n){var r,h=this;r=this.$el.find(e.PHOTOS).width(),this._animating=!0,this.update_control_height(t),i.css(o,0).animate({left:r*n,duration:this.photo_slide_duration}),t.addClass(e.NEXT).css(o,-r*n).animate({left:0,duration:this.photo_slide_duration}).promise().done(function(){t.addClass(e.CURRENT).removeClass(e.NEXT).css(o,s),i.removeClass(e.CURRENT).css(o,s),h._animating=!1})},e}(),hm[\"export\"]({widgets:{SimplePhotoBrowser:e}})}.call(this);\n!function(){var t,i=function(t,i){return function(){return t.apply(i,arguments)}};t=function(){function t(){this.error=i(this.error,this),this.done=i(this.done,this),this.next=i(this.next,this),this.clear=i(this.clear,this),this.add=i(this.add,this),this.images=[],this.loading=[]}return t.prototype.add=function(t,i,s){this.images.push([t,i,s]),this.sorted=!1,this.next()},t.prototype.clear=function(){this.images=[],this.loading=[]},t.prototype.next=function(){var t,i,s,e,n=this;this.images.length>0&&this.loading.length<5&&(this.sorted||(this.images=this.images.sort(function(t,i){return t[0]-i[0]}),this.sorted=!0),e=this.images[0],t=e[0],s=e[1],i=e[2],this.images=this.images.slice(1),\"\"!==s&&\"/\"!==s?(t.attr(\"src\",s),this.loading.push(t),t.load(function(){return n.done(t)}),t.error(function(){return n.error(t,i)})):(t.attr(\"src\",i),this.next()))},t.prototype.done=function(t){this.loading=hm.utils.remove(this.loading,t),set_timeout(100,this.next)},t.prototype.error=function(t,i){t.unbind(\"error\"),t.attr(\"src\",i),this.done(t)},t}(),hm[\"export\"]({widgets:{ImageQueue:t}})}.call(this);\n!function(){var t,r,e,n,u,i,o,s,c,p,l,a,h,f,y,d,m,b,v,g={}.hasOwnProperty,G=function(t,r){function e(){this.constructor=t}for(var n in r)g.call(r,n)&&(t[n]=r[n]);return e.prototype=r.prototype,t.prototype=new e,t.__super__=r.prototype,t};t=function(){function t(t){var r,e;e=null!=t?t:{},r=e.property,this.accessor=e.accessor,this.value=e.value,this.update_availability=e.update_availability,this.kind=e.kind,null==this.value&&this.clear(),null==this.kind&&(this.kind=\"\"),null==this.update_availability&&(this.update_availability=!0),this.accessor||(this.accessor=null!=r?function(t){return t[r]}:_.identity)}return t.prototype.includes_object=function(t){var r;return r=this.accessor(t),this.includes(r)},t.prototype.includes=function(t){return this._includes(this.value,t)},t.prototype._includes=function(){throw\"Sublcass must implement this\"},t.prototype.filter_includes=function(){throw\"Sublcass must implement this\"},t}(),c=function(t){function r(){return a=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype._includes=function(t,r){return null==t?!0:this.filter_includes(t,r)},r.prototype.clear=function(){return this.value=null},r}(t),p=function(t){function r(){return h=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.filter_includes=function(t,r){return r>=t},r}(c),o=function(t){function r(){return f=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.filter_includes=function(t,r){return _.has(r,t)},r}(c),e=function(t){function r(){return y=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.clear=function(){return this.value={}},r.prototype.set_filter_value=function(t,r){return null==r&&(r=!0),r?this.value[t]=!0:delete this.value[t]},r.prototype._includes=function(t,r){var e,n=this;return e=_.keys(t),0===e.length?!0:this.combine(e,function(t){return n.filter_includes(t,r)})},r.prototype.combine=function(){throw\"Sublcass must implement this\"},r}(t),i=function(t){function r(){return d=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.filter_includes=function(t,r){return _.has(r,t)},r}(e),s=function(t){function r(){return m=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.combine=_.any,r.prototype.filter_includes=function(t,r){return r===t},r}(e),u=function(t){function r(){return b=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.combine=_.any,r}(i),n=function(t){function r(){return v=r.__super__.constructor.apply(this,arguments)}return G(r,t),r.prototype.combine=_.all,r}(i),r=function(t){function r(){r.__super__.constructor.apply(this,arguments),this.budget_price=0,this.pricey_price=0}return G(r,t),r.prototype.combine=_.any,r.prototype.filter_includes=function(t,r){return r?\"budget\"===t&&r<=this.budget_price?!0:\"medium\"===t&&this.budget_price<r&&r<this.pricey_price?!0:\"pricey\"===t&&r>=this.pricey_price?!0:!1:!1},r.prototype.set_budget_and_pricey=function(t,r){this.budget_price=t,this.pricey_price=r},r}(e),l={FilterGroup:t,ValueFilterGroup:c,ValueGTE_FilterGroup:p,SetHasValue_FilterGroup:o,SetFilterGroup:e,SetHasCombination_FilterGroup:i,ValueEqualsAny_FilterGroup:s,SetHasAny_FilterGroup:u,SetHasAll_FilterGroup:n,PriceFilterGroup:r},hm[\"export\"]({filter_groups:l})}.call(this);\n!function(){var t,e,i,s,o,n,r,a,h,l,u,c,p,d,f,y,g,v,m,b,k,w,x,S,G,M,T,A,E,z,F,H,I,O,j,P,C,N,R,q,B,V,W=function(t,e){return function(){return t.apply(e,arguments)}},Z={}.hasOwnProperty,D=function(t,e){function i(){this.constructor=t}for(var s in e)Z.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};B=hm.utils,C=B.ntext,T=B.deepcopy,O=B.make_set,A=B.equals,V=hm.filter_groups,o=V.FilterGroup,S=V.ValueFilterGroup,G=V.ValueGTE_FilterGroup,w=V.SetHasValue_FilterGroup,v=V.SetFilterGroup,k=V.SetHasCombination_FilterGroup,x=V.ValueEqualsAny_FilterGroup,b=V.SetHasAny_FilterGroup,m=V.SetHasAll_FilterGroup,c=V.PriceFilterGroup,j=Math.max,P=Math.min,q=Math.sqrt,l=12,h=11,e=5500,d=[\"Airbnb\",\"HomeAway\"],n=[\"food\",\"vice\",\"tourism\",\"nightlife\",\"shopping\"],r={family:{name:\"Family\",description:\"If parents and kids are in tow, consider these neighborhoods. Good for tourism and sightseeing - all rated PG.\"},business:{name:\"Business\",description:\"Tall buildings... banks, law firms, etc. Where everything's open from 9-5.\"},romantic:{name:\"Romance\",description:\"Consider these neighborhoods for candlelit dinners, strolls in the park and nightlife for couples.\"},gay:{name:\"LGBT\",description:\"The most fabulous and welcoming neighborhoods in the city.\"},adventure:{name:\"Adventure\",description:\"Stay where the locals live, and explore their favorite restaurants, bars and nightlife.\"}},E=function(t){var e;return null!=(e=Date.parse(t))?e.toString(\"MMM d\"):void 0},I=function(t,e){var i;return t.sort(),e.sort(),t[0]>e[0]&&(i=[e,t],t=i[0],e=i[1]),t[1]<=e[0]?0:P(e[1],t[1])-e[0]},N=function(t,e){var i,s,o,n,r,a,_,h,l,u;return _=t.getNorthEast(),h=e.getNorthEast(),l=t.getSouthWest(),u=e.getSouthWest(),s=[_.lat(),l.lat()],o=[h.lat(),u.lat()],i=I(s,o),r=[_.lng(),l.lng()],a=[h.lng(),u.lng()],n=I(r,a),i*n},g=function(){function t(t){this.check_in=t.check_in,this.check_out=t.check_out,this.hotel_pax=t.hotel_pax,this.rooms=t.rooms,this.country=t.country,this.language=t.language}return t.prototype.toString=function(){return[this.check_in,this.check_out,this.hotel_pax,this.rooms,this.country,this.language].join(\"-\")},t.prototype.params=function(){return{check_in:this.check_in,check_out:this.check_out,hotel_pax:this.hotel_pax,rooms:this.rooms,country:this.country,language:this.language}},t.prototype.has_dates=function(){var t,e;return(null!=(t=this.check_in)?t.length:void 0)&&(null!=(e=this.check_out)?e.length:void 0)},t}(),p=function(){function t(t,e,i){this._set_props(t,e,i)}return t.prototype._set_props=function(t,e,i){this.stay={url:t},this.status=e,this.url=t,this.search_info=i,i?(this.price_no_tax=i.price_no_tax,this.price=i.price,this.ecstasy=i.ecstasy,this.rooms_left=i.rooms_left,this.non_sale_price=i.non_sale_price,this.stay.price_no_tax=this.price_no_tax,this.stay.price=this.price,this.stay.booking_label=i.label):(this.price_no_tax=null,this.price=null,this.ecstasy=null,this.rooms_left=null,this.non_sale_price=null,this.stay.price_no_tax=null,this.stay.price=null,this.stay.booking_label=null)},t.prototype.reuse=function(t,e,i){var s;return s=this.url!==t,s||(s=this.status!==e),s||(s=!A(this.search_info,i)),this._set_props(t,e,i),s},t}(),u=function(){function t(){this.best_infos={},this.best_info_list=[],this.stays={},this.search_status={},this.search_currency={}}return t.prototype._status_key=function(t,e){return t+e},t.prototype.get_search_status=function(t,e){var i;return i=this._status_key(t,e),this.search_status[i]},t.prototype.has_search=function(t,e){return null!=this.get_search_status(t,e)},t.prototype.new_hotels_compared_to=function(t){var e;return function(){var i;i=[];for(e in this.best_info_list)hot(null!=t[e])&&i.push(e);return i}.call(this)},t.prototype.fetch_prices=function(t,e,i,s){var o,n,r,a,h=this;if(a=this._status_key(t,e),\"running\"!==this.search_status[a]){if(\"done\"===this.search_status[a])return s(t,e,this.search_currency[a],!0),void 0;this.search_status[a]=\"running\",o=e.params(),o.city_id=t,o.reason=i,n=!1,(r=function(){$.ajax({type:\"GET\",url:\"/api/hotel2/prices\",dataType:\"json\",data:_.clone(o),success:function(i){var n,_,l,u,c,p;for(l=i.prices,n=i.currency,o.count=l.count,p=l.results,u=0,c=p.length;c>u;u++)_=p[u],h.add_price_and_ecstasy(e,_);h.search_currency[a]=n,l.done?h.search_status[a]=\"done\":set_timeout(2e3,function(){return r()}),s(t,e,n,l.done)},error:function(){h.search_status[a]=\"done\",s(t,e,h.search_currency[a],!0)}})})()}},t.prototype.add_price_and_ecstasy=function(t,e){var i,s,o;i=e.hotel_id,s=null!=(o=this.best_infos)[i]?(o=this.best_infos)[i]:o[i]={},s[t]=e},t.prototype.price_info=function(t,e,i){var s,o;return o=\"\"+e,s=$.param(e.params()),this.fast_price_info(t,o,s,i)},t.prototype.fast_price_info=function(t,e,i,s){var o,n,r,a,_;return r=this._status_key(t,e),o=null!=(_=this.best_infos[s])?_[e]:void 0,null!=o&&(a=\"/hotelbook_stub/?hotel_id=\"+s,a+=\"&provider_code=\"+o.provider_code+\"&\",a+=i),n=this.search_status[r],new p(a,n,o)},t.prototype.blazing_price_info=function(t,e,i,s){var o,n,r,a,_,h,l;o=s.id,_=this._status_key(t,e),r=null!=(l=this.best_infos[o])?l[e]:void 0,null!=r&&(h=\"/hotelbook_stub/?hotel_id=\"+o,h+=\"&provider_code=\"+r.provider_code+\"&\",h+=i),a=this.search_status[_],n=!0,s.price_info?n=s.price_info.reuse(h,a,r):s.price_info=new p(h,a,r),s._update_changed(n)},t.prototype.add_stays=function(t,e){var i;null==(i=this.stays)[t]&&(i[t]={}),$.extend(this.stays[t],e)},t.prototype.stay_info=function(t,e){var i,s,o,n,r,a,h,l,u,c,p,d,f,y,g,v,m,b,k,w;if(o=null!=(m=this.stays[t])?m[e]:void 0,null!=o){for(r=[],c={},b=o.stays,p=0,y=b.length;y>p;p++)l=b[p],c[l.booking_label]||r.push(c[l.booking_label]=[]),c[l.booking_label].push(l);o.provider_text={};for(a in c)u=c[a],n=u.length-1,h=C(n,\"room\",\"rooms\",!0),o.provider_text[a]={hide:\"hide \"+h,show:\"see \"+n+\" more \"+h};for(i={},k=o.best_stays,d=0,g=k.length;g>d;d++)l=k[d],i[l.booking_label]=!0;for(s=null!=(w=T(o.best_stays))?w:[],f=0,v=r.length;v>f;f++)u=r[f],a=u[0].booking_label,i[a]||s.push(u[0]);o.map_dropdown_stays=s,o.first_stays_by_provider=_.map(r,_.first)}return o},t}(),H=function(t){return t},R=function(t,e){return 5*e(t/5)},M=function(t,e){return t[Math.floor(t.length*e)]},z=function(t){return R(M(t,.25),Math.floor)},F=function(t){return R(M(t,.75),Math.ceil)},a=function(){function t(t,e){var i;this.parent=t,this.flags=null!=e?e:{},this.hotel_would_be_included=W(this.hotel_would_be_included,this),this.run_things=W(this.run_things,this),i=this.flags,this.parent_has_map=i.parent_has_map,this.hotel_klass=i.hotel_klass,this.hood_klass=i.hood_klass,this.non_map_based_location=this.flags.non_map_based_location||[0,0],this.non_map_based_zoom=this.flags.non_map_based_zoom||0,this.is_mobile=this.flags.is_mobile||!1,this.hide_special_chains=this.flags.hide_special_chains||!1,this.hotels_by_id={},this.raw_hotel_list=[],this.visible_hotels=[],this.list_hotels=[],this.hoods_by_city={},this.hood_list_by_city={},this.cities_running={},this.cur_city_things_parmas=\"\",this.currency={},this.pc=new u,this.sort=\"ecstasy\",this.distance_pos=null,this.bookmark_filter_on=!1,this.price_filter_group=new c({accessor:function(t){return t.get_price()}}),this.filter_groups={profile:new w({property:\"ecstasy_factors\"}),property:new b({property:\"property_types\"}),stars:new G({property:\"stars\"}),reviews:new G({accessor:function(t){return t.reviews.mean}}),hoods:new x({property:\"hood_id\"},{update_availability:!1}),chains:new b({property:\"chains\"}),amenities:new m({accessor:function(t){var e;return e=T(t.amens),t.wifinder.wifi&&(e.Wifi=!0),e}})}}var i,s,o;return i=function(){this.non_map_based_location=new_locationh},s=function(t){this.non_map_based_zoom=t},t.prototype.city_things_params=function(){var t,e,i;return this.parent_has_map?(t=this.parent.map,e=t.getCenter(),i=t.getZoom()):(e=this.non_map_based_location,i=l),\"z=\"+i+\"&lat=\"+e.lat+\"&lon=\"+e.lng},t.prototype.get_city=function(t,e){var i,s;return i=this.city_things_params(),i!==this.cur_city_things_params?(this.cur_city_things_params=i,s=\"/api/hotel2/city_things?\"+i+\"&hotels=false&hoods=false\",$.getJSON(s,function(i){var s;s=i.city,e(s,t)})):void 0},t.prototype.run_things_params=function(){var t,e;return t=this.parent.search,e=this.parent_has_map?this.parent.map.getZoom():this.non_map_based_zoom,\"z=\"+e+\"&country=\"+t.country+\"&language=\"+t.language},t.prototype.add_hoods=function(t,e){var i,s,o,n,r,a;if(null!=e?e.length:void 0){for(o={},s=[],r=0,a=e.length;a>r;r++)n=e[r],i=new this.hood_klass(this.parent,n),o[i.id]=i,s.push(i);this.hoods_by_city[t]=o,this.hood_list=s}},t.prototype.add_hotels=function(t,e,i){var s,o,n,r,a,_,h,l;if(null!=e?e.length:void 0)for(null==(r=$.hipmunk).amenities&&(r.amenities=i),a=0,_=e.length;_>a;a++)s=e[a],o=s.id,n=this.hotels_by_id[o],null==n&&(n=new this.hotel_klass(this.parent,o,s,i),this.hotels_by_id[o]=n,this.raw_hotel_list.push(n),s.hood_id&&null!=(h=this.hoods_by_city[t])&&null!=(l=h[s.hood_id])&&l.hotel_count++)},t.prototype.run_things=function(t,e){var i,s=this;if(\"running\"!==this.cities_running[t]){if(\"done\"===this.cities_running[t])return e(t),void 0;this.cities_running[t]=\"running\",i=this.run_things_params(),$.getJSON(\"/api/hotel2/city_things?city_id=\"+t+\"&\"+i,function(i){s.add_hoods(t,i.hoods),s.add_hotels(t,i.hotels,i.amens),s.cities_running[t]=\"done\",s.currency=i.currency,s.parent.currency=s.currency,e(t)})}},t.prototype.can_show_hotel=function(t){var e,i,s;if(!this.hide_special_chains)return!0;for(i=0,s=d.length;s>i;i++)if(e=d[i],t.chains[e])return!1;return!0},t.prototype.reset_visible_hotels=function(){var t,e,i,s,o,n,r,a;if(this.visible_hotels=[],this.parent_has_map)for(e=this.parent.map.getBounds(),r=this.raw_hotel_list,i=0,o=r.length;o>i;i++)t=r[i],t.list_hovered=!1,e.contains(t.loc)?this.can_show_hotel(t)&&this.visible_hotels.push(t):t.hide_marker();else for(a=this.raw_hotel_list,s=0,n=a.length;n>s;s++)t=a[s],this.can_show_hotel(t)&&this.visible_hotels.push(t)},t.prototype.get_radius_and_center=function(t){var i,s,o,n;return t?(o=null,s=null):this.parent_has_map?(i=this.parent.map,n=i.getSize(),o=2*(P(n.x,n.y)/2)/3,s=i.latLngToContainerPoint(i.getCenter())):(o=e,s=this.non_map_based_location),[o,s]},t.prototype.compute_sort_value=function(t,e,i){var s,o,n,r,a,_,h,l,u,c,p;for(o=this.parent.current_city_id,_=this.parent.search,l=\"\"+_,h=$.param(_.params()),a=this.parent.pc,s=1e10,p=this.visible_hotels,u=0,c=p.length;c>u;u++)n=p[u],a.blazing_price_info(o,l,h,n),r=n.get_price(),n.sort_value=\"ecstasy\"===this.sort?n.get_ecstasy(t,e,i):\"price\"===this.sort&&null!=r?-r:\"stars\"===this.sort?n.stars:\"distance\"===this.sort?-this.distance_pos.distanceTo(n.loc):n.reviews.quality,null==r&&(n.sort_value-=s)},o=function(t,e){var i;return i=e.sort_value-t.sort_value,0===i&&(i=t.int_id-e.int_id),i},t.prototype.in_place_hotel_sort=function(){this.visible_hotels.sort(o)},t.prototype.adjust_visible_for_chains=function(){var t,e,i,s,o,n,r,a,_,h,l,u,c,p,f,y,g,v;if(\"ecstasy\"===this.sort){for(o={generic:[]},r={generic:0},e=\"generic\",h=0,p=d.length;p>h;h++)t=d[h],o[t]=[],r[t]=0;for(v=this.visible_hotels,l=0,f=v.length;f>l;l++){for(i=v[l],t=e,s=i.chains,u=0,y=d.length;y>u;u++)if(_=d[u],s[_]){t=_;break}o[t].push(i),r[t]=j(r[t]||0,i.sort_value)}for(t in o)for(n=o[t],a=r[t],c=0,g=n.length;g>c;c++)i=n[c],i.sort_value/=r[t],t!==e&&(i.sort_value*=.9)}},t.prototype.sort_hotels=function(){var t,e,i,s,o;t=hm.utils.dict_size(this.filter_groups.hoods.value)>0,i=this.filter_groups.profile.value,o=this.get_radius_and_center(t),s=o[0],e=o[1],this.compute_sort_value(e,s,i),this.adjust_visible_for_chains(),this.in_place_hotel_sort()},t.prototype.update_price_filter_group=function(){var t,e,i,s,o,n,r,a;for(s=[],a=this.visible_hotels,n=0,r=a.length;r>n;n++)e=a[n],i=e.get_price(),null!=i&&s.push(i);s=pysort(s,H),t=z(s),o=F(s),this.filter_groups.price.set_budget_and_pricey(t,o)},t.prototype.update_filtered_hotels=function(t){var e,i,s,o,n,r,a,_,h,l,u;null==t&&(t=\"\"),null!=this.filter_groups.price&&this.update_price_filter_group(),e=new RegExp(t,\"i\"),s=[],l=this.filter_groups;for(n in l)i=l[n],i&&(i.kind=n,s.push(i));for(u=this.visible_hotels,r=0,_=u.length;_>r;r++){for(o=u[r],o.filtered=!1,o.filtered_by={},a=0,h=s.length;h>a;a++)i=s[a],i.includes_object(o)||(o.filtered=!0,o.filtered_by[i.kind]=!0);o.filtered||(!t||o.name.match(e)?!this.bookmark_filter_on||o.bookmarked||(o.filtered=!0):o.filtered=!0)}},t.prototype.update_hotels_for_redraw=function(){this.reset_visible_hotels(),this.sort_hotels(),this.update_filtered_hotels()},t.prototype.get_unfected_hotels=function(){var t;return function(){var e;e=[];for(t in this.pc.best_infos)this.hotels_by_id[t]||e.push(t);return e}.call(this)},t.prototype.price_hotel_updater=function(t){var e=this;return function(i,s,o,n){var r;if(i===e.parent.current_city_id&&s===e.parent.search)return e.currency=o,n?(r=e.get_unfected_hotels(),r.length?($.ajax({type:\"POST\",url:\"/api/hotel2/basic_info\",data:{ids:r.join(\",\"),full:!0},dataType:\"json\",success:function(r){null!=(null!=r?r.hotels:void 0)&&e.add_hotels(i,r.hotels,r.amens),_.defer(t,i,s,o,n)}}),void 0):(_.defer(t,i,s,o,n),void 0)):(_.defer(t,i,s,o,n),void 0)}},t.prototype.fetch_prices_and_new_hotels=function(t,e,i,s){var o;o=this.price_hotel_updater(s),this.pc.fetch_prices(t,e,i,o)},t.prototype.hotel_would_be_included=function(t,e){var i;return t.filtered?!t.filtered_by[e]||_.size(t.filtered_by)>1?!1:(i=this.filter_groups[e],i.combine?i.combine([!1,!0]):!0):!0},t.prototype.get_filter_availability=function(t,e,i){var s,o,n,r,a,_,h;for(s=0,n=1/0,_=0,h=i.length;h>_;_++)o=i[_],null!=e?(a=t.accessor(o),r=\"\"===e||t.filter_includes(e,a)):r=!0,r&&(s+=1,n=P(n,o.get_price()||1/0));return[s,n]},t.prototype.track_hotel=function(t,e,i,s){hm.utils.track(t,e,{position:s?$(s.currentTarget).index()+1:null,hotel_id:i.id,freeparking:i.freeparking,freewifi:i.freewifi,stars:i.stars,sort_value:i.sort_value,base_ecstasy:i.base_ecstasy})},t}(),i=0,y=1,f=2,s=3,t=function(t){function e(t,i,s,o){this.hotel_view=t,this.id=i,e.__super__.constructor.call(this,s,o),this.loc=new L.LatLng(this.raw_loc[1],this.raw_loc[0]),this.abs_point=null,this.update_abs_point(),this.image_pos=-1,this.changed=!0,this.sort_value=0,this.fetched={},this.stay_search_status={},this.price_info=null,this.filtered=!1,this.filtered_by={},this.list_index=null,this.list_item_view=null,this.list_hovered=!1,this.bookmarked=!1,this.int_id=parseInt(this.id,16)}return D(e,t),e.prototype._update_changed=function(t){\" help keep track of change, just cause one property was the same\\ndoesn't mean another didn't change. \";this.changed||(this.changed=t)},e.prototype.update=function(){e.__super__.update.apply(this,arguments),this._update_changed(!0)},e.prototype.update_abs_point=function(){},e.prototype.update_ui=function(){},e.prototype.get_list_item_view=function(){},e.prototype.set_status=function(t,e){null==t&&(t=this.hotel_view.search),this._update_changed(!0),this.stay_search_status[t]=e},e.prototype.get_status=function(t){var e;return null==t&&(t=this.hotel_view.search),null!=(e=this.stay_search_status[t])?e:i},e.prototype.set_status_running=function(t){return this.set_status(t,y)},e.prototype.set_status_results=function(t){return this.set_status(t,f)},e.prototype.set_status_done=function(t){return this.set_status(t,s)},e.prototype.is_status_running=function(t){return this.get_status(t)>=y},e.prototype.is_status_results=function(t){return this.get_status(t)>=f},e.prototype.is_status_done=function(t){return this.get_status(t)===s},e.prototype.get_ecstasy=function(t,e,i){var s,o,n,r,a,_;return o=(null!=(_=this.price_info)?_.ecstasy:void 0)||this.base_ecstasy,null!=i&&(o*=this.ecstasy_factors[i]||1),null!=t&&null!=e&&(r=t.x-this.abs_point.x,a=t.y-this.abs_point.y,s=q(r*r+a*a),n=e/j(s,e),o*=n),o},e.prototype.get_price=function(){return this.price_info.price_no_tax||this.price_info.price},e.prototype.open_details_page=function(){window.open(this.details_url())},e.prototype.set_list_index=function(t){this._update_changed(this.list_index!==t),this.list_index=t},e.prototype.set_bookmarked=function(t){this._update_changed(this.bookmarked!==t),this.bookmarked=t},e.prototype.set_price_info=function(t){this._update_changed(!A(this.price_info)),this.price_info=t},e.prototype.details_url=function(){var t,i;return i=e.__super__.details_url.call(this),t={product:1},this.hotel_view.search.has_dates()&&$.extend(t,this.hotel_view.search.params()),i+=\"?\"+$.param(t)},e}(HotelModel),hm[\"export\"]({nh_core:{format_date:E,interval_overlap:I,overlap_area:N,Search:g,PriceCache:u,INITIAL_ZOOM:l,INITIAL_SMALL_MAP_ZOOM:h,REQUIRED_CHAINS:d,HOOD_CATEGORIES:r,HEATMAP_TYPES:n,BasicHotel:t,HotelPuppetMaster:a}})}.call(this);\n!function(){var t,e,i,o,s,r,n,h,p,l,a,u,d,c,m,f,w,v,k,g,y,b,x,C,P,H,I={}.hasOwnProperty,T=function(t,e){function i(){this.constructor=t}for(var o in e)I.call(e,o)&&(t[o]=e[o]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},A=function(t,e){return function(){return t.apply(e,arguments)}};for(y=hm.widgets.SimplePhotoBrowser,t=hm.nh_core.BasicHotel,s=\"#e9f7ff\",r=\"pink\",o=\"#9ad6f6\",a=6,u=2*a,d=5,m=99,c={little_icon:new L.Icon({iconUrl:\"/static/markers/small_dot_2.png\"}),simple:L.divIcon({className:\"small-map-marker smm-normal\",iconAnchor:[8,10]}),map_highlight:new L.DivIcon({className:\"small-map-marker smm-highlight\",iconAnchor:[8,10]}),map_selected:new L.DivIcon({className:\"small-map-marker smm-selected\",iconAnchor:[8,10]}),filtered:new L.DivIcon({className:\"small-map-marker smm-filtered\",iconAnchor:[8,10]})},C=P=0,H=m-1;H>=0?H>=P:P>=H;C=H>=0?++P:--P)b=drykup.render($.templates.map_pin_marker(C+1)),c[\"numbered_\"+C]=new L.DivIcon({className:\"map-pin-marker blue\",html:b,iconAnchor:[0,5]}),c[\"numbered_highlight_\"+C]=new L.DivIcon({className:\"map-pin-marker blue highlight\",html:b,iconAnchor:[0,5]}),c[\"numbered_popup_\"+C]=new L.DivIcon({className:\"map-pin-marker orange highlight\",html:b,iconAnchor:[0,5]});n=function(t){function e(t,i){this.hotel_view=t,this.id=i,e.__super__.constructor.apply(this,arguments),this.map_hovered=!1,this.map_selected=!1,this.not_map_selected=!1,this.marker_hovered=!1,this.marker=null,this.old_marker_style=\"\",this.marker_count=null,this.showing_map_popup=!1,this.showing_hover_popup=!1,this.$map_popup=null,this.$hover_popup=null,this.list_hovered=!1,this.list_item_view=null,this.showing_expanded=!1}return T(e,t),e.prototype.get_numbered_marker_zindex=function(t){return t?2e3:null!=this.list_index?1e3-this.list_index:0},e.prototype.show_marker=function(){var t,e,i,o;e=!1,o=0,this.marker||(this.marker=new L.Marker(this.loc,{clickable:!1})),this.filtered?i=\"filtered\":null!=this.list_index&&this.list_index<m?(e=!0,this.showing_map_popup||this.showing_expanded?(o=this.get_numbered_marker_zindex(!0),i=\"numbered_popup_\"+this.list_index):this.list_hovered?(o=this.get_numbered_marker_zindex(!0),i=\"numbered_highlight_\"+this.list_index):(i=\"numbered_\"+this.list_index,o=this.get_numbered_marker_zindex(!1))):i=this.map_selected?\"map_selected\":this.map_hovered||this.showing_map_popup?\"map_highlight\":this.not_map_selected?\"filtered\":\"simple\",t=c[i],this.old_marker_style!==i&&(this.marker.setIcon(t),this.old_marker_style=i),this.marker._icon&&$(this.marker._icon).css(\"z-index\",o),this.hotel_view.map.hasLayer(this.marker)||this.hotel_view.map.addLayer(this.marker),(e||\"simple\"===i)&&$(this.marker._icon).data(\"hotel\",this)},e.prototype.hide_marker=function(){return this.marker&&this.hotel_view.map.hasLayer(this.marker)?this.hotel_view.map.removeLayer(this.marker):void 0},e.prototype.update_abs_point=function(){return this.abs_point=this.hotel_view.map.latLngToContainerPoint(this.loc)},e.prototype._center=function(t,e){return(e-t)/2},e.prototype._dir_to_sign=function(t){return t>0?1:-1},e.prototype.setup_hover_popup_events=function(){var t=this;return this.$hover_popup.on(\"click\",function(){t.hotel_view.open_map_popup(t,\"hover_popup_click\")})},e.prototype.setup_map_popup_events=function(){var t=this;this.$map_popup.on(\"click\",\".close\",function(){t.close_map_popup()}),this.$map_popup.on(\"click\",\".hotel-details-button, .hotel-a\",function(){t.close_map_popup(),$.hipmunk.utils.track(\"hotel_mini_modal_details\"),t.open_details_page()}),this.$map_popup.on(\"click\",\".js-bookmark\",function(e){var i,o;i=$(e.currentTarget),o=!t.bookmarked,i.toggleClass(\"active\",o),t.set_bookmarked_and_update_ui(o)}),this.hotel_view.add_dropdown_events(this.$map_popup)},e.prototype.compute_map_popup_offset=function(t,e){var i,o,s,r,n,h,p,l,_,c,m,f,w,v,k,g,y,b,x,C,P,H,I,T,A,M;return null==e&&(e=10),i=$(this.marker._icon).find(\".pin\"),i.length||(i=$(this.marker._icon)),v=i.outerWidth(),f=i.outerHeight(),k=0,g=-f-10,$(document.body).append(t),M=l=u,M+=t.outerWidth()+2,l+=t.outerHeight()+a,o=t.find(\".tip\"),c=this.hotel_view.$map.outerHeight(),m=this.hotel_view.$map.outerWidth(),w=this.hotel_view.map.latLngToContainerPoint(this.marker._latlng),s=g+w.y+a,T=s-l-a,_=k+w.x-Math.floor(M/2)-a,y=_+M+a,p=\"down\",x=function(t,e){return(\"down\"===t||\"right\"===t)&&(e*=-1),\"up\"===t||\"down\"===t?(g+=e,T+=e,s+=e):(k+=e,y+=e,_+=e)},d>T&&(p=\"up\",h=l+f+a+e,o.addClass(p),h+=o.outerHeight(),o.removeClass(p),x(p,h)),s>c-d&&(p=\"right\",h=M/2,x(p,h),g=-l/2-f,s=g+w.y+a,T=s-l-a,d>T?(h=Math.abs(T)+Math.floor(l/4),x(\"up\",h)):s>c&&(h=c-s+Math.floor(l/4),x(\"down\",h))),d+v>_&&(\"right\"===p&&(p=\"left\"),h=Math.abs(_)+2*d,x(\"left\",h)),\"left\"!==p&&y>m-d&&(h=y-m+d,x(\"right\",h)),o.addClass(p),I=o.width(),C=o.height(),r=function(t){return Math.min(Math.max(t,-1),M-I)},n=function(t){return Math.min(Math.max(t,-1),l-C)},\"down\"===p||\"up\"===p?(A=this._center(I/2,M)-k,A=r(A),o.css(\"left\",A),\"down\"===p?o.css(\"bottom\",0):o.css(\"top\",-C)):(b={left:1,right:-1}[p],k=b*(M/2+I),\"left\"===p&&(k+=v/2),P=-I+{left:0,right:1}[p],o.css(p,P),H=w.y-T,H=n(H+C/2+5),o.css(\"top\",H)),t.detach(),new L.Point(k,g)},e.prototype.show_expanded_list_view=function(t){var e;return store_hotel_book(this.hotel_view,this),e=this.hotel_view.current_hotel,null!=e&&(e.close_map_popup(),e.hide_expanded_list_view()),this.showing_expanded=!0,this._update_changed(!0),this.hotel_view.current_hotel=this,this.hotel_view.fetch_hotel_info(this.id),this.show_marker(),this.update_ui(),this.list_item_view.show_expanded(t)},e.prototype.hide_expanded_list_view=function(t){this.showing_expanded&&(this.showing_expanded=!1,this._update_changed(!0),this.hotel_view.current_hotel=null,this.show_marker(),this.update_ui(),this.list_item_view.hide_expanded(t),this.hotel_view.update_stickies())},e.prototype.update_ui=function(){this.changed&&(this.show_marker(),this.list_item_view&&this.list_item_view.update_display(),this.showing_map_popup&&this.$map_select_button.update(),this.changed=!1)},e.prototype._show_leaflet_popup=function(t,e){this.marker.bindPopup(t.get(0),{maxWidth:345,offset:e,autoPan:!1,closeButton:!1,hotel_id:this.id}),this.marker.openPopup(),$(this.marker._popup._wrapper).addClass(\"m-map-popup-wrapper\")},e.prototype.show_hover_map_popup=function(){var t,e;null!=this.marker&&(this.showing_hover_popup=!0,this.show_marker(),this.hotel_view.current_hotel=this,t=this.hotel_view.currency,$.templates.hotel_map_hover_popup(this,t),this.$hover_popup=$(drykup.render()),e=this.compute_map_popup_offset(this.$hover_popup),this.setup_hover_popup_events(),this._show_leaflet_popup(this.$hover_popup,e),$(this.marker._popup._contentNode).addClass(\"m-hover-map-popup-content\"))},e.prototype.show_map_popup=function(){var t,e,i;null!=this.marker&&(this.showing_map_popup=!0,this.show_marker(),this.hotel_view.current_hotel=this,e=this.hotel_view.currency,this.$map_popup=$(drykup.render($.templates.hotel_map_popup(this,e))),this.$map_select_button=new h(this,this.$map_popup,\"map_popup\"),i=this.compute_map_popup_offset(this.$map_popup,45),this.setup_map_popup_events(),this._show_leaflet_popup(this.$map_popup,i),$(this.marker._popup._contentNode).addClass(\"m-map-popup-content\"),t=this.$map_popup.find(\".simple-photo-browser\"),new y(t).start_slideshow(),this.hotel_view.fetch_hotel_info(this.id),this.$map_select_button.update())},e.prototype.close_map_popup=function(){this.hotel_view.current_hotel=null,$.close_dropdowns(),this.marker.closePopup(),this.marker.unbindPopup(),this.showing_map_popup=!1,this.showing_hover_popup=!1,this.show_marker(),this.hotel_view.can_show_hood_filters=!0,this.hotel_view.refresh_hood_filters(!1)},e.prototype.get_list_item_view=function(){return this.list_item_view||(this.list_item_view=new p(this,this.hotel_view)),this.list_item_view},e.prototype.set_bookmarked_and_update_ui=function(t){this.set_bookmarked(t),this.changed&&(this.update_ui(),this.hotel_view.bookmark_filter_on&&(this.hotel_view.update_filtered_hotels(),this.hotel_view.redraw()))},e}(t),f=function(){function t(t,e){var i,o;this.hr=t,this.id=e.id,this.name=e.name,this.city_id=e.city_id,o=e.shape,this.description=e.description,this.categories=e.categories,this.should_serve_neighborhood_page=e.should_serve_neighborhood_page,this.page_url=e.page_url,this.media=e.media,this.points=[function(){var t,e,s;for(s=[],t=0,e=o.length;e>t;t++)i=o[t],s.push(new L.LatLng(i[1],i[0]));return s}()],this.center=new L.LatLngBounds(this.points).getCenter(),this.selected=!1,this.hovered=!1,this.group=null,this.hotel_count=0,this.bg_poly=new L.Polygon(this.points,{stroke:!1,fillOpacity:0,weight:1,layer:\"subtile\"}),this.border_poly=new L.Polygon(this.points,{stroke:!1,color:\"#0d98e2\",weight:2,fill:!0,fillOpacity:0,hover:!1,clickable:!1}),$.browser.msie||(this.hr.map.addLayer(this.bg_poly),this.hr.map.addLayer(this.border_poly))}return t.prototype.update_color=function(){var t,e;return this.group?(t={fillOpacity:1,fillColor:o,stroke:!0},e={stroke:!0}):this.selected?(t={fillOpacity:1,fillColor:r},e={stroke:!0}):this.hovered?(t={fillOpacity:1,fillColor:s,stroke:!0},e={stroke:!0}):(t={fillOpacity:0,stroke:!1},e={stroke:!1}),this.bg_poly.setStyle(t),this.border_poly.setStyle(e)},t.prototype.header_image=function(t){var e,i,o;return null==t&&(t=null),(null!=(o=this.media)?o.header_image:void 0)?(i=this.media.header_image,e={},(null!=t?t.height:void 0)&&(e.height=t.height),(null!=t?t.width:void 0)&&(e.width=t.width),_.isEmpty(e)||(i+=\"?\"+$.param(e)),i):null},t}(),l=function(){function t(t,e){this.$el=t,this.hr=e,this._update_thumbnails=A(this._update_thumbnails,this),this.hotels={},this.setup_handlers(),this._reset_content_buffer()}return t.prototype.THUMBNAIL_BATCH_SIZE=10,t.prototype._reset_content_buffer=function(){this.$_content_buffer=$(\"<div />\"),this._pending_thumbnails=[]},t.prototype.prepare_for_update=function(){this._reset_content_buffer(),this.$el.children().detach()},t.prototype.setup_handlers=function(){var t,e=this;return t=function(t){var i,o;return i=$(t.currentTarget).closest(\".ll-hotel\"),o=i.data(\"hotel_id\"),e.hr.puppet_master.hotels_by_id[o]},this.hr.$results.on(\"click\",\".hotel-details-button\",function(e){var i;e.stopPropagation(),i=t(e),i.open_details_page()}),this.hr.$results.on(\"click\",\".ll-hotel__show-details\",function(i){var o;i.preventDefault(),i.stopPropagation(),o=t(i),o.show_expanded_list_view(),e.hr.track_hotel(\"hotel_list_click\",\"hotel\",o,i)}),this.hr.$results.on(\"click\",\".ll-hotel__hide-details\",function(e){var i;e.preventDefault(),e.stopPropagation(),i=t(e),i.hide_expanded_list_view()}),this.hr.$results.on(\"click\",\".ll-hotel__list-content\",function(i){var o;o=t(i),o.showing_expanded?o.hide_expanded_list_view():(o.show_expanded_list_view(),e.hr.track_hotel(\"hotel_list_click\",\"hotel\",o,i))}),this.hr.$results.on(\"click\",\".ll-hotel .small-tab\",function(t){var e,i;e=$(t.currentTarget),i=e.data(\"tab-id\"),hm.utils.track(\"hotel_tab_click\",\"hotels\",{kind:i}),e.addClass(\"m-selected\").siblings().removeClass(\"m-selected\").end().closest(\".ll-hotel\").find(\".mini-hotel-details__\"+i).addClass(\"m-selected\").siblings().removeClass(\"m-selected\")}),this.hr.$results.on(\"click\",\".ll-hotel .ll-hotel__bookmark-icon\",function(i){var o,s,r;i.stopPropagation(),o=$(i.currentTarget).closest(\".ll-hotel\"),s=t(i),r=!o.hasClass(\"m-bookmarked\"),s.set_bookmarked_and_update_ui(r),r&&e.hr.track_hotel(\"hotel_add_bookmark\",\"hotel\",s,i)}),this.hr.$results.on(\"mouseenter mouseleave\",\".ll-hotel\",function(e){var i;i=t(e),i.list_hovered=\"mouseenter\"===e.type,i.show_marker()})},t.prototype.append_hotel=function(t){var e;e=t.get_list_item_view(),this.$_content_buffer.append(e.render()),this._pending_thumbnails.push(e)},t.prototype.append_no_hotels_error=function(){var t;return t=new w(this.$el,this.hr),this.$el.append(t.render())},t.prototype.append_no_hotels_found_error=function(){var t;return t=new v(this.$el,this.hr),this.$el.append(t.render())},t.prototype.append_bookmarks_empty_error=function(){var t;return t=new e(this.$el,this.hr),this.$el.append(t.render())},t.prototype.append_searching_hotels=function(){var t;return t=new g(this.$el,this.hr),this.$el.append(t.render())},t.prototype.scroll_to_hotel=function(t){var e;return e=$(\"[data-hotel_id=\"+t.id+\"]\"),$(window).scrollTop(e.offset().top)},t.prototype._update_thumbnails=function(){var t=this;return this._pending_thumbnails.length?(set_timeout(0,function(){var e,i,o,s;for(i=t._pending_thumbnails.slice(0,+(t.THUMBNAIL_BATCH_SIZE-1)+1||9e9),t._pending_thumbnails=t._pending_thumbnails.slice(t.THUMBNAIL_BATCH_SIZE),o=0,s=i.length;s>o;o++)e=i[o],e.set_thumbnail();t._update_thumbnails()}),void 0):(this._reset_content_buffer(),void 0)},t.prototype.update_ui=function(){this.$el.html(this.$_content_buffer),this._update_thumbnails()},t.prototype.empty=function(){this.$el.empty(),this._reset_content_buffer()},t}(),p=function(){function t(t,e){this.hotel=t,this.hr=e,this.$el=null}return t.prototype.expanded=!1,t.prototype.render=function(){return this.$el||(this.$el=$(drykup.render($.templates.hotel_list_item(this.hotel,this.hr.currency))),this.select_button=new h(this.hotel,this.$el,\"list_view\",\"select\")),this.$el},t.prototype.update_display=function(){var t,e,i,o,s;return this.$el.toggleClass(\"m-marked\",!!this.hotel.selected),this.$el.toggleClass(\"m-expanded\",this.hotel.showing_expanded),this.$el.toggleClass(\"m-bookmarked\",this.hotel.bookmarked),this.$el.find(\".list-badge-marker__number\").text(this.hotel.list_index+1),this.select_button.update(),t=this.$el.find(\".ll-hotel__booking-option-list\"),this.hr.search.has_dates()?this.hotel.is_status_results()&&(s=this.hr.pc.stay_info(this.hr.search,this.hotel.id),i=drykup.render($.templates.hotel_list_item_booking_options(s,this.hr.currency)),t.html(i).show()):t.hide(),i=drykup.render($.templates.hotel_reviews(this.hotel)),this.$el.find(\".mini-hotel-details__reviews-content\").html(i),this.hotel.showing_expanded&&(this.photo_browser||(e=$(drykup.render($.templates.simple_photo_browser(this.hotel.media))),this.$el.find(\".ll-hotel__photo-wrapper\").append(e),this.photo_browser=new y(e)),this.photo_browser.start_slideshow()),this.update_price_display(),o=\"\",this.hotel.description&&(o=$.hipmunk.utils.add_ellipsis(this.hotel.description,300)+\" \"),this.$el.find(\".mini-hotel-details__description-text\").text(o)},t.prototype.update_price_display=function(){var t,e,i,o,s,r,n,h;return t=this.$el.find(\".price\"),t.find(\".hotel-price-wrapper\").html(drykup.render($.templates.hotel_list_item_price(this.hotel,this.hr.currency))),s=null!=(r=this.hotel.price_info)?r.rooms_left:void 0,s&&5>=s&&(s|=0,i=new Array(7-s).join(\"!\"),o=$.hipmunk.utils.ntext(0|s,\"room\"),t.find(\".price__rooms-left\").text((\"\"+o+\" left\"+i).toUpperCase())),e=null!=(n=this.hotel.price_info)?null!=(h=n.stay)?h.booking_label:void 0:void 0,null!=e?t.find(\".price__booking-label\").text(e):void 0},t.prototype.set_thumbnail=function(){var t;return t=this.$el.find(\".thumbnail img\"),t.attr(\"src\")?void 0:this.hr.image_queue.add(t,this.hotel.thumbnail,this.hotel.NO_HOTEL_URL)},t.prototype.show_expanded=function(t){var e=this;return this.$el.addClass(\"m-showing-expanded\"),this.$el.find(\".ll-hotel__expanded-content\").slideDown({duration:\"fast\",step:function(){return e.hr.update_stickies()},complete:function(){return null!=t?t():void 0}})},t.prototype.hide_expanded=function(t){var e=this;return this.$el.removeClass(\"m-showing-expanded\"),this.$el.find(\".ll-hotel__expanded-content\").slideUp({duration:\"fast\",step:function(){return e.hr.update_stickies()},complete:function(){return $(this).hide(),null!=t?t():void 0}})},t}(),h=function(){function t(t,e,i,o){this.hotel=t,this.$parent=e,this.source=i,this.style=o,\"select\"!==this.style&&(this.style=\"full\"),this.hr=t.hotel_view,this.$select_button=this.$parent.find(\".select-button\"),this.$dropdown_button=this.$parent.find(\".booking-drop\"),this.$popup=this.$dropdown_button.find(\".hotel-booking-dropdown__popup\"),this.$parent.addClass(\"js-booking-dropdown\"),this.$parent.data(\"booking-dropdown\",this)}return t.prototype.update=function(){var t,e,i,o;return o=this.hotel.price_info,e=_.isFinite(o.price),this.$parent.toggleClass(\"m-has-price\",e),e&&this.$select_button.length>0&&(i=\"full\"===this.style?\"Book on \"+o.stay.booking_label:\"Select\",t=$(drykup.render($.templates.nh_book_link(o.stay,i,this.$select_button.cssClass(),this.hr.currency,\"\"+this.source+\"_default\",{show_price:\"full\"===this.style}))),this.$select_button.replaceWith(t),this.$select_button=t),this.$popup.is(\":visible\")?this.update_dropdown_html():void 0},t.prototype.update_dropdown_html=function(){var t,e,i,o,s,r,n,h,p,l,_,a,u,d,c;return u=this.$popup.is(\":visible\"),e=null!=(c=this.$popup.data(\"old_parent\"))?c.inDOM():void 0,!u||($.close_dropdowns(),e)?(a=null,this.hotel.is_status_results()&&(_=this.hr.pc.stay_info(this.hr.search,this.hotel.id),a=_.first_stays_by_provider),p=drykup.render($.templates.stay_list_dropdown_content(a,this.hr.currency,this.source)),this.$popup.html(p),t=this.$popup.parent(),d=$(window).height(),o=t.offset(),i=t.outerHeight(),r=this.$popup.outerHeight(),s=o.top-$(window).scrollTop(),n={top:\"\"},s+i+r>=d&&(n={top:-(r+2)}),this.$popup.css(n),this.$popup.removeData(\"old_left\"),u&&($.show_dropdown(this.$popup,this.hr.$container),$._popups.launching=!1),h={color:\"#6e788b\",lines:12,radius:5,length:3,width:1.5},a?void 0:(l=new Spinner(h).spin(),this.$popup.find(\".hbd__loading\").show().append(l.el))):void 0},t}(),k=function(){function t(t,e,i,o){var s;this.hr=t,this.id=e,this.name=i,this.points=[function(){var t,e,i;for(i=[],t=0,e=o.length;e>t;t++)s=o[t],i.push(new L.LatLng(s[1],s[0]));return i}()],this.poly=new L.Polygon(this.points,{stroke:!1,fillOpacity:1,color:\"#c0f0a8\",weight:1,layer:\"subtile\"}),this.hr.map.addLayer(this.poly)}return t}(),i=function(){function t(t,e,i,o){var s;this.hr=t,this.id=e,this.name=i,this.points=[function(){var t,e,i;for(i=[],t=0,e=o.length;e>t;t++)s=o[t],i.push(new L.LatLng(s[1],s[0]));return i}()]}return t}(),w=function(){function t(t,e){this.$el=t,this.hr=e,this.setup_handlers()}return t.prototype.setup_handlers=function(){var t=this;return this.$el.one(\"click\",\".ll-error__filter-reset.js-no-hotels\",function(){return t.hr.clear_all_filters(),t.hr.redraw()})},t.prototype.render=function(){return drykup.render($.templates.no_hotels_error())},t}(),v=function(){function t(t,e){this.$el=t,this.hr=e}return t.prototype.render=function(){return drykup.render($.templates.no_hotels_found_error())},t}(),e=function(){function t(t,e){this.$el=t,this.hr=e,this.setup_handlers()}return t.prototype.setup_handlers=function(){var t=this;return this.$el.one(\"click\",\".ll-error__filter-reset.js-bookmarks\",function(){return t.hr.clear_bookmarks(),t.hr.redraw()})},t.prototype.render=function(){return drykup.render($.templates.bookmarks_empty_error())},t}(),g=function(){function t(t,e){this.$el=t,this.hr=e}return t.prototype.render=function(){var t,e;return t=$(drykup.render($.templates.loading_box())),e=t.find(\".header-text\"),this.interval=$.hipmunk.utils.animate_ellipses(e),t},t}(),x={Hotel:n,Neighborhood:f,HotelListView:l,HotelListItemView:p,Park:k,City:i},hm[\"export\"]({nh_things:x})}.call(this);\n!function(){var t,e,i,s,r,a,o,n,l,h,p,d,u,c,m,f,g,v,y,b,k,w,C,x,T,E,S,P,z,A,H,M,O,G,F,I,N,R,Z,W,V,j,q,U,B,D=function(t,e){return function(){return t.apply(e,arguments)}},Q={}.hasOwnProperty,Y=function(t,e){function i(){this.constructor=t}for(var s in e)Q.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},J=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};j=$.hipmunk.utils,R=j.ntext,O=j.deepcopy,N=j.make_set,V=j.smooth_on_resize,G=j.fast_floor,q=hm.nh_things,l=q.Hotel,v=q.Neighborhood,p=q.HotelListView,h=q.HotelListItemView,y=hm.components.Paginator,f=hm.widgets.ImageQueue,z=hm.tabs.TabWithSidebar,W=hm.utils.parse_int,U=hm.nh_core,F=U.format_date,I=U.interval_overlap,Z=U.overlap_area,C=U.Search,b=U.PriceCache,m=U.INITIAL_ZOOM,c=U.INITIAL_SMALL_MAP_ZOOM,w=U.REQUIRED_CHAINS,o=U.HOOD_CATEGORIES,a=U.HEATMAP_TYPES,d=U.HotelPuppetMaster,B=hm.filter_groups,r=B.FilterGroup,H=B.ValueFilterGroup,M=B.ValueGTE_FilterGroup,P=B.SetHasValue_FilterGroup,x=B.SetFilterGroup,S=B.SetHasCombination_FilterGroup,A=B.ValueEqualsAny_FilterGroup,E=B.SetHasAny_FilterGroup,T=B.SetHasAll_FilterGroup,k=B.PriceFilterGroup,u=$.browser.msie&&W($.browser.version)<9,i=50,e={clickable:!1,color:\"#3394de\",weight:1,opacity:.8,fillOpacity:.2},s=2500,t=$(window),$.hipmunk.update_hotel_tab=function(t,e){var i;return i=$.hipmunk.url.get_tab_by_tab_id(t),null!=i?i.update_search(e):void 0},F=function(t){var e;return null!=(e=Date.parse(t))?e.toString(\"MMM d\"):void 0},g=function(){function t(){var t,e;t={color:\"#fff\",lines:12,radius:5,length:3,width:1.5},e=new Spinner(t).spin(),this.$el=$(drykup.render($.templates.loading_ui())),this.$el.append(e.el)}return t}(),window.NewHotelTab=function(r){function o(t,e,i){this.set_current_page=D(this.set_current_page,this),this.refresh_hood_filters=D(this.refresh_hood_filters,this),this.update_magnified_info=D(this.update_magnified_info,this),this.update_hotel_markers=D(this.update_hotel_markers,this),this.update_hotel_list=D(this.update_hotel_list,this),this.refresh_hotel_list=D(this.refresh_hotel_list,this),this.fetch_hotel_info=D(this.fetch_hotel_info,this),this.sort_hotels=D(this.sort_hotels,this),this.redraw=D(this.redraw,this),this.have_search_results=D(this.have_search_results,this),this.run_things=D(this.run_things,this),this.remove_update_search_prompt=D(this.remove_update_search_prompt,this),this.prompt_for_search_update=D(this.prompt_for_search_update,this),this.get_hoods_in_city=D(this.get_hoods_in_city,this),this.get_city=D(this.get_city,this),this.circle_from_mouse=D(this.circle_from_mouse,this),this.add_dropdown_events=D(this.add_dropdown_events,this);var s,r,n,_,h=this;o.__super__.constructor.call(this,t,e,i,[]),this.classname=\"HotelTab\",this.has_prices=!1,this.tab_iden=i.tab_iden,this.country=i.country,this.language=i.language,this.map_user_str=i.map_user_str,this.server_pos=i.server_pos,this.calendar_start=i.calendar_start,this.calendar_end=i.calendar_end,this.calendar_start_iso=i.calendar_start_iso,this.calendar_end_iso=i.calendar_end_iso,this.title_str=\"Hotels in \"+this.tab_params.locations[0],this.search=new C(i.search),this.current_page=0,this.want_search=\"\"!==this.search.check_in&&\"\"!==this.search.check_out,this.currency=null,this.parks={},this.cities={},this.hotels={},this.airports=[],this.puppet_master=new d(this,{parent_has_map:!0,hotel_klass:l,hood_klass:v}),this.pc=this.puppet_master.pc,this.cities_running=this.puppet_master.cities_running,this.selected_heatmap=null,this.hovered_hotels=[],this.selected_hotels=[],this.selected_circle=null,this.mouse_over_marker=!1,this.mouse_over_mini_popup=!1,this.city_name=\"\",this.current_city_id=null,this.update_search_prompt_data={},this.current_hotel=null,this.can_show_hood_filters=!0,this.redo_search=!1,this.event_map_pins={},this.$container=$.make_container(),this.$form_container=$.make_container(),this.$results=$(\"#results-\"+this.id),this.$ac_text=$(\"#ll-ac-text-\"+this.id),this.$city_retarget=$(\"#city-retarget-\"+this.id),this.$hood_filters=$(\"#hood-filters-\"+this.id),this.$hood_info=$(\"#hood-info-\"+this.id),this.$hotel_heading=$(\"#hotel-heading-\"+this.id),this.$magnified_info=$(\"#magnified-info-\"+this.id),this.$control_bar=$(\"#control-bar-\"+this.id),this.$results.find(\".results-hotel-content-wrapper\").removeClass(\"hidden\"),s=$(\"#ll-hotels-\"+this.id),this.hotel_list_view=new p(s,this),this.$results.init_stickies(),this.paginators={list_bottom:new y({attrs:\".hotel-list-paginator.m-theme1.m-medium\",items_per_page:this.HOTELS_PER_PAGE,max_num_pages:11}),list_top:new y({attrs:\".m-theme3.m-medium\",items_per_page:this.HOTELS_PER_PAGE,show_pages:!1,show_num_items:!0,label:\"Hotels\",spinner:new g}),map:new y({attrs:\".hotel-map-paginator.leaflet-control.m-theme2.m-large\",items_per_page:this.HOTELS_PER_PAGE,show_pages:!1,show_num_items:!0,label:\"Hotels\",spinner:new g})},_=this.paginators;for(r in _)n=_[r],n.on_page_change.add(this.set_current_page);this.$search_bar=$(\"#hotel-search-\"+this.id),this.$map_menu_neighborhoods=this.$results.find(\".neighborhood-menu\"),this.$map_menu_heatmaps=this.$results.find(\".heatmaps-menu\"),this.$map_menu_calendar=this.$results.find(\".calendar-menu\"),this.search.check_in&&$(\"#check_in-\"+this.id).val(F(this.search.check_in)),this.search.check_out&&$(\"#check_out-\"+this.id).val(F(this.search.check_out)),this.$results.find(\".input-container label\").inFieldLabels(),this.$map=$(\"#hotel-map-\"+this.id),this.first_show=!0,this.$results.withCss(\"display\",\"block\",function(){var t,e,i,s,r;for(h.map=L.map(h.$map[0],{scrollWheelZoom:!1,fadeAnimation:!1,attributionControl:!1,minZoom:8,keyboard:!1}),h.map.setView(h.server_pos,c),h.$top_right_controls=h.$map.find(\".leaflet-top.leaflet-right\"),h.map.zoomControl.setPosition(\"topright\"),h.map.addControl(new L.Control.Scale),t=new L.TileLayer($.hipmunk.map_tiles_url,{maxZoom:16}),h.map.addLayer(t),h.init_map_mode(),h.heatmap_layers={},s=0,r=a.length;r>s;s++)e=a[s],i=$.hipmunk.heatmap_tiles_url.replace(\"{type}\",e),h.heatmap_layers[e]=new L.TileLayer(i,{maxZoom:16})}),this.default_center=this.map.getCenter(),this.load_calendar(),this.image_queue=new f,this.$results.find('[data-filter-value=\"\"]').data(\"filter-value\",null),this.get_city(i.search_reason,{redo_search:!0}),this.init_search_bar(),this.setup_handlers(),this.on_content_init(),this.update_sort_button_display()}return Y(o,r),o.prototype.HOTELS_PER_PAGE=10,o.prototype.load_calendar=function(){var t,e;return calendar_on()&&(e=this.current_calendar_time_info(),e&&(t=this.calendar_event_manager.status_for_timeinfo(e),t.status===CalendarEventManager.CEM_CACHE_STATUS_EMPTY&&this.calendar_event_manager.fetch_events_for_timeinfo(e))),this.handle_calendar_events_updated()},o.prototype.handle_calendar_events_updated=function(){return this.update_calendar_menu_display(),this.refresh_map_pins()},o.prototype.save_map_preferences=function(t){var e;if(t!==$.hipmunk.user.preferences.prefers_large_map)return e={prefers_large_map:t},$.hipmunk.user.preferences.prefers_large_map=t,$.ajax(\"/prefs/save\",{data:JSON.stringify(e)})},o.prototype.init_map_mode=function(){var t,e;e=$.hipmunk.user.preferences.prefers_large_map,null==e&&(t=$.hipmunk.experiments.get_option(\"initial_map_mode\"),e=\"large\"===t,this.save_map_preferences(e)),this.set_map_mode(e,{duration:0})},o.prototype.init_search_bar=function(){var t,e=this;$.templates.new_hotels_search_bar({city_name:this.tab_params.locations[0],check_in_date:this.tab_params.dates[0],check_out_date:this.tab_params.dates[1],rooms:this.tab_params.rooms,pax:this.tab_params.pax,form_id:\"hotel-search-form-\"+this.id,tab_id:this.id,is_ie8:u}),this.$search_bar.html(drykup.render()),\"show\"===$.hipmunk.experiments.get_option(\"responsive_page\")&&(t=!0),$.hipmunk.is_mobile&&t&&(this.$search_bar.find(\"input.date\").attr(\"readonly\",!0),this.$search_bar.find(\".highlight-date0, .highlight-date1\").addClass(\"m-touch\")),this.$where_field=this.$search_bar.find(\".field-where\"),init_search_form(\"hotel-search-form-\"+this.id,!0,!0),this.$dates_harass=$(\"#dates-harass-\"+this.id),set_timeout(s,function(){e===$.hipmunk.url.active_tab&&(\"\"===e.search.check_in||\"\"===e.search.check_out)&&($.show_popup(e.$dates_harass,e.$container),e.$dates_harass.on(\"click\",function(){return $.close_popups()}))})},o.prototype.clear_ads=function(){$(\".hotel-ads-side\").empty(),$(\".hotel-ads-bottom\").empty()},o.prototype.draw_ads=function(){var t,e,i,s,r;if(this===$.hipmunk.url.active_tab&&(e=this.$results.find(\".hotel-ads-side\").not(\".sticky-placeholder\"),t=this.$results.find(\".hotel-ads-bottom\"),e.is(\":visible\")&&e.is(\":empty\")&&t.is(\":empty\")))return this.clear_ads(),r=$.hipmunk.dfp.get_slot_group(\"hotels\"),s=drykup.render($.templates.ads_sidebar_box([r[0]])),i=drykup.render($.templates.ad_bottom_box(r[1])),e.html(s),t.html(i),$.hipmunk.dfp.display_hotels_ads(this)},o.prototype.refresh_ads=function(){return this.clear_ads(),this.draw_ads()},o.prototype.update_stickies=function(){this.$results.update_stickies()},o.prototype.get_filter_els=function(t){return this.$results.find(\"[data-filter-kind=\"+t+\"] [data-filter-value]\")},o.prototype.setup_handlers=function(){var t,e,i,s=this;return this.map.on(\"movestart\",function(){$.close_dropdowns()}),this.map.on(\"moveend zoomend\",function(){s.get_city(\"drag\"),s.update_hotel_points(),s.update_and_redraw_visible()}),this.$map.on(\"click\",\".update-search-button\",function(){var t,e,i;s.update_search_prompt_data&&(i=s.update_search_prompt_data,t=i.city_data,e=i.reason,s.clear_ads(),s.on_location_change(t,e,{redo_search:!0}))}),this.map.on(\"popupclose\",function(){var t;null!=(t=s.current_hotel)&&t.close_map_popup()}),this.$ac_text.on(\"keyup\",function(){s.current_page=0,s.update_filtered_hotels(),s.redraw(),$.hipmunk.utils.track(\"hotel_search_key\",\"input\",{value:s.$ac_text.val()})}),this.$results.on(\"click\",\".sorts .small-button\",function(t){var e;s.current_page=0,e=$(t.currentTarget),s.set_sort(e.cdata(\"sort\"))}),this.$results.on(\"click\",\".bookmarks-filter\",function(t){var e;s.current_page=0,e=$(t.currentTarget),e.toggleClass(\"selected\"),s.puppet_master.bookmark_filter_on=e.hasClass(\"selected\"),s.update_filtered_hotels(),s.redraw(),$.hipmunk.utils.track(\"hotel_bookmark_filter\",null,{value:s.bookmark_filter_on})}),this.$results.on(\"click\",\".hood-info .more-link\",function(t){var e;return e=$(t.currentTarget).closest(\".desc\"),e.addClass(\"expanded\")}),t=function(){var t,e;return t=s.$results.find(\".hotel-map-tab\"),e=t.filter(\".m-selected, .m-hovered\").length,t.filter(\".m-expanded-by-default\").toggleClass(\"m-expanded\",!e)},this.$results.on(\"click\",\".hotel-map-tab\",function(e){var i,r,a;r=$(e.currentTarget),i=r.closest(\".hotel-map-menu-container\"),i.find(\".hotel-map-menu\").hide(),r.hasClass(\"m-selected\")?(s.reset_map_menu(),s.handle_close_hotel_map_menu()):(a=r.data(\"tab-id\"),r.addClass(\"m-selected\").siblings().removeClass(\"m-selected\"),i.find(\".hotel-map-menu.\"+a+\"-menu\").show(),s.handle_open_hotel_map_menu(a)),t()}),this.$results.on(\"mouseenter mouseleave\",\".hotel-map-tab\",function(e){$(e.currentTarget).toggleClass(\"m-hovered\",\"mouseenter\"===e.type),t()}),this.$results.on(\"click\",\".hotel-map-menu__selectable-row\",function(t){var e,i;e=$(t.currentTarget),i=e.data(\"heatmap-type\"),i===s.selected_heatmap?s.selected_heatmap=null:(s.selected_heatmap=i,$.hipmunk.utils.track(\"hotel_enabled_heatmap\",i)),s.update_heat_map_tiles(),s.update_heat_map_menu_display(),s.update_map_tab_active_state()}),this.$results.on(\"mouseenter mouseleave\",\".neighborhood-checklist .checklist-item__check-control\",function(t){var e,i,r;e=$(t.currentTarget),r=e.data(\"filter-value\"),i=s.puppet_master.hoods_by_city[s.current_city_id][r],i.hovered=\"mouseenter\"===t.type,i.hovered?s.highlight_offscreen_neighborhoods(s.map,i):s.$map.find(\".offscreen-highlight\").remove(),i.update_color()}),this.$results.on(\"mouseenter mouseleave\",\".calendar-menu-expanded-content__event\",function(t){var e,i;e=$(t.currentTarget).data(\"event-id\"),i=s.event_map_pins[e],i&&i.highlight(\"mouseenter\"===t.type)}),this.$results.on(\"click\",\".user-flag-icon\",function(t){var e,i,r;e=$(t.currentTarget),i=e.cdata(\"event-id\"),r=s.event_map_pins[i],s.distance_sort(r.pos)}),this.$map.on(\"click\",\".map-pin-marker, .smm-normal\",function(t){var e,i,r;t.stopPropagation(),e=$(t.currentTarget),r=e.data(\"hotel\"),null!=r&&(s.map_mode?(s.open_map_popup(r),s.track_hotel(\"hotel_marker_click\",\"hotel\",r,t)):(i=function(){return s.hotel_list_view.scroll_to_hotel(r)},r.show_expanded_list_view(i)))}),this.$map.on(\"mouseenter mouseleave\",\".map-pin-marker, .smm-normal\",function(t){var e,i,r,a;t.stopPropagation(),e=$(t.currentTarget),i=e.data(\"hotel\"),r=\"mouseenter\"===t.type,s.mouse_over_marker=r,null!=i&&s.map_mode&&(r?s.current_hotel||s.open_map_popup(i,\"hover\",{kind:\"hover\"}):i.showing_hover_popup&&i.close_map_popup()),e.hasClass(\"map-pin-marker\")&&null!=i&&(a=i.get_numbered_marker_zindex(r),e.css(\"z-index\",a))}),this.$hotel_heading.on(\"click\",function(){$.show_popup(s.$update_form,s.$container),$.hipmunk.utils.track(\"hotel_search_form\",\"search\")}),e=function(t,e){var i;return i=\"mouseenter\"===t,e.toggleClass(\"m-hovered\",i,{duration:150,children:!0})},i=function(t){var i;return i=t.siblings(\".hotel-profile\"),i.each(function(t){var s;return s=$(i[t]),e(\"mouseleave\",s)})},this.$results.on(\"mouseenter mouseleave\",\".hotel-profile\",function(t){var i,s;s=\"mouseenter\"===t.type,i=$(t.currentTarget),Modernizr.csstransitions?i.toggleClass(\"m-hovered\",s):i.hasClass(\"m-selected\")||e(t.type,i)}),this.$results.on(\"click\",\".hotel-profile\",function(t){var e,r;e=$(t.currentTarget),r=\"m-selected\",s.puppet_master.filter_groups.profile.value=e.data(\"filter-value\"),Modernizr.csstransitions||i(e),e.siblings(\".hotel-profile\").removeClass(r),e.addClass(r),\"ecstasy\"===s.puppet_master.sort&&s.sort_hotels(),s.on_filter_change(\"profile\",s.puppet_master.filter_groups.profile.value)}),this.$results.on(\"click\",\".filter-box__header\",function(t){var e;e=$(t.currentTarget).closest(\".filter-box\"),e.toggleClass(\"m-collapsed\"),e.find(\".filter-box__content\").slideToggle({step:function(){return s.update_stickies()},complete:function(){return s.update_stickies()}})}),this.$results.on(\"click\",\".neighborhood-checklist .checklist-item__details-icon\",function(t){var e,i,r,a,o,n,_;return t.stopPropagation(),a=$(t.currentTarget).closest(\".checklist-item\").data(\"filter-value\"),i=s.puppet_master.hoods_by_city[s.current_city_id][a],e=s.$results.find(\".hotel-map-neighborhood-details\"),e.is(\":visible\")&&e.data(\"hood-id\")===a?(e.hide(),void 0):(r=function(){var t,e;t=this.hotels,e=[];for(n in t)o=t[n],o.hood_id===a&&e.push(o);return e}.call(s),_=s.get_hotel_star_count_summary(r),e.data(\"hood-id\",a),e.html(drykup.render($.templates.hotel_map_menu_neighborhood_details(i,_,s.currency))),e.show(),$.hipmunk.utils.track(\"hotel_neighborhood_details_open\"),void 0)}),this.$results.on(\"click\",\".hotel-map-neighborhood-details .hotel-map-neighborhood-details__close\",function(){var t;t=s.$results.find(\".hotel-map-neighborhood-details\"),t.hide()}),this.$results.on(\"click\",\".calendar-checklist .checklist-item\",function(t){var e,i,s;e=$(t.currentTarget),e.hasClass(\"m-disabled\")||(e.toggleClass(\"m-expanded\"),s=e.hasClass(\"m-expanded\"),e.next().toggle(s),i=e.closest(\"[data-calendar-id]\").data(\"calendar-id\"),$.prefs.setlist(\"expanded_cals\",i,s),$.prefs.save())}),this.$results.on(\"click\",\".calendar-checklist .checklist-item__check-control\",function(t){var e,i;e=$(t.currentTarget).closest(\".checklist-item\"),e.hasClass(\"m-disabled\")||(e.toggleClass(\"m-selected\"),i=e.closest(\"[data-calendar-id]\").data(\"calendar-id\"),$.prefs.setlist(\"disabled_cals\",i,!e.hasClass(\"m-selected\")),$.prefs.save(),s.refresh_all_event_pins(),t.stopPropagation())}),this.$results.on(\"click\",\".filter-item, .filter-checklist .checklist-item__check-control\",function(t){var e,i,r,a,o,n,_,l;e=$(t.currentTarget).closest(\"[data-filter-value]\"),e.hasClass(\"m-disabled\")||(e.toggleClass(\"m-selected\"),_=s.get_filter_el_data(e),a=_.kind,n=_.value,o=e.hasClass(\"m-selected\"),null!=(l=s.puppet_master.filter_groups[a])&&l.set_filter_value(n,o),s.on_filter_change(a,n,o),\"hoods\"===a&&(i=s.$map_menu_neighborhoods.find(\".checklist-item__reset\"),o?(i.removeClass(\"m-selected\"),r=s.puppet_master.hoods_by_city[s.current_city_id][n],s.neighborhood_is_offscreen(s.map,r).is_offscreen&&s.fit_map_to_selected_hoods()):s.no_hood_is_selected()&&i.addClass(\"m-selected\")))}),this.$results.on(\"click\",\".neighborhood-menu .checklist-item__reset\",function(){return s.$map_menu_neighborhoods.find(\".checklist-item__reset\").addClass(\"m-selected\"),s.$map_menu_neighborhoods.find(\"[data-filter-value]\").removeClass(\"m-selected\"),s.puppet_master.filter_groups.hoods.clear(),s.remove_map_hood_highlights(),s.on_filter_change(\"hoods\",\"reset\")}),this.$results.on(\"click\",\".filter-star, .filter-ta-star\",function(t){var e,i,r,a,o;return e=$(t.currentTarget),o=s.get_filter_el_data(e),r=o.kind,a=o.value,i=s.puppet_master.filter_groups[r],i.value===a?(a=null,e.siblings().andSelf().removeClass(\"m-selected\")):(e.siblings().andSelf().addClass(\"m-selected\"),e.nextAll().removeClass(\"m-selected\")),$.browser.msie&&e.hide().show(),i.value=a,s.on_filter_change(r,a)}),this.$results.on(\"mouseenter\",\".tooltip-enabled[data-filter-value]\",function(t){var e,i,s,r,a,o,n;return e=$(t.currentTarget),e.hasClass(\"checklist-item\")?(s=e.closest(\".checklist__column\").index(),o=[\"left\",\"right\"][Math.max(s,0)]):o=null,r=e.data(\"count\"),a=e.data(\"min_price\"),i=$.render($.templates.hotel_filter_tooltip({count:r,price:a,side:o})),n=new ToolTip(e,i,{single_use:!0}),n.show()}),this.$results.on(\"click\",\".hotel-map-view-more\",function(){s.set_map_mode(!0)}),this.$results.on(\"click\",\".hotel-map-view-less\",function(){s.set_map_mode(!1)}),this.map.on(\"zoomstart\",function(t){$.hipmunk.utils.track(\"hotel_map_zoom\",\"map\",{zoom:t.target._zoom})}),this.map.on(\"dragend\",function(){$.hipmunk.utils.track(\"hotel_map_drag\")}),this.$results.on(\"click\",\".leaflet-control-attribution a\",function(){return $.hipmunk.utils.track(\"hotel_leaflet\")}),this.add_dropdown_events(this.$results)},o.prototype.add_dropdown_events=function(t){var e=this;return t.on(\"click\",\".select-button\",function(t){return t.stopPropagation()}),t.on(\"click\",\".booking-drop\",function(t){var i,s,r;return t.stopPropagation(),i=$(t.currentTarget).closest(\".js-booking-dropdown\"),r=i.data(\"booking-dropdown\"),s=r.$popup,e.fetch_hotel_info(r.hotel.id),s.is(\":visible\")||(r.update_dropdown_html(s),$.hipmunk.utils.track(\"hotel_open_booking_dropdown\",null,{source:r.source})),$.show_dropdown(s,e.$container)}),t.on(\"hover\",\".select-button\",function(t){var e,i,s,r;return r=\"mouseenter\"===t.type,i=$(t.currentTarget).closest(\".js-booking-dropdown\"),s=i.find(\".price__rooms-left\").toggle(!r),e=i.find(\".price__booking-label\").toggle(r)})},o.prototype.update_heat_map_tiles=function(){var t,e,i;i=this.heatmap_layers;for(e in i)t=i[e],e===this.selected_heatmap?this.map.addLayer(t):this.map.removeLayer(t)},o.prototype.get_below_map_offset=function(){return this.$results.find(\".hotel-small-map-holder\").next().position().top},o.prototype.set_map_mode=function(e,i){var s,r,a,o,n,_,l,h,p,d,u,f,g,v,y,b,k,w,C,x,T,E=this;k=(null!=i?i:{}).duration,e!==this.map_mode&&(this.map_mode=e,a=this.$results.find(\".hotel-profiles\"),n=this.$results.find(\".hotel-main-content.sticky\"),l=this.$results.find(\".hotel-ads-side\"),s=n.find(\".control-bar\"),h=this.$results.find(\".hotel-sidebar.sticky\"),_=this.$results.find(\".hotel-map-layer\"),o=this.$results.find(\".hotel-large-map-holder\"),p=this.$results.find(\".hotel-small-map-holder\"),null==k&&(k=250),$.hipmunk.is_mobile&&(k=0),w=\"easeInSine\",this.reset_map_menu(),this.save_map_preferences(this.map_mode),u={position:\"\",top:\"\",left:\"\",right:\"\",bottom:\"\",width:\"\",height:\"\",\"z-index\":\"\",\"-webkit-backface-visibility\":\"\"},this.map_mode?(d=_.withClass(\"m-tall\",function(){return E.get_below_map_offset()}),n.animate({marginTop:d},{duration:k,easing:w}),l.animate({marginTop:d},{duration:k,easing:w}),a.addClass(\"m-wide-map\",{duration:k,easing:w}),\"fixed\"===s.prop(\"style\").position&&(b=s.position().top,s.animate({top:b+d},{duration:k,easing:w,complete:function(){return s.css({top:\"\",position:\"\"})}})),_.addClass(\"m-tall\",{duration:k,easing:w,step:function(){E.map.invalidateSize()},complete:function(){var e,i,s,r,a;return n.css(\"margin-top\",\"\"),l.css(\"margin-top\",\"\"),_.appendTo(o),r=_.offset(),a=h.offset(),r.top-=$(window).scrollTop(),s=_.outerWidth(),i=_.outerHeight(),e=$(\"<div />\").addClass(_.get(0).className).css({height:i,width:s,visibility:\"hidden\",position:_.css(\"position\"),top:_.css(\"top\")}).insertAfter(_),_.css({position:\"fixed\",top:r.top,left:a.left,right:a.left+s,width:s,height:i,\"z-index\":1e3,\"-webkit-backface-visibility\":\"hidden\"}),h.place_sticky(0),l.place_sticky(0),_.animate({left:0,right:0,width:t.width()},{duration:k,easing:w,step:function(){E.map.invalidateSize()},complete:function(){_.addClass(\"m-wide m-map-mode\"),_.css(u),e.remove(),E.map.invalidateSize(),E.update_stickies(),E.map.setZoom(m)}})}})):(null!=(T=this.current_hotel)&&T.close_map_popup(),this.remove_update_search_prompt(),_.removeClass(\"m-map-mode\"),v=_.offset(),y=h.offset(),v.top-=$(window).scrollTop(),g=_.outerWidth(),f=_.outerHeight(),C=_.withoutClass(\"m-wide\",function(){return _.outerWidth()}),r=$(\"<div />\").addClass(_.get(0).className).css({height:f,width:g,visibility:\"hidden\",position:_.css(\"position\"),top:_.css(\"top\")}).insertAfter(_),_.css({position:\"fixed\",top:v.top,left:\"0\",right:\"0\",width:g,height:f,\"z-index\":1e3,\"-webkit-backface-visibility\":\"hidden\"}),x={left:y.left,right:y.left+C,width:C},_.animate(x,{duration:k,easing:w,step:function(){E.map.invalidateSize()},complete:function(){return _.appendTo(p),_.removeClass(\"m-wide\").css(u),r.remove(),n.css({marginTop:E.get_below_map_offset()}),l.css({marginTop:E.get_below_map_offset()}),n.animate({marginTop:0},{duration:k,easing:w}),l.animate({marginTop:0},{duration:k,easing:w}),a.removeClass(\"m-wide-map\",{duration:k,easing:w}),_.removeClass(\"m-tall\",{duration:k,easing:w,step:function(){E.map.invalidateSize()},complete:function(){n.css(\"margin-top\",0),l.css(\"margin-top\",0),E.map.invalidateSize(),E.update_stickies(),E.map.setZoom(c)}})}})))},o.prototype.handle_open_hotel_map_menu=function(t){var e,i;switch(i=this.$results.find(\".hotel-map-menu-container\"),e=i.find(\".\"+t+\"-menu\"),this.set_map_layer_left_padding(e.width()),this.update_and_redraw_visible(),t){case\"neighborhood\":this.update_neighborhood_menu_display();break;case\"heatmaps\":this.update_heat_map_menu_display();break;case\"calendar\":this.update_calendar_menu_display()}return $.hipmunk.utils.track(\"hotel_map_menu_open\",t)},o.prototype.update_map_tab_active_state=function(){var t;return t=$.hipmunk.utils.dict_size(this.puppet_master.filter_groups.hoods.value),this.$results.find(\".hotel-map-tab-neighborhood\").toggleClass(\"m-active\",t>0),this.$results.find(\".hotel-map-tab-heatmaps\").toggleClass(\"m-active\",null!=this.selected_heatmap)},o.prototype.handle_close_hotel_map_menu=function(){return this.update_and_redraw_visible(),this.$results.find(\".hotel-map-neighborhood-details\").hide()},o.prototype.set_map_layer_left_padding=function(t){},o.prototype.reset_map_menu=function(){var t;t=this.$results.find(\".hotel-map-menu-container\"),t.find(\".hotel-map-menu\").hide(),t.find(\".hotel-map-tab\").removeClass(\"m-selected\"),this.set_map_layer_left_padding(0)},o.prototype.update_heat_map_menu_display=function(){var t,e;if(this.$map_menu_heatmaps.is(\":visible\"))return this.$map_menu_heatmaps.is(\":empty\")&&(e=drykup.render($.templates.hotel_map_menu_heatmaps()),this.$map_menu_heatmaps.html(e)),t=this.$map_menu_heatmaps.find(\".hotel-map-menu__selectable-row\"),t.removeClass(\"m-selected\"),this.selected_heatmap?t.filter(\"[data-heatmap-type='\"+this.selected_heatmap+\"']\").addClass(\"m-selected\"):void 0},o.prototype.update_calendar_menu_display=function(){var t,e,i;this.$map_menu_calendar.is(\":visible\")&&(this.calendar_start&&this.calendar_end&&(i=this.current_calendar_time_info(),e=this.calendar_event_manager.status_for_timeinfo(i)),t=calendar_on()?i?e.status===CalendarEventManager.CEM_CACHE_STATUS_ERROR?drykup.render($.templates.hotel_map_menu_calendar_error()):e.status===CalendarEventManager.CEM_CACHE_STATUS_RUNNING?drykup.render($.templates.hotel_map_menu_calendar_loading()):drykup.render($.templates.hotel_map_menu_calendar_list(e.data.calendars,$.prefs.disabled_cals,$.prefs.expanded_cals)):drykup.render($.templates.hotel_map_menu_calendar_add_dates()):drykup.render($.templates.hotel_map_menu_calendar_enable()),this.$map_menu_calendar.html(t))},o.prototype.update_neighborhood_menu_display=function(){var t,e;this.$map_menu_neighborhoods.is(\":visible\")&&(\"done\"===this.cities_running[this.current_city_id]?(t=this.get_hoods_in_city(this.current_city_id),e=_.isEmpty(t)?drykup.render($.templates.hotel_map_menu_neighborhoods_empty()):drykup.render($.templates.hotel_map_menu_neighborhoods(t))):e=drykup.render($.templates.hotel_map_menu_neighborhoods_loading()),this.$map_menu_neighborhoods.html(e),_.isEmpty(t)||this.setup_neighborhood_reset(),this.update_filter_availability(this.puppet_master.visible_hotels))},o.prototype.no_hood_is_selected=function(){return _.isEmpty(this.puppet_master.filter_groups.hoods.value)},o.prototype.setup_neighborhood_reset=function(){var t,e;return t=this.$map_menu_neighborhoods.find(\".checklist\"),e=t.find(\".checklist-item__check-control\")[0].clientWidth,t.find(\".checklist-item__reset\").css(\"width\",e),this.no_hood_is_selected()&&t.find(\".checklist-item__reset\").addClass(\"m-selected\"),t.on(\"scroll\",function(e){return e.currentTarget.scrollTop<=0?t.removeClass(\"m-scrolled\"):t.addClass(\"m-scrolled\")})},o.prototype.get_filter_el_data=function(t){var e,i;return e=t.closest(\"[data-filter-kind]\").data(\"filter-kind\"),i=t.data(\"filter-value\"),{kind:e,value:i}},o.prototype.on_filter_change=function(t,e,i){null==i&&(i=null),this.current_page=0,this.update_filtered_hotels(),this.redraw(),$.hipmunk.utils.track(\"hotel_filter\",t,{value:e,selected:i})},o.prototype.track_hotel=function(t,e,i,s){this.puppet_master.track_hotel(t,e,i,s)},o.prototype.track_hood_filters=function(t){return $.hipmunk.utils.track(t,\"hoods\",{city_name:this.city_name,city_id:this.current_city_id,zoom:this.map.getZoom()})},o.prototype.circle_from_mouse=function(t){var s,r,a,o,n,_;return _=t.layerPoint,o=_.x,n=_.y,r=new L.Point(o+i,n),s=this.map.layerPointToLatLng(r),a=t.latlng.distanceTo(s),new L.Circle(t.latlng,a,e)},o.prototype.get_city=function(t,e){var i,s=this;i=(null!=e?e:{}).redo_search,this.puppet_master.get_city(t,function(t,e){s.on_location_change(t,e,{redo_search:i})})},o.prototype.get_hoods_in_city=function(t){var e,i,s,r;r=this.puppet_master.hoods_by_city[t],e={};for(s in r)i=r[s],i.city_id===t&&(e[s]=i);return e},o.prototype.update_search=function(t){var e,i,s,r;return this.search=new C(t.search),this.city_name=null!=(s=t.search.where)?s.display_name:void 0,(t.city_id!==this.current_city_id||this.redo_search)&&(e=t.map_center,i=this.map_mode?m:c,this.map.setView([e[1],e[0]],i)),this.clear_all_filters(),this.set_current_page(0),this.on_location_change(t,t.search_reason,{redo_search:!0}),null!=(r=this.current_hotel)&&r.close_map_popup(),this.current_hotel=null,this.handle_calendar_date_change(t.cal_dates),this.clear_ads()},o.prototype.on_content_activate=function(){return $(\"body\").addClass(\"hotel-tab\"),this.update_stickies(),this.map.invalidateSize(),this.first_show&&(this.first_show=!1,this.map.setView(this.map.getCenter(),this.map.getZoom(),!0)),this.update_hotel_points(),this.update_and_redraw_visible(),$.hipmunk.NpsToaster.maybe_show({search_kind:\"hotel\"}),o.__super__.on_content_activate.call(this)},o.prototype.on_content_deactivate=function(){return $(\"body\").removeClass(\"hotel-tab\"),o.__super__.on_content_deactivate.call(this)},o.prototype.adjust_for_scroll=function(){$.handle_resize(),this.update_stickies()},o.prototype.get_content_top=function(){return this.$results.offset().top},o.prototype.update_city_and_search=function(t,e){var i,s,r,a,o,n,_,l,h,p,d,u,c,m=this;r=t.city_id,l=t.short_name,h=t.tab_html,p=t.tab_params,s=t.cal_dates,a=t.city_name,_=t.search,$.close_popups(),null==a&&(a=null!=(u=_.where)?u.display_name:void 0),null==l&&(l=null!=(c=_.where)?c.short_name:void 0),this.city_name=a,this.$where_field.val(a),null!=l&&(i=this.$tab.find(\".city-name\"),d=i.html().split(\":\"),d[0]=l,i.html(d.join(\":\")),this.$city_retarget.html(l),adroll_event(\"hotel retarget\"),track_hotel_search(this),$.hipmunk.url.resize_tabs()),o=drykup.render($.templates.hotel_heading(this.search)),this.$hotel_heading.find(\".hh-name\").text(\"Hotels in \"+this.city_name).end().find(\".search-summary\").html(o),null!=h&&(this.$tab.find(\".flex-wrapper\").html(h),$.hipmunk.url.resize_tabs()),null!=p&&this.update_url(p),n=!1,this.current_city_id!==r&&(this.clear_ads(),this.clear_hood_filters(),n=!0),this.current_city_id=r,this.run_things(r,function(t){t===m.current_city_id&&m.update_and_redraw_visible()}),this.search.check_in&&this.search.check_out&&r?(this.start_loading(),this.puppet_master.fetch_prices_and_new_hotels(r,this.search,e,this.have_search_results),this.toggle_price_filter(!0),this.puppet_master.filter_groups.price=this.puppet_master.price_filter_group):(delete this.puppet_master.filter_groups.price,this.toggle_price_filter(!1),this.finish_loading(\"building\"))},o.prototype.on_location_change=function(t,e,i){var s,r;r=(null!=i?i:{}).redo_search,this.update_search_prompt_data={city_data:t,search_reason:e},s=null!=t?t.city_id:void 0,s&&(r||(r=this.pc.has_search(s,this.search))),this.redo_search=r,this.redo_search&&(this.remove_update_search_prompt(),this.update_city_and_search(t,e),this.draw_ads()),this.update_and_redraw_visible()},o.prototype.prompt_for_search_update=function(){var t,e,i,s,r,a,o,n,_,l;return l=this.update_search_prompt_data,e=l.city_data,_=l.search_reason,t=this.$top_right_controls.find(\".update-city-prompt\"),e&&this.current_city_id!==e.city_id&&this.map_mode?($.templates.update_city_prompt(e,\"with-map-paginator\"),a=drykup.render(),s=0,t.length?t.replaceWith(a):(s=400,this.$top_right_controls.append(a)),t=this.$top_right_controls.find(\".update-city-prompt\"),n=this.paginators.map.$el.outerWidth(),r=!0,o=\"\",n?this.paginators.map.$el.addClass(\"m-update-search-prompt\"):(n=198,r=!1,o=-n-10),t.css({width:n,left:o}),i=\"m-shown\",r&&(i+=\" m-below-paginator\"),t.addClass(i,{duration:s}),r&&this.$top_right_controls.find(\".leaflet-control-zoomslider\").addClass(\"m-update-search-prompt\",{duration:s}),void 0):(this.remove_update_search_prompt(),void 0)},o.prototype.remove_update_search_prompt=function(){var t,e;t=this.$top_right_controls.find(\".update-city-prompt\"),e=this.$top_right_controls.find(\".leaflet-control-zoomslider\"),t.remove(),e.removeClass(\"m-update-search-prompt\"),this.paginators.map.$el.removeClass(\"m-update-search-prompt\")},o.prototype.toggle_price_filter=function(t){var e;return e=$(\"[data-filter-kind=price]\"),e.toggle(t).toggleClass(\"m-first\",t),e.next().toggleClass(\"m-first\",!t)},o.prototype.run_things=function(t,e){this.puppet_master.run_things(t,function(t){e(t)})},o.prototype.have_search_results=function(t,e,i,s){t===this.current_city_id&&e===this.search&&(s&&this.finish_loading(\"building\"),this.currency=i,this.update_and_redraw_visible())},o.prototype.distance_sort=function(t){this.distance_pos=new L.LatLng(t[0],t[1]),this.set_sort(\"distance\"),0===this.puppet_master.list_hotels.length&&this.get_city(\"distance_pin_click\",{redo_search:!0})},o.prototype.open_map_popup=function(t,e,i){var s,r,a;r=(null!=i?i:{}).kind,a=this.current_hotel,null!=a&&(a=this.current_hotel,a.close_map_popup(),a.hide_expanded_list_view()),null==r&&(r=\"large\"),\"large\"===r?u?_.defer(function(){return t.show_map_popup()}):t.show_map_popup():\"hover\"===r&&t.show_hover_map_popup(),this.current_hotel=t,s=\"hotel_map_popup\",\"large\"!==r&&(s=\"hotel_\"+r+\"_map_popup\"),this.track_hotel(s,e,t),store_hotel_book(this,t)},o.prototype.set_sort=function(t){this.puppet_master.sort=t,this.sort_hotels(),this.redraw(),this.update_sort_button_display(),$.hipmunk.utils.track(\"hotel_sort\",this.sort)\n},o.prototype.update_sort_button_display=function(){this.$control_bar.find(\".sorts .small-button\").removeClass(\"selected\").filter(\".sort-\"+this.puppet_master.sort).addClass(\"selected\")},o.prototype.update_and_redraw_visible=function(){this.puppet_master.update_hotels_for_redraw(),this.update_neighborhood_menu_display(),this.redraw()},o.prototype.redraw=function(){var t;t=this.puppet_master.list_hotels=this.puppet_master.visible_hotels,this.update_hotel_list(t),this.update_filter_availability(t),this.update_hotel_markers(t),this.update_hood_filters(t),this.redo_search||this.prompt_for_search_update(),this.update_stickies()},o.prototype.sort_hotels=function(){this.puppet_master.sort_hotels()},o.prototype.update_filtered_hotels=function(){var t;t=this.$ac_text.val(),this.puppet_master.update_filtered_hotels(t)},o.prototype.update_hotel_points=function(){var t,e,i,s;for(s=this.puppet_master.visible_hotels,e=0,i=s.length;i>e;e++)t=s[e],t.update_abs_point()},o.prototype.update_filter_availability=function(t){var e,i,s,r,a,o,n,_,l,h,p,d,u,c,m,f;_=this.puppet_master.hotel_would_be_included,o=this.puppet_master.get_filter_availability,c=this.puppet_master.filter_groups;for(h in c)if(r=c[h],r.update_availability)for(l=function(){var e,i,s;for(s=[],e=0,i=t.length;i>e;e++)n=t[e],_(n,h)&&s.push(n);return s}(),m=this.get_filter_els(h),d=0,u=m.length;u>d;d++)s=m[d],e=$(s),a=e.data(\"filter-value\"),f=o(r,a,l),i=f[0],p=f[1],e.toggleClass(\"m-unavailable\",0===i).data(\"count\",i).data(\"min_price\",p)},o.prototype.fetch_hotel_info=function(t){var e,i,s,r,a=this;i=this.puppet_master.hotels_by_id[t],i.is_status_running()||(i.set_status_running(),s=this.search.params(),e=this.search.has_dates(),(r=function(){return $.ajax({type:\"GET\",url:\"/api/hotel2/info?id=\"+i.id,data:_.clone(s),dataType:\"json\",success:function(o){var n,_,l,h;return l=!1,n=null!=(h=o.hotels)?h[0]:void 0,null!=n&&(i.update(n),l=!0),null!=o.currency&&(a.pc.currency=o.currency),_=o.stays,(null!=_?_[t]:void 0)&&(a.pc.add_stays(a.search,o.stays),l=!0,s.count=o.stays.count,i.set_status_results()),!(null!=_?_.done:void 0)&&e?r():(l=!0,i.set_status_done()),l?i.update_ui():void 0}})})())},o.prototype.refresh_hotel_list=function(){this.redraw()},o.prototype.index_in_page=function(t){return G(t/this.HOTELS_PER_PAGE)===this.current_page},o.prototype.reset_hotel_list_view_items=function(t){var e,i,s,r,a,o,n,_;for(e=0,s=!1,a=0,n=t.length;n>a;a++)i=t[a],i.filtered||e++,s||(s=i.bookmarked);for(e<=this.current_page*this.HOTELS_PER_PAGE&&(this.current_page=G(e/this.HOTELS_PER_PAGE)),r=0,o=0,_=t.length;_>o;o++)i=t[o],i.filtered?i.set_list_index(null):(this.index_in_page(r)?(i.set_list_index(r),this.hotel_list_view.append_hotel(i)):i.set_list_index(null),r++),i.update_ui();return[e,s]},o.prototype.update_paginators_and_no_hotels_ui=function(t,e,i){var s,r,a,o,n,_,l,h;if(_=\"done\"===this.pc.get_search_status(this.current_city_id,this.search),s=\"done\"===this.cities_running[this.current_city_id],null==this.pc.get_search_status(this.current_city_id,this.search)&&(_=s),e){this.paginators.list_top.$el.prependTo(this.$results.find(\".control-bar__paginator-group\")),this.paginators.list_bottom.$el.insertAfter(this.hotel_list_view.$el),this.paginators.map.$el.prependTo(this.$map.find(\".leaflet-top.leaflet-right\")),n={current_page:this.current_page,num_items:e,search_done:u||_},l=this.paginators;for(r in l)o=l[r],o.update(n);this.remove_loading_box_from_map()}else{h=this.paginators;for(r in h)o=h[r],o.$el.detach();t?this.puppet_master.bookmark_filter_on&&!i?this.hotel_list_view.append_bookmarks_empty_error():this.hotel_list_view.append_no_hotels_error():s?(this.hotel_list_view.append_no_hotels_found_error(),this.remove_loading_box_from_map()):(a=this.hotel_list_view.$el.find(\".loading-box\").is(\":visible\"),this.map_mode&&!a?this.add_loading_box_to_map():(this.remove_loading_box_from_map(),this.hotel_list_view.append_searching_hotels()))}return $.hipmunk.is_mobile?this.$map.find(\".leaflet-control-zoomslider\").hide():void 0},o.prototype.update_hotel_list=function(t){var e,i,s;this.image_queue.clear(),this.hotel_list_view.prepare_for_update(),s=this.reset_hotel_list_view_items(t),e=s[0],i=s[1],this.hotel_list_view.update_ui(),this.update_paginators_and_no_hotels_ui(t.length,e,i)},o.prototype.center_loading_box=function(t){var e,i;return i=this.$map.width(),e=this.$map.height(),t.css({left:\"\"+(i/2-115)+\"px\",top:\"\"+(e/2-75)+\"px\"})},o.prototype.add_loading_box_to_map=function(){var t,e,i,s=this;return i=this.$results.find(\".hotel-map-menu-container\"),i.find(\".loading-box\").length?void 0:($.templates.loading_box(\".m-map\"),t=$(drykup.render()),e=t.find(\".header-text\"),$.hipmunk.utils.animate_ellipses(e),this.center_loading_box(t),$(window).on(\"resize\",function(){return s.center_loading_box(t)}),i.append(t))},o.prototype.remove_loading_box_from_map=function(){var t;return t=this.$results.find(\".hotel-map-menu-container\"),t.find(\".loading-box\").remove()},o.prototype.update_hotel_markers=function(t){var e,i,s,r;for(r=[],i=0,s=t.length;s>i;i++)e=t[i],r.push(e.show_marker());return r},o.prototype.update_magnified_info=function(t,e){var i,s,r,a,o,n,l,h,p,d;return l=-this.$magnified_info.outerWidth(),t.length>0&&(d=this.hovered_hotels.length,i=function(){var e,i,s;for(s=[],e=0,i=t.length;i>e;e++)o=t[e],5===o.stars&&s.push(o);return s}(),r=function(){var e,i,s,r;for(r=[],e=0,i=t.length;i>e;e++)o=t[e],4<=(s=o.stars)&&5>s&&r.push(o);return r}(),h=function(){var e,i,s,r;for(r=[],e=0,i=t.length;i>e;e++)o=t[e],3<=(s=o.stars)&&4>s&&r.push(o);return r}(),n=function(t,e){return{num:t.length,stars:e,render_kind:\"hotel\",price:_.min(function(){var e,i,s;for(s=[],e=0,i=t.length;i>e;e++)o=t[e],null!=o.get_price()&&s.push(o.get_price());return s}())}},s=n(i,5),a=n(r,4),p=n(h,3),this.$magnified_info.html(drykup.render($.templates.nh_magnified_info(d,e,this.currency,s,a,p))),l=0),this.$magnified_info.animate({right:l,duration:100},{queue:!1})},o.prototype.refresh_hood_filters=function(t){this.update_hood_filters(this.puppet_master.visible_hotels,t)},o.prototype.clear_hood_filters=function(){this.puppet_master.filter_groups.hoods.value={},this.update_hood_filters()},o.prototype.update_hood_filters=function(){var t,e,i,s,r,a;a=this.puppet_master.hoods_by_city;for(e in a){t=a[e];for(s in t)i=t[s],r=!!this.puppet_master.filter_groups.hoods.value[s],i.group!==r&&(i.group=r,i.update_color())}this.update_map_tab_active_state()},o.prototype.update_url=function(t){return $.extend(this.tab_params,t),$.hipmunk.url.update_url()},o.prototype.set_current_page=function(t){var e,i,s;this.current_page=t,s=this.paginators;for(e in s)i=s[e],i.update({current_page:this.current_page});this.redraw(),this.refresh_ads()},o.prototype.handle_calendar_date_change=function(t){var e,i;return i=this.current_calendar_time_info(),this.calendar_start=t.calendar_start,this.calendar_end=t.calendar_end,this.calendar_start_iso=t.calendar_start_iso,this.calendar_end_iso=t.calendar_end_iso,e=this.current_calendar_time_info(),$.hipmunk.utils.equals(e,i)?void 0:this.load_calendar()},o.prototype.current_calendar_time_info=function(){return this.calendar_start&&this.calendar_end?{min_time:this.calendar_start,max_time:this.calendar_end}:null},o.prototype.on_calendar_event_cache_changed=function(t){var e,i;return i=this.current_calendar_time_info(),e=CalendarEventManager.timeinfo_to_key(i),t===e?this.handle_calendar_events_updated():void 0},o.prototype.refresh_map_pins=function(){var t,e,i,s,r,a,o,n,_,l,h;_=this.event_map_pins;for(i in _)s=_[i],this.map.removeLayer(s);if(a=this.current_calendar_time_info(),null!=a&&(r=this.calendar_event_manager.status_for_timeinfo(a),r.status===CalendarEventManager.CEM_CACHE_STATUS_DONE)){for(l=r.data.calendars,h=[],o=0,n=l.length;n>o;o++)t=l[o],h.push(function(){var i,s,r,a;for(r=t.events,a=[],i=0,s=r.length;s>i;i++)e=r[i],e.where&&a.push(this.geocoder_request(e));return a}.call(this));return h}},o.prototype.geocoder_request=function(t){var e=this;return $.hipmunk.geocoder.lookup_address(t.where,function(i){return e.geocoder_callback(i,t)})},o.prototype.geocoder_callback=function(t,e){var i,s;if(t&&t.where)return this.event_map_pins[e.id]&&this.map.removeLayer(this.event_map_pins[e.id].marker),s=\"\"+e.name+\"\\n\"+e.start_day+\" \"+e.start_time+\"\\n\"+e.where,i=new UserFlag(t.where,e.number,e.flag_color,s,\"event-id-\"+e.id),this.event_map_pins[e.id]=i,this.set_pin_state_for_event(e)},o.prototype.set_pin_state_for_event=function(t){var e,i,s;return(i=this.event_map_pins[t.id])?(s=t.calendar.id,e=J.call($.prefs.disabled_cals,s)>=0,e?this.map.removeLayer(i.marker):this.map.addLayer(i.marker)):void 0},o.prototype.refresh_all_event_pins=function(){var t,e,i,s,r,a,o,n;for(s=this.current_calendar_time_info(),i=this.calendar_event_manager.status_for_timeinfo(s),o=i.data.calendars,n=[],r=0,a=o.length;a>r;r++)t=o[r],n.push(function(){var i,s,r,a;for(r=t.events,a=[],i=0,s=r.length;s>i;i++)e=r[i],a.push(this.set_pin_state_for_event(e));return a}.call(this));return n},o.prototype.clear_bookmarks=function(){var t;this.puppet_master.bookmark_filter_on=!1,t=$(\".bookmarks-filter\"),t.removeClass(\"selected\"),this.update_filtered_hotels()},o.prototype.clear_all_filters=function(){var t,e,i;i=this.puppet_master.filter_groups;for(e in i)t=i[e],t.clear();this.$results.find(\"[data-filter-value]\").removeClass(\"m-selected\").filter('[data-filter-value=\"\"]').addClass(\"m-selected\"),this.$ac_text.val(\"\"),this.update_filtered_hotels()},o.prototype.get_hotel_star_count_summary=function(t){var e,i,s,r,a,o,n,l,h;for(r=[],a=o=0;5>=o;a=++o)r.push({count:0,cheapest_hotel:null});for(n=0,l=t.length;l>n;n++)s=t[n],i=r[Math.floor(s.stars||0)],i&&(i.count++,_.isFinite(null!=(h=s.price_info)?h.price:void 0)&&(e=i.cheapest_hotel,(null===e||s.price_info.price<e.price_info.price)&&(i.cheapest_hotel=s)));return r},o.prototype.neighborhood_is_offscreen=function(t,e){var i,s,r,a,o;return o=function(t,e){return 180>(e-t+360)%360},i=t.getBounds(),a={is_offscreen:!1,direction:{is_north:!1,is_south:!1,is_east:!1,is_west:!1}},i.contains(e.center)||(a.is_offscreen=!0,s=i.getNorthEast(),r=i.getSouthWest(),e.center.lat>s.lat&&(a.direction.is_north=!0),e.center.lat<r.lat&&(a.direction.is_south=!0),o(s.lng,e.center.lng)&&(a.direction.is_east=!0),o(r.lng,e.center.lng)||(a.direction.is_west=!0)),a},o.prototype.highlight_offscreen_neighborhoods=function(t,e){var i,s,r;return r=this.neighborhood_is_offscreen(t,e),s=r.is_offscreen,i=r.direction,s?(i.is_north&&$.templates.offscreen_highlight(\"north\"),i.is_south&&$.templates.offscreen_highlight(\"south\"),i.is_east&&$.templates.offscreen_highlight(\"east\"),i.is_west&&$.templates.offscreen_highlight(\"west\"),this.$map.append(drykup.render())):void 0},o.prototype.get_boundaries_of_selected_hoods=function(){var t,e,i,s,r,a,o,n;t=new L.LatLngBounds(this.map.getCenter()),o=this.get_hoods_in_city(this.current_city_id);for(i in o)if(e=o[i],e.group)for(n=e.points,r=0,a=n.length;a>r;r++)s=n[r],t.extend(s);return t.extend(this.map.getCenter()),t},o.prototype.fit_map_to_selected_hoods=function(){var t;return this.$map.find(\".offscreen-highlight\").remove(),t=this.get_boundaries_of_selected_hoods(),this.map.fitBounds(t,{animate:!0})},o.prototype.remove_map_hood_highlights=function(){var t,e,i,s;i=this.puppet_master.hoods_by_city[this.current_city_id],s=[];for(e in i)t=i[e],t.hovered=!1,s.push(t.update_color());return s},o}(z),n=L.TileLayer.extend({_update:function(){var t,e,i,s,r,a;if(this._map&&(t=this._map.getPixelBounds(),a=this._map.getZoom(),r=this.options.tileSize,!(a>this.options.maxZoom||a<this.options.minZoom)))return e=new L.Point(Math.floor(t.min.x/r)-2,Math.floor(t.min.y/r)),i=new L.Point(Math.floor(t.max.x/r),Math.floor(t.max.y/r)),s=new L.Bounds(e,i),this._addTilesFromCenterOut(s),this.options.unloadInvisibleTiles||this.options.reuseTiles?this._removeOtherTiles(s):void 0}})}.call(this);\n!function(){var t,a,i=[].slice;window.get_class=function(t){return Object.prototype.toString.call(t).slice(8,-1)},t=function(t,a){return void 0!==t&&null!==t&&get_class(t)===a},a=function(){var t,a,e;return e=arguments[0],a=arguments[1],t=3<=arguments.length?i.call(arguments,2):[],new Date(e,a,t)},window.BarGraph=function(){function i(t,a){var i=this;this.$backdrop=$(t),this.$backdrop.addClass(\"bargraph\"),this.clear(),a?this.set_data(a.x,a.y):this.hide(),this.default_title=null,this.emptytext=null,this.$backdrop.mouseleave(function(){return i.$backdrop.find(\".bar-float.hover\").removeClass(\"hover\")})}return i.prototype._backdrop='<div class=\"plotregion\">\\n  <div class=\"background\">\\n    <div class=\"graph-top\">\\n      <div class=\"inner\">\\n        <div class=\"title\">\\n        </div>\\n      </div>\\n    </div>\\n    <div class=\"middle\">\\n      <div class=\"empty\"></div>\\n    </div>\\n  </div>\\n  <div class=\"scroll-container\">\\n    <div class=\"bararea\"></div>\\n  </div>\\n</div>',i.prototype.clear=function(t){var a,i;return null==t&&(t=!0),this.$backdrop.html(this._backdrop),this.$title=this.$backdrop.find(\".title\"),this.$bararea=this.$backdrop.find(\".bararea\"),this.$middle=this.$backdrop.find(\".middle\"),this.dataheight=this.$middle.height(),this.datawidth=this.$bararea.innerWidth(),this.$labels=[],this.$middle.find(\".empty\").html(null!=(a=this.emptytext)?a:\"\"),this.$title.html(null!=(i=this.default_title)?i:\"\"),t?this.$backdrop.addClass(\"empty\"):this.$backdrop.removeClass(\"empty\")},i.prototype._resize=function(){var t,a,i,e,s,r,l,n,d,h,o;for(d=this.$labels,s=0,l=d.length;l>s;s++)t=d[s],a=t.children(\"span\"),a.css({fontSize:\"100%\"});for(h=this.$labels,o=[],r=0,n=h.length;n>r;r++)t=h[r],a=t.children(\"span\"),i=a.outerWidth(),e=t.width(),i>e?o.push(a.css({fontSize:100*e/i+\"%\"})):o.push(void 0);return o},i.prototype.show=function(){return this.$backdrop.show()},i.prototype.hide=function(){return this.$backdrop.hide()},i.prototype.set_empty=function(t){return this.emptytext=t,this.$middle.find(\".empty\").html(t)},i.prototype.visible=function(){return this.$backdrop.is(\":visible\")},i.prototype.onhover=function(t){var a=this;return this.hover_callback=t,this.$backdrop.delegate(\".bar-float\",\"hover\",function(t){return a.hover(t.currentTarget),!1})},i.prototype.onclick=function(t){var a=this;return this.select_callback=t,this.$backdrop.delegate(\".bar-float\",\"click\",function(t){return a.select(t.currentTarget),!1})},i.prototype.select=function(t,a){var i,e;return i=$(t),e=!1,i.hasClass(\"empty\")||(!a&&i.hasClass(\"selected\")?(e=!0,i.removeClass(\"selected\").siblings(\".blurred\").removeClass(\"blurred\")):(i.removeClass(\"blurred\").addClass(\"selected\"),i.siblings(\".bar-float\").removeClass(\"selected\").addClass(\"blurred\"))),a||\"function\"==typeof this.select_callback&&this.select_callback(i.data(\"date\"),e,a),i},i.prototype.hover=function(t,a){var i;return i=$(t),i.siblings(\".hover\").removeClass(\"hover\"),i.addClass(\"hover\"),a||\"function\"==typeof this.hover_callback&&this.hover_callback(i.data(\"date\"),i.hasClass(\"selected\"),a),i},i.prototype._simulate=function(t,a){var i,e;return i=null!=(e=this.date_to_bar)?e[a.toString()]:void 0,i?this[t](i,!0):void 0},i.prototype.simulate_hover=function(t){var a;return a=this._simulate(\"hover\",t),\"function\"==typeof this.hover_callback?this.hover_callback(t,null!=a?a.hasClass(\"selected\"):void 0,!0):void 0},i.prototype.simulate_select=function(t){return this._simulate(\"select\",t),\"function\"==typeof this.select_callback?this.select_callback(t,!1,!0):void 0},i.prototype.axispadding=1.2,i.prototype.nyticks=4,i.prototype.minbarwidth=25,i.prototype.set_title=function(t){return null==this.default_title&&(this.default_title=t),this.$title.html(t)},i.prototype.set_data=function(i,e){var s,r,l,n,d,h,o,c,p,u,v,b,f,y,m,g,$,_,k,x;for(this.xdata=i,this.ydata=e,this.clear(!1),this.xdata&&t(this.xdata[0],\"Array\")&&(this.xdata=function(){var t,i,e,s;for(e=this.xdata,s=[],t=0,i=e.length;i>t;t++)p=e[t],s.push(a.apply(null,p));return s}.call(this)),this.dately=t(this.xdata,\"Date\"),c=100/this.ydata.length,e=[],$=this.ydata,b=0,m=$.length;m>b;b++)u=$[b],u&&e.push(u);for(this.ymax=Math.max(Math.max.apply(Math,e)*this.axispadding,1),this.ymin=Math.min.apply(Math,e),r=this.dataheight/this.ymax,this.$labels=[],this.date_to_bar={},_=this.ydata,d=f=0,g=_.length;g>f;d=++f)h=_[d],n=h*r,s=this.$bar_template(h,this.xdata[d],0,c,d*c),this.$bararea.append(s),this.$bararea.children(\":last\").data({date:this.xdata[d]}),h&&(this.date_to_bar[this.xdata[d].toString()]=this.$bararea.children(\":last\")),this.$labels.push(s.find(\".box:first\")),s.find(\".bar\").animate({height:n},{duration:\"slow\"});for(this.$bararea.css({minWidth:this.minbarwidth*this.ydata.length+\"px\"}),this._resize(),o=Math.log(this.ymax)/Math.log(10),v=Math.pow(10,Math.floor(o)),l=Math.floor(2*this.ymax/v)/2/this.nyticks*v,x=[],d=y=1,k=this.nyticks;k>=1?k>=y:y>=k;d=k>=1?++y:--y)x.push(this.$middle.append(this.grid_template(d*l,d*l*r)));return x},i.prototype._dayOfWeek=[\"S\",\"M\",\"T\",\"W\",\"Th\",\"F\",\"S\"],i.prototype.$bar_template=function(t,a,i,e,s){var r,l;return r=this._dayOfWeek[a.getDay()],l=$(\"<div class='bar-float'\\n     style='width: \"+e+\"%; left: \"+s+'%\\'>\\n  <div class=\"bar-container\">\\n    <div class=\"toplabel\">\\n      <div class=\"box\"><span>'+Math.floor(t)+'</span></div>\\n      <div class=\"arrow\">\\n      </div>\\n    </div>\\n    <div class=\"bar\" style=\\'height: '+i+'px;\\'>\\n      <div class=\"shadow\"></div>\\n      <div class=\"fill\">\\n        <div class=\"shine\"></div>\\n      </div>\\n    </div>\\n    <div class=\"xlabel\">\\n      <div class=\"dow\">'+r+'</div>\\n      <div class=\"day\">'+a.getDate()+\"</div>\\n    </div>\\n  </div>\\n</div>\"),null===t?l.addClass(\"empty\"):t-this.ymin<1&&l.addClass(\"highlighted\"),\"S\"===r&&l.addClass(\"weekend\"),l},i.prototype.grid_template=function(t,a){return'<div class=\"ygrid\" style=\\'bottom: '+a+'px\\'>\\n  <span class=\"value\">$'+Math.floor(t)+\"</span>\\n</div>\"},i}()}.call(this);\n!function(){var t,i,e,r,n,s,a=[].slice,h={}.hasOwnProperty,l=function(t,i){function e(){this.constructor=t}for(var r in i)h.call(i,r)&&(t[r]=i[r]);return e.prototype=i.prototype,t.prototype=new e,t.__super__=i.prototype,t},o=function(t,i){return function(){return t.apply(i,arguments)}};t=hm.widgets.CalendarEnabled,r=function(){var t,i,e,r,n,s,h;return h=arguments[0],r=arguments[1],t=arguments[2],i=arguments[3],e=arguments[4],s=arguments[5],n=7<=arguments.length?a.call(arguments,6):[],new Date(h,r-1,t,i,e,s)},e=function(t){return new Date(t.getFullYear(),t.getMonth(),t.getDate())},n=function(){var t,i,e,r,n;for(i=1<=arguments.length?a.call(arguments,0):[],n=[],e=0,r=i.length;r>e;e++)t=i[e],n.push(t.toString(\"MMMdd\"));return n},i=function(t){function i(){return s=i.__super__.constructor.apply(this,arguments)}return l(i,t),i}(FlightTabBase),_.extend(i.prototype,t.prototype),window.CalendarTab=function(t){function i(t,e,r){this.edit_search_open=o(this.edit_search_open,this);var n;i.__super__.constructor.call(this,t,e,r),this.classname=\"CalendarTab\",this.tab_iden=r.tab_iden,this.title_str=r.title_str,this.country=r.country,this.language=r.language,n=this.tab_params.locations,(null!=n?n.length:void 0)>=2&&(this.title_str=\"Flexible flights from \"+n[0]+\" to \"+n[1]),this.pax=this.tab_params.pax,this.cabin=this.tab_params.cabin,this.make_api_call(),this.$results=$(\"#results-\"+this.id),this.tip=new_flight_tip(this)}return l(i,t),i.prototype.serialize=function(){return this.tab_params},i.prototype.refresh=function(){return this.build_graph()},i.prototype.get_content_top=function(){var t;return t=$(\"#calendar-\"+this.id),t.offset().top+parseInt(t.css(\"padding-top\"),10)},i.prototype.to_url=function(){var t,i,e,r;return r=$.hipmunk.url.url_codec.encode([this.tab_params],!0),i=r[0],t=r[1],e=\"\"+i+\"#!\"+t+\"}\"},i.prototype.on_activate=function(){return i.__super__.on_activate.call(this),null==this.flight_data&&this===$.hipmunk.url.active_tab?$(\"body\").addClass(\"flights-loading\"):void 0},i.prototype.on_deactivate=function(){i.__super__.on_deactivate.call(this),$(\"body\").removeClass(\"flights-loading\")},i.prototype.edit_search_open=function(){return null==this.searchform&&(this.searchform=init_search_form(\"edit-search-form-\"+this.id,!0,!1,!0),this.searchform.prefill_dates()),i.__super__.edit_search_open.call(this)},i.prototype.build_graph=function(){var t,i,e,r,s,h,l,o,u,c,d,p,g,f,m,y,v,b,k,w,x,S,D,T,M,C,O,F,R,B,E,z,N,P,G,j,q,A,H,I=this;if(null!=this.flight_data){for($(\"body\").removeClass(\"flights-loading\"),this.itins=[],G=this.flight_data.itins,M=0,R=G.length;R>M;M++){for(g=G[M],D=function(){var t,i,e,r,n,s,a;for(n=g.idx_routings,a=[],b=t=0,e=n.length;e>t;b=++t){for(p=n[b],S=this.flight_data.routings[b][p],s=S.legs,i=0,r=s.length;r>i;i++)y=s[i],y.dep_dt=new Date(1e3*y.depart_sec),y.arr_dt=new Date(1e3*y.arrive_sec),y.dep_dt_local=$.hipmunk.utils.tz_fix(y.dep_dt,$.hipmunk.utils.parse_offset(y.depart)),y.arr_dt_local=$.hipmunk.utils.tz_fix(y.arr_dt,$.hipmunk.utils.parse_offset(y.arrive)),y.dep_dt_tm=$.hipmunk.utils.pretty_time(y.dep_dt_local),y.arr_dt_tm=$.hipmunk.utils.pretty_time(y.arr_dt_local),y.cabin_str=this.flight_data.cabin_map[y.cabin];S.f_leg=S.legs[0],S.l_leg=S.legs[S.legs.length-1],S.dep=S.f_leg.depart_sec,S.arr=S.l_leg.arrive_sec,a.push(S)}return a}.call(this),g.routings=D,g.departs=new Date(1e3*D[0].dep).clearTime(),g.returns=D.length>1?new Date(1e3*D[1].dep).clearTime():g.departs,g.price=g.price,j=g.booking_urls,C=0,B=j.length;B>C;C++){for(i=j[C],D=[],q=g.idx_routings,b=O=0,E=q.length;E>O;b=++O)p=q[b],S=this.flight_data.routings[b][p],D.push(S.api_iden);h={name:i.name,price:i.price,iden:this.tab_iden,routings:D},i.url=\"/simplebook/\"+escape(JSON.stringify(h))}this.itins.push(g)}for(this.$container=$.make_container(),this.overlay=new BookingOverlay(this,this.$container),this.$hoverinfo=$(\"#hover-info-\"+this.id),this.$infos=$(\"#info-panels-\"+this.id),this.$group=$(\"#group-\"+this.id),this.$group.data(\"self\",this),this.$fakeform=$(\"#form-\"+this.id),this.$calendars=this.$fakeform.find(\"div.calendars\"),this.$date_inputs=this.$fakeform.find(\"input.date\"),this.by_price={},this.by_return={},this.dates=[],o=[],A=this.itins,F=0,z=A.length;z>F;F++)g=A[F],s=g.departs,u=s.toString(),null==this.by_price[u]&&(o.push(s),this.by_price[u]=[],this.by_return[u]={}),this.by_price[u].push(g),c=g.returns.toString(),this.by_return[u][c]=g;for(o.sort(function(t,i){return t-i}),this.dates=this.contiguous_dates(o[0],o[o.length-1]),v=new Date(_.last(this.dates)),T=new Date,w=2+$.hipmunk.utils.month_diff(T,v),this.calendar=this.bind_calendar(this.$fakeform,1,w),this.min_prices=[],H=this.dates,P=0,N=H.length;N>P;P++)l=H[P],u=l.toString(),null!=this.by_price[u]?(this.by_price[u].sort(function(t,i){return t.price-i.price}),x=function(){var t,i,e,r;for(e=this.by_price[u],r=[],i=0,t=e.length;t>i;i++)d=e[i],r.push(parseFloat(d.price));return r}.call(this),this.min_prices.push(this.by_price[u][0].price)):this.min_prices.push(null);return e=\"#calendar-main-\"+this.id,this.main_graph=new BarGraph(e,{x:this.dates,y:this.min_prices}),this.main_graph.onhover(function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],I.hover_main.apply(I,t)}),this.main_graph.onclick(function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],I.click_main.apply(I,t)}),this.main_graph.set_title(\"Cheapest Flights by Outbound Date\"),this.child_empty_txt=\"First, choose the day you would like to depart from the graph above.<br/><br/>Next, choose the date you'd like to return from this graph.\",k=function(){var t,i;t=this.by_return,i=[];for(m in t)f=t[m],i.push(_.size(f));return i}.call(this),Math.max.apply(Math,k)>1?(r=\"#calendar-second-\"+this.id,this.child_graph=new BarGraph(r),this.child_graph.onhover(function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],I.hover_child.apply(I,t)}),this.child_graph.onclick(function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],I.click_child.apply(I,t)}),this.child_graph.set_title(\"Return Prices\"),this.child_graph.set_empty(this.child_empty_txt),this.child_graph.show()):(t=$(\"#graph-help-\"+this.id),t.show()),$(e+\",\"+r).mouseleave(function(){return I.calendar.clear_hover(),null!=I.selecteditin?(I.add_info(I.selecteditin.routings[0],0,!1),I.selecteditin.routings.length>1&&I.add_info(I.selecteditin.routings[1],1,!1),I.show_buttons()):I.clear_info()}),this.$hoverinfo.delegate(\".research\",\"click\",function(){var t;null!=I.selecteditin&&(o=[I.selecteditin.departs],I.selecteditin.routings.length>1&&o.push(I.selecteditin.returns),t=$.extend({},I.tab_params,{kind:\"flight\",range:\"\",dates:n.apply(null,o)}),$.hipmunk.url.add_tab(t))}),this.$hoverinfo.delegate(\".book\",\"click\",function(t){null!=I.selecteditin&&I.overlay.show(I.flight_data,I.selecteditin,0),t.stopPropagation()}),this.$container.delegate(\"div.darkbookingbutton.search-hotel\",\"click\",function(){$(\"#tab-search\").click(),toggle_form(\"hotel\")}),this.selecteditin=null}},i.prototype.make_api_call=function(){var t=this;return this.start_loading(),$.ajax(\"/api/results\",{type:\"post\",dataType:\"json\",data:{i:this.tab_iden,deals_mode:$.hipmunk.utils.query_param(\"deals_mode\")},error:function(){return t.no_results(\"there was an error loading your search\")},complete:function(i,e){return t.finish_loading(\"plane\",e)},success:function(i){return null===i?(t.no_results(FlightTabBase.NO_RESULTS_ERROR_MESSAGE),void 0):(t.flight_data=i,t.tip.try_close(),t.build_graph(),$(\"#results-\"+t.id).find(\".hider:first\").show().end().find(\".white-sep:first\").hide(),t.on_content_init())}})},i.prototype.reset_input_by_tag=function(){return this.$get_input(name)},i.prototype.clear_info=function(){return this.$hoverinfo.hide(),this.$hoverinfo.children(\".panel\").children().remove()},i.prototype.add_info=function(t,i){var e;return this.$hoverinfo.show(),e=this.$hoverinfo.children(\".panel-\"+i),e.html(drykup.render($.templates.flight_infopanel(t,this.flight_data)))},i.prototype.hover_date=function(t,i){return\"date0\"===i?this.main_graph.simulate_hover(t):null!=this.child_graph?this.child_graph.simulate_hover(t):void 0},i.prototype.$get_input=function(t){return this.$fakeform.find(\"*[name=\"+t+\"]\")},i.prototype.set_val=function(t,e,r){return\"date0\"===t?this.main_graph.simulate_select(r):null!=this.child_graph&&this.child_graph.simulate_select(r),i.__super__.set_val.call(this,t,e,r)},i.prototype.date_allowed=function(t,i){var e,r;return\"date1\"===t&&null!=(null!=(e=this.child_graph)?e.date_to_bar:void 0)?this.child_graph.date_to_bar[i.toString()]:\"date0\"===t&&null!=(null!=(r=this.main_graph)?r.date_to_bar:void 0)?this.main_graph.date_to_bar[i.toString()]:!0},i.prototype.show_buttons=function(){var t;return t=1<=arguments.length?a.call(arguments,0):[],null!=this.selecteditin?this.$hoverinfo.addClass(\"book\"):void 0},i.prototype.hover_main=function(t,i,e){var r,n;return null==this.calendar||e?(r=t.toString(),n=this.by_price[r],null==n?this.clear_info():(this.add_info(n[0].routings[0],0,!i),1===n.length&&n[0].routings.length>1&&this.add_info(n[0].routings[1],1,!i),1===n[0].routings.length?this.show_buttons(t):void 0)):this.calendar.simulate_hover(\"date0\",t)},i.prototype.hover_child=function(t,i,e){var r,n;return null==this.calendar||e?(r=t.toString(),n=this.activeitins[r],this.add_info(n.routings[0],0,!1),this.add_info(n.routings[1],1,!i),i?this.show_buttons():void 0):this.calendar.simulate_hover(\"date1\",t)},i.prototype.click_main=function(t,i,e){var r,n,s,a,h,l,o,u,c,d,_,p,g,f,m,y,v,b;if(this.calendar.clear_date(\"date1\"),null==this.calendar||e){if(s=t.toString(),this.activeitins=this.by_return[s],null==this.activeitins)throw\"failed\";if(this.selecteditin=null,h=this.by_price[s],null==h)return;if(this.hover_main(t,!i),i)return null!=(c=this.child_graph)&&c.show(),null!=(_=this.child_graph)&&_.set_empty(this.child_empty_text),null!=(p=this.child_graph)?p.clear():void 0;if(1===h.length)return null!=(g=this.child_graph)&&g.show(),null!=(f=this.child_graph)&&f.set_empty(\"There is only one possible return fare for that departure date.\"),null!=(m=this.child_graph)&&m.clear(),this.selecteditin=h[0],this.show_buttons();for(n=function(){var t,i;t=this.by_return[s],i=[];for(r in t)a=t[r],i.push(a.returns);return i}.call(this),n.sort(function(t,i){return t-i}),n=this.contiguous_dates(n[0],n[n.length-1]),r={x:[],y:[]},o=0,u=n.length;u>o;o++)t=n[o],a=this.by_return[s][t.toString()],r.x.push(t),r.y.push(null!=(y=null!=a?a.price:void 0)?y:null);return null!=(v=this.child_graph)&&v.show(),null!=(b=this.child_graph)&&b.set_data(r.x,r.y),l=\"Return Prices for \"+MONTHS[t.getMonth()]+\" \"+t.getDate()+\" Outbound\",null!=(d=this.child_graph)?d.set_title(l):void 0}return this.calendar.simulate_click(\"date0\",t),this.selecteditin&&null!=this.child_graph?this.calendar.simulate_click(\"date1\",this.selecteditin.returns):void 0},i.prototype.click_child=function(t,i,e){var r;return null==this.calendar||e?(r=t.toString(),this.selecteditin=this.activeitins[r],this.hover_child(t,!i)):this.calendar.simulate_click(\"date1\",t)},i.prototype.contiguous_dates=function(t,i){var e,r;for(e=t.clone(),r=[];i>=e;)r.push(e.clone()),e.add(1).days();return r},i}(i)}.call(this);\n!function(){var t,e;e={0:\"January\",1:\"February\",2:\"March\",3:\"April\",4:\"May\",5:\"June\",6:\"July\",7:\"August\",8:\"September\",9:\"October\",10:\"November\",11:\"December\"},t=function(){function t(t,e){this.itin=t,this.flight_data=e}return t.prototype.build_calendar_events=function(){var t,e,r,o,n,i,a,l,_,u,c,d,g,s,p;for(r=[],s=this.itin.idx_routings,n=u=0,d=s.length;d>u;n=++u)for(t=s[n],_=this.flight_data.routings[n][t],o=_.legs[0],i=_.legs[_.legs.length-1],p=_.legs,l=c=0,g=p.length;g>c;l=++c)a=p[l],e=this.flight_leg_to_calendar_event(a,l,_.legs.length,o.from_code,i.to_code),r.push(e);return r},t.prototype.leg_to_mode=function(t){return\"Train\"===t.equipment?\"amtrak\":\"airport\"},t.prototype.leg_to_flight_desc=function(t){var e,r,o;return e=t.operating_num[0],r=t.operating_num[1],o=e,-1!==r&&(o+=\" \"+r),o},t.prototype.format_current_date=function(){var t;return t=new Date,\"\"+e[t.getMonth()]+\" \"+t.getDate()+\", \"+t.getFullYear()},t.prototype.flight_leg_to_calendar_event=function(t,e,r,o,n){var i,a,l,_;return l=this.leg_to_flight_desc(t),_=\"\"+l+\" from \"+t.from_code+\" to \"+t.to_code,t.wifi&&(_+=\" (WiFi)\"),i=\"\",r>1&&(i+=\"Flight leg \"+(e+1)+\" of \"+r+\" for trip from \"+o+\" to \"+n+\"\\n\"),a=l.replace(\" \",\"+\"),i+=\"http://www.google.com/search?q=\"+a+\"+flight+status\\n\",i+=\"Booked on \"+this.format_current_date()+\"\\n\",{title:_,description:i,start_time:t.depart_sec,end_time:t.arrive_sec,from_code:t.from_code,to_code:t.to_code,mode:this.leg_to_mode(t),url:window.location.href}},t.prototype.build_calendar_url=function(t,e,r){var o,n,i,a;for(n=[],i=0,a=e.length;a>i;i++)o=e[i],n.push(\"event=\"+encodeURIComponent(JSON.stringify(o)));return null!=r&&n.push(\"calendar_id=\"+encodeURIComponent(r)),\"/addtocalendar/\"+t+\"?\"+n.join(\"&\")},t.prototype.google_redirect_urls=function(){var t,e,r,o,n,i,a;for(e={},a=this.build_calendar_events(),n=0,i=a.length;i>n;n++)t=a[n],r=t.title,o=this.build_calendar_url(\"google-redirect\",[t]),e[r]=o;return e},t.prototype.google_api_url=function(t){var e;return e=this.build_calendar_events(),this.build_calendar_url(\"google-api\",e,t)},t.prototype.ics_url=function(){var t;return t=this.build_calendar_events(),this.build_calendar_url(\"ics\",t)},t.prototype.ajax_add_via_google_api=function(t,e,r){return $.ajax({type:\"GET\",url:this.google_api_url(t),success:e,error:r})},t}(),window.CalendarAdder=t}.call(this);\n!function(){var e,r;r=10,e=\"hm_exchange_problem\",window.ExchangeSettings=function(){function r(){}return r.prototype.set_mode=function(e){var r;return r=e.logged_in,$(\"#exchange-logout-form\").toggle(r),$(\"#exchange-login-form\").toggle(!r),$(\"#exchange-continue\").hide()},r.prototype.display_error=function(e,r){var o;return o=$(e).parents(\".full-row\").addClass(\"haserror\"),o.find(\".error-row\").text(r).show()},r.prototype.on_open_popup=function(){if(this.set_mode({logged_in:!1}),$.hipmunk.user.preferences.exchange_enabled){if(\"MISSING_PASSWORD\"===!$.cookie(e))return this.display_error(\"#exchange_password\",\"for security purposes, please re-enter your exchange password\"),void 0;if(\"UNAUTHORIZED\"===$.cookie(e))return this.display_error(\"#exchange_email\",\"there was a problem contacting your exchange server, please try re-entering your login information\"),void 0;this.set_mode({logged_in:!0})}},r}()}.call(this);\n!function(){var t,e,i,n,s,o=function(t,e){return function(){return t.apply(e,arguments)}},r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};t=1e3,i=10,e={up:38,down:40,tab:9,enter:13},n={color:\"#666\",lines:10,length:3,width:2,radius:3},s={},window.EmailAutocomplete=function(){function u(t,e,i,s){this.$input=t,this.data_source=e,this.kind=i,this.callback=s,this.on_mousedown=o(this.on_mousedown,this),this.on_mouseup=o(this.on_mouseup,this),this.on_mouseover=o(this.on_mouseover,this),this.on_blur=o(this.on_blur,this),this.on_focus=o(this.on_focus,this),this.on_keydown=o(this.on_keydown,this),this.on_change=o(this.on_change,this),this.spinner=new Spinner(n),this.spinner.is_spinning=!1,this.$spinner_holder=$('<div class=\"spinner-holder\"></div>'),this.$input.after(this.$spinner_holder),this.$completion_list=$('<ul class=\"autocomplete-list\"></ul>').hide(),this.$input.after(this.$completion_list),this.selected_index=0,this.completions=[],this.outstanding_requests=0,this.setup_handlers()}return u.prototype.setup_handlers=function(){return this.$input.on(\"input propertychange\",this.on_change),this.$input.on(\"keydown\",this.on_keydown),this.$input.on(\"blur\",this.on_blur),this.$input.on(\"focus\",this.on_focus),this.$completion_list.on(\"mouseover\",\"li\",this.on_mouseover),this.$completion_list.on(\"mouseup\",\"li\",this.on_mouseup),this.$completion_list.on(\"mousedown\",this.on_mousedown)},u.prototype.get_query=function(){return $.trim(this.$input.val().toLowerCase())},u.prototype.set_query=function(t){return this.$input.val(t),this.need_callback()},u.prototype.show_spinner=function(){return this.spinner.is_spinning?void 0:(this.spinner.spin(this.$spinner_holder[0]),this.spinner.is_spinning=!0)},u.prototype.hide_spinner=function(){return this.spinner.stop(),this.spinner.is_spinning=!1},u.prototype.use_completion=function(t){return this.set_query(t.label)},u.prototype.cache_data=function(t,e){return null==s[this.data_source]&&(s[this.data_source]={}),s[this.data_source][t]=e},u.prototype.get_cached_data=function(t){return null==s[this.data_source]?void 0:s[this.data_source][t]},u.prototype.matches_query=function(t,e){var i,n,s,o,u,h,p,a;if(r.call(e,\" \")>=0){for(p=e.split(\" \"),s=0,u=p.length;u>s;s++)if(n=p[s],!this.matches_query(t,n))return!1;return!0}for(a=t.name.split(\" \"),o=0,h=a.length;h>o;o++)if(i=a[o],0===i.toLowerCase().indexOf(e))return!0;return 0===t.email_address.toLowerCase().indexOf(e)?!0:!1},u.prototype.is_prefix=function(t,e){return 0===e.indexOf(t)},u.prototype.ajax_query=function(e){var i,n,s,o,u,h=this;if(r.call(e,\"<\")>=0||\"\"===e)return this.hide_spinner(),void 0;if(i=this.get_cached_data(e),null!=i)return this.ajax_query_success(i),void 0;for(n=o=u=e.length;0>=u?0>o:o>0;n=0>=u?++o:--o)s=e.substring(0,n),i=this.get_cached_data(s),null==i||i.truncated||this.ajax_query_success(i);return this.show_spinner(),clearTimeout(this.ajax_query_timer),this.ajax_query_timer=set_timeout(t,function(){return h.perform_ajax_query(e)})},u.prototype.perform_ajax_query=function(t){var e=this;return this.outstanding_requests+=1,$.ajax(this.data_source,{data:{query:t},type:\"GET\",success:function(i){return e.cache_data(t,i),t===e.get_query()||e.is_prefix(t,e.get_query())&&!i.truncated?e.ajax_query_success(i):void 0},complete:function(){return e.outstanding_requests-=1,0===e.outstanding_requests?e.hide_spinner():void 0}})},u.prototype.ajax_query_success=function(t){return this.completions=this.render_completions(t.results),this.selected_index=0,this.update_dropdown()},u.prototype.render_completions=function(t){var e,n,s,o,r,u;for(o=this.get_query(),n=[],r=0,u=t.length;u>r&&(s=t[r],!(n.length>=i));r++)this.matches_query(s,o)&&(e={},e.label=\"names\"===this.kind?s.name:\"emails\"===this.kind?s.email_address:\"\"+s.name+\" <\"+s.email_address+\">\",e.value=s,n.push(e));return n},u.prototype.update_dropdown=function(){var t,e,i,n,s,o,r;for(this.$completion_list.empty(),r=this.completions,e=s=0,o=r.length;o>s;e=++s)i=r[e],n=i.label.replace(/>/g,\"&gt;\").replace(/</g,\"&lt;\"),t=$(\"<li>\"+n+\"</li>\").data(\"index\",e),e===this.selected_index&&t.addClass(\"selected\"),this.$completion_list.append(t);return this.$completion_list.find(\"li\").size()>0?this.$completion_list.show():void 0},u.prototype.on_change=function(){this.$completion_list.hide(),this.ajax_query(this.get_query())},u.prototype.on_keydown=function(t){this.$completion_list.is(\":hidden\")||(t.keyCode===e.up?(this.selected_index>0&&(this.selected_index-=1),this.update_dropdown(),t.preventDefault()):t.keyCode===e.down?(this.selected_index<this.completions.length-1&&(this.selected_index+=1),this.update_dropdown(),t.preventDefault()):(t.keyCode===e.tab||t.keyCode===e.enter)&&(this.use_completion(this.completions[this.selected_index]),this.$completion_list.hide(),t.preventDefault(),t.stopPropagation()))},u.prototype.on_focus=function(){this.on_change()},u.prototype.on_blur=function(){this.$completion_list.hide()},u.prototype.on_mouseover=function(t){var e;e=$(t.currentTarget).data(\"index\"),e!==this.selected_index&&(this.selected_index=e,this.update_dropdown())},u.prototype.on_mouseup=function(t){this.selected_index=$(t.currentTarget).data(\"index\"),this.use_completion(this.completions[this.selected_index]),this.$completion_list.hide(),t.preventDefault(),t.stopPropagation()},u.prototype.on_mousedown=function(t){this.$completion_list.is(\":hidden\")||(t.preventDefault(),t.stopPropagation())},u.prototype.need_callback=function(){return this.callback&&null!=this.selected_index&&null!=this.completions[this.selected_index]?this.callback(this.completions[this.selected_index].value):void 0},u}()}.call(this);\n!function(){var t,e,n,r,i,s,o,a,p,u,c,h,d=function(t,e){return function(){return t.apply(e,arguments)}},l={}.hasOwnProperty,f=function(t,e){function n(){this.constructor=t}for(var r in e)l.call(e,r)&&(t[r]=e[r]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};a=hm.utils.select_if_special_day,t=\"Your results will be loaded shortly.\",n=hm.widgets.SearchForm,o=function(){return a({holiday:\"m-dancing-holiday\",halloween:\"m-dancing-halloween\",birthday:\"m-dancing-birthday\",\"default\":\"m-dancing\"})},s=function(){function e(t){this.tab=t,this.change_into_popup=d(this.change_into_popup,this),this.$tip=$(\"<div>\"),this.app_headered_box=this.make_headered_box(),this.$tip.append(this.app_headered_box.$el),this.setup_handlers()}return e.prototype.id=\"NO_TIP\",e.prototype.did_user_interact=!1,e.prototype.did_user_dismiss=!1,e.prototype.did_tab_finish=!1,e.prototype.number=0,e.prototype.headered_box_class=o(),e.prototype.mode=\"\",e.prototype.setup_handlers=function(){var e=this;return this.$tip.on(\"click\",function(t){$.hipmunk.utils.track(\"tip_click\",e.id,{name:e.name,number:e.number}),e.did_user_interact=!0,\"lightbox\"!==e.mode&&t.stopPropagation()}),this.$tip.on(\"keypress\",function(){e.did_user_interact=!0}),this.$tip.on(\"click\",\".app-header-box__close-button\",function(){var n;n=null!=e.tab.flight_data,e.did_tab_finish?e.close():(e.replace_content_with_message(t),e.$tip.find(\".app-header-box__close-button\").hide(),e.did_user_dismiss=!0),$.hipmunk.utils.track(\"tip_closed\",e.id,{closeable:n})}),this.$tip.on(\"click\",\".done\",function(){e.close()}),$(document).on(\"click\",function(){e.did_tab_finish&&e.close()})},e.prototype.replace_content_with_message=function(t){var e;return e=drykup.render($.templates.interstitial_message(t)),this.$tip.find(\".app-headered-box__content\").children().slideUp().end().append($(e))},e.prototype.close_on_scroll=function(){var t=this;return $(document).one(\"scroll\",function(){t.close()})},e.prototype.init_form=function(){var t,e=this;return t=this.$tip.find(\"form\"),new n(t),t.data(\"success\",function(){return e.handle_form_success.apply(e,arguments)}),$.hipmunk.utils.first_show(t)},e.prototype.handle_form_success=function(){this.close_on_scroll()},e.prototype.make_headered_box=function(){var t;return t=new AppHeaderedBox(\"basic-app-modal interstitial-tip\"),t.set_header({title:this.name,loading:!0,loading_text:\"Searching\",cls:this.headered_box_class}),t},e.prototype.close=function(){return this.$tip.hide(),this.$tip.detach()},e.prototype.try_close=function(){var t;return t=this.did_user_dismiss?!0:this.user_has_seen_interstitial?!this.did_user_interact:!1,t?this.close():this.change_into_popup()},e.prototype.show_in_tab=function(){var t=this;return this.mode=\"tab\",this.tab.$results.append(this.$tip),this.init_form(),this.app_headered_box.update_display(),this.user_has_seen_interstitial=$.window_is_focused,this.user_has_seen_interstitial?void 0:$(window).one(\"focus\",function(){t.user_has_seen_interstitial=!0})},e.prototype.show_as_lightbox=function(){return this.mode=\"lightbox\",new Lightbox(this.id,this.$tip).show(),this.init_form(),this.app_headered_box.set_header({loading:!1,cls:\"m-default\"}),this.app_headered_box.update_display()},e.prototype.change_into_popup=function(){return this.mode=\"popup\",this.did_tab_finish=!0,this.stop_loading_text()},e.prototype.stop_loading_text=function(){return this.app_headered_box.set_header({loading:!1,cls:\"m-default\"}),this.app_headered_box.update_display()},e.prototype.track_shown=function(){return $.hipmunk.utils.track(\"tip_shown\",this.id,{name:this.name,number:this.number})},e}(),window.FareAlertTip=function(t){function e(){return p=e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id=\"FAREALERT1\",e.prototype.name=\"Fare Alert\",e.prototype.handle_form_success=function(){var t,n=this;return t=\"You have been subscribed to a fare alert.\",this.replace_content_with_message(t),fetch_alerts(function(){return set_fare_button(n.tab)}),e.__super__.handle_form_success.apply(this,arguments)},e.prototype.render=function(){var t;return t=drykup.render($.templates.farealert_tip(this.tab)),this.app_headered_box.set_content(t)},e.can_show=function(t){return\"deals\"!==$.hipmunk.utils.query_param(\"referer\")&&null==$.hipmunk.user.email&&null!=t.search&&\"flight\"===t.search.form&&t.search.groups.length<=2&&\"USD\"===t.search.currency.code},e}(s),r=function(t){function e(){return u=e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id=\"MOBILESMS1\",e.prototype.name=\"Hipmunk for Mobile\",e.prototype.setup_handlers=function(){return e.__super__.setup_handlers.apply(this,arguments),this.$tip.on(\"click\",\"a\",function(t){var e;e=$(t.currentTarget).text(),e=e.toLowerCase(),$.hipmunk.utils.track(\"mobile_download_link\",e)})},e.prototype.handle_form_success=function(){var t;return t=\"We sent your phone a link to download our app.\",this.replace_content_with_message(t),e.__super__.handle_form_success.apply(this,arguments)},e.prototype.render=function(){var t;return t=drykup.render($.templates.mobile_tip(this.tab)),this.app_headered_box.set_content(t)},e.can_show=function(){return!0},e}(s),e=function(t){function e(){return c=e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id=\"DEALS1\",e.prototype.name=\"Hipmunk Deals\",e.prototype.render=function(){var t,e,n,r,i;return i=this.tab,r=i.id,n=i.deals_city_name,e=i.deals_city_id,t=drykup.render($.templates.deals_subscription_form(r,n,e,\"deals_tip\",!0)),this.app_headered_box.set_content(t)},e.prototype.handle_form_success=function(t){var n;return n=\"You have been subscribed to \"+this.tab.deals_city_name+\" flight deals.\",this.replace_content_with_message(n),$.hipmunk.user.deal_alerts[this.tab.deals_city_id]={},t&&setTimeout(function(){return location.reload()},1e3),e.__super__.handle_form_success.apply(this,arguments)},e.can_show=function(t){return\"deals\"!==$.hipmunk.utils.query_param(\"referer\")&&t.deals_city_id&&!$.hipmunk.user.deal_alerts[t.deals_city_id]},e}(s),i=function(t){function e(){return h=e.__super__.constructor.apply(this,arguments)}return f(e,t),e.prototype.id=\"SWEEPSTAKES2\",e.prototype.name=\"Holiday Sweepstakes\",e.prototype.render=function(){var t;t=drykup.render($.templates.sweepstakes_tip(this.tab)),this.app_headered_box.set_content(t)},e.prototype.handle_form_success=function(t){var n;return n=\"You have been subscribed to the sweepstakes.\",this.replace_content_with_message(n),$.hipmunk.user.has_entered_sweepstakes_Dec2013=!0,t&&setTimeout(function(){return location.reload()},1e3),e.__super__.handle_form_success.apply(this,arguments)},e.can_show=function(){var t,e,n;return n=[1386144e6,138718074e4],t=(new Date).getTime(),e=$.debug||t>n[0]&&t<n[1],e&&!$.hipmunk.user.has_entered_sweepstakes_Dec2013},e}(s),window.new_flight_tip=function(t){var n,s,o,a,p,u,c,h;if(i.can_show())u=new i(t);else{for(n=[e,FareAlertTip,r],$.cookie(\"last_tip\")&&(p=+$.cookie(\"last_tip\")+1),_.isNumber(p)||(p=0),s=null,o=n.length,a=h=0;o>=0?o>=h:h>=o;a=o>=0?++h:--h)if(c=(p+a)%o,n[c].can_show(t)){s=n[c],$.cookie(\"last_tip\",c);break}if(!s)return null;u=new s(t)}return u.render(),u.track_shown(),u}}.call(this);\n!function(){var t,e=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,i=function(t,e){function i(){this.constructor=t}for(var n in e)s.call(e,n)&&(t[n]=e[n]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t};t=$.hipmunk.utils.get_config,$.hipmunk.NpsToaster=function(s){function n(t){this.search_kind=t,this.show_whole=e(this.show_whole,this),this.show_half=e(this.show_half,this),this.delayed_show=e(this.delayed_show,this),this.render=e(this.render,this),this.hide=e(this.hide,this),this._setup_handlers=e(this._setup_handlers,this),n.__super__.constructor.call(this),this._setup_handlers(),this.render(),this.$why=this.$el.find(\".nps-toaster__text\"),this.fully_open=!1,this.score=null}return i(n,s),n.prototype.attrs=\".nps-toaster.newbox\",n.prototype._setup_handlers=function(){var t=this;return this.$el.on(\"click\",\".nps-toaster__close\",function(){t.hide(),null==t.score&&$.hipmunk.utils.track(\"nps_survey_close\",null,{search_kind:t.search_kind})}),this.$el.on(\"click\",\".nps-toaster__submit\",function(e){var s;return s=$(e.currentTarget),s.text(\"Thanks!\"),setTimeout(t.hide,400)}),this.$el.on(\"click\",\".nps-toaster__score\",function(e){var s;s=$(e.currentTarget),t.score=parseInt(s.text(),10),s.selectButton(),t.fully_open||t.show_whole()}),this.$el.on(\"mouseenter\",function(){t.stop_inactivity_timer()}),this.$el.on(\"mouseleave\",function(){t.reset_inactivity_timer()})},n.prototype.send_results=function(){return $.post(\"/user/nps_survey\",{value:this.score,search_kind:this.search_kind,why:this.$why.val()}),null!=this.score?$.hipmunk.utils.track(\"nps_survey_submit\",null,{value:this.score,search_kind:this.search_kind}):void 0},n.prototype.stop_inactivity_timer=function(){return this.inactivity_timer?clear_timeout(this.inactivity_timer):void 0},n.prototype.reset_inactivity_timer=function(t){var e=this;return null==t&&(t=3e4),this.stop_inactivity_timer(),this.inactivity_timer=set_timeout(t,function(){return e.hide(),$.hipmunk.utils.track(\"nps_survey_auto_hide\",null,{search_kind:e.search_kind})})},n.prototype.hide=function(){var t,e=this;return t=this.$el.outerHeight(),this.$el.animate({bottom:-t},\"slow\",function(){return e.$el.remove()}),this.send_results()},n.prototype.render=function(){return this.render_drykup($.templates.nps_toaster())},n.prototype.delayed_show=function(e){return null==e&&(e=t(\"nps_survey_delay\",1e4)),set_timeout(e,this.show_half)},n.prototype.show_half=function(){var e,s,i,n;if(\"show\"===$.hipmunk.experiments.get_option(\"nps_survey\")||t(\"force_nps_survey\"))return this.appendTo(\"body\"),this.$el.find(\".input-container label\").inFieldLabels(),s=this.$el.outerHeight(),i=this.$el.offset().top,n=this.$el.find(\".js-why-content\").offset().top,e=s-(n-i),this.$el.css(\"bottom\",-s).animate({bottom:-e},\"slow\"),this.reset_inactivity_timer(),$.hipmunk.utils.track(\"nps_survey_show\",null,{search_kind:this.search_kind})},n.prototype.show_whole=function(){var t=this;return this.$el.animate({bottom:0},{duration:\"fast\",complete:function(){return t.$why.focus()}}),this.fully_open=!0},n.should_show=function(){var e;return hm.nps_used?!1:(hm.nps_used=!0,t(\"force_nps_survey\")?!0:$.hipmunk.can_show_nps_survey?(e=get_activity(\"visit\"),1===e%5):!1)},n.maybe_show=function(t){var e,s;return e=t.search_kind,n.should_show()?(s=new n(e),s.delayed_show()):void 0},n}.call(this,$.hipmunk.View)}.call(this);\n!function(){var t,e,n=function(t,e){return function(){return t.apply(e,arguments)}},s={}.hasOwnProperty,o=function(t,e){function n(){this.constructor=t}for(var o in e)s.call(e,o)&&(t[o]=e[o]);return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};e=hm.widgets.SearchForm,t=function(t){function s(){this.close_fn=n(this.close_fn,this),this.next_step=n(this.next_step,this),s.__super__.constructor.call(this,\"post_confirm\"),this.setup_handlers(),this.on_close.add(this.close_fn)}return o(s,t),s.prototype.has_submitted_something=!1,s.prototype.setup_handlers=function(){var t=this;return this.$container.on(\"click\",\".post-confirm-flow-lightbox__skip-step\",function(){t.next_step()})},s.prototype.start=function(){var t,n,s,o,i=this;return o={},o.user_email=$.hipmunk.user.email,n=$(drykup.render($.templates.post_confirm_flow(o))),t=new AppHeaderedBox(\"basic-app-modal post-confirm-flow-lightbox\"),t.set_content(n),t.set_header({title:\"Thanks for Signing Up!\"}),this.$content=t.$el,this.current_step=$.hipmunk.user.has_password?_.isEmpty($.hipmunk.user.home_airport)?1:2:0,this.update_step(),this.show(),s=function(){return i.has_submitted_something=!0,i.next_step()},this.$content.find(\"form\").each(function(){var t;t=$(this),new e(t,!0),t.data(\"success\",s)}),this.$content.find(\"select.month\").chosen({inherit_select_classes:!0,placeholder_text:\"Month\"}),this.$content.find(\"select.date\").chosen({inherit_select_classes:!0,placeholder_text:\"Date\"})},s.prototype.next_step=function(){return this.current_step++,this.update_step()},s.prototype.update_step=function(){var t;return t=this.$content.find(\".post-confirm-flow-lightbox__step-container\").eq(this.current_step),t.length?t.show().siblings().hide():this.close()},s.prototype.close_fn=function(){return window.location.hash=\"\",this.has_submitted_something?$.reload():void 0},s}(Lightbox),hm[\"export\"]({main:{PostConfirmFlow:t}})}.call(this);\n!function(){var t;t=function(){function t(t){this.$map=t,this.init_map()}return t.prototype.clearance=[29,43],t.prototype.init_map=function(){var t;return this.map=L.map(this.$map[0],{zoomControl:!1,scrollWheelZoom:!1,doubleClickZoom:!1,boxZoom:!1,touchZoom:!1,fadeAnimation:!1,dragging:!1,maxZoom:13}),t=new L.TileLayer($.hipmunk.map_tiles_url||hm.settings.map_tiles_url),this.map.addLayer(t),this.$map.on(\"mousedown\",\"img\",function(t){return t.preventDefault()})},t.prototype.center_view_from_locations=function(t){var e,i,a,n,o;for(e=new L.LatLngBounds,n=0,o=t.length;o>n;n++)i=t[n],e=e.extend([i[1],i[0]]);a=[this.$map[0].style.width,this.$map[0].style.height],this.$map.css(\"width\",this.$map.width()-this.clearance[0]),this.$map.css(\"height\",this.$map.height()-this.clearance[1]),this.map.invalidateSize(),this.map.fitBounds(e),this.$map.css(\"width\",a[0]),this.$map.css(\"height\",a[1]),this.map.invalidateSize()},t.prototype.insert_marker=function(t,e,i,a){var n,o,r;return null==i&&(i=null),null==a&&(a=null),a||(a=drykup.render($.templates.map_pin_marker(i))),e=new L.LatLng(e[1],e[0]),n=new L.DivIcon({className:t,html:a,iconAnchor:[0,5]}),r={clickable:!1,icon:n},i&&(r.zIndexOffset=1e3-50*i),o=new L.marker(e,r),this.map.addLayer(o)},t.prototype.draw_shape=function(t){var e,i,a,n;return n=function(){var e,i,n;for(n=[],e=0,i=t.length;i>e;e++)a=t[e],n.push(new L.LatLng(a[1],a[0]));return n}(),e=new L.Polygon(n,{stroke:!0,fill:!0,fillOpacity:1,strokeOpacity:1,weight:1,layer:\"subtile\",fillColor:\"#e9f7ff\"}),i=new L.Polygon(n,{stroke:!0,color:\"#0d98e2\",weight:2,fill:!1,strokeOpacity:1,hover:!1,clickable:!1}),this.map.addLayer(e),this.map.addLayer(i)},t.prototype.draw_line=function(t){var e,i,a,n;return e=function(){var e,a,n;for(n=[],e=0,a=t.length;a>e;e++)i=t[e],n.push(new L.LatLng(i[1],i[0]));return n}(),a={color:\"#444444\",opacity:1,weight:2,clickable:!1,dashArray:\"5\"},n=new L.polyline(e,a),this.map.addLayer(n)},t}(),hm[\"export\"]({views:{HotelMiniMapView:t}})}.call(this);\n!function(){var i;i=hm.utils.smooth_on_scroll,window.post_user_load=function(){if($.hipmunk.trip_planner_enabled&&(window.trip_planner=new TripPlanner,$.hipmunk.utils.load_js(\"https://js.stripe.com/v1/\",function(){return Stripe.setPublishableKey($.hipmunk.stripe_publishable_key),$(document).trigger(\"stripe-load\")})),$.hipmunk.dfp=new DFPManager,show_country_dropdown(),set_country(),i($.hipmunk.url.scroll_adjustments),$.hipmunk.url.create_queued_tabs(),$.hipmunk.url.update_ui(),null!=$.hipmunk.user)if($.hipmunk.intent_media_manager=new IntentMediaManager(!$.debug),$.hipmunk.intent_media_manager.visitor_id=$.hipmunk.user.id,$.hipmunk.cur_form.refresh_intent_media_checkboxes(),$.hipmunk.logged_in){if($.hipmunk.trip_planner_enabled&&($.hipmunk.user.has_bizclass_access&&(\"#bizactivate\"===window.location.hash&&($.hipmunk.biz_class_activated(),window.location.hash=\"#bizwelcome\"),\"#bizwelcome\"===window.location.hash?(biz_pixel_campaigns(),(new BizWelcomeLightbox).show()):\"#bizhint\"===window.location.hash&&($.hipmunk.show_biz_hint(),window.location.hash=\"\")),\"#bizbilling\"===window.location.hash))return trip_planner.popup.show(ManageTripsPopup.VIEW_BILLING)}else if(\"#biz\"===window.location.hash.slice(0,4))return show_login_form(!0)}}.call(this);\n!function(){window.cookie_frame_name=\"cookie_frame\",$(function(){var e;return e=$(\"<iframe />\",{src:$.hipmunk.trackframe_url+\"/pixels/iframe.html?v=4\",id:cookie_frame_name,name:cookie_frame_name}).appendTo(document.body).hide()[0]})}.call(this);\n}catch(e){window.TraceKit&&TraceKit.report(e);throw e;}\n//# sourceMappingURL=main.group.map"
      },
      "/inline_48acc5920fc09fdf9d9afb77de38b398": {
         "body": " $.hipmunk.use_recent = true; $.hipmunk.use_main_js = true; $.hipmunk.seo_frontpage_type = \"flights\"; ",
         "pageUrl": "http://www.hipmunk.com/flights",
         "scriptUrl": "/inline_48acc5920fc09fdf9d9afb77de38b398"
      },
      "/inline_fdade3718cbc341429a8d972d3416368": {
         "body": " $(function(){ hm.explore.init_city_explore_page() }); ",
         "pageUrl": "http://www.hipmunk.com/explore/cities",
         "scriptUrl": "/inline_fdade3718cbc341429a8d972d3416368"
      },
      "/inline_c399902b724cd9608649d2e63907f6fa": {
         "body": " main_js_callback().done(function() { new $.hipmunk.DealsLandingPage(\"long\"); }); ",
         "pageUrl": "http://www.hipmunk.com/cheap-flights",
         "scriptUrl": "/inline_c399902b724cd9608649d2e63907f6fa"
      },
      "/inline_ad2dc7b16887717d3a96fcbc8dc32a4a": {
         "body": " var load_user = function(updates) { if ((typeof $ === \"undefined\" || $ === null) || ($.hipmunk == null) || (typeof _ === \"undefined\" || _ === null)) { setTimeout((function() { return load_user(updates); }), 50); return; } TraceKit.wrap(function () { $.hipmunk.user = updates.user; _.extend($.hipmunk, updates.hipmunk); $.hipmunk.user.deal_alerts_changed = $.Callbacks(); $.hipmunk.user.preferences = JSON.parse($.hipmunk.user.preferences); $.hipmunk.user.deal_alerts = JSON.parse($.hipmunk.user.deal_alerts); $.hipmunk.saved_searches = JSON.parse($.hipmunk.saved_searches); $.hipmunk.user_loaded = true; hipmunk_main(); })(); }; /* if we have a user stick it in direclty */ load_user({\"hipmunk\": {\"saved_searches\": \"[]\", \"trip_planner_enabled\": false, \"bizclass_sidebar_enabled\": true, \"creditcards\": [], \"can_show_nps_survey\": true, \"logged_in\": false}, \"user\": {\"has_entered_sweepstakes_Dec2013\": false, \"billing_hm_status\": \"hm_none\", \"has_bizclass_access\": false, \"referer_url\": \"\", \"last_name\": null, \"has_password\": false, \"id\": \"52a7e7e86ed11462f30007c0\", \"first_name\": null, \"preferences\": \"{}\", \"phone_number\": null, \"deal_alerts\": \"{}\", \"last_shared_email\": \"\", \"has_fb_linked\": false, \"has_finished_ftue\": false, \"birthday\": null, \"home_airport\": null, \"language\": \"en\", \"country\": \"US\", \"deals_city\": null, \"billing_hm_trial_days_left\": false, \"gender\": null, \"has_google_linked\": false}}); ",
         "pageUrl": "http://www.hipmunk.com/city/Las-Vegas-NV",
         "scriptUrl": "/inline_ad2dc7b16887717d3a96fcbc8dc32a4a"
      },
      "/inline_e6b6511e6f4aa8eeddded005e84fbe84": {
         "body": " $(function() { $.hipmunk.city_page = new $.hipmunk.CityPageView([[-115.1553, 36.14699], [-115.16225, 36.13636], [-115.16208, 36.1363], [-115.15471, 36.13603], [-115.14461, 36.16996]], null); }); ",
         "pageUrl": "http://www.hipmunk.com/city/Las-Vegas-NV",
         "scriptUrl": "/inline_e6b6511e6f4aa8eeddded005e84fbe84"
      },
      "http://hipmunkstatic.com/pixels/criteo_ld.js": {
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "http://hipmunkstatic.com/pixels/criteo_ld.js",
         "body": "try{var CRITEO=function(){var f=\"0.5.4\";var t,x;var r=false;var b=false;var s={home:{eventType:\"sendEvent\",params:\"v=2&pt1=0&pt2=1\"},product:{eventType:\"sendEvent\",params:\"v=2&pt1=2\"},list:{eventType:\"sendEvent\",params:\"v=2&pt1=3\"},basket:{eventType:\"transaction\",params:\"v=2&s=0\"},confirmation:{eventType:\"transaction\",params:\"v=2&s=1\"},search:{eventType:\"sendEvent\",params:\"v=2&pt1=4\"}};function m(){return t[0]}function y(){return t[1]}function l(){var B=\"\";if(typeof(t[2])!=\"undefined\"&&t[2]!=\"\"){B=t[2];if(B.charAt(B.length-1)!=\".\"){B+=\".\"}}return B}function c(){var B=t[3].charAt(0);return typeof(B)!=\"undefined\"&&B==1}function i(){var B=t[3].charAt(1);return typeof(B)!=\"undefined\"&&B==1}function w(){var B=t[3].charAt(2);return !b&&typeof(B)!=\"undefined\"&&B==1}function j(){return t[4]}function z(){return t[5]}function h(){return(document.location.protocol==\"https:\"&&\"https:\"||\"http:\")+\"//dis.\"+l()+\"criteo.com/dis/dis.aspx\"}function A(B){return(document.location.protocol==\"https:\"?\"https://sslwidget.\":\"http://widget.\")+\"criteo.com/\"+y()+\"/display.js?resptype=\"+B+\"&\"+e()}function u(C,B){switch(C){case\"sendEvent\":return B[0];case\"transaction\":return B[1];default:break}}function e(){var E=\"\";var D=x&&x.length||0;var B=j();var F=1;for(var C=0;C<D;C++){for(var G=0;G<B.length;G++){if(F>1){E+=\"&\"}E+=v(x[C],F,B[G]);F++}}return E}function v(P,M,L){var J=s[P.pageType];if(!J){return}var I=z();var H=\"\";var E=\"\";for(var D in I){if(!P.hasOwnProperty(D)){continue}var G=I[D][0];var C=I[D][1];var O=I[D][2];var F=\"\";if(typeof(P[D])==\"function\"){F=P[D]()}else{F=P[D]}if(!F){continue}switch(C){case 0:E+=\"&\"+G+\"=\"+F;break;case 1:var B;if(typeof F===\"string\"){B=F.split(P.delimiter)}else{if(Object.prototype.toString.apply(F)===\"[object Array]\"){B=F}}var N=B.length;if(typeof O!=\"undefined\"&&N>O){N=O}for(var K=1;K<=N;K++){E+=\"&\"+G+K+\"=\"+B[K-1]}break;case 2:if(M==1){H+=\"&\"+G+\"=\"+encodeURIComponent(F)}break;default:break}}return\"t\"+M+\"=\"+J.eventType+\"&p\"+M+\"=\"+encodeURIComponent(J.params+\"&wi=\"+u(J.eventType,L)+E)+H}function d(){var C=h()+\"?p=\"+m()+\"&cb=\"+Math.floor(Math.random()*99999999999);try{C+=\"&ref=\"+encodeURIComponent(document.referrer)}catch(B){}try{C+=\"&sc_r=\"+encodeURIComponent(screen.width+\"x\"+screen.height)}catch(B){}try{C+=\"&sc_d=\"+encodeURIComponent(screen.colorDepth)}catch(B){}return C.substring(0,2000)}function a(){var C=h()+\"?p=\"+m();C+=\"&\"+e();C+=\"&cb=\"+Math.floor(Math.random()*99999999999);try{C+=\"&ref=\"+encodeURIComponent(document.referrer)}catch(B){}try{C+=\"&sc_r=\"+encodeURIComponent(screen.width+\"x\"+screen.height)}catch(B){}try{C+=\"&sc_d=\"+encodeURIComponent(screen.colorDepth)}catch(B){}return C.substring(0,2000)}function n(B){if(window.addEventListener){window.addEventListener(\"load\",B,false)}else{if(window.attachEvent){window.attachEvent(\"onload\",B)}else{var C=window.onload;window.onload=function(){if(C&&typeof(C.fired)==\"undefined\"){C.fired=true;C()}B()}}}}function g(){var D=[];if(c()){if(document.createElement){var B=document.createElement(\"iframe\");if(B){B.width=\"1px\";B.height=\"1px\";B.style.display=\"none\";B.src=a()}D.push(B)}}else{var C=document.createElement(\"img\");if(C){C.width=\"1px\";C.height=\"1px\";C.style.display=\"none\";C.src=A(\"gif\")}var E=document.createElement(\"iframe\");if(E){E.width=\"1px\";E.height=\"1px\";E.style.display=\"none\";E.src=d();C.onload=function(){p(E)}}D.push(C)}return D}function k(){var C=g();for(var B=0;B<C.length;B++){p(C[B])}}function p(B){var C;if(!w()){C=document.getElementsByTagName(\"body\");if(!C||C.length==0){return}C=C[0]}else{C=document.getElementById(\"cto_mg_div\")}if(C!=null&&C.appendChild){C.appendChild(B)}}function o(){if(w()){document.write(\"<div id='cto_mg_div' style='display:none;'></div>\")}}function q(){if(i()){n(function(){k()})}else{k()}}return{Load:function(B){if(typeof(CRITEO_CONF)==\"undefined\"||(r&&document.readyState!=\"complete\")){return}r=true;b=B;t=CRITEO_CONF[1];x=CRITEO_CONF[0];o();q()}}}()}catch(err){}CRITEO.Load(true);"
      },
      "http://www.googletagservices.com/tag/js/gpt.js": {
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "http://www.googletagservices.com/tag/js/gpt.js",
         "body": "(function(){var e,f=this,k=function(a){var b=typeof a;if(\"object\"==b)if(a){if(a instanceof Array)return\"array\";if(a instanceof Object)return b;var c=Object.prototype.toString.call(a);if(\"[object Window]\"==c)return\"object\";if(\"[object Array]\"==c||\"number\"==typeof a.length&&\"undefined\"!=typeof a.splice&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"splice\"))return\"array\";if(\"[object Function]\"==c||\"undefined\"!=typeof a.call&&\"undefined\"!=typeof a.propertyIsEnumerable&&!a.propertyIsEnumerable(\"call\"))return\"function\"}else return\"null\";\nelse if(\"function\"==b&&\"undefined\"==typeof a.call)return\"object\";return b},l=function(a){return\"array\"==k(a)},aa=function(a){var b=k(a);return\"array\"==b||\"object\"==b&&\"number\"==typeof a.length},n=function(a){return\"string\"==typeof a},ba=function(a){return\"boolean\"==typeof a},p=function(a){return\"number\"==typeof a},ca=\"closure_uid_\"+(1E9*Math.random()>>>0),da=0,ea=function(a,b,c){return a.call.apply(a.bind,arguments)},fa=function(a,b,c){if(!a)throw Error();if(2<arguments.length){var d=Array.prototype.slice.call(arguments,\n2);return function(){var c=Array.prototype.slice.call(arguments);Array.prototype.unshift.apply(c,d);return a.apply(b,c)}}return function(){return a.apply(b,arguments)}},ga=function(a,b,c){ga=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf(\"native code\")?ea:fa;return ga.apply(null,arguments)},ha=function(a,b){function c(){}c.prototype=b.prototype;a.lc=b.prototype;a.prototype=new c;a.kc=function(a,c,h){var m=Array.prototype.slice.call(arguments,2);return b.prototype[c].apply(a,\nm)}};var q=function(a){a=parseFloat(a);return isNaN(a)||1<a||0>a?0:a},ia=/^([\\w-]+\\.)*([\\w-]{2,})(\\:[0-9]+)?$/,ja=function(a,b){if(!a)return b;var c=a.match(ia);return c?c[0]:b};var ka=q(\"0.02\"),la=q(\"1\");var ma=q(\"0.005\"),na=q(\"0.01\"),oa=q(\"0.001\"),pa=parseInt(\"1500\",10),qa=isNaN(pa)?1500:pa,ra=q(\"0.01\"),sa=q(\"1.0\"),ta=q(\"0.1\"),ua=q(\"0.0\");var va=/^true$/.test(\"false\")?!0:!1;var wa=function(){return ja(\"\",\"pagead2.googlesyndication.com\")};var xa=function(a){return/^[\\s\\xa0]*$/.test(a)},ya=function(a,b){return a<b?-1:a>b?1:0};var za=function(a,b){this.width=a;this.height=b};za.prototype.floor=function(){this.width=Math.floor(this.width);this.height=Math.floor(this.height);return this};za.prototype.round=function(){this.width=Math.round(this.width);this.height=Math.round(this.height);return this};var Aa=\"http://\"+wa()+\"/pagead/show_ads.js\";var r=function(){return f.googletag||(f.googletag={})},s=function(a,b,c){var d=r();a in d&&!c||(d[a]=b)},Ba=function(a,b){a.addEventListener?a.addEventListener(\"load\",b,!1):a.attachEvent&&a.attachEvent(\"onload\",b)};var t={};t[1]=wa();t[2]=ja(\"\",\"pubads.g.doubleclick.net\");t[3]=ja(\"\",\"securepubads.g.doubleclick.net\");t[4]=ja(\"\",\"partner.googleadservices.com\");t[5]=Aa;t[6]=va;t[7]=ka;t[8]=la;t[10]=na;t[11]=oa;t[12]=ma;t[13]=qa;t[16]=ra;t[17]=sa;t[18]=ta;t[19]=ua;s(\"_vars_\",t);var u=function(a,b){this.pb=a;this.mb=b||[]};u.prototype.Rb=function(){return this.pb};u.prototype.Qb=function(){return this.mb};u.prototype.getMessageId=u.prototype.Rb;u.prototype.getMessageArgs=u.prototype.Qb;var v=function(a,b,c,d,g){this.la=new Date;this.k=d||null;this.ka=c||null;this.Qa=a;this.Ra=b;this.ja=g||null};e=v.prototype;e.bb=function(){return this.k};e.ab=function(){return this.ka};e.$a=function(){return this.Qa};e.Wa=function(){return this.la};e.Pb=function(){return this.Ra};e.Tb=function(){return this.ja};var Ca=[\"Debug\",\"Info\",\"Warning\",\"Error\",\"Fatal\"];\nv.prototype.toString=function(){var a=this.la.toTimeString()+\": \"+Ca[this.Qa]+\": \"+this.Ra;this.ja&&(a+=\" Duration: \"+(this.la.getTime()-this.ja.Wa().getTime())+\"ms.\");return a};v.prototype.getTimestamp=v.prototype.Wa;v.prototype.getService=v.prototype.ab;v.prototype.getSlot=v.prototype.bb;v.prototype.getLevel=v.prototype.$a;v.prototype.getMessage=v.prototype.Pb;v.prototype.getReference=v.prototype.Tb;var w=function(){this.F=[]};w.prototype.Db=function(){return this.F};w.prototype.Mb=function(a){return Da(this,function(b){return b.ab()===a})};w.prototype.Nb=function(a){return Da(this,function(b){return b.bb()===a})};w.prototype.Lb=function(a){return Da(this,function(b){return b.$a()>=a})};var Da=function(a,b){for(var c=[],d=0;d<a.F.length;++d)b(a.F[d])&&c.push(a.F[d]);return c};w.prototype.log=function(a,b,c,d,g){a=new v(a,b,c,d,g);this.F.push(a);return a};\nw.prototype.info=function(a,b,c,d){return this.log(1,a,b,c,d)};var x=function(a,b,c,d){a.log(2,b,c,d,void 0)};w.prototype.error=function(a,b,c,d){return this.log(3,a,b,c,d)};var y=function(){var a=r();return a.debug_log||(a.debug_log=new w)};s(\"getEventLog\",y);w.prototype.getAllEvents=w.prototype.Db;w.prototype.getEventsByService=w.prototype.Mb;w.prototype.getEventsBySlot=w.prototype.Nb;w.prototype.getEventsByLevel=w.prototype.Lb;var A=function(a){return function(){return new u(a,[])}},B=function(a){return function(b){return new u(a,[b])}},C=function(a){return function(b,c){return new u(a,[b,c])}},E=function(a){return function(b,c,d){return new u(a,[b,c,d])}},Ea=A(1),Fa=B(2),Ga=B(3),Ha=B(4),Ia=B(5),Ja=B(6),Ka=A(8),La=E(9),Ma=E(10),Na=E(11),Oa=C(12),Pa=B(13),Qa=B(14),Ra=A(15),Sa=A(16),Ta=E(17),Ua=E(18),Va=A(19),Wa=B(20),Xa=B(21),Ya=C(22),Za=C(23),$a=B(26),ab=B(27),bb=B(28),cb=E(29),db=B(30),eb=C(31),fb=B(32),gb=B(33),hb=A(34),\nib=B(35),jb=E(36),kb=E(37),lb=A(38),mb=B(39),nb=C(40),ob=A(42),pb=C(43),qb=A(44),rb=A(45),sb=B(46),tb=B(47),ub=B(48),vb=A(49),wb=A(50),xb=B(51),yb=A(52),zb=C(53),Ab=C(54),Bb=B(55),Cb=B(56),Db=C(57),Eb=E(58),Fb=B(59),Gb=B(60),Hb=C(61),Ib=C(62),Jb=B(63),Kb=C(64),Lb=B(65),Mb=A(66),Nb=A(67),Ob=A(68),Pb=A(69),Qb=A(70),Rb=A(71),Sb=A(72),Tb=B(73),Ub=B(74),F=B(75),Vb=E(77),Wb=B(78),Xb=A(79),Yb=B(80),Zb=C(82),$b=C(83),ac=C(84),bc=B(85),cc=A(86),dc=A(87),ec=E(88),fc=E(89),gc=B(90);var hc=function(){this.Ya=this.ra=0};hc.prototype.push=function(a){for(var b=y(),c=0;c<arguments.length;++c)try{\"function\"==k(arguments[c])&&(arguments[c](),this.ra++)}catch(d){this.Ya++,b.error(db(String(d.message)))}b.info(eb(String(this.ra),String(this.Ya)));return this.ra};hc.prototype.push=hc.prototype.push;(function(){function a(a){this.t={};this.tick=function(a,b,c){this.t[a]=[void 0!=c?c:(new Date).getTime(),b];if(void 0==c)try{window.console.timeStamp(\"CSI/\"+a)}catch(d){}};this.tick(\"start\",null,a)}var b;window.performance&&(b=window.performance.timing);var c=b?new a(b.responseStart):new a;window.GPT_jstiming={Timer:a,load:c};if(b){var d=b.navigationStart,g=b.responseStart;0<d&&g>=d&&(window.GPT_jstiming.srt=g-d)}if(b){var h=window.GPT_jstiming.load;0<d&&g>=d&&(h.tick(\"_wtsrt\",void 0,d),h.tick(\"wtsrt_\",\n\"_wtsrt\",g),h.tick(\"tbsd_\",\"wtsrt_\"))}try{b=null,window.chrome&&window.chrome.csi&&(b=Math.floor(window.chrome.csi().pageT),h&&0<d&&(h.tick(\"_tbnd\",void 0,window.chrome.csi().startE),h.tick(\"tbnd_\",\"_tbnd\",d))),null==b&&window.gtbExternal&&(b=window.gtbExternal.pageT()),null==b&&window.external&&(b=window.external.pageT,h&&0<d&&(h.tick(\"_tbnd\",void 0,window.external.startE),h.tick(\"tbnd_\",\"_tbnd\",d))),b&&(window.GPT_jstiming.pt=b)}catch(m){}})();if(window.GPT_jstiming){window.GPT_jstiming.Za={};window.GPT_jstiming.lb=1;var ic=function(a,b,c){var d=a.t[b],g=a.t.start;if(d&&(g||c))return d=a.t[b][0],void 0!=c?g=c:g=g[0],d-g},jc=function(a,b,c){var d=\"\";window.GPT_jstiming.srt&&(d+=\"&srt=\"+window.GPT_jstiming.srt,delete window.GPT_jstiming.srt);window.GPT_jstiming.pt&&(d+=\"&tbsrt=\"+window.GPT_jstiming.pt,delete window.GPT_jstiming.pt);try{window.external&&window.external.tran?d+=\"&tran=\"+window.external.tran:window.gtbExternal&&window.gtbExternal.tran?\nd+=\"&tran=\"+window.gtbExternal.tran():window.chrome&&window.chrome.csi&&(d+=\"&tran=\"+window.chrome.csi().tran)}catch(g){}var h=window.chrome;if(h&&(h=h.loadTimes)){h().wasFetchedViaSpdy&&(d+=\"&p=s\");if(h().wasNpnNegotiated){var d=d+\"&npn=1\",m=h().npnNegotiatedProtocol;m&&(d+=\"&npnv=\"+(encodeURIComponent||escape)(m))}h().wasAlternateProtocolAvailable&&(d+=\"&apa=1\")}var z=a.t,L=z.start,h=[],m=[],D;for(D in z)if(\"start\"!=D&&0!=D.indexOf(\"_\")){var M=z[D][1];M?z[M]&&m.push(D+\".\"+ic(a,D,z[M][0])):L&&h.push(D+\n\".\"+ic(a,D))}delete z.start;if(b)for(var O in b)d+=\"&\"+O+\"=\"+b[O];(b=c)||(b=\"https:\"==document.location.protocol?\"https://csi.gstatic.com/csi\":\"http://csi.gstatic.com/csi\");return[b,\"?v=3\",\"&s=\"+(window.GPT_jstiming.sn||\"gpt\")+\"&action=\",a.name,m.length?\"&it=\"+m.join(\",\"):\"\",d,\"&rt=\",h.join(\",\")].join(\"\")},kc=function(a,b,c){a=jc(a,b,c);if(!a)return\"\";b=new Image;var d=window.GPT_jstiming.lb++;window.GPT_jstiming.Za[d]=b;b.onload=b.onerror=function(){window.GPT_jstiming&&delete window.GPT_jstiming.Za[d]};\nb.src=a;b=null;return a};window.GPT_jstiming.report=function(a,b,c){if(\"prerender\"==document.webkitVisibilityState){var d=!1,g=function(){if(!d){b?b.prerender=\"1\":b={prerender:\"1\"};var h;\"prerender\"==document.webkitVisibilityState?h=!1:(kc(a,b,c),h=!0);h&&(d=!0,document.removeEventListener(\"webkitvisibilitychange\",g,!1))}};document.addEventListener(\"webkitvisibilitychange\",g,!1);return\"\"}return kc(a,b,c)}};var G=Array.prototype,lc=G.indexOf?function(a,b,c){return G.indexOf.call(a,b,c)}:function(a,b,c){c=null==c?0:0>c?Math.max(0,a.length+c):c;if(n(a))return n(b)&&1==b.length?a.indexOf(b,c):-1;for(;c<a.length;c++)if(c in a&&a[c]===b)return c;return-1},mc=G.forEach?function(a,b,c){G.forEach.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=n(a)?a.split(\"\"):a,h=0;h<d;h++)h in g&&b.call(c,g[h],h,a)},nc=G.map?function(a,b,c){return G.map.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=Array(d),h=n(a)?a.split(\"\"):\na,m=0;m<d;m++)m in h&&(g[m]=b.call(c,h[m],m,a));return g},oc=G.every?function(a,b,c){return G.every.call(a,b,c)}:function(a,b,c){for(var d=a.length,g=n(a)?a.split(\"\"):a,h=0;h<d;h++)if(h in g&&!b.call(c,g[h],h,a))return!1;return!0},pc=function(a,b){var c;t:{c=a.length;for(var d=n(a)?a.split(\"\"):a,g=0;g<c;g++)if(g in d&&b.call(void 0,d[g],g,a)){c=g;break t}c=-1}return 0>c?null:n(a)?a.charAt(c):a[c]},qc=function(a){var b=a.length;if(0<b){for(var c=Array(b),d=0;d<b;d++)c[d]=a[d];return c}return[]},sc=\nfunction(a,b){G.sort.call(a,b||rc)},uc=function(a){for(var b=tc,c=0;c<a.length;c++)a[c]={index:c,value:a[c]};var d=b||rc;sc(a,function(a,b){return d(a.value,b.value)||a.index-b.index});for(c=0;c<a.length;c++)a[c]=a[c].value},rc=function(a,b){return a>b?1:a<b?-1:0};var H,vc,wc,xc,yc=function(){return f.navigator?f.navigator.userAgent:null};xc=wc=vc=H=!1;var I;if(I=yc()){var zc=f.navigator;H=0==I.lastIndexOf(\"Opera\",0);vc=!H&&(-1!=I.indexOf(\"MSIE\")||-1!=I.indexOf(\"Trident\"));wc=!H&&-1!=I.indexOf(\"WebKit\");xc=!H&&!wc&&!vc&&\"Gecko\"==zc.product}var Ac=H,J=vc,Bc=xc,Cc=wc,Dc=function(){var a=f.document;return a?a.documentMode:void 0},Ec;\nt:{var Fc=\"\",K;if(Ac&&f.opera)var Gc=f.opera.version,Fc=\"function\"==typeof Gc?Gc():Gc;else if(Bc?K=/rv\\:([^\\);]+)(\\)|;)/:J?K=/\\b(?:MSIE|rv)[: ]([^\\);]+)(\\)|;)/:Cc&&(K=/WebKit\\/(\\S+)/),K)var Hc=K.exec(yc()),Fc=Hc?Hc[1]:\"\";if(J){var Ic=Dc();if(Ic>parseFloat(Fc)){Ec=String(Ic);break t}}Ec=Fc}\nvar Jc=Ec,Kc={},Lc=function(a){if(!Kc[a]){for(var b=0,c=String(Jc).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),d=String(a).replace(/^[\\s\\xa0]+|[\\s\\xa0]+$/g,\"\").split(\".\"),g=Math.max(c.length,d.length),h=0;0==b&&h<g;h++){var m=c[h]||\"\",z=d[h]||\"\",L=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\"),D=RegExp(\"(\\\\d*)(\\\\D*)\",\"g\");do{var M=L.exec(m)||[\"\",\"\",\"\"],O=D.exec(z)||[\"\",\"\",\"\"];if(0==M[0].length&&0==O[0].length)break;b=ya(0==M[1].length?0:parseInt(M[1],10),0==O[1].length?0:parseInt(O[1],10))||ya(0==M[2].length,0==\nO[2].length)||ya(M[2],O[2])}while(0==b)}Kc[a]=0<=b}},Mc=f.document,Nc=Mc&&J?Dc()||(\"CSS1Compat\"==Mc.compatMode?parseInt(Jc,10):5):void 0;if(Bc||J){var Oc;if(Oc=J)Oc=J&&9<=Nc;Oc||Bc&&Lc(\"1.9.1\")}J&&Lc(\"9\");var Pc=function(a){return p(a)&&isFinite(a)&&0==a%1&&0<=a},Qc=function(a){return a.replace(/[^a-zA-Z0-9]/g,function(a){return\"&#\"+a.charCodeAt()+\";\"})},Rc=function(){var a=null,b=window,c=null;try{for(;null!=b&&b!==a;){c=b.location.protocol;if(\"https:\"===c)break;else if(\"http:\"===c||\"file:\"===c)return\"http:\";a=b;b=b.parent}}catch(d){}return\"https:\"};var Sc=function(a){return l(a)&&2==a.length&&Pc(a[0])&&Pc(a[1])},Tc=function(a){return l(a)&&1<a.length&&p(a[0])&&p(a[1])};var N=function(a,b){this.rb=a;this.nb=b};N.prototype.Yb=function(){return this.rb};N.prototype.Ob=function(){return this.nb};var Uc=function(a){var b=[];if(l(a))if(Tc(a))b.push(new N(a[0],a[1]));else for(var c=0;c<a.length;++c){var d=a[c];Tc(d)&&b.push(new N(d[0],d[1]))}return b};N.prototype.getWidth=N.prototype.Yb;N.prototype.getHeight=N.prototype.Ob;var P=function(a,b,c){this.w=a;this.Ua=p(b)?b:0;this.f=this.w+\"_\"+this.Ua;this.jb=c||\"gpt_unit_\"+this.f};e=P.prototype;e.q=function(){return this.f};e.getName=function(){return this.w};e.Va=function(){return this.Ua};e.toString=P.prototype.q;e.m=function(){return this.jb};P.prototype.getId=P.prototype.q;P.prototype.getName=P.prototype.getName;P.prototype.getDomId=P.prototype.m;P.prototype.getInstance=P.prototype.Va;var Vc=function(a,b){this.ob=a;this.kb=b};Vc.prototype.getKey=function(){return this.ob};var Wc=function(a){this.qb=a},Xc=function(a,b){var c=pc(a.qb,function(a){a=a.getKey();return a.width<=b.width&&a.height<=b.height});return null==c?null:c.kb},Yc=function(a){if(!l(a)||2!=a.length)throw Error(\"Each mapping entry has to be an array of size 2\");var b;b=a[0];if(!Sc(b))throw Error(\"Size has to be an array of two non-negative integers\");b=new za(b[0],b[1]);if(l(a[1])&&0==a[1].length)a=[];else if(a=Uc(a[1]),0==a.length)throw Error(\"At least one slot size must be present\");return new Vc(b,\na)};var Q=function(a,b,c,d){this.w=a;this.gb=Uc(c);this.Y=null;this.f=new P(a,b,d);this.c=[];this.g={};this.o=null;this.b=y();this.b.info(Fa(this.f.toString()),null,this);this.K=this.V=null;this.Ia=this.Ga=\"\";this.R=!0;this.i={};this.X=[];this.Ja=!1;this.Fa=this.Ea=null;this.Ha=0;this.n=-1};e=Q.prototype;\ne.set=function(a,b){var c=this.getName();(a=a||\"\")&&n(a)&&b?(this.g[a]=b,this.V||this.K?x(this.b,Ma(a,String(b),c),null,this):this.b.info(La(a,String(b),c),null,this)):x(this.b,Na(String(a),String(b),c),null,this);return this};e.get=function(a){return a in this.g?this.g[a]:null};e.B=function(){var a=[],b;for(b in this.g)\"function\"==k(this.g[b])||a.push(b);return a};\ne.ga=function(a){for(var b=0;b<this.c.length;++b)if(a==this.c[b])return x(this.b,Oa(a.getName(),this.f.toString()),a,this),this;this.c.push(a);a.$(this);return this};e.getName=function(){return this.w};e.h=function(){return this.f};e.Ub=function(){return this.c};e.Vb=function(a){return a&&this.Y?Xc(this.Y,a):this.gb};e.wb=function(a){try{if(!l(a))throw Error(\"Size mapping has to be an array\");var b=nc(a,Yc);this.Y=new Wc(b)}catch(c){x(this.b,Pa(c.message),null,this)}return this};e.A=function(){return!!document.getElementById(this.f.m())};\ne.N=function(a){this.o=a};e.D=function(a){this.Ia=a;return this};e.Gb=function(){return this.Ia};e.ua=function(a){if(n(a)&&!xa(null==a?\"\":String(a))){var b=this.X;0<=lc(b,a)||b.push(a);this.b.info(Qa(a),null,this)}else x(this.b,Ra(),null,this);return this};e.sa=function(){this.b.info(Sa(),null,this);this.X=[];return this};e.Fb=function(){return qc(this.X)};\ne.s=function(a,b){var c=[];l(b)?c=b:b&&c.push(b.toString());a&&n(a)?(this.b.info(Ta(a,c.join(),this.getName()),null,this),this.i[a]=c):x(this.b,Ua(String(a),c.join(),this.getName()),null,this);return this};e.ta=function(){this.b.info(Va(),null,this);this.i={};return this};e.Wb=function(){var a=this.i,b={},c;for(c in a)b[c]=a[c];return b};e.Sb=function(){return this.Ja};e.na=function(a){Pc(a)&&(this.Ha=a)};e.Eb=function(){return this.Ha};\ne.setTagForChildDirectedTreatment=function(a){if(0===a||1===a)this.n=a};e.Zb=function(){return this.n};e.gc=function(a,b){this.Fa=(this.Ea=a)&&Boolean(b);b&&!a&&x(this.b,Wa(this.f.toString()),null,this);return this};e.Hb=function(){return this.Ea};e.Kb=function(){return this.Fa};\nvar Zc=function(a){if(!a.A())return a.b.error(Xa(a.f.toString()),null,a),!1;var b=f.document,c=a.f.m(),b=b&&b.getElementById(c);if(!b)return a.b.error(Ya(c,a.f.toString()),null,a),!1;c=a.o;return n(c)&&0<c.length?(a.La(),b.innerHTML=c,a.Ka(),!0):!1};e=Q.prototype;e.Bb=function(a){this.V=this.b.info(Ga(this.getName()),null,this);this.Ga=a};e.Ib=function(){return this.Ga};e.Ab=function(){this.b.info(Ha(this.getName()),null,this,this.V)};e.La=function(){this.K=this.b.info(Ia(this.getName()),null,this)};\ne.Ka=function(){this.b.info(Ja(this.getName()),null,this,this.K)};Q.prototype.set=Q.prototype.set;Q.prototype.get=Q.prototype.get;Q.prototype.getName=Q.prototype.getName;Q.prototype.getSlotId=Q.prototype.h;Q.prototype.getSizes=Q.prototype.Vb;Q.prototype.defineSizeMapping=Q.prototype.wb;Q.prototype.addService=Q.prototype.ga;Q.prototype.getOutOfPage=Q.prototype.Sb;Q.prototype.getServices=Q.prototype.Ub;Q.prototype.getAttributeKeys=Q.prototype.B;Q.prototype.fetchStarted=Q.prototype.Bb;\nQ.prototype.fetchEnded=Q.prototype.Ab;Q.prototype.renderStarted=Q.prototype.La;Q.prototype.renderEnded=Q.prototype.Ka;Q.prototype.hasWrapperDiv=Q.prototype.A;Q.prototype.getContentUrl=Q.prototype.Ib;Q.prototype.setClickUrl=Q.prototype.D;Q.prototype.getClickUrl=Q.prototype.Gb;Q.prototype.clearTargeting=Q.prototype.ta;Q.prototype.getTargetingMap=Q.prototype.Wb;Q.prototype.setTargeting=Q.prototype.s;Q.prototype.setCategoryExclusion=Q.prototype.ua;Q.prototype.clearCategoryExclusions=Q.prototype.sa;\nQ.prototype.getCategoryExclusions=Q.prototype.Fb;Q.prototype.getCollapseEmptyDiv=Q.prototype.Hb;Q.prototype.setCollapseEmptyDiv=Q.prototype.gc;Q.prototype.getDivStartsCollapsed=Q.prototype.Kb;Q.prototype.getAudExtId=Q.prototype.Eb;Q.prototype.gtfcd=Q.prototype.Zb;var R=function(){this.C={};this.L={};this.b=y()};R.prototype.add=function(a,b,c){if(!n(a)||0>=a.length||!b)return null;a in this.C||(this.C[a]=[]);b=new Q(a,this.C[a].length,b,c);c=b.h().m();if(this.L[c])return this.b.error(bb(c)),null;this.C[a].push(b);return this.L[b.h().m()]=b};R.prototype.find=function(a,b){var c=b||0,d=n(a)&&this.C[a]||[];return 0<=c&&c<d.length&&(d=d[c],d.h().Va()==c)?d:null};\nvar $c=function(){var a=r();return a.slot_manager_instance||(a.slot_manager_instance=new R)},ad=function(a,b,c){var d=$c();return d&&d.add(a,b,c)};s(\"defineOutOfPageSlot\",function(a,b){var c=$c();return c?(c=c.add(a,[1,1],b))?(c.Ja=!0,c):null:null});s(\"defineSlot\",ad);s(\"defineUnit\",ad);R.prototype.find=R.prototype.find;R.getInstance=$c;var bd=function(a){var b=y();if(n(a)){var c;c=$c();if(c=c.L[a]?c.L[a]:null)if(c.R&&!c.A())x(c.b,Za(c.w,c.f.m()),null,c);else for(a=0;a<c.c.length;++a)c.c[a].isEnabled()&&c.c[a].G(c);else b.error(ab(String(a)))}else b.error($a(String(a)))};s(\"display\",bd,!0);var cd=null,dd=Bc||Cc||Ac||\"function\"==typeof f.atob;var S=function(a,b,c){!n(a)||0>=a.length||!Boolean(b)||!c?y().error(cb(String(a),String(b),String(c))):(this.k=new Q(a,this[ca]||(this[ca]=++da),b),this.k.ga(c),this.ka=c)};e=S.prototype;e.D=function(a){this.k.D(a);return this};e.s=function(a,b){this.k.s(a,b);return this};e.na=function(a){this.k.na(a);return this};e.setTagForChildDirectedTreatment=function(a){this.k.setTagForChildDirectedTreatment(a);return this};e.display=function(){ed(this.ka,this.k)};S.prototype.setClickUrl=S.prototype.D;\nS.prototype.setTargeting=S.prototype.s;S.prototype.setAudExtId=S.prototype.na;S.prototype.setTagForChildDirectedTreatment=S.prototype.setTagForChildDirectedTreatment;S.prototype.display=S.prototype.display;var T=function(){this.Oa=[];this.Pa={};this.ma=!1;this.g={};this.log=y();this.log.info(ib(this.getName()),this)};e=T.prototype;e.getName=function(){return\"unknown\"};e.getVersion=function(){return\"unversioned\"};e.set=function(a,b){n(a)&&0<a.length?(this.g[a]=b,this.log.info(jb(a,String(b),this.getName()),this,null)):x(this.log,kb(String(a),String(b),this.getName()),this,null);return this};e.get=function(a){return this.g[a]};\ne.B=function(){var a=[],b;for(b in this.g)\"function\"!=typeof this.g[b]&&a.push(b);return a};e.j=function(){return this.Oa};e.cb=function(){return this.Pa};e.isEnabled=function(){return this.ma};e.enable=function(){if(this.ma)this.log.info(lb(),this);else{this.ma=!0;try{this.qa()}catch(a){this.log.error(mb(String(a)),this)}}};e.display=function(a,b,c,d){this.enable();a=c?ad(a,b,c):ad(a,b);a.ga(this);d&&a.D(d);bd(a.h().m())};\ne.$=function(a){this.Oa.push(a);this.Pa[a.h().q()]=a;this.log.info(nb(this.getName(),a.getName()),this,a)};T.prototype.getSlots=T.prototype.j;T.prototype.getSlotIdMap=T.prototype.cb;T.prototype.enable=T.prototype.enable;T.prototype.set=T.prototype.set;T.prototype.get=T.prototype.get;T.prototype.getAttributeKeys=T.prototype.B;T.prototype.display=T.prototype.display;var fd=function(a,b){this.name=a;this.pa=b?b:new f.GPT_jstiming.Timer;this.pa.name=a;this.oa=[]};e=fd.prototype;e.getName=function(){return this.name};e.tick=function(a,b){this.pa.tick(a,b)};e.Xa=function(a){a&&this.oa.push(a)};e.report=function(){var a=\"https:\"==f.location.protocol?\"https://www.google.com/csi\":\"http://csi.gstatic.com/csi\",b={};this.oa.length&&(b.e=this.oa.join());return f.GPT_jstiming.report(this.pa,b,a)};e.eb=function(a){Ba(window,function(){setTimeout(a,10)})};\nvar U=function(a){this.name=a};ha(U,fd);U.prototype.tick=function(){};U.prototype.Xa=function(){};U.prototype.report=function(){return null};U.prototype.eb=function(){};var gd=function(){var a=f.GPT_jstiming.load,b=0.01;void 0==b&&(b=0.01);return f.GPT_jstiming&&f.GPT_jstiming.load&&(\"http:\"==f.location.protocol||\"https:\"==f.location.protocol)&&Math.random()<b?new fd(\"global\",a):new U(\"global\")};\n(function(){if(!r()._gpt_timer_&&f.GPT_jstiming){var a=gd();a.eb(function(){a.tick(\"load\");a.report()});s(\"_gpt_timer_\",a)}return r()._gpt_timer_})();var V=function(){this.c={};this.W=!1;this.b=y();this.hb=this.b.info(Ka());Ba(window,ga(V.prototype.ib,this))};V.prototype.add=function(a){this.c[a.getName()]=a};V.prototype.find=function(a){var b=null;a in this.c&&(b=this.c[a]);return b};V.prototype.ib=function(){this.W=!0;this.b.info(Ea(),null,null,this.hb)};var W=function(){var a=r();return a.service_manager_instance||(a.service_manager_instance=new V)};\ns(\"enableServices\",function(){var a=W(),b;for(b in a.c){var c=a.c[b];if(\"function\"!=k(c)){c.enable();var c=b,d=r()._gpt_timer_;d&&d.Xa(c)}}});var X=function(){T.call(this);this.v=!1;this.a=null;this.va=0;this.n=-1;this.i={};this.P=[];this.Ba=this.S=\"\";this.Aa=!1;this.xa=!0;this.u=this.wa=!1;this.d=!0;this.O=this.H=this.ya=!1;this.l=[];this.I=[];this.J=[];this.Q=!1;this.T={};this.U=!1;this.Ca=this.Da=\"\";this.za=[]};ha(X,T);\nvar hd={adsense_ad_format:\"google_ad_format\",adsense_ad_types:\"google_ad_type\",adsense_allow_expandable_ads:\"google_allow_expandable_ads\",adsense_background_color:\"google_color_bg\",adsense_bid:\"google_bid\",adsense_border_color:\"google_color_border\",adsense_channel_ids:\"google_ad_channel\",adsense_content_section:\"google_ad_section\",adsense_cpm:\"google_cpm\",adsense_ed:\"google_ed\",adsense_encoding:\"google_encoding\",adsense_family_safe:\"google_safe\",adsense_feedback:\"google_feedback\",adsense_flash_version:\"google_flash_version\",\nadsense_font_face:\"google_font_face\",adsense_font_size:\"google_font_size\",adsense_hints:\"google_hints\",adsense_host:\"google_ad_host\",adsense_host_channel:\"google_ad_host_channel\",adsense_host_tier_id:\"google_ad_host_tier_id\",adsense_keyword_type:\"google_kw_type\",adsense_keywords:\"google_kw\",adsense_line_color:\"google_line_color\",adsense_link_color:\"google_color_link\",adsense_relevant_content:\"google_contents\",adsense_reuse_colors:\"google_reuse_colors\",adsense_targeting:\"google_targeting\",adsense_targeting_types:\"google_targeting\",\nadsense_test_mode:\"google_adtest\",adsense_text_color:\"google_color_text\",adsense_ui_features:\"google_ui_features\",adsense_ui_version:\"google_ui_version\",adsense_url_color:\"google_color_url\",alternate_ad_iframe_color:\"google_alternate_color\",alternate_ad_url:\"google_alternate_ad_url\",demographic_age:\"google_cust_age\",demographic_ch:\"google_cust_ch\",demographic_gender:\"google_cust_gender\",demographic_interests:\"google_cust_interests\",demographic_job:\"google_cust_job\",demographic_l:\"google_cust_l\",demographic_lh:\"google_cust_lh\",\ndemographic_u_url:\"google_cust_u_url\",demographic_unique_id:\"google_cust_id\",document_language:\"google_language\",geography_override_city:\"google_city\",geography_override_country:\"google_country\",geography_override_region:\"google_region\",page_url:\"google_page_url\"};\nX.prototype.qa=function(){if(this.d){if(!this.v){var a=document,b=a.createElement(\"script\");W();b.async=!0;b.type=\"text/javascript\";b.src=this.p();(a=a.getElementsByTagName(\"head\")[0]||a.getElementsByTagName(\"body\")[0])?(this.log.info(sb(\"GPT PubAds\"),this),a.appendChild(b),this.v=!0):this.log.error(tb(\"GPT PubAds\"),this)}}else id(this)};X.prototype.getName=function(){return\"publisher_ads\"};X.prototype.p=function(){return Rc()+\"//partner.googleadservices.com/gpt/pubads_impl_32.js\"};\nvar id=function(a){var b=W();a.v||b.W||(b=document,a.v=!0,b.write('<script type=\"text/javascript\" src=\"'+Qc(a.p())+'\">\\x3c/script>'))};X.prototype.fillSlot=function(a){this.log.info(wb());this.a.fillSlot(a);this.T[a.getName()]=!0;if(this.a)if(this.Q)(a=this.j()[0])&&a.getName()in this.T&&(this.refresh(),this.Q=!1);else for(a=0;a<this.J.length;a++){var b=this.J[a];b[0].getName()in this.T&&(this.refresh(b),G.splice.call(this.J,a,1),a--)}else this.log.error(vb(),this)};\nX.prototype.bc=function(){W();var a=r().impl;if(a&&a.pubads){this.a=a.pubads;this.log.info(ub(\"GPT\"),this);this.a.setCookieOptions(this.va);this.a.setTagForChildDirectedTreatment(this.n);this.xa||this.a.disableFetch();this.H&&this.a.collapseEmptyDivs(this.O);if(this.u){this.d?this.a.enableAsyncSingleRequest():this.a.enableSingleRequest();jd(this);for(var a=this.j(),b=0;b<a.length;++b)kd(this,a[b])}else this.d&&this.a.enableAsyncRendering();this.wa&&this.a.disableInitialLoad();ld(this);if(0<this.l.length)for(b=\n0;b<this.l.length;++b)this.G(this.l[b]);if(0<this.I.length)for(b=0;b<this.I.length;++b)ed(this,this.I[b])}else this.log.error(xb(this.p()),this)};X.prototype.$=function(a){this.d||(a.R=!1);T.prototype.$.call(this,a)};\nX.prototype.G=function(a){if(W().W&&!this.d)this.log.error(yb(),this);else if(this.a)jd(this),kd(this,a)&&this.fillSlot(a);else if(this.d||this.v&&0==this.l.length){for(var b=!1,c=0;c<this.l.length;++c)a===this.l[c]&&(b=!0);b||(this.log.info(zb(a.getName(),\"GPT\"),this,a),this.l.push(a))}else this.log.error(Bb(a.getName()),this,a)};\nvar kd=function(a,b){if(a.a&&null==a.a.addSlot(b))return a.log.error(Cb(b.getName()),a,b),!1;for(var c=b.B(),d=0;d<c.length;++d)c[d]in hd?a.a.addAdSenseSlotAttribute(b,hd[c[d]],b.get(c[d])):x(a.log,Eb(String(c[d]),String(b.get(c[d])),b.getName()),a,b);return!0},jd=function(a){if(!a.Aa){a.Aa=!0;for(var b=a.B(),c=0;c<b.length;++c)b[c]in hd?a.a.addAdSensePageAttribute(hd[b[c]],a.get(b[c])):x(a.log,Db(String(b[c]),String(a.get(b[c]))),a);a.a.addAdSensePageAttribute(\"google_tag_info\",\"v2\");for(var d in a.i)if(b=\na.i[d],l(b))for(c=0;c<b.length;++c)a.a.addAttribute(d,b[c]);mc(a.P,function(a){this.a.addPageCategoryExclusion(a)},a);a.a.setPublisherProvidedId(a.Ba);a.S&&a.a.setLocation(a.S);a.a.setCenterAds(a.ya);mc(a.za,function(a){this.a.setApiExperiment(a)},a)}};e=X.prototype;e.setCookieOptions=function(a){if(!Pc(a))return x(this.log,Fb(String(a)),this),this;this.va=a;this.a&&this.a.setCookieOptions(a);return this};\ne.setTagForChildDirectedTreatment=function(a){if(0!==a&&1!==a)return x(this.log,gc(String(a)),this),this;this.n=a;this.a&&this.a.setTagForChildDirectedTreatment(a);return this};e.ub=function(){this.n=-1;this.a&&this.a.setTagForChildDirectedTreatment(-1);return this};\ne.s=function(a,b){var c=null;n(b)?c=[b]:l(b)?c=b:aa(b)&&(c=qc(b));var d=c?c.join():String(b);if(!n(a)||xa(null==a?\"\":String(a))||!c)return x(this.log,fc(String(a),d,this.getName()),this),this;this.i[a]=c;this.log.info(ec(a,d,this.getName()),this);if(this.a)for(this.a.clearAttribute(a),d=0;d<c.length;++d)this.a.addAttribute(a,c[d]);return this};\ne.ta=function(a){if(!n(a)||xa(null==a?\"\":String(a)))return x(this.log,$b(String(a),this.getName()),this),this;if(!this.i[a])return x(this.log,ac(a,this.getName()),this),this;delete this.i[a];this.log.info(Zb(a,this.getName()),this);this.a&&this.a.clearAttribute(a);return this};e.ua=function(a){if(!n(a)||xa(null==a?\"\":String(a)))return x(this.log,cc(),this),this;var b=this.P;0<=lc(b,a)||b.push(a);this.log.info(bc(a),this);this.a&&this.a.addPageCategoryExclusion(a);return this};\ne.sa=function(){this.P=[];this.log.info(dc(),this);this.a&&this.a.clearPageCategoryExclusions();return this};e.$b=function(){this.a?x(this.log,Hb(\"noFetch\",\"pubads\"),this):this.xa=!1};e.disableInitialLoad=function(){this.a?x(this.log,Hb(\"disableInitialLoad\",\"pubads\"),this):this.wa=!0};e.enableSingleRequest=function(){this.isEnabled()&&!this.u?x(this.log,Gb(\"enableSingleRequest\"),this):(this.log.info(Jb(\"single request\"),this),this.u=!0);return this.u};\ne.enableAsyncRendering=function(){this.isEnabled()&&!this.d?x(this.log,Gb(\"enableAsyncRendering\"),this):(this.log.info(Jb(\"asynchronous rendering\"),this),this.d=!0);return this.d};e.yb=function(){if(this.isEnabled()&&this.d)x(this.log,Gb(\"enableSyncRendering\"),this);else{this.log.info(Jb(\"synchronous rendering\"),this);this.d=!1;for(var a=this.j(),b=0;b<a.length;++b)a[b].R=!1}return!this.d};e.ec=function(a){this.log.info(Kb(\"centering\",String(a)),this);this.ya=a};\ne.setPublisherProvidedId=function(a){this.isEnabled()?x(this.log,Ib(\"setPublisherProvidedId\",a),this):(this.log.info(Kb(\"PPID\",a),this),this.Ba=a);return this};e.vb=function(a,b){return new S(a,b,this)};var ed=function(a,b){id(a);a.a?a.a.passback(b):(a.log.info(Ab(b.getName(),\"GPT\"),a,b),a.I.push(b))};e=X.prototype;\ne.refresh=function(a){if(a&&!l(a))x(this.log,Tb(\"Slots to refresh\"),this);else{var b=null;if(a&&(b=md(this,a),!b.length)){this.log.error(Lb(\"Refresh\"),this);return}this.a?(this.log.info(Qb(),this),this.a.refresh(b)):this.u?(this.log.info(Pb(),this),b?(a=this.J,0<=lc(a,b)||a.push(b)):this.Q=!0):x(this.log,Mb(),this)}};\ne.Ta=function(a,b,c,d,g,h){if(a&&!l(a))x(this.log,Tb(\"Slot list\"),this);else if(b&&!p(b))x(this.log,F(\"Correlator\"),this);else if(c&&!p(c))x(this.log,F(\"Pod number\"),this);else if(d&&!p(d))x(this.log,F(\"Pod position\"),this);else if(g&&!ba(g))x(this.log,Ub(\"Persistent roadblocks only\"),this);else if(h&&!ba(h))x(this.log,Ub(\"Clear unfilled slots\"),this);else if(this.a){var m=null;if(a&&(m=md(this,a),!m.length)){this.log.error(Lb(\"refresh\"),this);return}this.log.info(Qb(),this);this.a.refresh(m,b,c,\nd,g,h)}else x(this.log,Mb(),this)};e.zb=function(){this.U=!0;ld(this)};e.ic=function(a,b){this.U=!0;this.Da=a;this.Ca=b;ld(this)};e.Xb=function(){return this.a?this.a.getVideoContentInformation():null};var ld=function(a){a.U&&a.a&&a.a.setVideoContentInformation(a.Da,a.Ca)};e=X.prototype;e.getCorrelator=function(){return 0==this.j().length?\"not_available\":this.a?this.a.getCorrelator():\"not_loaded\"};\ne.getVideoStreamCorrelator=function(){if(!this.a)return 0;var a=this.a.getVideoStreamCorrelator();return isNaN(a)?0:a};e.isAdRequestFinished=function(){return this.a?this.a.isAdRequestFinished():!1};e.isSlotAPersistentRoadblock=function(a){return this.a?this.a.isSlotAPersistentRoadblock(a):!1};e.collapseEmptyDivs=function(a){this.H?x(this.log,Xb(),this):this.isEnabled()?x(this.log,Gb(\"collapseEmptyDivs\"),this):(this.O=Boolean(a),this.log.info(Wb(String(this.O)),this),this.H=!0);return this.H};\ne.clear=function(a){if(!this.a)return x(this.log,Ob(),this),!1;var b=null;if(a&&(b=md(this,a),0==b.length))return this.log.error(Lb(\"Clear\"),this),!1;this.log.info(Rb(),this);return this.a.clearSlotContents(b)};e.clearNoRefreshState=function(){this.a?(this.log.info(Sb(),this),this.a.clearNoRefreshState()):x(this.log,Nb(),this)};\ne.setLocation=function(a,b,c){var d=\"role:1 producer:12\";if(void 0!==b){if(!p(a))return x(this.log,F(\"Latitude\")),this;if(!p(b))return x(this.log,F(\"Longitude\")),this;d+=\" latlng{ latitude_e7: \"+Math.round(1E7*a)+\" longitude_e7: \"+Math.round(1E7*b)+\"}\";if(void 0!==c){if(isNaN(c))return x(this.log,F(\"Radius\")),this;d+=\" radius:\"+Math.round(c)}}else 50<a.length&&(b=a.substring(0,50),x(this.log,Vb(String(a),\"50\",b)),a=b),d+=' loc:\"'+a+'\"';if(dd)d=f.btoa(d);else{a=d;d=[];for(c=b=0;c<a.length;c++){for(var g=\na.charCodeAt(c);255<g;)d[b++]=g&255,g>>=8;d[b++]=g}if(!aa(d))throw Error(\"encodeByteArray takes an array as a parameter\");if(!cd)for(cd={},a=0;65>a;a++)cd[a]=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\".charAt(a);a=cd;b=[];for(c=0;c<d.length;c+=3){var h=d[c],m=(g=c+1<d.length)?d[c+1]:0,z=c+2<d.length,L=z?d[c+2]:0,D=h>>2,h=(h&3)<<4|m>>4,m=(m&15)<<2|L>>6,L=L&63;z||(L=64,g||(m=64));b.push(a[D],a[h],a[m],a[L])}d=b.join(\"\")}this.S=\"a \"+d;return this};\ne.getVersion=function(){return this.a?this.a.getVersion():void 0};e.Cb=function(a){this.isEnabled()?x(this.log,Ib(\"forceExperiment\",a),this):this.za.push(a)};var Y=function(){var a=W(),b=a.find(\"publisher_ads\");b||(b=new X,a.add(b));return b},md=function(a,b){for(var c=[],d=0;d<b.length;++d){var g=b[d];g instanceof Q?c.push(g):x(a.log,Yb(String(d)),a)}return c};s(\"pubads\",Y);X.prototype.clear=X.prototype.clear;X.prototype.clearNoRefreshState=X.prototype.clearNoRefreshState;\nX.prototype.collapseEmptyDivs=X.prototype.collapseEmptyDivs;X.prototype.definePassback=X.prototype.vb;X.prototype.disableInitialLoad=X.prototype.disableInitialLoad;X.prototype.enableAsyncRendering=X.prototype.enableAsyncRendering;X.prototype.enableSingleRequest=X.prototype.enableSingleRequest;X.prototype.enableSyncRendering=X.prototype.yb;X.prototype.enableVideoAds=X.prototype.zb;X.prototype.forceExperiment=X.prototype.Cb;X.prototype.getCorrelator=X.prototype.getCorrelator;\nX.prototype.getVideoContent=X.prototype.Xb;X.prototype.getVideoStreamCorrelator=X.prototype.getVideoStreamCorrelator;X.prototype.isAdRequestFinished=X.prototype.isAdRequestFinished;X.prototype.isSlotAPersistentRoadblock=X.prototype.isSlotAPersistentRoadblock;X.prototype.noFetch=X.prototype.$b;X.prototype.onGoogleAdsJsLoad=X.prototype.bc;X.prototype.refresh=X.prototype.refresh;X.prototype.setLocation=X.prototype.setLocation;X.prototype.setTargeting=X.prototype.s;X.prototype.clearTargeting=X.prototype.ta;\nX.prototype.setCategoryExclusion=X.prototype.ua;X.prototype.clearCategoryExclusions=X.prototype.sa;X.prototype.setVideoContent=X.prototype.ic;X.prototype.getVersion=X.prototype.getVersion;X.prototype.videoRefresh=X.prototype.Ta;X.prototype.setCentering=X.prototype.ec;X.prototype.setPublisherProvidedId=X.prototype.setPublisherProvidedId;X.prototype.setCookieOptions=X.prototype.setCookieOptions;X.prototype.setTagForChildDirectedTreatment=X.prototype.setTagForChildDirectedTreatment;\nX.prototype.clearTagForChildDirectedTreatment=X.prototype.ub;var Z=function(){T.call(this);this.Ma=!0;this.da=this.fa=!1;this.aa=0;this.ca=this.ba=void 0;this.Na=this.ea=!1;this.Z={};this.M=!1};ha(Z,T);e=Z.prototype;\ne.qa=function(){if(this.Ma){if(!this.Na){var a=document,b=document.createElement(\"script\");b.async=!0;b.type=\"text/javascript\";b.src=this.p();try{var c=a.getElementsByTagName(\"script\")[0];this.log.info(sb(\"GPT CompanionAds\"),this);this.Na=!0;c.parentNode&&c.parentNode.insertBefore(b,c)}catch(d){this.log.error(tb(\"GPT CompanionAds\"),this)}}}else this.ea||(f.document.write('<script type=\"text/javascript\" src=\"'+Qc(this.p())+'\">\\x3c/script>'),this.ea=!0)};e.xb=function(){this.Ma=!1};\ne.hc=function(a){ba(a)&&(this.fa=a)};e.fc=function(a){ba(a)&&(this.da=a)};e.ac=function(a){if(this.fa)nd(this,od(this,a));else if(this.da){a=od(this,a);var b=Y();b.isEnabled()?b.clear(a):this.log.error(pb(\"PubAds\",\"clear\"))}};e.Sa=function(){var a=Y();if(!a.isEnabled())return!1;var a=a.j(),b=this.j();if(a.length!=b.length)return!1;for(var c=0;c<b.length;++c){for(var d=!1,g=0;g<a.length;++g)if(b[c]===a[g]){d=!0;break}if(!d)return!1}return!0};e.dc=function(){this.fa&&nd(this,null)};\ne.fb=function(a,b,c,d,g,h,m){this.M=!1;this.aa=0;this.ca=this.ba=void 0;this.aa=a;void 0!==g&&(this.ba=g);void 0!==h&&(this.ca=h);void 0!==m&&(this.M=m)};e.jc=function(a,b,c,d){this.fb(a,0,0,0,b,c,d)};e.Jb=function(){return Y().getCorrelator()};e.getVideoStreamCorrelator=function(){return Y().getVideoStreamCorrelator()};\nvar nd=function(a,b){var c=Y();if(c.isEnabled()){if(a.M){if(!a.Sa()){x(a.log,ob());return}c.clearNoRefreshState();c.clear()}c.Ta(b,a.aa,a.ba,a.ca,a.M,a.da)}else a.log.error(pb(\"PubAds\",\"refresh\"))};Z.prototype.isSlotAPersistentRoadblock=function(a){var b=Y();if(b.isEnabled())return b.isSlotAPersistentRoadblock(a);this.log.error(qb());return!1};var od=function(a,b){for(var c=a.cb(),d=[],g=0;g<b.length;++g){var h=b[g];h in c?d.push(c[h]):x(a.log,rb(),a)}return d};e=Z.prototype;e.getName=function(){return\"companion_ads\"};\ne.p=function(){return Rc()+\"//pagead2.googlesyndication.com/pagead/show_companion_ad.js\"};e.cc=function(){this.log.info(ub(\"GPT CompanionAds\"),this);this.ea=!0};e.r=function(a){var b=a&&a.h().q();return b&&b in this.Z&&a.A()&&this.isEnabled()&&!this.isSlotAPersistentRoadblock(a)?(a.N(this.Z[b]),Zc(a)):!1};e.G=function(a){this.r(a)};e.fillSlot=function(a,b){return a&&n(b)&&0<b.length?(this.Z[a.h().toString()]=b,this.r(a)):!1};\ns(\"companionAds\",function(){var a=W(),b=a.find(\"companion_ads\");b||(b=new Z,a.add(b));return b});Z.prototype.fillSlot=Z.prototype.fillSlot;Z.prototype.enableSyncLoading=Z.prototype.xb;Z.prototype.isSlotAPersistentRoadblock=Z.prototype.isSlotAPersistentRoadblock;Z.prototype.isRoadblockingSupported=Z.prototype.Sa;Z.prototype.onImplementationLoaded=Z.prototype.cc;Z.prototype.notifyUnfilledSlots=Z.prototype.ac;Z.prototype.refreshAllSlots=Z.prototype.dc;Z.prototype.setRefreshUnfilledSlots=Z.prototype.hc;\nZ.prototype.setClearUnfilledSlots=Z.prototype.fc;Z.prototype.setVideoSessionInfo=Z.prototype.fb;Z.prototype.setVideoSession=Z.prototype.jc;Z.prototype.getDisplayAdsCorrelator=Z.prototype.Jb;Z.prototype.getVideoStreamCorrelator=Z.prototype.getVideoStreamCorrelator;var pd=function(){T.call(this);this.o={}};ha(pd,T);e=pd.prototype;e.getName=function(){return\"content\"};e.r=function(a){var b=a&&a.h().q();return b in this.o&&this.isEnabled()&&a.A()&&!a.K?(a.N(this.o[b]),Zc(a)):!1};e.qa=function(){for(var a=this.j(),b=0;b<a.length;++b)this.r(a[b])};e.G=function(a){this.r(a)};e.N=function(a,b){a&&n(b)&&0<b.length&&(this.o[a.h().q()]=b,this.r(a))};s(\"content\",function(){var a=W(),b=a.find(\"content\");b||(b=new pd,a.add(b));return b});pd.prototype.setContent=pd.prototype.N;var qd=/#|$/,rd=function(a,b){var c=a.search(qd),d;t:{d=0;for(var g=b.length;0<=(d=a.indexOf(b,d))&&d<c;){var h=a.charCodeAt(d-1);if(38==h||63==h)if(h=a.charCodeAt(d+g),!h||61==h||38==h||35==h)break t;d+=g+1}d=-1}if(0>d)return null;g=a.indexOf(\"&\",d);if(0>g||g>c)g=c;d+=b.length+1;return decodeURIComponent(a.substr(d,g-d).replace(/\\+/g,\" \"))};var sd=function(){var a=window,b=document;if(r()._pubconsole_disable_)return!1;var c;c=document.cookie.split(\"google_pubconsole=\");if(c=2==c.length?c[1].split(\";\")[0]:\"\")if(c=c.split(\"|\"),0<c.length&&(\"1\"==c[0]||\"0\"==c[0]))return!0;W();c=!1;try{c=a.top.document.URL===b.URL}catch(d){}a=c?b.URL:b.referrer;return null!==rd(a,\"google_debug\")||null!==rd(a,\"google_console\")||null!==rd(a,\"google_force_console\")||null!==rd(a,\"googfc\")},td=function(){if(sd()){var a=document,b=a.createElement(\"script\");b.type=\n\"text/javascript\";b.src=Rc()+\"//publisherconsole.appspot.com/js/loader.js\";b.async=!0;(a=a.getElementsByTagName(\"script\")[0])&&a.parentNode&&a.parentNode.insertBefore(b,a)}};\"complete\"===document.readyState?td():Ba(window,td);s(\"disablePublisherConsole\",function(){r()._pubconsole_disable_=!0});var $=function(){this.ia=[];this.ha=!1;this.b=y()};$.prototype.sb=function(a,b){if(!Sc(a))return this.ha=!0,x(this.b,gb(String(a))),this;var c;if(c=!Sc(b))c=!(l(b)&&oc(b,Sc));if(c)return this.ha=!0,x(this.b,fb(String(b))),this;this.ia.push([a,b]);return this};$.prototype.tb=function(){if(this.ha)return x(this.b,hb()),null;uc(this.ia);return this.ia};\nvar tc=function(a,b){var c;t:{c=b[0];for(var d=a[0],g=rc,h=Math.min(c.length,d.length),m=0;m<h;m++){var z=g(c[m],d[m]);if(0!=z){c=z;break t}}c=rc(c.length,d.length)}return c};s(\"sizeMapping\",function(){return new $});$.prototype.addSize=$.prototype.sb;$.prototype.build=$.prototype.tb;s(\"getVersion\",function(){return\"32\"});var ud=r().cmd;if(!ud||l(ud)){var vd=r().cmd=new hc;ud&&0<ud.length&&vd.push.apply(vd,ud)}(function(){var a=document.getElementsByTagName(\"script\");0<a.length&&(a=a[a.length-1],a.src&&0<=a.src.indexOf(\"/tag/js/gpt.js\")&&a.innerHTML&&!a.googletag_executed&&(a.googletag_executed=!0,eval(a.innerHTML)))})();})()\n"
      },
      "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/6U2I3SXECJHAZOUDPH7TZS.js": {
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/6U2I3SXECJHAZOUDPH7TZS.js",
         "body": "(function () {\n  var scheme = ((\"https:\" == document.location.protocol) ? \"https\" : \"http\");\n  var adnxs_domain = 'secure.adnxs.com';\n  var aol_domain = 'secure.leadback.advertising.com';\n  var rule = [\"hotel_search\", \"*hotels*\"];\n  if (scheme=='http') { adnxs_domain = 'ib.adnxs.com'; aol_domain = 'leadback.advertising.com';}\n  var el = document.createElement(\"div\");\n  el.style[\"width\"] = \"1px\";\n  el.style[\"height\"] = \"1px\";\n  el.style[\"display\"] = \"inline\";\n  var content = unescape('%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/f/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/w/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/x/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3flabel%3deRZDCPrC8AkQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/g/out%3fgoogle_nid%3dadroll%22/%3e%0a%3c%21--%20rmx%20placeholder%20--%3e%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//%5badnxs_domain%5d/seg%3fadd%3d1074354%26t%3d2%22%20width%3d%221%22%20height%3d%221%22/%3e%0a');\n  \n  content += __adroll.get_pid(\".*\", \"\", {\"scheme\":\"html\",\"attribute\":\"text\",\"key\":\"id_from_page\",\"path\":\"span.cityname.hidden\",\"type\":\"text\",\"regular_expression\":\"\",\"regular_expression_replace\":\"\",\"is_required\":false,\"format_spec\":\"\",\"image_filter\":\"\"}, true);\n  var r = Math.random()*10000000000000000;\n  content = content.replace(/\\[ord\\]/gi, r);\n  content = content.replace(/\\[protocol\\]/gi, scheme);\n  content = content.replace(/\\[adnxs_domain\\]/gi, adnxs_domain);\n  content = content.replace(/\\[aol_domain\\]/gi, aol_domain);\n  content = __adroll.replace_external_data(content);\n  el.innerHTML = content;\n  __adroll._head().appendChild(el);\n  if (typeof __adroll.set_pixel_cookie != 'undefined') {__adroll.set_pixel_cookie(adroll_adv_id, adroll_pix_id, \"6U2I3SXECJHAZOUDPH7TZS\");}\n}());\n"
      },
      "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/2HEQ344DAZHYZIZRSGZSPY.js": {
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/2HEQ344DAZHYZIZRSGZSPY.js",
         "body": "(function () {\n  var scheme = ((\"https:\" == document.location.protocol) ? \"https\" : \"http\");\n  var adnxs_domain = 'secure.adnxs.com';\n  var aol_domain = 'secure.leadback.advertising.com';\n  var rule = [\"hotel_search\", \"*hotels*\"];\n  if (scheme=='http') { adnxs_domain = 'ib.adnxs.com'; aol_domain = 'leadback.advertising.com';}\n  var el = document.createElement(\"div\");\n  el.style[\"width\"] = \"1px\";\n  el.style[\"height\"] = \"1px\";\n  el.style[\"display\"] = \"inline\";\n  var content = unescape('%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/f/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/w/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/x/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3flabel%3dTLKSCNL1mwoQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/g/out%3fgoogle_nid%3dadroll%22/%3e%0a%3c%21--%20rmx%20placeholder%20--%3e%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//%5badnxs_domain%5d/seg%3fadd%3d1296674%26t%3d2%22%20width%3d%221%22%20height%3d%221%22/%3e%0a');\n  \n  content += __adroll.get_pid(\".*\", \"\", {\"scheme\":\"html\",\"attribute\":\"text\",\"key\":\"id_from_page\",\"path\":\"span.cityname.hidden\",\"type\":\"text\",\"regular_expression\":\"\",\"regular_expression_replace\":\"\",\"is_required\":false,\"format_spec\":\"\",\"image_filter\":\"\"}, true);\n  var r = Math.random()*10000000000000000;\n  content = content.replace(/\\[ord\\]/gi, r);\n  content = content.replace(/\\[protocol\\]/gi, scheme);\n  content = content.replace(/\\[adnxs_domain\\]/gi, adnxs_domain);\n  content = content.replace(/\\[aol_domain\\]/gi, aol_domain);\n  content = __adroll.replace_external_data(content);\n  el.innerHTML = content;\n  __adroll._head().appendChild(el);\n  if (typeof __adroll.set_pixel_cookie != 'undefined') {__adroll.set_pixel_cookie(adroll_adv_id, adroll_pix_id, \"2HEQ344DAZHYZIZRSGZSPY\");}\n}());\n"
      },
      "https://secure.quantserve.com/quant.js": {
         "pageUrl": "http://www.hipmunk.com/explore/events",
         "scriptUrl": "https://secure.quantserve.com/quant.js",
         "body": "/* Copyright (c) 2008-2013, Quantcast Corp. */\nif(!__qc){var __qc={qs:'quantserve.com',ql:'quantcount.com',pixelcalls:[],pmto:null,pmc:undefined,qcdst:function(){if(__qc.qctzoff(0)!=__qc.qctzoff(6))return 1;return 0;},qctzoff:function(m){var d1=new Date(2000,m,1,0,0,0,0);var t=d1.toGMTString();var d3=new Date(t.substring(0,t.lastIndexOf(\" \")-1));return d1-d3;},qceuc:function(s){if(typeof(encodeURIComponent)=='function'){return encodeURIComponent(s);}\nelse{return escape(s);}},qcrnd:function(){return Math.round(Math.random()*2147483647);},qcgc:function(n){var v='';var c=document.cookie;if(!c)return v;var i=c.indexOf(n+\"=\");var len=i+n.length+1;if(i>-1){var end=c.indexOf(\";\",len);if(end<0)end=c.length;v=c.substring(len,end);}\nreturn v;},qcdomain:function(){var d=document.domain;if(d.substring(0,4)==\"www.\")d=d.substring(4,d.length);var a=d.split(\".\");var len=a.length;if(len<3)return d;var e=a[len-1];if(e.length<3)return d;d=a[len-2]+\".\"+a[len-1];return d;},qhash2:function(h,s){for(var i=0;i<s.length;i++){h^=s.charCodeAt(i);h+=(h<<1)+(h<<4)+(h<<7)+(h<<8)+(h<<24);}\nreturn h;},qhash:function(s){var h1=0x811c9dc5,h2=0xc9dc5118;var hash1=__qc.qhash2(h1,s);var hash2=__qc.qhash2(h2,s);return(Math.round(Math.abs(hash1*hash2)/65536)).toString(16);},sd:[\"4dcfa7079941\",\"127fdf7967f31\",\"588ab9292a3f\",\"32f92b0727e5\",\"22f9aa38dfd3\",\"a4abfe8f3e04\",\"18b66bc1325c\",\"958e70ea2f28\",\"bdbf0cb4bbb\",\"65118a0d557\",\"40a1d9db1864\",\"18ae3d985046\",\"3b26460f55d\"],qcsc:function(){var s=\"\";var d=__qc.qcdomain();if(__qc.qad==1)return\";fpan=u;fpa=\";var qh=__qc.qhash(d);for(var i=0;i<__qc.sd.length;i++){if(__qc.sd[i]==qh)return\";fpan=u;fpa=\";}\nvar u=document;var a=__qc.qcgc(\"__qca\");if(a.length>0){s+=\";fpan=0;fpa=\"+a;}\nelse{var da=new Date();var db=new Date(da.getTime()+47335389000);a='P0-'+__qc.qcrnd()+'-'+da.getTime();u.cookie=\"__qca=\"+a+\"; expires=\"+db.toGMTString()+\"; path=/; domain=\"+d;a=__qc.qcgc(\"__qca\");if(a.length>0){s+=\";fpan=1;fpa=\"+a;}\nelse{s+=\";fpan=u;fpa=\";}}\nreturn s;},qcdc:function(n){document.cookie=n+\"=; expires=Thu, 01 Jan 1970 00:00:01 GMT; path=/; domain=\"+__qc.qcdomain();},qpxload:function(img){if(img&&typeof(img.width)==\"number\"&&img.width==3){__qc.qcdc(\"__qca\");}},qcdnt:function(){var ipf=false;if(typeof(window.external)!=='undefined'&&window.external!==null){var we=window.external;ipf=(typeof we.InPrivateFilteringEnabled==='function'&&we.InPrivateFilteringEnabled()===true);}\nreturn(ipf||navigator.doNotTrack===\"1\"||navigator.doNotTrack===\"yes\"||navigator.msDoNotTrack===\"1\");},qcp:function(p,myqo){var s='',a=null;uh=null;var media='webpage',event='load';if(myqo!=null){for(var k in myqo){if(typeof(k)!='string'){continue;}\nif(typeof(myqo[k])!='string'){continue;}\nif(k=='uid'||k=='uh'){if(__qc.qcdnt()===false){uh=__qc.qhash(myqo[k]);}\ndelete myqo[k];continue;}\nif(k=='qacct'){a=myqo[k];continue;}\ns+=';'+k+p+'='+__qc.qceuc(myqo[k]);if(k=='media'){media=myqo[k];}\nif(k=='event'){event=myqo[k];}}}\nif(typeof a!=\"string\"){if((typeof _qacct==\"undefined\")||(_qacct.length==0))return'';a=_qacct;}\nif(typeof uh==='string'){myqo['uh']=uh;s+=';uh'+p+'='+__qc.qceuc(uh);}\nif(media=='webpage'&&event=='load'){for(var i=0;i<__qc.qpixelsent.length;i++){if(__qc.qpixelsent[i]==a)return'';}\n__qc.qpixelsent.push(a);}\nif(media=='ad'){__qc.qad=1;}\ns=';a'+p+'='+a+s;return s;},qcesc:function(s){return s.replace(/\\./g,'%2E').replace(/,/g,'%2C');},qcd:function(o){return(typeof(o)!=\"undefined\"&&o!=null);},qcogl:function(){var m=document.getElementsByTagName('meta');var o='';for(var i=0;i<m.length;i++){if(o.length>=1000)return o;if(__qc.qcd(m[i])&&__qc.qcd(m[i].attributes)&&__qc.qcd(m[i].attributes.property)&&__qc.qcd(m[i].attributes.property.value)&&__qc.qcd(m[i].content)){var p=m[i].attributes.property.value;var c=m[i].content;if(p.length>3&&p.substring(0,3)=='og:'){if(o.length>0)o+=',';var l=(c.length>80)?80:c.length;o+=__qc.qcesc(p.substring(3,p.length))+'.'+__qc.qcesc(c.substring(0,l));}}}\nreturn __qc.qceuc(o);},qchcr:function(e){if(e.source!==window.top){return;}\nvar params=null;try{params=(typeof JSON==='object')&&JSON.parse(e.data);}catch(e){}\nif(params&&typeof params.PrivacyManagerAPI==='object'){clearTimeout(__qc.pmto);if(window.removeEventListener){window.removeEventListener('message',__qc.qchcr,false);}\nelse if(window.detachEvent){window.detachEvent('onmessage',__qc.qchcr);}\n__qc.pmc=params.PrivacyManagerAPI;__qc.firepixels();}},qccfp:function(action,type){__qc.pmc=PrivacyManagerAPI.callApi(action,__qc.qs,__qc.qcdomain(),\"truste.com\",type);__qc.firepixels();},qcctp:function(action,type){var params={PrivacyManagerAPI:{timestamp:new Date().getTime(),action:action,self:__qc.qs,domain:__qc.qcdomain(),authority:\"truste.com\",type:type}};if(window.addEventListener){window.addEventListener('message',__qc.qchcr,false);}\nelse if(window.attachEvent){window.attachEvent('onmessage',__qc.qchcr);}\nelse{__qc.pmc=true;__qc.firepixels();return;}\ntry{window.top.postMessage(JSON.stringify(params),\"*\");}\ncatch(e){}\n__qc.pmto=setTimeout(function(){if(__qc.pmc===undefined){__qc.pmc=true;__qc.firepixels();}},25);},qc_consent:function(action,type){if(__qc.pmc===undefined){if(window.top===window.self){if(typeof PrivacyManagerAPI==='object'&&typeof PrivacyManagerAPI.callApi==='function'){__qc.qccfp(action,type);return;}}\nelse if(!!window.postMessage&&typeof JSON==='object'){__qc.qcctp(action,type);return;}\n__qc.pmc=true;}\n__qc.firepixels();},qctv:function(cm_consent){var cmv='';if(typeof cm_consent==='object'){cmv='p';cmv+=cm_consent.consent==='approved'?'a':'d';cmv+=cm_consent.source==='asserted'?'e':'i';}\nreturn cmv;},qcenqp:function(qoptions){var e=(typeof(encodeURIComponent)=='function')?\"n\":\"s\";var r=__qc.qcrnd();var sr='',qo='',qm='',url='',ref='',je='u',ns='1';var qocount=0;__qc.qad=0;if(typeof __qc.qpixelsent==\"undefined\"){__qc.qpixelsent=new Array();}\nif(typeof qoptions!=\"undefined\"&&qoptions!=null){__qc.qopts=qoptions;for(var k in __qc.qopts){if(typeof(__qc.qopts[k])=='string'){qo=__qc.qcp(\"\",__qc.qopts);break;}else if(typeof(__qc.qopts[k])=='object'&&__qc.qopts[k]!=null){++qocount;qo+=__qc.qcp(\".\"+qocount,__qc.qopts[k]);}}}else if(typeof _qacct==\"string\"){qo=__qc.qcp(\"\",null);}\nif(qo.length==0)return;var ce=(navigator.cookieEnabled)?\"1\":\"0\";if(typeof navigator.javaEnabled!='undefined')je=(navigator.javaEnabled())?\"1\":\"0\";if(typeof _qmeta!=\"undefined\"&&_qmeta!=null){qm=';m='+__qc.qceuc(_qmeta);_qmeta=null;}\nif(self.screen){sr=screen.width+\"x\"+screen.height+\"x\"+screen.colorDepth;}\nvar d=new Date();var dst=__qc.qcdst();var fp=__qc.qcsc();if(window.location&&window.location.href)url=__qc.qceuc(window.location.href);if(window.document&&window.document.referrer)ref=__qc.qceuc(window.document.referrer);if(self==top)ns='0';var ogl=__qc.qcogl();var p1='/pixel;r='+r+qo+fp+';ns='+ns+';ce='+ce;var p2=';je='+je+';sr='+sr+';enc='+e+';dst='+dst+';et='+d.getTime()+';tzo='+d.getTimezoneOffset()+qm+';ref='+ref+';url='+url+';ogl='+ogl;__qc.pixelcalls.push({p1:p1,p2:p2});__qc.firepixels();},fire:function(o){var src='http';if(window.location.protocol=='https:'){src+='s';}\nsrc+='://pixel.';src+=(__qc.pmc===true||__qc.pmc.consent==='approved')?__qc.qs:__qc.ql;src+=o.p1;src+=';cm='+__qc.qctv(__qc.pmc);src+=o.p2;var img=new Image();img.alt='';img.src=src;img.onload=function(){__qc.qpxload(img);};},firepixels:function(){if(__qc.pmc){while(__qc.pixelcalls.length){__qc.fire(__qc.pixelcalls.shift());}}else{__qc.qc_consent('getConsent','advertising');}},quantserve:function(){if(typeof _qevents=='undefined'){_qevents=[];}\nif(typeof _qoptions!=\"undefined\"&&_qoptions!=null){__qc.qcenqp(_qoptions);_qoptions=null;}else if(!_qevents.length&&typeof _qacct!=\"undefined\"){__qc.qcenqp(null);}\nif(!__qc.evts){for(var k in _qevents){__qc.qcenqp(_qevents[k]);}\n_qevents={push:function(){var a=arguments;for(var i=0;i<a.length;i++){__qc.qcenqp(a[i]);}}};__qc.evts=1;}}};}\nfunction quantserve(){__qc.quantserve();}\nquantserve();\n"
      },
      "https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js": {
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js",
         "body": "/*! jQuery v1.7.1 jquery.com | jquery.org/license */\n(function(a,b){function cy(a){return f.isWindow(a)?a:a.nodeType===9?a.defaultView||a.parentWindow:!1}function cv(a){if(!ck[a]){var b=c.body,d=f(\"<\"+a+\">\").appendTo(b),e=d.css(\"display\");d.remove();if(e===\"none\"||e===\"\"){cl||(cl=c.createElement(\"iframe\"),cl.frameBorder=cl.width=cl.height=0),b.appendChild(cl);if(!cm||!cl.createElement)cm=(cl.contentWindow||cl.contentDocument).document,cm.write((c.compatMode===\"CSS1Compat\"?\"<!doctype html>\":\"\")+\"<html><body>\"),cm.close();d=cm.createElement(a),cm.body.appendChild(d),e=f.css(d,\"display\"),b.removeChild(cl)}ck[a]=e}return ck[a]}function cu(a,b){var c={};f.each(cq.concat.apply([],cq.slice(0,b)),function(){c[this]=a});return c}function ct(){cr=b}function cs(){setTimeout(ct,0);return cr=f.now()}function cj(){try{return new a.ActiveXObject(\"Microsoft.XMLHTTP\")}catch(b){}}function ci(){try{return new a.XMLHttpRequest}catch(b){}}function cc(a,c){a.dataFilter&&(c=a.dataFilter(c,a.dataType));var d=a.dataTypes,e={},g,h,i=d.length,j,k=d[0],l,m,n,o,p;for(g=1;g<i;g++){if(g===1)for(h in a.converters)typeof h==\"string\"&&(e[h.toLowerCase()]=a.converters[h]);l=k,k=d[g];if(k===\"*\")k=l;else if(l!==\"*\"&&l!==k){m=l+\" \"+k,n=e[m]||e[\"* \"+k];if(!n){p=b;for(o in e){j=o.split(\" \");if(j[0]===l||j[0]===\"*\"){p=e[j[1]+\" \"+k];if(p){o=e[o],o===!0?n=p:p===!0&&(n=o);break}}}}!n&&!p&&f.error(\"No conversion from \"+m.replace(\" \",\" to \")),n!==!0&&(c=n?n(c):p(o(c)))}}return c}function cb(a,c,d){var e=a.contents,f=a.dataTypes,g=a.responseFields,h,i,j,k;for(i in g)i in d&&(c[g[i]]=d[i]);while(f[0]===\"*\")f.shift(),h===b&&(h=a.mimeType||c.getResponseHeader(\"content-type\"));if(h)for(i in e)if(e[i]&&e[i].test(h)){f.unshift(i);break}if(f[0]in d)j=f[0];else{for(i in d){if(!f[0]||a.converters[i+\" \"+f[0]]){j=i;break}k||(k=i)}j=j||k}if(j){j!==f[0]&&f.unshift(j);return d[j]}}function ca(a,b,c,d){if(f.isArray(b))f.each(b,function(b,e){c||bE.test(a)?d(a,e):ca(a+\"[\"+(typeof e==\"object\"||f.isArray(e)?b:\"\")+\"]\",e,c,d)});else if(!c&&b!=null&&typeof b==\"object\")for(var e in b)ca(a+\"[\"+e+\"]\",b[e],c,d);else d(a,b)}function b_(a,c){var d,e,g=f.ajaxSettings.flatOptions||{};for(d in c)c[d]!==b&&((g[d]?a:e||(e={}))[d]=c[d]);e&&f.extend(!0,a,e)}function b$(a,c,d,e,f,g){f=f||c.dataTypes[0],g=g||{},g[f]=!0;var h=a[f],i=0,j=h?h.length:0,k=a===bT,l;for(;i<j&&(k||!l);i++)l=h[i](c,d,e),typeof l==\"string\"&&(!k||g[l]?l=b:(c.dataTypes.unshift(l),l=b$(a,c,d,e,l,g)));(k||!l)&&!g[\"*\"]&&(l=b$(a,c,d,e,\"*\",g));return l}function bZ(a){return function(b,c){typeof b!=\"string\"&&(c=b,b=\"*\");if(f.isFunction(c)){var d=b.toLowerCase().split(bP),e=0,g=d.length,h,i,j;for(;e<g;e++)h=d[e],j=/^\\+/.test(h),j&&(h=h.substr(1)||\"*\"),i=a[h]=a[h]||[],i[j?\"unshift\":\"push\"](c)}}}function bC(a,b,c){var d=b===\"width\"?a.offsetWidth:a.offsetHeight,e=b===\"width\"?bx:by,g=0,h=e.length;if(d>0){if(c!==\"border\")for(;g<h;g++)c||(d-=parseFloat(f.css(a,\"padding\"+e[g]))||0),c===\"margin\"?d+=parseFloat(f.css(a,c+e[g]))||0:d-=parseFloat(f.css(a,\"border\"+e[g]+\"Width\"))||0;return d+\"px\"}d=bz(a,b,b);if(d<0||d==null)d=a.style[b]||0;d=parseFloat(d)||0;if(c)for(;g<h;g++)d+=parseFloat(f.css(a,\"padding\"+e[g]))||0,c!==\"padding\"&&(d+=parseFloat(f.css(a,\"border\"+e[g]+\"Width\"))||0),c===\"margin\"&&(d+=parseFloat(f.css(a,c+e[g]))||0);return d+\"px\"}function bp(a,b){b.src?f.ajax({url:b.src,async:!1,dataType:\"script\"}):f.globalEval((b.text||b.textContent||b.innerHTML||\"\").replace(bf,\"/*$0*/\")),b.parentNode&&b.parentNode.removeChild(b)}function bo(a){var b=c.createElement(\"div\");bh.appendChild(b),b.innerHTML=a.outerHTML;return b.firstChild}function bn(a){var b=(a.nodeName||\"\").toLowerCase();b===\"input\"?bm(a):b!==\"script\"&&typeof a.getElementsByTagName!=\"undefined\"&&f.grep(a.getElementsByTagName(\"input\"),bm)}function bm(a){if(a.type===\"checkbox\"||a.type===\"radio\")a.defaultChecked=a.checked}function bl(a){return typeof a.getElementsByTagName!=\"undefined\"?a.getElementsByTagName(\"*\"):typeof a.querySelectorAll!=\"undefined\"?a.querySelectorAll(\"*\"):[]}function bk(a,b){var c;if(b.nodeType===1){b.clearAttributes&&b.clearAttributes(),b.mergeAttributes&&b.mergeAttributes(a),c=b.nodeName.toLowerCase();if(c===\"object\")b.outerHTML=a.outerHTML;else if(c!==\"input\"||a.type!==\"checkbox\"&&a.type!==\"radio\"){if(c===\"option\")b.selected=a.defaultSelected;else if(c===\"input\"||c===\"textarea\")b.defaultValue=a.defaultValue}else a.checked&&(b.defaultChecked=b.checked=a.checked),b.value!==a.value&&(b.value=a.value);b.removeAttribute(f.expando)}}function bj(a,b){if(b.nodeType===1&&!!f.hasData(a)){var c,d,e,g=f._data(a),h=f._data(b,g),i=g.events;if(i){delete h.handle,h.events={};for(c in i)for(d=0,e=i[c].length;d<e;d++)f.event.add(b,c+(i[c][d].namespace?\".\":\"\")+i[c][d].namespace,i[c][d],i[c][d].data)}h.data&&(h.data=f.extend({},h.data))}}function bi(a,b){return f.nodeName(a,\"table\")?a.getElementsByTagName(\"tbody\")[0]||a.appendChild(a.ownerDocument.createElement(\"tbody\")):a}function U(a){var b=V.split(\"|\"),c=a.createDocumentFragment();if(c.createElement)while(b.length)c.createElement(b.pop());return c}function T(a,b,c){b=b||0;if(f.isFunction(b))return f.grep(a,function(a,d){var e=!!b.call(a,d,a);return e===c});if(b.nodeType)return f.grep(a,function(a,d){return a===b===c});if(typeof b==\"string\"){var d=f.grep(a,function(a){return a.nodeType===1});if(O.test(b))return f.filter(b,d,!c);b=f.filter(b,d)}return f.grep(a,function(a,d){return f.inArray(a,b)>=0===c})}function S(a){return!a||!a.parentNode||a.parentNode.nodeType===11}function K(){return!0}function J(){return!1}function n(a,b,c){var d=b+\"defer\",e=b+\"queue\",g=b+\"mark\",h=f._data(a,d);h&&(c===\"queue\"||!f._data(a,e))&&(c===\"mark\"||!f._data(a,g))&&setTimeout(function(){!f._data(a,e)&&!f._data(a,g)&&(f.removeData(a,d,!0),h.fire())},0)}function m(a){for(var b in a){if(b===\"data\"&&f.isEmptyObject(a[b]))continue;if(b!==\"toJSON\")return!1}return!0}function l(a,c,d){if(d===b&&a.nodeType===1){var e=\"data-\"+c.replace(k,\"-$1\").toLowerCase();d=a.getAttribute(e);if(typeof d==\"string\"){try{d=d===\"true\"?!0:d===\"false\"?!1:d===\"null\"?null:f.isNumeric(d)?parseFloat(d):j.test(d)?f.parseJSON(d):d}catch(g){}f.data(a,c,d)}else d=b}return d}function h(a){var b=g[a]={},c,d;a=a.split(/\\s+/);for(c=0,d=a.length;c<d;c++)b[a[c]]=!0;return b}var c=a.document,d=a.navigator,e=a.location,f=function(){function J(){if(!e.isReady){try{c.documentElement.doScroll(\"left\")}catch(a){setTimeout(J,1);return}e.ready()}}var e=function(a,b){return new e.fn.init(a,b,h)},f=a.jQuery,g=a.$,h,i=/^(?:[^#<]*(<[\\w\\W]+>)[^>]*$|#([\\w\\-]*)$)/,j=/\\S/,k=/^\\s+/,l=/\\s+$/,m=/^<(\\w+)\\s*\\/?>(?:<\\/\\1>)?$/,n=/^[\\],:{}\\s]*$/,o=/\\\\(?:[\"\\\\\\/bfnrt]|u[0-9a-fA-F]{4})/g,p=/\"[^\"\\\\\\n\\r]*\"|true|false|null|-?\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d+)?/g,q=/(?:^|:|,)(?:\\s*\\[)+/g,r=/(webkit)[ \\/]([\\w.]+)/,s=/(opera)(?:.*version)?[ \\/]([\\w.]+)/,t=/(msie) ([\\w.]+)/,u=/(mozilla)(?:.*? rv:([\\w.]+))?/,v=/-([a-z]|[0-9])/ig,w=/^-ms-/,x=function(a,b){return(b+\"\").toUpperCase()},y=d.userAgent,z,A,B,C=Object.prototype.toString,D=Object.prototype.hasOwnProperty,E=Array.prototype.push,F=Array.prototype.slice,G=String.prototype.trim,H=Array.prototype.indexOf,I={};e.fn=e.prototype={constructor:e,init:function(a,d,f){var g,h,j,k;if(!a)return this;if(a.nodeType){this.context=this[0]=a,this.length=1;return this}if(a===\"body\"&&!d&&c.body){this.context=c,this[0]=c.body,this.selector=a,this.length=1;return this}if(typeof a==\"string\"){a.charAt(0)!==\"<\"||a.charAt(a.length-1)!==\">\"||a.length<3?g=i.exec(a):g=[null,a,null];if(g&&(g[1]||!d)){if(g[1]){d=d instanceof e?d[0]:d,k=d?d.ownerDocument||d:c,j=m.exec(a),j?e.isPlainObject(d)?(a=[c.createElement(j[1])],e.fn.attr.call(a,d,!0)):a=[k.createElement(j[1])]:(j=e.buildFragment([g[1]],[k]),a=(j.cacheable?e.clone(j.fragment):j.fragment).childNodes);return e.merge(this,a)}h=c.getElementById(g[2]);if(h&&h.parentNode){if(h.id!==g[2])return f.find(a);this.length=1,this[0]=h}this.context=c,this.selector=a;return this}return!d||d.jquery?(d||f).find(a):this.constructor(d).find(a)}if(e.isFunction(a))return f.ready(a);a.selector!==b&&(this.selector=a.selector,this.context=a.context);return e.makeArray(a,this)},selector:\"\",jquery:\"1.7.1\",length:0,size:function(){return this.length},toArray:function(){return F.call(this,0)},get:function(a){return a==null?this.toArray():a<0?this[this.length+a]:this[a]},pushStack:function(a,b,c){var d=this.constructor();e.isArray(a)?E.apply(d,a):e.merge(d,a),d.prevObject=this,d.context=this.context,b===\"find\"?d.selector=this.selector+(this.selector?\" \":\"\")+c:b&&(d.selector=this.selector+\".\"+b+\"(\"+c+\")\");return d},each:function(a,b){return e.each(this,a,b)},ready:function(a){e.bindReady(),A.add(a);return this},eq:function(a){a=+a;return a===-1?this.slice(a):this.slice(a,a+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack(F.apply(this,arguments),\"slice\",F.call(arguments).join(\",\"))},map:function(a){return this.pushStack(e.map(this,function(b,c){return a.call(b,c,b)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},e.fn.init.prototype=e.fn,e.extend=e.fn.extend=function(){var a,c,d,f,g,h,i=arguments[0]||{},j=1,k=arguments.length,l=!1;typeof i==\"boolean\"&&(l=i,i=arguments[1]||{},j=2),typeof i!=\"object\"&&!e.isFunction(i)&&(i={}),k===j&&(i=this,--j);for(;j<k;j++)if((a=arguments[j])!=null)for(c in a){d=i[c],f=a[c];if(i===f)continue;l&&f&&(e.isPlainObject(f)||(g=e.isArray(f)))?(g?(g=!1,h=d&&e.isArray(d)?d:[]):h=d&&e.isPlainObject(d)?d:{},i[c]=e.extend(l,h,f)):f!==b&&(i[c]=f)}return i},e.extend({noConflict:function(b){a.$===e&&(a.$=g),b&&a.jQuery===e&&(a.jQuery=f);return e},isReady:!1,readyWait:1,holdReady:function(a){a?e.readyWait++:e.ready(!0)},ready:function(a){if(a===!0&&!--e.readyWait||a!==!0&&!e.isReady){if(!c.body)return setTimeout(e.ready,1);e.isReady=!0;if(a!==!0&&--e.readyWait>0)return;A.fireWith(c,[e]),e.fn.trigger&&e(c).trigger(\"ready\").off(\"ready\")}},bindReady:function(){if(!A){A=e.Callbacks(\"once memory\");if(c.readyState===\"complete\")return setTimeout(e.ready,1);if(c.addEventListener)c.addEventListener(\"DOMContentLoaded\",B,!1),a.addEventListener(\"load\",e.ready,!1);else if(c.attachEvent){c.attachEvent(\"onreadystatechange\",B),a.attachEvent(\"onload\",e.ready);var b=!1;try{b=a.frameElement==null}catch(d){}c.documentElement.doScroll&&b&&J()}}},isFunction:function(a){return e.type(a)===\"function\"},isArray:Array.isArray||function(a){return e.type(a)===\"array\"},isWindow:function(a){return a&&typeof a==\"object\"&&\"setInterval\"in a},isNumeric:function(a){return!isNaN(parseFloat(a))&&isFinite(a)},type:function(a){return a==null?String(a):I[C.call(a)]||\"object\"},isPlainObject:function(a){if(!a||e.type(a)!==\"object\"||a.nodeType||e.isWindow(a))return!1;try{if(a.constructor&&!D.call(a,\"constructor\")&&!D.call(a.constructor.prototype,\"isPrototypeOf\"))return!1}catch(c){return!1}var d;for(d in a);return d===b||D.call(a,d)},isEmptyObject:function(a){for(var b in a)return!1;return!0},error:function(a){throw new Error(a)},parseJSON:function(b){if(typeof b!=\"string\"||!b)return null;b=e.trim(b);if(a.JSON&&a.JSON.parse)return a.JSON.parse(b);if(n.test(b.replace(o,\"@\").replace(p,\"]\").replace(q,\"\")))return(new Function(\"return \"+b))();e.error(\"Invalid JSON: \"+b)},parseXML:function(c){var d,f;try{a.DOMParser?(f=new DOMParser,d=f.parseFromString(c,\"text/xml\")):(d=new ActiveXObject(\"Microsoft.XMLDOM\"),d.async=\"false\",d.loadXML(c))}catch(g){d=b}(!d||!d.documentElement||d.getElementsByTagName(\"parsererror\").length)&&e.error(\"Invalid XML: \"+c);return d},noop:function(){},globalEval:function(b){b&&j.test(b)&&(a.execScript||function(b){a.eval.call(a,b)})(b)},camelCase:function(a){return a.replace(w,\"ms-\").replace(v,x)},nodeName:function(a,b){return a.nodeName&&a.nodeName.toUpperCase()===b.toUpperCase()},each:function(a,c,d){var f,g=0,h=a.length,i=h===b||e.isFunction(a);if(d){if(i){for(f in a)if(c.apply(a[f],d)===!1)break}else for(;g<h;)if(c.apply(a[g++],d)===!1)break}else if(i){for(f in a)if(c.call(a[f],f,a[f])===!1)break}else for(;g<h;)if(c.call(a[g],g,a[g++])===!1)break;return a},trim:G?function(a){return a==null?\"\":G.call(a)}:function(a){return a==null?\"\":(a+\"\").replace(k,\"\").replace(l,\"\")},makeArray:function(a,b){var c=b||[];if(a!=null){var d=e.type(a);a.length==null||d===\"string\"||d===\"function\"||d===\"regexp\"||e.isWindow(a)?E.call(c,a):e.merge(c,a)}return c},inArray:function(a,b,c){var d;if(b){if(H)return H.call(b,a,c);d=b.length,c=c?c<0?Math.max(0,d+c):c:0;for(;c<d;c++)if(c in b&&b[c]===a)return c}return-1},merge:function(a,c){var d=a.length,e=0;if(typeof c.length==\"number\")for(var f=c.length;e<f;e++)a[d++]=c[e];else while(c[e]!==b)a[d++]=c[e++];a.length=d;return a},grep:function(a,b,c){var d=[],e;c=!!c;for(var f=0,g=a.length;f<g;f++)e=!!b(a[f],f),c!==e&&d.push(a[f]);return d},map:function(a,c,d){var f,g,h=[],i=0,j=a.length,k=a instanceof e||j!==b&&typeof j==\"number\"&&(j>0&&a[0]&&a[j-1]||j===0||e.isArray(a));if(k)for(;i<j;i++)f=c(a[i],i,d),f!=null&&(h[h.length]=f);else for(g in a)f=c(a[g],g,d),f!=null&&(h[h.length]=f);return h.concat.apply([],h)},guid:1,proxy:function(a,c){if(typeof c==\"string\"){var d=a[c];c=a,a=d}if(!e.isFunction(a))return b;var f=F.call(arguments,2),g=function(){return a.apply(c,f.concat(F.call(arguments)))};g.guid=a.guid=a.guid||g.guid||e.guid++;return g},access:function(a,c,d,f,g,h){var i=a.length;if(typeof c==\"object\"){for(var j in c)e.access(a,j,c[j],f,g,d);return a}if(d!==b){f=!h&&f&&e.isFunction(d);for(var k=0;k<i;k++)g(a[k],c,f?d.call(a[k],k,g(a[k],c)):d,h);return a}return i?g(a[0],c):b},now:function(){return(new Date).getTime()},uaMatch:function(a){a=a.toLowerCase();var b=r.exec(a)||s.exec(a)||t.exec(a)||a.indexOf(\"compatible\")<0&&u.exec(a)||[];return{browser:b[1]||\"\",version:b[2]||\"0\"}},sub:function(){function a(b,c){return new a.fn.init(b,c)}e.extend(!0,a,this),a.superclass=this,a.fn=a.prototype=this(),a.fn.constructor=a,a.sub=this.sub,a.fn.init=function(d,f){f&&f instanceof e&&!(f instanceof a)&&(f=a(f));return e.fn.init.call(this,d,f,b)},a.fn.init.prototype=a.fn;var b=a(c);return a},browser:{}}),e.each(\"Boolean Number String Function Array Date RegExp Object\".split(\" \"),function(a,b){I[\"[object \"+b+\"]\"]=b.toLowerCase()}),z=e.uaMatch(y),z.browser&&(e.browser[z.browser]=!0,e.browser.version=z.version),e.browser.webkit&&(e.browser.safari=!0),j.test(\"\")&&(k=/^[\\s\\xA0]+/,l=/[\\s\\xA0]+$/),h=e(c),c.addEventListener?B=function(){c.removeEventListener(\"DOMContentLoaded\",B,!1),e.ready()}:c.attachEvent&&(B=function(){c.readyState===\"complete\"&&(c.detachEvent(\"onreadystatechange\",B),e.ready())});return e}(),g={};f.Callbacks=function(a){a=a?g[a]||h(a):{};var c=[],d=[],e,i,j,k,l,m=function(b){var d,e,g,h,i;for(d=0,e=b.length;d<e;d++)g=b[d],h=f.type(g),h===\"array\"?m(g):h===\"function\"&&(!a.unique||!o.has(g))&&c.push(g)},n=function(b,f){f=f||[],e=!a.memory||[b,f],i=!0,l=j||0,j=0,k=c.length;for(;c&&l<k;l++)if(c[l].apply(b,f)===!1&&a.stopOnFalse){e=!0;break}i=!1,c&&(a.once?e===!0?o.disable():c=[]:d&&d.length&&(e=d.shift(),o.fireWith(e[0],e[1])))},o={add:function(){if(c){var a=c.length;m(arguments),i?k=c.length:e&&e!==!0&&(j=a,n(e[0],e[1]))}return this},remove:function(){if(c){var b=arguments,d=0,e=b.length;for(;d<e;d++)for(var f=0;f<c.length;f++)if(b[d]===c[f]){i&&f<=k&&(k--,f<=l&&l--),c.splice(f--,1);if(a.unique)break}}return this},has:function(a){if(c){var b=0,d=c.length;for(;b<d;b++)if(a===c[b])return!0}return!1},empty:function(){c=[];return this},disable:function(){c=d=e=b;return this},disabled:function(){return!c},lock:function(){d=b,(!e||e===!0)&&o.disable();return this},locked:function(){return!d},fireWith:function(b,c){d&&(i?a.once||d.push([b,c]):(!a.once||!e)&&n(b,c));return this},fire:function(){o.fireWith(this,arguments);return this},fired:function(){return!!e}};return o};var i=[].slice;f.extend({Deferred:function(a){var b=f.Callbacks(\"once memory\"),c=f.Callbacks(\"once memory\"),d=f.Callbacks(\"memory\"),e=\"pending\",g={resolve:b,reject:c,notify:d},h={done:b.add,fail:c.add,progress:d.add,state:function(){return e},isResolved:b.fired,isRejected:c.fired,then:function(a,b,c){i.done(a).fail(b).progress(c);return this},always:function(){i.done.apply(i,arguments).fail.apply(i,arguments);return this},pipe:function(a,b,c){return f.Deferred(function(d){f.each({done:[a,\"resolve\"],fail:[b,\"reject\"],progress:[c,\"notify\"]},function(a,b){var c=b[0],e=b[1],g;f.isFunction(c)?i[a](function(){g=c.apply(this,arguments),g&&f.isFunction(g.promise)?g.promise().then(d.resolve,d.reject,d.notify):d[e+\"With\"](this===i?d:this,[g])}):i[a](d[e])})}).promise()},promise:function(a){if(a==null)a=h;else for(var b in h)a[b]=h[b];return a}},i=h.promise({}),j;for(j in g)i[j]=g[j].fire,i[j+\"With\"]=g[j].fireWith;i.done(function(){e=\"resolved\"},c.disable,d.lock).fail(function(){e=\"rejected\"},b.disable,d.lock),a&&a.call(i,i);return i},when:function(a){function m(a){return function(b){e[a]=arguments.length>1?i.call(arguments,0):b,j.notifyWith(k,e)}}function l(a){return function(c){b[a]=arguments.length>1?i.call(arguments,0):c,--g||j.resolveWith(j,b)}}var b=i.call(arguments,0),c=0,d=b.length,e=Array(d),g=d,h=d,j=d<=1&&a&&f.isFunction(a.promise)?a:f.Deferred(),k=j.promise();if(d>1){for(;c<d;c++)b[c]&&b[c].promise&&f.isFunction(b[c].promise)?b[c].promise().then(l(c),j.reject,m(c)):--g;g||j.resolveWith(j,b)}else j!==a&&j.resolveWith(j,d?[a]:[]);return k}}),f.support=function(){var b,d,e,g,h,i,j,k,l,m,n,o,p,q=c.createElement(\"div\"),r=c.documentElement;q.setAttribute(\"className\",\"t\"),q.innerHTML=\"   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>\",d=q.getElementsByTagName(\"*\"),e=q.getElementsByTagName(\"a\")[0];if(!d||!d.length||!e)return{};g=c.createElement(\"select\"),h=g.appendChild(c.createElement(\"option\")),i=q.getElementsByTagName(\"input\")[0],b={leadingWhitespace:q.firstChild.nodeType===3,tbody:!q.getElementsByTagName(\"tbody\").length,htmlSerialize:!!q.getElementsByTagName(\"link\").length,style:/top/.test(e.getAttribute(\"style\")),hrefNormalized:e.getAttribute(\"href\")===\"/a\",opacity:/^0.55/.test(e.style.opacity),cssFloat:!!e.style.cssFloat,checkOn:i.value===\"on\",optSelected:h.selected,getSetAttribute:q.className!==\"t\",enctype:!!c.createElement(\"form\").enctype,html5Clone:c.createElement(\"nav\").cloneNode(!0).outerHTML!==\"<:nav></:nav>\",submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0},i.checked=!0,b.noCloneChecked=i.cloneNode(!0).checked,g.disabled=!0,b.optDisabled=!h.disabled;try{delete q.test}catch(s){b.deleteExpando=!1}!q.addEventListener&&q.attachEvent&&q.fireEvent&&(q.attachEvent(\"onclick\",function(){b.noCloneEvent=!1}),q.cloneNode(!0).fireEvent(\"onclick\")),i=c.createElement(\"input\"),i.value=\"t\",i.setAttribute(\"type\",\"radio\"),b.radioValue=i.value===\"t\",i.setAttribute(\"checked\",\"checked\"),q.appendChild(i),k=c.createDocumentFragment(),k.appendChild(q.lastChild),b.checkClone=k.cloneNode(!0).cloneNode(!0).lastChild.checked,b.appendChecked=i.checked,k.removeChild(i),k.appendChild(q),q.innerHTML=\"\",a.getComputedStyle&&(j=c.createElement(\"div\"),j.style.width=\"0\",j.style.marginRight=\"0\",q.style.width=\"2px\",q.appendChild(j),b.reliableMarginRight=(parseInt((a.getComputedStyle(j,null)||{marginRight:0}).marginRight,10)||0)===0);if(q.attachEvent)for(o in{submit:1,change:1,focusin:1})n=\"on\"+o,p=n in q,p||(q.setAttribute(n,\"return;\"),p=typeof q[n]==\"function\"),b[o+\"Bubbles\"]=p;k.removeChild(q),k=g=h=j=q=i=null,f(function(){var a,d,e,g,h,i,j,k,m,n,o,r=c.getElementsByTagName(\"body\")[0];!r||(j=1,k=\"position:absolute;top:0;left:0;width:1px;height:1px;margin:0;\",m=\"visibility:hidden;border:0;\",n=\"style='\"+k+\"border:5px solid #000;padding:0;'\",o=\"<div \"+n+\"><div></div></div>\"+\"<table \"+n+\" cellpadding='0' cellspacing='0'>\"+\"<tr><td></td></tr></table>\",a=c.createElement(\"div\"),a.style.cssText=m+\"width:0;height:0;position:static;top:0;margin-top:\"+j+\"px\",r.insertBefore(a,r.firstChild),q=c.createElement(\"div\"),a.appendChild(q),q.innerHTML=\"<table><tr><td style='padding:0;border:0;display:none'></td><td>t</td></tr></table>\",l=q.getElementsByTagName(\"td\"),p=l[0].offsetHeight===0,l[0].style.display=\"\",l[1].style.display=\"none\",b.reliableHiddenOffsets=p&&l[0].offsetHeight===0,q.innerHTML=\"\",q.style.width=q.style.paddingLeft=\"1px\",f.boxModel=b.boxModel=q.offsetWidth===2,typeof q.style.zoom!=\"undefined\"&&(q.style.display=\"inline\",q.style.zoom=1,b.inlineBlockNeedsLayout=q.offsetWidth===2,q.style.display=\"\",q.innerHTML=\"<div style='width:4px;'></div>\",b.shrinkWrapBlocks=q.offsetWidth!==2),q.style.cssText=k+m,q.innerHTML=o,d=q.firstChild,e=d.firstChild,h=d.nextSibling.firstChild.firstChild,i={doesNotAddBorder:e.offsetTop!==5,doesAddBorderForTableAndCells:h.offsetTop===5},e.style.position=\"fixed\",e.style.top=\"20px\",i.fixedPosition=e.offsetTop===20||e.offsetTop===15,e.style.position=e.style.top=\"\",d.style.overflow=\"hidden\",d.style.position=\"relative\",i.subtractsBorderForOverflowNotVisible=e.offsetTop===-5,i.doesNotIncludeMarginInBodyOffset=r.offsetTop!==j,r.removeChild(a),q=a=null,f.extend(b,i))});return b}();var j=/^(?:\\{.*\\}|\\[.*\\])$/,k=/([A-Z])/g;f.extend({cache:{},uuid:0,expando:\"jQuery\"+(f.fn.jquery+Math.random()).replace(/\\D/g,\"\"),noData:{embed:!0,object:\"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000\",applet:!0},hasData:function(a){a=a.nodeType?f.cache[a[f.expando]]:a[f.expando];return!!a&&!m(a)},data:function(a,c,d,e){if(!!f.acceptData(a)){var g,h,i,j=f.expando,k=typeof c==\"string\",l=a.nodeType,m=l?f.cache:a,n=l?a[j]:a[j]&&j,o=c===\"events\";if((!n||!m[n]||!o&&!e&&!m[n].data)&&k&&d===b)return;n||(l?a[j]=n=++f.uuid:n=j),m[n]||(m[n]={},l||(m[n].toJSON=f.noop));if(typeof c==\"object\"||typeof c==\"function\")e?m[n]=f.extend(m[n],c):m[n].data=f.extend(m[n].data,c);g=h=m[n],e||(h.data||(h.data={}),h=h.data),d!==b&&(h[f.camelCase(c)]=d);if(o&&!h[c])return g.events;k?(i=h[c],i==null&&(i=h[f.camelCase(c)])):i=h;return i}},removeData:function(a,b,c){if(!!f.acceptData(a)){var d,e,g,h=f.expando,i=a.nodeType,j=i?f.cache:a,k=i?a[h]:h;if(!j[k])return;if(b){d=c?j[k]:j[k].data;if(d){f.isArray(b)||(b in d?b=[b]:(b=f.camelCase(b),b in d?b=[b]:b=b.split(\" \")));for(e=0,g=b.length;e<g;e++)delete d[b[e]];if(!(c?m:f.isEmptyObject)(d))return}}if(!c){delete j[k].data;if(!m(j[k]))return}f.support.deleteExpando||!j.setInterval?delete j[k]:j[k]=null,i&&(f.support.deleteExpando?delete a[h]:a.removeAttribute?a.removeAttribute(h):a[h]=null)}},_data:function(a,b,c){return f.data(a,b,c,!0)},acceptData:function(a){if(a.nodeName){var b=f.noData[a.nodeName.toLowerCase()];if(b)return b!==!0&&a.getAttribute(\"classid\")===b}return!0}}),f.fn.extend({data:function(a,c){var d,e,g,h=null;if(typeof a==\"undefined\"){if(this.length){h=f.data(this[0]);if(this[0].nodeType===1&&!f._data(this[0],\"parsedAttrs\")){e=this[0].attributes;for(var i=0,j=e.length;i<j;i++)g=e[i].name,g.indexOf(\"data-\")===0&&(g=f.camelCase(g.substring(5)),l(this[0],g,h[g]));f._data(this[0],\"parsedAttrs\",!0)}}return h}if(typeof a==\"object\")return this.each(function(){f.data(this,a)});d=a.split(\".\"),d[1]=d[1]?\".\"+d[1]:\"\";if(c===b){h=this.triggerHandler(\"getData\"+d[1]+\"!\",[d[0]]),h===b&&this.length&&(h=f.data(this[0],a),h=l(this[0],a,h));return h===b&&d[1]?this.data(d[0]):h}return this.each(function(){var b=f(this),e=[d[0],c];b.triggerHandler(\"setData\"+d[1]+\"!\",e),f.data(this,a,c),b.triggerHandler(\"changeData\"+d[1]+\"!\",e)})},removeData:function(a){return this.each(function(){f.removeData(this,a)})}}),f.extend({_mark:function(a,b){a&&(b=(b||\"fx\")+\"mark\",f._data(a,b,(f._data(a,b)||0)+1))},_unmark:function(a,b,c){a!==!0&&(c=b,b=a,a=!1);if(b){c=c||\"fx\";var d=c+\"mark\",e=a?0:(f._data(b,d)||1)-1;e?f._data(b,d,e):(f.removeData(b,d,!0),n(b,c,\"mark\"))}},queue:function(a,b,c){var d;if(a){b=(b||\"fx\")+\"queue\",d=f._data(a,b),c&&(!d||f.isArray(c)?d=f._data(a,b,f.makeArray(c)):d.push(c));return d||[]}},dequeue:function(a,b){b=b||\"fx\";var c=f.queue(a,b),d=c.shift(),e={};d===\"inprogress\"&&(d=c.shift()),d&&(b===\"fx\"&&c.unshift(\"inprogress\"),f._data(a,b+\".run\",e),d.call(a,function(){f.dequeue(a,b)},e)),c.length||(f.removeData(a,b+\"queue \"+b+\".run\",!0),n(a,b,\"queue\"))}}),f.fn.extend({queue:function(a,c){typeof a!=\"string\"&&(c=a,a=\"fx\");if(c===b)return f.queue(this[0],a);return this.each(function(){var b=f.queue(this,a,c);a===\"fx\"&&b[0]!==\"inprogress\"&&f.dequeue(this,a)})},dequeue:function(a){return this.each(function(){f.dequeue(this,a)})},delay:function(a,b){a=f.fx?f.fx.speeds[a]||a:a,b=b||\"fx\";return this.queue(b,function(b,c){var d=setTimeout(b,a);c.stop=function(){clearTimeout(d)}})},clearQueue:function(a){return this.queue(a||\"fx\",[])},promise:function(a,c){function m(){--h||d.resolveWith(e,[e])}typeof a!=\"string\"&&(c=a,a=b),a=a||\"fx\";var d=f.Deferred(),e=this,g=e.length,h=1,i=a+\"defer\",j=a+\"queue\",k=a+\"mark\",l;while(g--)if(l=f.data(e[g],i,b,!0)||(f.data(e[g],j,b,!0)||f.data(e[g],k,b,!0))&&f.data(e[g],i,f.Callbacks(\"once memory\"),!0))h++,l.add(m);m();return d.promise()}});var o=/[\\n\\t\\r]/g,p=/\\s+/,q=/\\r/g,r=/^(?:button|input)$/i,s=/^(?:button|input|object|select|textarea)$/i,t=/^a(?:rea)?$/i,u=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,v=f.support.getSetAttribute,w,x,y;f.fn.extend({attr:function(a,b){return f.access(this,a,b,!0,f.attr)},removeAttr:function(a){return this.each(function(){f.removeAttr(this,a)})},prop:function(a,b){return f.access(this,a,b,!0,f.prop)},removeProp:function(a){a=f.propFix[a]||a;return this.each(function(){try{this[a]=b,delete this[a]}catch(c){}})},addClass:function(a){var b,c,d,e,g,h,i;if(f.isFunction(a))return this.each(function(b){f(this).addClass(a.call(this,b,this.className))});if(a&&typeof a==\"string\"){b=a.split(p);for(c=0,d=this.length;c<d;c++){e=this[c];if(e.nodeType===1)if(!e.className&&b.length===1)e.className=a;else{g=\" \"+e.className+\" \";for(h=0,i=b.length;h<i;h++)~g.indexOf(\" \"+b[h]+\" \")||(g+=b[h]+\" \");e.className=f.trim(g)}}}return this},removeClass:function(a){var c,d,e,g,h,i,j;if(f.isFunction(a))return this.each(function(b){f(this).removeClass(a.call(this,b,this.className))});if(a&&typeof a==\"string\"||a===b){c=(a||\"\").split(p);for(d=0,e=this.length;d<e;d++){g=this[d];if(g.nodeType===1&&g.className)if(a){h=(\" \"+g.className+\" \").replace(o,\" \");for(i=0,j=c.length;i<j;i++)h=h.replace(\" \"+c[i]+\" \",\" \");g.className=f.trim(h)}else g.className=\"\"}}return this},toggleClass:function(a,b){var c=typeof a,d=typeof b==\"boolean\";if(f.isFunction(a))return this.each(function(c){f(this).toggleClass(a.call(this,c,this.className,b),b)});return this.each(function(){if(c===\"string\"){var e,g=0,h=f(this),i=b,j=a.split(p);while(e=j[g++])i=d?i:!h.hasClass(e),h[i?\"addClass\":\"removeClass\"](e)}else if(c===\"undefined\"||c===\"boolean\")this.className&&f._data(this,\"__className__\",this.className),this.className=this.className||a===!1?\"\":f._data(this,\"__className__\")||\"\"})},hasClass:function(a){var b=\" \"+a+\" \",c=0,d=this.length;for(;c<d;c++)if(this[c].nodeType===1&&(\" \"+this[c].className+\" \").replace(o,\" \").indexOf(b)>-1)return!0;return!1},val:function(a){var c,d,e,g=this[0];{if(!!arguments.length){e=f.isFunction(a);return this.each(function(d){var g=f(this),h;if(this.nodeType===1){e?h=a.call(this,d,g.val()):h=a,h==null?h=\"\":typeof h==\"number\"?h+=\"\":f.isArray(h)&&(h=f.map(h,function(a){return a==null?\"\":a+\"\"})),c=f.valHooks[this.nodeName.toLowerCase()]||f.valHooks[this.type];if(!c||!(\"set\"in c)||c.set(this,h,\"value\")===b)this.value=h}})}if(g){c=f.valHooks[g.nodeName.toLowerCase()]||f.valHooks[g.type];if(c&&\"get\"in c&&(d=c.get(g,\"value\"))!==b)return d;d=g.value;return typeof d==\"string\"?d.replace(q,\"\"):d==null?\"\":d}}}}),f.extend({valHooks:{option:{get:function(a){var b=a.attributes.value;return!b||b.specified?a.value:a.text}},select:{get:function(a){var b,c,d,e,g=a.selectedIndex,h=[],i=a.options,j=a.type===\"select-one\";if(g<0)return null;c=j?g:0,d=j?g+1:i.length;for(;c<d;c++){e=i[c];if(e.selected&&(f.support.optDisabled?!e.disabled:e.getAttribute(\"disabled\")===null)&&(!e.parentNode.disabled||!f.nodeName(e.parentNode,\"optgroup\"))){b=f(e).val();if(j)return b;h.push(b)}}if(j&&!h.length&&i.length)return f(i[g]).val();return h},set:function(a,b){var c=f.makeArray(b);f(a).find(\"option\").each(function(){this.selected=f.inArray(f(this).val(),c)>=0}),c.length||(a.selectedIndex=-1);return c}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(a,c,d,e){var g,h,i,j=a.nodeType;if(!!a&&j!==3&&j!==8&&j!==2){if(e&&c in f.attrFn)return f(a)[c](d);if(typeof a.getAttribute==\"undefined\")return f.prop(a,c,d);i=j!==1||!f.isXMLDoc(a),i&&(c=c.toLowerCase(),h=f.attrHooks[c]||(u.test(c)?x:w));if(d!==b){if(d===null){f.removeAttr(a,c);return}if(h&&\"set\"in h&&i&&(g=h.set(a,d,c))!==b)return g;a.setAttribute(c,\"\"+d);return d}if(h&&\"get\"in h&&i&&(g=h.get(a,c))!==null)return g;g=a.getAttribute(c);return g===null?b:g}},removeAttr:function(a,b){var c,d,e,g,h=0;if(b&&a.nodeType===1){d=b.toLowerCase().split(p),g=d.length;for(;h<g;h++)e=d[h],e&&(c=f.propFix[e]||e,f.attr(a,e,\"\"),a.removeAttribute(v?e:c),u.test(e)&&c in a&&(a[c]=!1))}},attrHooks:{type:{set:function(a,b){if(r.test(a.nodeName)&&a.parentNode)f.error(\"type property can't be changed\");else if(!f.support.radioValue&&b===\"radio\"&&f.nodeName(a,\"input\")){var c=a.value;a.setAttribute(\"type\",b),c&&(a.value=c);return b}}},value:{get:function(a,b){if(w&&f.nodeName(a,\"button\"))return w.get(a,b);return b in a?a.value:null},set:function(a,b,c){if(w&&f.nodeName(a,\"button\"))return w.set(a,b,c);a.value=b}}},propFix:{tabindex:\"tabIndex\",readonly:\"readOnly\",\"for\":\"htmlFor\",\"class\":\"className\",maxlength:\"maxLength\",cellspacing:\"cellSpacing\",cellpadding:\"cellPadding\",rowspan:\"rowSpan\",colspan:\"colSpan\",usemap:\"useMap\",frameborder:\"frameBorder\",contenteditable:\"contentEditable\"},prop:function(a,c,d){var e,g,h,i=a.nodeType;if(!!a&&i!==3&&i!==8&&i!==2){h=i!==1||!f.isXMLDoc(a),h&&(c=f.propFix[c]||c,g=f.propHooks[c]);return d!==b?g&&\"set\"in g&&(e=g.set(a,d,c))!==b?e:a[c]=d:g&&\"get\"in g&&(e=g.get(a,c))!==null?e:a[c]}},propHooks:{tabIndex:{get:function(a){var c=a.getAttributeNode(\"tabindex\");return c&&c.specified?parseInt(c.value,10):s.test(a.nodeName)||t.test(a.nodeName)&&a.href?0:b}}}}),f.attrHooks.tabindex=f.propHooks.tabIndex,x={get:function(a,c){var d,e=f.prop(a,c);return e===!0||typeof e!=\"boolean\"&&(d=a.getAttributeNode(c))&&d.nodeValue!==!1?c.toLowerCase():b},set:function(a,b,c){var d;b===!1?f.removeAttr(a,c):(d=f.propFix[c]||c,d in a&&(a[d]=!0),a.setAttribute(c,c.toLowerCase()));return c}},v||(y={name:!0,id:!0},w=f.valHooks.button={get:function(a,c){var d;d=a.getAttributeNode(c);return d&&(y[c]?d.nodeValue!==\"\":d.specified)?d.nodeValue:b},set:function(a,b,d){var e=a.getAttributeNode(d);e||(e=c.createAttribute(d),a.setAttributeNode(e));return e.nodeValue=b+\"\"}},f.attrHooks.tabindex.set=w.set,f.each([\"width\",\"height\"],function(a,b){f.attrHooks[b]=f.extend(f.attrHooks[b],{set:function(a,c){if(c===\"\"){a.setAttribute(b,\"auto\");return c}}})}),f.attrHooks.contenteditable={get:w.get,set:function(a,b,c){b===\"\"&&(b=\"false\"),w.set(a,b,c)}}),f.support.hrefNormalized||f.each([\"href\",\"src\",\"width\",\"height\"],function(a,c){f.attrHooks[c]=f.extend(f.attrHooks[c],{get:function(a){var d=a.getAttribute(c,2);return d===null?b:d}})}),f.support.style||(f.attrHooks.style={get:function(a){return a.style.cssText.toLowerCase()||b},set:function(a,b){return a.style.cssText=\"\"+b}}),f.support.optSelected||(f.propHooks.selected=f.extend(f.propHooks.selected,{get:function(a){var b=a.parentNode;b&&(b.selectedIndex,b.parentNode&&b.parentNode.selectedIndex);return null}})),f.support.enctype||(f.propFix.enctype=\"encoding\"),f.support.checkOn||f.each([\"radio\",\"checkbox\"],function(){f.valHooks[this]={get:function(a){return a.getAttribute(\"value\")===null?\"on\":a.value}}}),f.each([\"radio\",\"checkbox\"],function(){f.valHooks[this]=f.extend(f.valHooks[this],{set:function(a,b){if(f.isArray(b))return a.checked=f.inArray(f(a).val(),b)>=0}})});var z=/^(?:textarea|input|select)$/i,A=/^([^\\.]*)?(?:\\.(.+))?$/,B=/\\bhover(\\.\\S+)?\\b/,C=/^key/,D=/^(?:mouse|contextmenu)|click/,E=/^(?:focusinfocus|focusoutblur)$/,F=/^(\\w*)(?:#([\\w\\-]+))?(?:\\.([\\w\\-]+))?$/,G=function(a){var b=F.exec(a);b&&(b[1]=(b[1]||\"\").toLowerCase(),b[3]=b[3]&&new RegExp(\"(?:^|\\\\s)\"+b[3]+\"(?:\\\\s|$)\"));return b},H=function(a,b){var c=a.attributes||{};return(!b[1]||a.nodeName.toLowerCase()===b[1])&&(!b[2]||(c.id||{}).value===b[2])&&(!b[3]||b[3].test((c[\"class\"]||{}).value))},I=function(a){return f.event.special.hover?a:a.replace(B,\"mouseenter$1 mouseleave$1\")};\nf.event={add:function(a,c,d,e,g){var h,i,j,k,l,m,n,o,p,q,r,s;if(!(a.nodeType===3||a.nodeType===8||!c||!d||!(h=f._data(a)))){d.handler&&(p=d,d=p.handler),d.guid||(d.guid=f.guid++),j=h.events,j||(h.events=j={}),i=h.handle,i||(h.handle=i=function(a){return typeof f!=\"undefined\"&&(!a||f.event.triggered!==a.type)?f.event.dispatch.apply(i.elem,arguments):b},i.elem=a),c=f.trim(I(c)).split(\" \");for(k=0;k<c.length;k++){l=A.exec(c[k])||[],m=l[1],n=(l[2]||\"\").split(\".\").sort(),s=f.event.special[m]||{},m=(g?s.delegateType:s.bindType)||m,s=f.event.special[m]||{},o=f.extend({type:m,origType:l[1],data:e,handler:d,guid:d.guid,selector:g,quick:G(g),namespace:n.join(\".\")},p),r=j[m];if(!r){r=j[m]=[],r.delegateCount=0;if(!s.setup||s.setup.call(a,e,n,i)===!1)a.addEventListener?a.addEventListener(m,i,!1):a.attachEvent&&a.attachEvent(\"on\"+m,i)}s.add&&(s.add.call(a,o),o.handler.guid||(o.handler.guid=d.guid)),g?r.splice(r.delegateCount++,0,o):r.push(o),f.event.global[m]=!0}a=null}},global:{},remove:function(a,b,c,d,e){var g=f.hasData(a)&&f._data(a),h,i,j,k,l,m,n,o,p,q,r,s;if(!!g&&!!(o=g.events)){b=f.trim(I(b||\"\")).split(\" \");for(h=0;h<b.length;h++){i=A.exec(b[h])||[],j=k=i[1],l=i[2];if(!j){for(j in o)f.event.remove(a,j+b[h],c,d,!0);continue}p=f.event.special[j]||{},j=(d?p.delegateType:p.bindType)||j,r=o[j]||[],m=r.length,l=l?new RegExp(\"(^|\\\\.)\"+l.split(\".\").sort().join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null;for(n=0;n<r.length;n++)s=r[n],(e||k===s.origType)&&(!c||c.guid===s.guid)&&(!l||l.test(s.namespace))&&(!d||d===s.selector||d===\"**\"&&s.selector)&&(r.splice(n--,1),s.selector&&r.delegateCount--,p.remove&&p.remove.call(a,s));r.length===0&&m!==r.length&&((!p.teardown||p.teardown.call(a,l)===!1)&&f.removeEvent(a,j,g.handle),delete o[j])}f.isEmptyObject(o)&&(q=g.handle,q&&(q.elem=null),f.removeData(a,[\"events\",\"handle\"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(c,d,e,g){if(!e||e.nodeType!==3&&e.nodeType!==8){var h=c.type||c,i=[],j,k,l,m,n,o,p,q,r,s;if(E.test(h+f.event.triggered))return;h.indexOf(\"!\")>=0&&(h=h.slice(0,-1),k=!0),h.indexOf(\".\")>=0&&(i=h.split(\".\"),h=i.shift(),i.sort());if((!e||f.event.customEvent[h])&&!f.event.global[h])return;c=typeof c==\"object\"?c[f.expando]?c:new f.Event(h,c):new f.Event(h),c.type=h,c.isTrigger=!0,c.exclusive=k,c.namespace=i.join(\".\"),c.namespace_re=c.namespace?new RegExp(\"(^|\\\\.)\"+i.join(\"\\\\.(?:.*\\\\.)?\")+\"(\\\\.|$)\"):null,o=h.indexOf(\":\")<0?\"on\"+h:\"\";if(!e){j=f.cache;for(l in j)j[l].events&&j[l].events[h]&&f.event.trigger(c,d,j[l].handle.elem,!0);return}c.result=b,c.target||(c.target=e),d=d!=null?f.makeArray(d):[],d.unshift(c),p=f.event.special[h]||{};if(p.trigger&&p.trigger.apply(e,d)===!1)return;r=[[e,p.bindType||h]];if(!g&&!p.noBubble&&!f.isWindow(e)){s=p.delegateType||h,m=E.test(s+h)?e:e.parentNode,n=null;for(;m;m=m.parentNode)r.push([m,s]),n=m;n&&n===e.ownerDocument&&r.push([n.defaultView||n.parentWindow||a,s])}for(l=0;l<r.length&&!c.isPropagationStopped();l++)m=r[l][0],c.type=r[l][1],q=(f._data(m,\"events\")||{})[c.type]&&f._data(m,\"handle\"),q&&q.apply(m,d),q=o&&m[o],q&&f.acceptData(m)&&q.apply(m,d)===!1&&c.preventDefault();c.type=h,!g&&!c.isDefaultPrevented()&&(!p._default||p._default.apply(e.ownerDocument,d)===!1)&&(h!==\"click\"||!f.nodeName(e,\"a\"))&&f.acceptData(e)&&o&&e[h]&&(h!==\"focus\"&&h!==\"blur\"||c.target.offsetWidth!==0)&&!f.isWindow(e)&&(n=e[o],n&&(e[o]=null),f.event.triggered=h,e[h](),f.event.triggered=b,n&&(e[o]=n));return c.result}},dispatch:function(c){c=f.event.fix(c||a.event);var d=(f._data(this,\"events\")||{})[c.type]||[],e=d.delegateCount,g=[].slice.call(arguments,0),h=!c.exclusive&&!c.namespace,i=[],j,k,l,m,n,o,p,q,r,s,t;g[0]=c,c.delegateTarget=this;if(e&&!c.target.disabled&&(!c.button||c.type!==\"click\")){m=f(this),m.context=this.ownerDocument||this;for(l=c.target;l!=this;l=l.parentNode||this){o={},q=[],m[0]=l;for(j=0;j<e;j++)r=d[j],s=r.selector,o[s]===b&&(o[s]=r.quick?H(l,r.quick):m.is(s)),o[s]&&q.push(r);q.length&&i.push({elem:l,matches:q})}}d.length>e&&i.push({elem:this,matches:d.slice(e)});for(j=0;j<i.length&&!c.isPropagationStopped();j++){p=i[j],c.currentTarget=p.elem;for(k=0;k<p.matches.length&&!c.isImmediatePropagationStopped();k++){r=p.matches[k];if(h||!c.namespace&&!r.namespace||c.namespace_re&&c.namespace_re.test(r.namespace))c.data=r.data,c.handleObj=r,n=((f.event.special[r.origType]||{}).handle||r.handler).apply(p.elem,g),n!==b&&(c.result=n,n===!1&&(c.preventDefault(),c.stopPropagation()))}}return c.result},props:\"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which\".split(\" \"),fixHooks:{},keyHooks:{props:\"char charCode key keyCode\".split(\" \"),filter:function(a,b){a.which==null&&(a.which=b.charCode!=null?b.charCode:b.keyCode);return a}},mouseHooks:{props:\"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement\".split(\" \"),filter:function(a,d){var e,f,g,h=d.button,i=d.fromElement;a.pageX==null&&d.clientX!=null&&(e=a.target.ownerDocument||c,f=e.documentElement,g=e.body,a.pageX=d.clientX+(f&&f.scrollLeft||g&&g.scrollLeft||0)-(f&&f.clientLeft||g&&g.clientLeft||0),a.pageY=d.clientY+(f&&f.scrollTop||g&&g.scrollTop||0)-(f&&f.clientTop||g&&g.clientTop||0)),!a.relatedTarget&&i&&(a.relatedTarget=i===a.target?d.toElement:i),!a.which&&h!==b&&(a.which=h&1?1:h&2?3:h&4?2:0);return a}},fix:function(a){if(a[f.expando])return a;var d,e,g=a,h=f.event.fixHooks[a.type]||{},i=h.props?this.props.concat(h.props):this.props;a=f.Event(g);for(d=i.length;d;)e=i[--d],a[e]=g[e];a.target||(a.target=g.srcElement||c),a.target.nodeType===3&&(a.target=a.target.parentNode),a.metaKey===b&&(a.metaKey=a.ctrlKey);return h.filter?h.filter(a,g):a},special:{ready:{setup:f.bindReady},load:{noBubble:!0},focus:{delegateType:\"focusin\"},blur:{delegateType:\"focusout\"},beforeunload:{setup:function(a,b,c){f.isWindow(this)&&(this.onbeforeunload=c)},teardown:function(a,b){this.onbeforeunload===b&&(this.onbeforeunload=null)}}},simulate:function(a,b,c,d){var e=f.extend(new f.Event,c,{type:a,isSimulated:!0,originalEvent:{}});d?f.event.trigger(e,null,b):f.event.dispatch.call(b,e),e.isDefaultPrevented()&&c.preventDefault()}},f.event.handle=f.event.dispatch,f.removeEvent=c.removeEventListener?function(a,b,c){a.removeEventListener&&a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent&&a.detachEvent(\"on\"+b,c)},f.Event=function(a,b){if(!(this instanceof f.Event))return new f.Event(a,b);a&&a.type?(this.originalEvent=a,this.type=a.type,this.isDefaultPrevented=a.defaultPrevented||a.returnValue===!1||a.getPreventDefault&&a.getPreventDefault()?K:J):this.type=a,b&&f.extend(this,b),this.timeStamp=a&&a.timeStamp||f.now(),this[f.expando]=!0},f.Event.prototype={preventDefault:function(){this.isDefaultPrevented=K;var a=this.originalEvent;!a||(a.preventDefault?a.preventDefault():a.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=K;var a=this.originalEvent;!a||(a.stopPropagation&&a.stopPropagation(),a.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=K,this.stopPropagation()},isDefaultPrevented:J,isPropagationStopped:J,isImmediatePropagationStopped:J},f.each({mouseenter:\"mouseover\",mouseleave:\"mouseout\"},function(a,b){f.event.special[a]={delegateType:b,bindType:b,handle:function(a){var c=this,d=a.relatedTarget,e=a.handleObj,g=e.selector,h;if(!d||d!==c&&!f.contains(c,d))a.type=e.origType,h=e.handler.apply(this,arguments),a.type=b;return h}}}),f.support.submitBubbles||(f.event.special.submit={setup:function(){if(f.nodeName(this,\"form\"))return!1;f.event.add(this,\"click._submit keypress._submit\",function(a){var c=a.target,d=f.nodeName(c,\"input\")||f.nodeName(c,\"button\")?c.form:b;d&&!d._submit_attached&&(f.event.add(d,\"submit._submit\",function(a){this.parentNode&&!a.isTrigger&&f.event.simulate(\"submit\",this.parentNode,a,!0)}),d._submit_attached=!0)})},teardown:function(){if(f.nodeName(this,\"form\"))return!1;f.event.remove(this,\"._submit\")}}),f.support.changeBubbles||(f.event.special.change={setup:function(){if(z.test(this.nodeName)){if(this.type===\"checkbox\"||this.type===\"radio\")f.event.add(this,\"propertychange._change\",function(a){a.originalEvent.propertyName===\"checked\"&&(this._just_changed=!0)}),f.event.add(this,\"click._change\",function(a){this._just_changed&&!a.isTrigger&&(this._just_changed=!1,f.event.simulate(\"change\",this,a,!0))});return!1}f.event.add(this,\"beforeactivate._change\",function(a){var b=a.target;z.test(b.nodeName)&&!b._change_attached&&(f.event.add(b,\"change._change\",function(a){this.parentNode&&!a.isSimulated&&!a.isTrigger&&f.event.simulate(\"change\",this.parentNode,a,!0)}),b._change_attached=!0)})},handle:function(a){var b=a.target;if(this!==b||a.isSimulated||a.isTrigger||b.type!==\"radio\"&&b.type!==\"checkbox\")return a.handleObj.handler.apply(this,arguments)},teardown:function(){f.event.remove(this,\"._change\");return z.test(this.nodeName)}}),f.support.focusinBubbles||f.each({focus:\"focusin\",blur:\"focusout\"},function(a,b){var d=0,e=function(a){f.event.simulate(b,a.target,f.event.fix(a),!0)};f.event.special[b]={setup:function(){d++===0&&c.addEventListener(a,e,!0)},teardown:function(){--d===0&&c.removeEventListener(a,e,!0)}}}),f.fn.extend({on:function(a,c,d,e,g){var h,i;if(typeof a==\"object\"){typeof c!=\"string\"&&(d=c,c=b);for(i in a)this.on(i,c,d,a[i],g);return this}d==null&&e==null?(e=c,d=c=b):e==null&&(typeof c==\"string\"?(e=d,d=b):(e=d,d=c,c=b));if(e===!1)e=J;else if(!e)return this;g===1&&(h=e,e=function(a){f().off(a);return h.apply(this,arguments)},e.guid=h.guid||(h.guid=f.guid++));return this.each(function(){f.event.add(this,a,e,d,c)})},one:function(a,b,c,d){return this.on.call(this,a,b,c,d,1)},off:function(a,c,d){if(a&&a.preventDefault&&a.handleObj){var e=a.handleObj;f(a.delegateTarget).off(e.namespace?e.type+\".\"+e.namespace:e.type,e.selector,e.handler);return this}if(typeof a==\"object\"){for(var g in a)this.off(g,c,a[g]);return this}if(c===!1||typeof c==\"function\")d=c,c=b;d===!1&&(d=J);return this.each(function(){f.event.remove(this,a,d,c)})},bind:function(a,b,c){return this.on(a,null,b,c)},unbind:function(a,b){return this.off(a,null,b)},live:function(a,b,c){f(this.context).on(a,this.selector,b,c);return this},die:function(a,b){f(this.context).off(a,this.selector||\"**\",b);return this},delegate:function(a,b,c,d){return this.on(b,a,c,d)},undelegate:function(a,b,c){return arguments.length==1?this.off(a,\"**\"):this.off(b,a,c)},trigger:function(a,b){return this.each(function(){f.event.trigger(a,b,this)})},triggerHandler:function(a,b){if(this[0])return f.event.trigger(a,b,this[0],!0)},toggle:function(a){var b=arguments,c=a.guid||f.guid++,d=0,e=function(c){var e=(f._data(this,\"lastToggle\"+a.guid)||0)%d;f._data(this,\"lastToggle\"+a.guid,e+1),c.preventDefault();return b[e].apply(this,arguments)||!1};e.guid=c;while(d<b.length)b[d++].guid=c;return this.click(e)},hover:function(a,b){return this.mouseenter(a).mouseleave(b||a)}}),f.each(\"blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu\".split(\" \"),function(a,b){f.fn[b]=function(a,c){c==null&&(c=a,a=null);return arguments.length>0?this.on(b,null,a,c):this.trigger(b)},f.attrFn&&(f.attrFn[b]=!0),C.test(b)&&(f.event.fixHooks[b]=f.event.keyHooks),D.test(b)&&(f.event.fixHooks[b]=f.event.mouseHooks)}),function(){function x(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}if(j.nodeType===1){g||(j[d]=c,j.sizset=h);if(typeof b!=\"string\"){if(j===b){k=!0;break}}else if(m.filter(b,[j]).length>0){k=j;break}}j=j[a]}e[h]=k}}}function w(a,b,c,e,f,g){for(var h=0,i=e.length;h<i;h++){var j=e[h];if(j){var k=!1;j=j[a];while(j){if(j[d]===c){k=e[j.sizset];break}j.nodeType===1&&!g&&(j[d]=c,j.sizset=h);if(j.nodeName.toLowerCase()===b){k=j;break}j=j[a]}e[h]=k}}}var a=/((?:\\((?:\\([^()]+\\)|[^()]+)+\\)|\\[(?:\\[[^\\[\\]]*\\]|['\"][^'\"]*['\"]|[^\\[\\]'\"]+)+\\]|\\\\.|[^ >+~,(\\[\\\\]+)+|[>+~])(\\s*,\\s*)?((?:.|\\r|\\n)*)/g,d=\"sizcache\"+(Math.random()+\"\").replace(\".\",\"\"),e=0,g=Object.prototype.toString,h=!1,i=!0,j=/\\\\/g,k=/\\r\\n/g,l=/\\W/;[0,0].sort(function(){i=!1;return 0});var m=function(b,d,e,f){e=e||[],d=d||c;var h=d;if(d.nodeType!==1&&d.nodeType!==9)return[];if(!b||typeof b!=\"string\")return e;var i,j,k,l,n,q,r,t,u=!0,v=m.isXML(d),w=[],x=b;do{a.exec(\"\"),i=a.exec(x);if(i){x=i[3],w.push(i[1]);if(i[2]){l=i[3];break}}}while(i);if(w.length>1&&p.exec(b))if(w.length===2&&o.relative[w[0]])j=y(w[0]+w[1],d,f);else{j=o.relative[w[0]]?[d]:m(w.shift(),d);while(w.length)b=w.shift(),o.relative[b]&&(b+=w.shift()),j=y(b,j,f)}else{!f&&w.length>1&&d.nodeType===9&&!v&&o.match.ID.test(w[0])&&!o.match.ID.test(w[w.length-1])&&(n=m.find(w.shift(),d,v),d=n.expr?m.filter(n.expr,n.set)[0]:n.set[0]);if(d){n=f?{expr:w.pop(),set:s(f)}:m.find(w.pop(),w.length===1&&(w[0]===\"~\"||w[0]===\"+\")&&d.parentNode?d.parentNode:d,v),j=n.expr?m.filter(n.expr,n.set):n.set,w.length>0?k=s(j):u=!1;while(w.length)q=w.pop(),r=q,o.relative[q]?r=w.pop():q=\"\",r==null&&(r=d),o.relative[q](k,r,v)}else k=w=[]}k||(k=j),k||m.error(q||b);if(g.call(k)===\"[object Array]\")if(!u)e.push.apply(e,k);else if(d&&d.nodeType===1)for(t=0;k[t]!=null;t++)k[t]&&(k[t]===!0||k[t].nodeType===1&&m.contains(d,k[t]))&&e.push(j[t]);else for(t=0;k[t]!=null;t++)k[t]&&k[t].nodeType===1&&e.push(j[t]);else s(k,e);l&&(m(l,h,e,f),m.uniqueSort(e));return e};m.uniqueSort=function(a){if(u){h=i,a.sort(u);if(h)for(var b=1;b<a.length;b++)a[b]===a[b-1]&&a.splice(b--,1)}return a},m.matches=function(a,b){return m(a,null,null,b)},m.matchesSelector=function(a,b){return m(b,null,null,[a]).length>0},m.find=function(a,b,c){var d,e,f,g,h,i;if(!a)return[];for(e=0,f=o.order.length;e<f;e++){h=o.order[e];if(g=o.leftMatch[h].exec(a)){i=g[1],g.splice(1,1);if(i.substr(i.length-1)!==\"\\\\\"){g[1]=(g[1]||\"\").replace(j,\"\"),d=o.find[h](g,b,c);if(d!=null){a=a.replace(o.match[h],\"\");break}}}}d||(d=typeof b.getElementsByTagName!=\"undefined\"?b.getElementsByTagName(\"*\"):[]);return{set:d,expr:a}},m.filter=function(a,c,d,e){var f,g,h,i,j,k,l,n,p,q=a,r=[],s=c,t=c&&c[0]&&m.isXML(c[0]);while(a&&c.length){for(h in o.filter)if((f=o.leftMatch[h].exec(a))!=null&&f[2]){k=o.filter[h],l=f[1],g=!1,f.splice(1,1);if(l.substr(l.length-1)===\"\\\\\")continue;s===r&&(r=[]);if(o.preFilter[h]){f=o.preFilter[h](f,s,d,r,e,t);if(!f)g=i=!0;else if(f===!0)continue}if(f)for(n=0;(j=s[n])!=null;n++)j&&(i=k(j,f,n,s),p=e^i,d&&i!=null?p?g=!0:s[n]=!1:p&&(r.push(j),g=!0));if(i!==b){d||(s=r),a=a.replace(o.match[h],\"\");if(!g)return[];break}}if(a===q)if(g==null)m.error(a);else break;q=a}return s},m.error=function(a){throw new Error(\"Syntax error, unrecognized expression: \"+a)};var n=m.getText=function(a){var b,c,d=a.nodeType,e=\"\";if(d){if(d===1||d===9){if(typeof a.textContent==\"string\")return a.textContent;if(typeof a.innerText==\"string\")return a.innerText.replace(k,\"\");for(a=a.firstChild;a;a=a.nextSibling)e+=n(a)}else if(d===3||d===4)return a.nodeValue}else for(b=0;c=a[b];b++)c.nodeType!==8&&(e+=n(c));return e},o=m.selectors={order:[\"ID\",\"NAME\",\"TAG\"],match:{ID:/#((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,CLASS:/\\.((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)/,NAME:/\\[name=['\"]*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)['\"]*\\]/,ATTR:/\\[\\s*((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)\\s*(?:(\\S?=)\\s*(?:(['\"])(.*?)\\3|(#?(?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)*)|)|)\\s*\\]/,TAG:/^((?:[\\w\\u00c0-\\uFFFF\\*\\-]|\\\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\\(\\s*(even|odd|(?:[+\\-]?\\d+|(?:[+\\-]?\\d*)?n\\s*(?:[+\\-]\\s*\\d+)?))\\s*\\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\\((\\d*)\\))?(?=[^\\-]|$)/,PSEUDO:/:((?:[\\w\\u00c0-\\uFFFF\\-]|\\\\.)+)(?:\\((['\"]?)((?:\\([^\\)]+\\)|[^\\(\\)]*)+)\\2\\))?/},leftMatch:{},attrMap:{\"class\":\"className\",\"for\":\"htmlFor\"},attrHandle:{href:function(a){return a.getAttribute(\"href\")},type:function(a){return a.getAttribute(\"type\")}},relative:{\"+\":function(a,b){var c=typeof b==\"string\",d=c&&!l.test(b),e=c&&!d;d&&(b=b.toLowerCase());for(var f=0,g=a.length,h;f<g;f++)if(h=a[f]){while((h=h.previousSibling)&&h.nodeType!==1);a[f]=e||h&&h.nodeName.toLowerCase()===b?h||!1:h===b}e&&m.filter(b,a,!0)},\">\":function(a,b){var c,d=typeof b==\"string\",e=0,f=a.length;if(d&&!l.test(b)){b=b.toLowerCase();for(;e<f;e++){c=a[e];if(c){var g=c.parentNode;a[e]=g.nodeName.toLowerCase()===b?g:!1}}}else{for(;e<f;e++)c=a[e],c&&(a[e]=d?c.parentNode:c.parentNode===b);d&&m.filter(b,a,!0)}},\"\":function(a,b,c){var d,f=e++,g=x;typeof b==\"string\"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g(\"parentNode\",b,f,a,d,c)},\"~\":function(a,b,c){var d,f=e++,g=x;typeof b==\"string\"&&!l.test(b)&&(b=b.toLowerCase(),d=b,g=w),g(\"previousSibling\",b,f,a,d,c)}},find:{ID:function(a,b,c){if(typeof b.getElementById!=\"undefined\"&&!c){var d=b.getElementById(a[1]);return d&&d.parentNode?[d]:[]}},NAME:function(a,b){if(typeof b.getElementsByName!=\"undefined\"){var c=[],d=b.getElementsByName(a[1]);for(var e=0,f=d.length;e<f;e++)d[e].getAttribute(\"name\")===a[1]&&c.push(d[e]);return c.length===0?null:c}},TAG:function(a,b){if(typeof b.getElementsByTagName!=\"undefined\")return b.getElementsByTagName(a[1])}},preFilter:{CLASS:function(a,b,c,d,e,f){a=\" \"+a[1].replace(j,\"\")+\" \";if(f)return a;for(var g=0,h;(h=b[g])!=null;g++)h&&(e^(h.className&&(\" \"+h.className+\" \").replace(/[\\t\\n\\r]/g,\" \").indexOf(a)>=0)?c||d.push(h):c&&(b[g]=!1));return!1},ID:function(a){return a[1].replace(j,\"\")},TAG:function(a,b){return a[1].replace(j,\"\").toLowerCase()},CHILD:function(a){if(a[1]===\"nth\"){a[2]||m.error(a[0]),a[2]=a[2].replace(/^\\+|\\s*/g,\"\");var b=/(-?)(\\d*)(?:n([+\\-]?\\d*))?/.exec(a[2]===\"even\"&&\"2n\"||a[2]===\"odd\"&&\"2n+1\"||!/\\D/.test(a[2])&&\"0n+\"+a[2]||a[2]);a[2]=b[1]+(b[2]||1)-0,a[3]=b[3]-0}else a[2]&&m.error(a[0]);a[0]=e++;return a},ATTR:function(a,b,c,d,e,f){var g=a[1]=a[1].replace(j,\"\");!f&&o.attrMap[g]&&(a[1]=o.attrMap[g]),a[4]=(a[4]||a[5]||\"\").replace(j,\"\"),a[2]===\"~=\"&&(a[4]=\" \"+a[4]+\" \");return a},PSEUDO:function(b,c,d,e,f){if(b[1]===\"not\")if((a.exec(b[3])||\"\").length>1||/^\\w/.test(b[3]))b[3]=m(b[3],null,null,c);else{var g=m.filter(b[3],c,d,!0^f);d||e.push.apply(e,g);return!1}else if(o.match.POS.test(b[0])||o.match.CHILD.test(b[0]))return!0;return b},POS:function(a){a.unshift(!0);return a}},filters:{enabled:function(a){return a.disabled===!1&&a.type!==\"hidden\"},disabled:function(a){return a.disabled===!0},checked:function(a){return a.checked===!0},selected:function(a){a.parentNode&&a.parentNode.selectedIndex;return a.selected===!0},parent:function(a){return!!a.firstChild},empty:function(a){return!a.firstChild},has:function(a,b,c){return!!m(c[3],a).length},header:function(a){return/h\\d/i.test(a.nodeName)},text:function(a){var b=a.getAttribute(\"type\"),c=a.type;return a.nodeName.toLowerCase()===\"input\"&&\"text\"===c&&(b===c||b===null)},radio:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"radio\"===a.type},checkbox:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"checkbox\"===a.type},file:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"file\"===a.type},password:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"password\"===a.type},submit:function(a){var b=a.nodeName.toLowerCase();return(b===\"input\"||b===\"button\")&&\"submit\"===a.type},image:function(a){return a.nodeName.toLowerCase()===\"input\"&&\"image\"===a.type},reset:function(a){var b=a.nodeName.toLowerCase();return(b===\"input\"||b===\"button\")&&\"reset\"===a.type},button:function(a){var b=a.nodeName.toLowerCase();return b===\"input\"&&\"button\"===a.type||b===\"button\"},input:function(a){return/input|select|textarea|button/i.test(a.nodeName)},focus:function(a){return a===a.ownerDocument.activeElement}},setFilters:{first:function(a,b){return b===0},last:function(a,b,c,d){return b===d.length-1},even:function(a,b){return b%2===0},odd:function(a,b){return b%2===1},lt:function(a,b,c){return b<c[3]-0},gt:function(a,b,c){return b>c[3]-0},nth:function(a,b,c){return c[3]-0===b},eq:function(a,b,c){return c[3]-0===b}},filter:{PSEUDO:function(a,b,c,d){var e=b[1],f=o.filters[e];if(f)return f(a,c,b,d);if(e===\"contains\")return(a.textContent||a.innerText||n([a])||\"\").indexOf(b[3])>=0;if(e===\"not\"){var g=b[3];for(var h=0,i=g.length;h<i;h++)if(g[h]===a)return!1;return!0}m.error(e)},CHILD:function(a,b){var c,e,f,g,h,i,j,k=b[1],l=a;switch(k){case\"only\":case\"first\":while(l=l.previousSibling)if(l.nodeType===1)return!1;if(k===\"first\")return!0;l=a;case\"last\":while(l=l.nextSibling)if(l.nodeType===1)return!1;return!0;case\"nth\":c=b[2],e=b[3];if(c===1&&e===0)return!0;f=b[0],g=a.parentNode;if(g&&(g[d]!==f||!a.nodeIndex)){i=0;for(l=g.firstChild;l;l=l.nextSibling)l.nodeType===1&&(l.nodeIndex=++i);g[d]=f}j=a.nodeIndex-e;return c===0?j===0:j%c===0&&j/c>=0}},ID:function(a,b){return a.nodeType===1&&a.getAttribute(\"id\")===b},TAG:function(a,b){return b===\"*\"&&a.nodeType===1||!!a.nodeName&&a.nodeName.toLowerCase()===b},CLASS:function(a,b){return(\" \"+(a.className||a.getAttribute(\"class\"))+\" \").indexOf(b)>-1},ATTR:function(a,b){var c=b[1],d=m.attr?m.attr(a,c):o.attrHandle[c]?o.attrHandle[c](a):a[c]!=null?a[c]:a.getAttribute(c),e=d+\"\",f=b[2],g=b[4];return d==null?f===\"!=\":!f&&m.attr?d!=null:f===\"=\"?e===g:f===\"*=\"?e.indexOf(g)>=0:f===\"~=\"?(\" \"+e+\" \").indexOf(g)>=0:g?f===\"!=\"?e!==g:f===\"^=\"?e.indexOf(g)===0:f===\"$=\"?e.substr(e.length-g.length)===g:f===\"|=\"?e===g||e.substr(0,g.length+1)===g+\"-\":!1:e&&d!==!1},POS:function(a,b,c,d){var e=b[2],f=o.setFilters[e];if(f)return f(a,c,b,d)}}},p=o.match.POS,q=function(a,b){return\"\\\\\"+(b-0+1)};for(var r in o.match)o.match[r]=new RegExp(o.match[r].source+/(?![^\\[]*\\])(?![^\\(]*\\))/.source),o.leftMatch[r]=new RegExp(/(^(?:.|\\r|\\n)*?)/.source+o.match[r].source.replace(/\\\\(\\d+)/g,q));var s=function(a,b){a=Array.prototype.slice.call(a,0);if(b){b.push.apply(b,a);return b}return a};try{Array.prototype.slice.call(c.documentElement.childNodes,0)[0].nodeType}catch(t){s=function(a,b){var c=0,d=b||[];if(g.call(a)===\"[object Array]\")Array.prototype.push.apply(d,a);else if(typeof a.length==\"number\")for(var e=a.length;c<e;c++)d.push(a[c]);else for(;a[c];c++)d.push(a[c]);return d}}var u,v;c.documentElement.compareDocumentPosition?u=function(a,b){if(a===b){h=!0;return 0}if(!a.compareDocumentPosition||!b.compareDocumentPosition)return a.compareDocumentPosition?-1:1;return a.compareDocumentPosition(b)&4?-1:1}:(u=function(a,b){if(a===b){h=!0;return 0}if(a.sourceIndex&&b.sourceIndex)return a.sourceIndex-b.sourceIndex;var c,d,e=[],f=[],g=a.parentNode,i=b.parentNode,j=g;if(g===i)return v(a,b);if(!g)return-1;if(!i)return 1;while(j)e.unshift(j),j=j.parentNode;j=i;while(j)f.unshift(j),j=j.parentNode;c=e.length,d=f.length;for(var k=0;k<c&&k<d;k++)if(e[k]!==f[k])return v(e[k],f[k]);return k===c?v(a,f[k],-1):v(e[k],b,1)},v=function(a,b,c){if(a===b)return c;var d=a.nextSibling;while(d){if(d===b)return-1;d=d.nextSibling}return 1}),function(){var a=c.createElement(\"div\"),d=\"script\"+(new Date).getTime(),e=c.documentElement;a.innerHTML=\"<a name='\"+d+\"'/>\",e.insertBefore(a,e.firstChild),c.getElementById(d)&&(o.find.ID=function(a,c,d){if(typeof c.getElementById!=\"undefined\"&&!d){var e=c.getElementById(a[1]);return e?e.id===a[1]||typeof e.getAttributeNode!=\"undefined\"&&e.getAttributeNode(\"id\").nodeValue===a[1]?[e]:b:[]}},o.filter.ID=function(a,b){var c=typeof a.getAttributeNode!=\"undefined\"&&a.getAttributeNode(\"id\");return a.nodeType===1&&c&&c.nodeValue===b}),e.removeChild(a),e=a=null}(),function(){var a=c.createElement(\"div\");a.appendChild(c.createComment(\"\")),a.getElementsByTagName(\"*\").length>0&&(o.find.TAG=function(a,b){var c=b.getElementsByTagName(a[1]);if(a[1]===\"*\"){var d=[];for(var e=0;c[e];e++)c[e].nodeType===1&&d.push(c[e]);c=d}return c}),a.innerHTML=\"<a href='#'></a>\",a.firstChild&&typeof a.firstChild.getAttribute!=\"undefined\"&&a.firstChild.getAttribute(\"href\")!==\"#\"&&(o.attrHandle.href=function(a){return a.getAttribute(\"href\",2)}),a=null}(),c.querySelectorAll&&function(){var a=m,b=c.createElement(\"div\"),d=\"__sizzle__\";b.innerHTML=\"<p class='TEST'></p>\";if(!b.querySelectorAll||b.querySelectorAll(\".TEST\").length!==0){m=function(b,e,f,g){e=e||c;if(!g&&!m.isXML(e)){var h=/^(\\w+$)|^\\.([\\w\\-]+$)|^#([\\w\\-]+$)/.exec(b);if(h&&(e.nodeType===1||e.nodeType===9)){if(h[1])return s(e.getElementsByTagName(b),f);if(h[2]&&o.find.CLASS&&e.getElementsByClassName)return s(e.getElementsByClassName(h[2]),f)}if(e.nodeType===9){if(b===\"body\"&&e.body)return s([e.body],f);if(h&&h[3]){var i=e.getElementById(h[3]);if(!i||!i.parentNode)return s([],f);if(i.id===h[3])return s([i],f)}try{return s(e.querySelectorAll(b),f)}catch(j){}}else if(e.nodeType===1&&e.nodeName.toLowerCase()!==\"object\"){var k=e,l=e.getAttribute(\"id\"),n=l||d,p=e.parentNode,q=/^\\s*[+~]/.test(b);l?n=n.replace(/'/g,\"\\\\$&\"):e.setAttribute(\"id\",n),q&&p&&(e=e.parentNode);try{if(!q||p)return s(e.querySelectorAll(\"[id='\"+n+\"'] \"+b),f)}catch(r){}finally{l||k.removeAttribute(\"id\")}}}return a(b,e,f,g)};for(var e in a)m[e]=a[e];b=null}}(),function(){var a=c.documentElement,b=a.matchesSelector||a.mozMatchesSelector||a.webkitMatchesSelector||a.msMatchesSelector;if(b){var d=!b.call(c.createElement(\"div\"),\"div\"),e=!1;try{b.call(c.documentElement,\"[test!='']:sizzle\")}catch(f){e=!0}m.matchesSelector=function(a,c){c=c.replace(/\\=\\s*([^'\"\\]]*)\\s*\\]/g,\"='$1']\");if(!m.isXML(a))try{if(e||!o.match.PSEUDO.test(c)&&!/!=/.test(c)){var f=b.call(a,c);if(f||!d||a.document&&a.document.nodeType!==11)return f}}catch(g){}return m(c,null,null,[a]).length>0}}}(),function(){var a=c.createElement(\"div\");a.innerHTML=\"<div class='test e'></div><div class='test'></div>\";if(!!a.getElementsByClassName&&a.getElementsByClassName(\"e\").length!==0){a.lastChild.className=\"e\";if(a.getElementsByClassName(\"e\").length===1)return;o.order.splice(1,0,\"CLASS\"),o.find.CLASS=function(a,b,c){if(typeof b.getElementsByClassName!=\"undefined\"&&!c)return b.getElementsByClassName(a[1])},a=null}}(),c.documentElement.contains?m.contains=function(a,b){return a!==b&&(a.contains?a.contains(b):!0)}:c.documentElement.compareDocumentPosition?m.contains=function(a,b){return!!(a.compareDocumentPosition(b)&16)}:m.contains=function(){return!1},m.isXML=function(a){var b=(a?a.ownerDocument||a:0).documentElement;return b?b.nodeName!==\"HTML\":!1};var y=function(a,b,c){var d,e=[],f=\"\",g=b.nodeType?[b]:b;while(d=o.match.PSEUDO.exec(a))f+=d[0],a=a.replace(o.match.PSEUDO,\"\");a=o.relative[a]?a+\"*\":a;for(var h=0,i=g.length;h<i;h++)m(a,g[h],e,c);return m.filter(f,e)};m.attr=f.attr,m.selectors.attrMap={},f.find=m,f.expr=m.selectors,f.expr[\":\"]=f.expr.filters,f.unique=m.uniqueSort,f.text=m.getText,f.isXMLDoc=m.isXML,f.contains=m.contains}();var L=/Until$/,M=/^(?:parents|prevUntil|prevAll)/,N=/,/,O=/^.[^:#\\[\\.,]*$/,P=Array.prototype.slice,Q=f.expr.match.POS,R={children:!0,contents:!0,next:!0,prev:!0};f.fn.extend({find:function(a){var b=this,c,d;if(typeof a!=\"string\")return f(a).filter(function(){for(c=0,d=b.length;c<d;c++)if(f.contains(b[c],this))return!0});var e=this.pushStack(\"\",\"find\",a),g,h,i;for(c=0,d=this.length;c<d;c++){g=e.length,f.find(a,this[c],e);if(c>0)for(h=g;h<e.length;h++)for(i=0;i<g;i++)if(e[i]===e[h]){e.splice(h--,1);break}}return e},has:function(a){var b=f(a);return this.filter(function(){for(var a=0,c=b.length;a<c;a++)if(f.contains(this,b[a]))return!0})},not:function(a){return this.pushStack(T(this,a,!1),\"not\",a)},filter:function(a){return this.pushStack(T(this,a,!0),\"filter\",a)},is:function(a){return!!a&&(typeof a==\"string\"?Q.test(a)?f(a,this.context).index(this[0])>=0:f.filter(a,this).length>0:this.filter(a).length>0)},closest:function(a,b){var c=[],d,e,g=this[0];if(f.isArray(a)){var h=1;while(g&&g.ownerDocument&&g!==b){for(d=0;d<a.length;d++)f(g).is(a[d])&&c.push({selector:a[d],elem:g,level:h});g=g.parentNode,h++}return c}var i=Q.test(a)||typeof a!=\"string\"?f(a,b||this.context):0;for(d=0,e=this.length;d<e;d++){g=this[d];while(g){if(i?i.index(g)>-1:f.find.matchesSelector(g,a)){c.push(g);break}g=g.parentNode;if(!g||!g.ownerDocument||g===b||g.nodeType===11)break}}c=c.length>1?f.unique(c):c;return this.pushStack(c,\"closest\",a)},index:function(a){if(!a)return this[0]&&this[0].parentNode?this.prevAll().length:-1;if(typeof a==\"string\")return f.inArray(this[0],f(a));return f.inArray(a.jquery?a[0]:a,this)},add:function(a,b){var c=typeof a==\"string\"?f(a,b):f.makeArray(a&&a.nodeType?[a]:a),d=f.merge(this.get(),c);return this.pushStack(S(c[0])||S(d[0])?d:f.unique(d))},andSelf:function(){return this.add(this.prevObject)}}),f.each({parent:function(a){var b=a.parentNode;return b&&b.nodeType!==11?b:null},parents:function(a){return f.dir(a,\"parentNode\")},parentsUntil:function(a,b,c){return f.dir(a,\"parentNode\",c)},next:function(a){return f.nth(a,2,\"nextSibling\")},prev:function(a){return f.nth(a,2,\"previousSibling\")},nextAll:function(a){return f.dir(a,\"nextSibling\")},prevAll:function(a){return f.dir(a,\"previousSibling\")},nextUntil:function(a,b,c){return f.dir(a,\"nextSibling\",c)},prevUntil:function(a,b,c){return f.dir(a,\"previousSibling\",c)},siblings:function(a){return f.sibling(a.parentNode.firstChild,a)},children:function(a){return f.sibling(a.firstChild)},contents:function(a){return f.nodeName(a,\"iframe\")?a.contentDocument||a.contentWindow.document:f.makeArray(a.childNodes)}},function(a,b){f.fn[a]=function(c,d){var e=f.map(this,b,c);L.test(a)||(d=c),d&&typeof d==\"string\"&&(e=f.filter(d,e)),e=this.length>1&&!R[a]?f.unique(e):e,(this.length>1||N.test(d))&&M.test(a)&&(e=e.reverse());return this.pushStack(e,a,P.call(arguments).join(\",\"))}}),f.extend({filter:function(a,b,c){c&&(a=\":not(\"+a+\")\");return b.length===1?f.find.matchesSelector(b[0],a)?[b[0]]:[]:f.find.matches(a,b)},dir:function(a,c,d){var e=[],g=a[c];while(g&&g.nodeType!==9&&(d===b||g.nodeType!==1||!f(g).is(d)))g.nodeType===1&&e.push(g),g=g[c];return e},nth:function(a,b,c,d){b=b||1;var e=0;for(;a;a=a[c])if(a.nodeType===1&&++e===b)break;return a},sibling:function(a,b){var c=[];for(;a;a=a.nextSibling)a.nodeType===1&&a!==b&&c.push(a);return c}});var V=\"abbr|article|aside|audio|canvas|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video\",W=/ jQuery\\d+=\"(?:\\d+|null)\"/g,X=/^\\s+/,Y=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\\w:]+)[^>]*)\\/>/ig,Z=/<([\\w:]+)/,$=/<tbody/i,_=/<|&#?\\w+;/,ba=/<(?:script|style)/i,bb=/<(?:script|object|embed|option|style)/i,bc=new RegExp(\"<(?:\"+V+\")\",\"i\"),bd=/checked\\s*(?:[^=]|=\\s*.checked.)/i,be=/\\/(java|ecma)script/i,bf=/^\\s*<!(?:\\[CDATA\\[|\\-\\-)/,bg={option:[1,\"<select multiple='multiple'>\",\"</select>\"],legend:[1,\"<fieldset>\",\"</fieldset>\"],thead:[1,\"<table>\",\"</table>\"],tr:[2,\"<table><tbody>\",\"</tbody></table>\"],td:[3,\"<table><tbody><tr>\",\"</tr></tbody></table>\"],col:[2,\"<table><tbody></tbody><colgroup>\",\"</colgroup></table>\"],area:[1,\"<map>\",\"</map>\"],_default:[0,\"\",\"\"]},bh=U(c);bg.optgroup=bg.option,bg.tbody=bg.tfoot=bg.colgroup=bg.caption=bg.thead,bg.th=bg.td,f.support.htmlSerialize||(bg._default=[1,\"div<div>\",\"</div>\"]),f.fn.extend({text:function(a){if(f.isFunction(a))return this.each(function(b){var c=f(this);c.text(a.call(this,b,c.text()))});if(typeof a!=\"object\"&&a!==b)return this.empty().append((this[0]&&this[0].ownerDocument||c).createTextNode(a));return f.text(this)},wrapAll:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapAll(a.call(this,b))});if(this[0]){var b=f(a,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&b.insertBefore(this[0]),b.map(function(){var a=this;while(a.firstChild&&a.firstChild.nodeType===1)a=a.firstChild;return a}).append(this)}return this},wrapInner:function(a){if(f.isFunction(a))return this.each(function(b){f(this).wrapInner(a.call(this,b))});return this.each(function(){var b=f(this),c=b.contents();c.length?c.wrapAll(a):b.append(a)})},wrap:function(a){var b=f.isFunction(a);return this.each(function(c){f(this).wrapAll(b?a.call(this,c):a)})},unwrap:function(){return this.parent().each(function(){f.nodeName(this,\"body\")||f(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.appendChild(a)})},prepend:function(){return this.domManip(arguments,!0,function(a){this.nodeType===1&&this.insertBefore(a,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this)});if(arguments.length){var a=f.clean(arguments);a.push.apply(a,this.toArray());return this.pushStack(a,\"before\",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(a){this.parentNode.insertBefore(a,this.nextSibling)});if(arguments.length){var a=this.pushStack(this,\"after\",arguments);a.push.apply(a,f.clean(arguments));return a}},remove:function(a,b){for(var c=0,d;(d=this[c])!=null;c++)if(!a||f.filter(a,[d]).length)!b&&d.nodeType===1&&(f.cleanData(d.getElementsByTagName(\"*\")),f.cleanData([d])),d.parentNode&&d.parentNode.removeChild(d);return this},empty:function()\n{for(var a=0,b;(b=this[a])!=null;a++){b.nodeType===1&&f.cleanData(b.getElementsByTagName(\"*\"));while(b.firstChild)b.removeChild(b.firstChild)}return this},clone:function(a,b){a=a==null?!1:a,b=b==null?a:b;return this.map(function(){return f.clone(this,a,b)})},html:function(a){if(a===b)return this[0]&&this[0].nodeType===1?this[0].innerHTML.replace(W,\"\"):null;if(typeof a==\"string\"&&!ba.test(a)&&(f.support.leadingWhitespace||!X.test(a))&&!bg[(Z.exec(a)||[\"\",\"\"])[1].toLowerCase()]){a=a.replace(Y,\"<$1></$2>\");try{for(var c=0,d=this.length;c<d;c++)this[c].nodeType===1&&(f.cleanData(this[c].getElementsByTagName(\"*\")),this[c].innerHTML=a)}catch(e){this.empty().append(a)}}else f.isFunction(a)?this.each(function(b){var c=f(this);c.html(a.call(this,b,c.html()))}):this.empty().append(a);return this},replaceWith:function(a){if(this[0]&&this[0].parentNode){if(f.isFunction(a))return this.each(function(b){var c=f(this),d=c.html();c.replaceWith(a.call(this,b,d))});typeof a!=\"string\"&&(a=f(a).detach());return this.each(function(){var b=this.nextSibling,c=this.parentNode;f(this).remove(),b?f(b).before(a):f(c).append(a)})}return this.length?this.pushStack(f(f.isFunction(a)?a():a),\"replaceWith\",a):this},detach:function(a){return this.remove(a,!0)},domManip:function(a,c,d){var e,g,h,i,j=a[0],k=[];if(!f.support.checkClone&&arguments.length===3&&typeof j==\"string\"&&bd.test(j))return this.each(function(){f(this).domManip(a,c,d,!0)});if(f.isFunction(j))return this.each(function(e){var g=f(this);a[0]=j.call(this,e,c?g.html():b),g.domManip(a,c,d)});if(this[0]){i=j&&j.parentNode,f.support.parentNode&&i&&i.nodeType===11&&i.childNodes.length===this.length?e={fragment:i}:e=f.buildFragment(a,this,k),h=e.fragment,h.childNodes.length===1?g=h=h.firstChild:g=h.firstChild;if(g){c=c&&f.nodeName(g,\"tr\");for(var l=0,m=this.length,n=m-1;l<m;l++)d.call(c?bi(this[l],g):this[l],e.cacheable||m>1&&l<n?f.clone(h,!0,!0):h)}k.length&&f.each(k,bp)}return this}}),f.buildFragment=function(a,b,d){var e,g,h,i,j=a[0];b&&b[0]&&(i=b[0].ownerDocument||b[0]),i.createDocumentFragment||(i=c),a.length===1&&typeof j==\"string\"&&j.length<512&&i===c&&j.charAt(0)===\"<\"&&!bb.test(j)&&(f.support.checkClone||!bd.test(j))&&(f.support.html5Clone||!bc.test(j))&&(g=!0,h=f.fragments[j],h&&h!==1&&(e=h)),e||(e=i.createDocumentFragment(),f.clean(a,i,e,d)),g&&(f.fragments[j]=h?e:1);return{fragment:e,cacheable:g}},f.fragments={},f.each({appendTo:\"append\",prependTo:\"prepend\",insertBefore:\"before\",insertAfter:\"after\",replaceAll:\"replaceWith\"},function(a,b){f.fn[a]=function(c){var d=[],e=f(c),g=this.length===1&&this[0].parentNode;if(g&&g.nodeType===11&&g.childNodes.length===1&&e.length===1){e[b](this[0]);return this}for(var h=0,i=e.length;h<i;h++){var j=(h>0?this.clone(!0):this).get();f(e[h])[b](j),d=d.concat(j)}return this.pushStack(d,a,e.selector)}}),f.extend({clone:function(a,b,c){var d,e,g,h=f.support.html5Clone||!bc.test(\"<\"+a.nodeName)?a.cloneNode(!0):bo(a);if((!f.support.noCloneEvent||!f.support.noCloneChecked)&&(a.nodeType===1||a.nodeType===11)&&!f.isXMLDoc(a)){bk(a,h),d=bl(a),e=bl(h);for(g=0;d[g];++g)e[g]&&bk(d[g],e[g])}if(b){bj(a,h);if(c){d=bl(a),e=bl(h);for(g=0;d[g];++g)bj(d[g],e[g])}}d=e=null;return h},clean:function(a,b,d,e){var g;b=b||c,typeof b.createElement==\"undefined\"&&(b=b.ownerDocument||b[0]&&b[0].ownerDocument||c);var h=[],i;for(var j=0,k;(k=a[j])!=null;j++){typeof k==\"number\"&&(k+=\"\");if(!k)continue;if(typeof k==\"string\")if(!_.test(k))k=b.createTextNode(k);else{k=k.replace(Y,\"<$1></$2>\");var l=(Z.exec(k)||[\"\",\"\"])[1].toLowerCase(),m=bg[l]||bg._default,n=m[0],o=b.createElement(\"div\");b===c?bh.appendChild(o):U(b).appendChild(o),o.innerHTML=m[1]+k+m[2];while(n--)o=o.lastChild;if(!f.support.tbody){var p=$.test(k),q=l===\"table\"&&!p?o.firstChild&&o.firstChild.childNodes:m[1]===\"<table>\"&&!p?o.childNodes:[];for(i=q.length-1;i>=0;--i)f.nodeName(q[i],\"tbody\")&&!q[i].childNodes.length&&q[i].parentNode.removeChild(q[i])}!f.support.leadingWhitespace&&X.test(k)&&o.insertBefore(b.createTextNode(X.exec(k)[0]),o.firstChild),k=o.childNodes}var r;if(!f.support.appendChecked)if(k[0]&&typeof (r=k.length)==\"number\")for(i=0;i<r;i++)bn(k[i]);else bn(k);k.nodeType?h.push(k):h=f.merge(h,k)}if(d){g=function(a){return!a.type||be.test(a.type)};for(j=0;h[j];j++)if(e&&f.nodeName(h[j],\"script\")&&(!h[j].type||h[j].type.toLowerCase()===\"text/javascript\"))e.push(h[j].parentNode?h[j].parentNode.removeChild(h[j]):h[j]);else{if(h[j].nodeType===1){var s=f.grep(h[j].getElementsByTagName(\"script\"),g);h.splice.apply(h,[j+1,0].concat(s))}d.appendChild(h[j])}}return h},cleanData:function(a){var b,c,d=f.cache,e=f.event.special,g=f.support.deleteExpando;for(var h=0,i;(i=a[h])!=null;h++){if(i.nodeName&&f.noData[i.nodeName.toLowerCase()])continue;c=i[f.expando];if(c){b=d[c];if(b&&b.events){for(var j in b.events)e[j]?f.event.remove(i,j):f.removeEvent(i,j,b.handle);b.handle&&(b.handle.elem=null)}g?delete i[f.expando]:i.removeAttribute&&i.removeAttribute(f.expando),delete d[c]}}}});var bq=/alpha\\([^)]*\\)/i,br=/opacity=([^)]*)/,bs=/([A-Z]|^ms)/g,bt=/^-?\\d+(?:px)?$/i,bu=/^-?\\d/,bv=/^([\\-+])=([\\-+.\\de]+)/,bw={position:\"absolute\",visibility:\"hidden\",display:\"block\"},bx=[\"Left\",\"Right\"],by=[\"Top\",\"Bottom\"],bz,bA,bB;f.fn.css=function(a,c){if(arguments.length===2&&c===b)return this;return f.access(this,a,c,!0,function(a,c,d){return d!==b?f.style(a,c,d):f.css(a,c)})},f.extend({cssHooks:{opacity:{get:function(a,b){if(b){var c=bz(a,\"opacity\",\"opacity\");return c===\"\"?\"1\":c}return a.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{\"float\":f.support.cssFloat?\"cssFloat\":\"styleFloat\"},style:function(a,c,d,e){if(!!a&&a.nodeType!==3&&a.nodeType!==8&&!!a.style){var g,h,i=f.camelCase(c),j=a.style,k=f.cssHooks[i];c=f.cssProps[i]||i;if(d===b){if(k&&\"get\"in k&&(g=k.get(a,!1,e))!==b)return g;return j[c]}h=typeof d,h===\"string\"&&(g=bv.exec(d))&&(d=+(g[1]+1)*+g[2]+parseFloat(f.css(a,c)),h=\"number\");if(d==null||h===\"number\"&&isNaN(d))return;h===\"number\"&&!f.cssNumber[i]&&(d+=\"px\");if(!k||!(\"set\"in k)||(d=k.set(a,d))!==b)try{j[c]=d}catch(l){}}},css:function(a,c,d){var e,g;c=f.camelCase(c),g=f.cssHooks[c],c=f.cssProps[c]||c,c===\"cssFloat\"&&(c=\"float\");if(g&&\"get\"in g&&(e=g.get(a,!0,d))!==b)return e;if(bz)return bz(a,c)},swap:function(a,b,c){var d={};for(var e in b)d[e]=a.style[e],a.style[e]=b[e];c.call(a);for(e in b)a.style[e]=d[e]}}),f.curCSS=f.css,f.each([\"height\",\"width\"],function(a,b){f.cssHooks[b]={get:function(a,c,d){var e;if(c){if(a.offsetWidth!==0)return bC(a,b,d);f.swap(a,bw,function(){e=bC(a,b,d)});return e}},set:function(a,b){if(!bt.test(b))return b;b=parseFloat(b);if(b>=0)return b+\"px\"}}}),f.support.opacity||(f.cssHooks.opacity={get:function(a,b){return br.test((b&&a.currentStyle?a.currentStyle.filter:a.style.filter)||\"\")?parseFloat(RegExp.$1)/100+\"\":b?\"1\":\"\"},set:function(a,b){var c=a.style,d=a.currentStyle,e=f.isNumeric(b)?\"alpha(opacity=\"+b*100+\")\":\"\",g=d&&d.filter||c.filter||\"\";c.zoom=1;if(b>=1&&f.trim(g.replace(bq,\"\"))===\"\"){c.removeAttribute(\"filter\");if(d&&!d.filter)return}c.filter=bq.test(g)?g.replace(bq,e):g+\" \"+e}}),f(function(){f.support.reliableMarginRight||(f.cssHooks.marginRight={get:function(a,b){var c;f.swap(a,{display:\"inline-block\"},function(){b?c=bz(a,\"margin-right\",\"marginRight\"):c=a.style.marginRight});return c}})}),c.defaultView&&c.defaultView.getComputedStyle&&(bA=function(a,b){var c,d,e;b=b.replace(bs,\"-$1\").toLowerCase(),(d=a.ownerDocument.defaultView)&&(e=d.getComputedStyle(a,null))&&(c=e.getPropertyValue(b),c===\"\"&&!f.contains(a.ownerDocument.documentElement,a)&&(c=f.style(a,b)));return c}),c.documentElement.currentStyle&&(bB=function(a,b){var c,d,e,f=a.currentStyle&&a.currentStyle[b],g=a.style;f===null&&g&&(e=g[b])&&(f=e),!bt.test(f)&&bu.test(f)&&(c=g.left,d=a.runtimeStyle&&a.runtimeStyle.left,d&&(a.runtimeStyle.left=a.currentStyle.left),g.left=b===\"fontSize\"?\"1em\":f||0,f=g.pixelLeft+\"px\",g.left=c,d&&(a.runtimeStyle.left=d));return f===\"\"?\"auto\":f}),bz=bA||bB,f.expr&&f.expr.filters&&(f.expr.filters.hidden=function(a){var b=a.offsetWidth,c=a.offsetHeight;return b===0&&c===0||!f.support.reliableHiddenOffsets&&(a.style&&a.style.display||f.css(a,\"display\"))===\"none\"},f.expr.filters.visible=function(a){return!f.expr.filters.hidden(a)});var bD=/%20/g,bE=/\\[\\]$/,bF=/\\r?\\n/g,bG=/#.*$/,bH=/^(.*?):[ \\t]*([^\\r\\n]*)\\r?$/mg,bI=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,bJ=/^(?:about|app|app\\-storage|.+\\-extension|file|res|widget):$/,bK=/^(?:GET|HEAD)$/,bL=/^\\/\\//,bM=/\\?/,bN=/<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gi,bO=/^(?:select|textarea)/i,bP=/\\s+/,bQ=/([?&])_=[^&]*/,bR=/^([\\w\\+\\.\\-]+:)(?:\\/\\/([^\\/?#:]*)(?::(\\d+))?)?/,bS=f.fn.load,bT={},bU={},bV,bW,bX=[\"*/\"]+[\"*\"];try{bV=e.href}catch(bY){bV=c.createElement(\"a\"),bV.href=\"\",bV=bV.href}bW=bR.exec(bV.toLowerCase())||[],f.fn.extend({load:function(a,c,d){if(typeof a!=\"string\"&&bS)return bS.apply(this,arguments);if(!this.length)return this;var e=a.indexOf(\" \");if(e>=0){var g=a.slice(e,a.length);a=a.slice(0,e)}var h=\"GET\";c&&(f.isFunction(c)?(d=c,c=b):typeof c==\"object\"&&(c=f.param(c,f.ajaxSettings.traditional),h=\"POST\"));var i=this;f.ajax({url:a,type:h,dataType:\"html\",data:c,complete:function(a,b,c){c=a.responseText,a.isResolved()&&(a.done(function(a){c=a}),i.html(g?f(\"<div>\").append(c.replace(bN,\"\")).find(g):c)),d&&i.each(d,[c,b,a])}});return this},serialize:function(){return f.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?f.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||bO.test(this.nodeName)||bI.test(this.type))}).map(function(a,b){var c=f(this).val();return c==null?null:f.isArray(c)?f.map(c,function(a,c){return{name:b.name,value:a.replace(bF,\"\\r\\n\")}}):{name:b.name,value:c.replace(bF,\"\\r\\n\")}}).get()}}),f.each(\"ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend\".split(\" \"),function(a,b){f.fn[b]=function(a){return this.on(b,a)}}),f.each([\"get\",\"post\"],function(a,c){f[c]=function(a,d,e,g){f.isFunction(d)&&(g=g||e,e=d,d=b);return f.ajax({type:c,url:a,data:d,success:e,dataType:g})}}),f.extend({getScript:function(a,c){return f.get(a,b,c,\"script\")},getJSON:function(a,b,c){return f.get(a,b,c,\"json\")},ajaxSetup:function(a,b){b?b_(a,f.ajaxSettings):(b=a,a=f.ajaxSettings),b_(a,b);return a},ajaxSettings:{url:bV,isLocal:bJ.test(bW[1]),global:!0,type:\"GET\",contentType:\"application/x-www-form-urlencoded\",processData:!0,async:!0,accepts:{xml:\"application/xml, text/xml\",html:\"text/html\",text:\"text/plain\",json:\"application/json, text/javascript\",\"*\":bX},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:\"responseXML\",text:\"responseText\"},converters:{\"* text\":a.String,\"text html\":!0,\"text json\":f.parseJSON,\"text xml\":f.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:bZ(bT),ajaxTransport:bZ(bU),ajax:function(a,c){function w(a,c,l,m){if(s!==2){s=2,q&&clearTimeout(q),p=b,n=m||\"\",v.readyState=a>0?4:0;var o,r,u,w=c,x=l?cb(d,v,l):b,y,z;if(a>=200&&a<300||a===304){if(d.ifModified){if(y=v.getResponseHeader(\"Last-Modified\"))f.lastModified[k]=y;if(z=v.getResponseHeader(\"Etag\"))f.etag[k]=z}if(a===304)w=\"notmodified\",o=!0;else try{r=cc(d,x),w=\"success\",o=!0}catch(A){w=\"parsererror\",u=A}}else{u=w;if(!w||a)w=\"error\",a<0&&(a=0)}v.status=a,v.statusText=\"\"+(c||w),o?h.resolveWith(e,[r,w,v]):h.rejectWith(e,[v,w,u]),v.statusCode(j),j=b,t&&g.trigger(\"ajax\"+(o?\"Success\":\"Error\"),[v,d,o?r:u]),i.fireWith(e,[v,w]),t&&(g.trigger(\"ajaxComplete\",[v,d]),--f.active||f.event.trigger(\"ajaxStop\"))}}typeof a==\"object\"&&(c=a,a=b),c=c||{};var d=f.ajaxSetup({},c),e=d.context||d,g=e!==d&&(e.nodeType||e instanceof f)?f(e):f.event,h=f.Deferred(),i=f.Callbacks(\"once memory\"),j=d.statusCode||{},k,l={},m={},n,o,p,q,r,s=0,t,u,v={readyState:0,setRequestHeader:function(a,b){if(!s){var c=a.toLowerCase();a=m[c]=m[c]||a,l[a]=b}return this},getAllResponseHeaders:function(){return s===2?n:null},getResponseHeader:function(a){var c;if(s===2){if(!o){o={};while(c=bH.exec(n))o[c[1].toLowerCase()]=c[2]}c=o[a.toLowerCase()]}return c===b?null:c},overrideMimeType:function(a){s||(d.mimeType=a);return this},abort:function(a){a=a||\"abort\",p&&p.abort(a),w(0,a);return this}};h.promise(v),v.success=v.done,v.error=v.fail,v.complete=i.add,v.statusCode=function(a){if(a){var b;if(s<2)for(b in a)j[b]=[j[b],a[b]];else b=a[v.status],v.then(b,b)}return this},d.url=((a||d.url)+\"\").replace(bG,\"\").replace(bL,bW[1]+\"//\"),d.dataTypes=f.trim(d.dataType||\"*\").toLowerCase().split(bP),d.crossDomain==null&&(r=bR.exec(d.url.toLowerCase()),d.crossDomain=!(!r||r[1]==bW[1]&&r[2]==bW[2]&&(r[3]||(r[1]===\"http:\"?80:443))==(bW[3]||(bW[1]===\"http:\"?80:443)))),d.data&&d.processData&&typeof d.data!=\"string\"&&(d.data=f.param(d.data,d.traditional)),b$(bT,d,c,v);if(s===2)return!1;t=d.global,d.type=d.type.toUpperCase(),d.hasContent=!bK.test(d.type),t&&f.active++===0&&f.event.trigger(\"ajaxStart\");if(!d.hasContent){d.data&&(d.url+=(bM.test(d.url)?\"&\":\"?\")+d.data,delete d.data),k=d.url;if(d.cache===!1){var x=f.now(),y=d.url.replace(bQ,\"$1_=\"+x);d.url=y+(y===d.url?(bM.test(d.url)?\"&\":\"?\")+\"_=\"+x:\"\")}}(d.data&&d.hasContent&&d.contentType!==!1||c.contentType)&&v.setRequestHeader(\"Content-Type\",d.contentType),d.ifModified&&(k=k||d.url,f.lastModified[k]&&v.setRequestHeader(\"If-Modified-Since\",f.lastModified[k]),f.etag[k]&&v.setRequestHeader(\"If-None-Match\",f.etag[k])),v.setRequestHeader(\"Accept\",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+(d.dataTypes[0]!==\"*\"?\", \"+bX+\"; q=0.01\":\"\"):d.accepts[\"*\"]);for(u in d.headers)v.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(e,v,d)===!1||s===2)){v.abort();return!1}for(u in{success:1,error:1,complete:1})v[u](d[u]);p=b$(bU,d,c,v);if(!p)w(-1,\"No Transport\");else{v.readyState=1,t&&g.trigger(\"ajaxSend\",[v,d]),d.async&&d.timeout>0&&(q=setTimeout(function(){v.abort(\"timeout\")},d.timeout));try{s=1,p.send(l,w)}catch(z){if(s<2)w(-1,z);else throw z}}return v},param:function(a,c){var d=[],e=function(a,b){b=f.isFunction(b)?b():b,d[d.length]=encodeURIComponent(a)+\"=\"+encodeURIComponent(b)};c===b&&(c=f.ajaxSettings.traditional);if(f.isArray(a)||a.jquery&&!f.isPlainObject(a))f.each(a,function(){e(this.name,this.value)});else for(var g in a)ca(g,a[g],c,e);return d.join(\"&\").replace(bD,\"+\")}}),f.extend({active:0,lastModified:{},etag:{}});var cd=f.now(),ce=/(\\=)\\?(&|$)|\\?\\?/i;f.ajaxSetup({jsonp:\"callback\",jsonpCallback:function(){return f.expando+\"_\"+cd++}}),f.ajaxPrefilter(\"json jsonp\",function(b,c,d){var e=b.contentType===\"application/x-www-form-urlencoded\"&&typeof b.data==\"string\";if(b.dataTypes[0]===\"jsonp\"||b.jsonp!==!1&&(ce.test(b.url)||e&&ce.test(b.data))){var g,h=b.jsonpCallback=f.isFunction(b.jsonpCallback)?b.jsonpCallback():b.jsonpCallback,i=a[h],j=b.url,k=b.data,l=\"$1\"+h+\"$2\";b.jsonp!==!1&&(j=j.replace(ce,l),b.url===j&&(e&&(k=k.replace(ce,l)),b.data===k&&(j+=(/\\?/.test(j)?\"&\":\"?\")+b.jsonp+\"=\"+h))),b.url=j,b.data=k,a[h]=function(a){g=[a]},d.always(function(){a[h]=i,g&&f.isFunction(i)&&a[h](g[0])}),b.converters[\"script json\"]=function(){g||f.error(h+\" was not called\");return g[0]},b.dataTypes[0]=\"json\";return\"script\"}}),f.ajaxSetup({accepts:{script:\"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript\"},contents:{script:/javascript|ecmascript/},converters:{\"text script\":function(a){f.globalEval(a);return a}}}),f.ajaxPrefilter(\"script\",function(a){a.cache===b&&(a.cache=!1),a.crossDomain&&(a.type=\"GET\",a.global=!1)}),f.ajaxTransport(\"script\",function(a){if(a.crossDomain){var d,e=c.head||c.getElementsByTagName(\"head\")[0]||c.documentElement;return{send:function(f,g){d=c.createElement(\"script\"),d.async=\"async\",a.scriptCharset&&(d.charset=a.scriptCharset),d.src=a.url,d.onload=d.onreadystatechange=function(a,c){if(c||!d.readyState||/loaded|complete/.test(d.readyState))d.onload=d.onreadystatechange=null,e&&d.parentNode&&e.removeChild(d),d=b,c||g(200,\"success\")},e.insertBefore(d,e.firstChild)},abort:function(){d&&d.onload(0,1)}}}});var cf=a.ActiveXObject?function(){for(var a in ch)ch[a](0,1)}:!1,cg=0,ch;f.ajaxSettings.xhr=a.ActiveXObject?function(){return!this.isLocal&&ci()||cj()}:ci,function(a){f.extend(f.support,{ajax:!!a,cors:!!a&&\"withCredentials\"in a})}(f.ajaxSettings.xhr()),f.support.ajax&&f.ajaxTransport(function(c){if(!c.crossDomain||f.support.cors){var d;return{send:function(e,g){var h=c.xhr(),i,j;c.username?h.open(c.type,c.url,c.async,c.username,c.password):h.open(c.type,c.url,c.async);if(c.xhrFields)for(j in c.xhrFields)h[j]=c.xhrFields[j];c.mimeType&&h.overrideMimeType&&h.overrideMimeType(c.mimeType),!c.crossDomain&&!e[\"X-Requested-With\"]&&(e[\"X-Requested-With\"]=\"XMLHttpRequest\");try{for(j in e)h.setRequestHeader(j,e[j])}catch(k){}h.send(c.hasContent&&c.data||null),d=function(a,e){var j,k,l,m,n;try{if(d&&(e||h.readyState===4)){d=b,i&&(h.onreadystatechange=f.noop,cf&&delete ch[i]);if(e)h.readyState!==4&&h.abort();else{j=h.status,l=h.getAllResponseHeaders(),m={},n=h.responseXML,n&&n.documentElement&&(m.xml=n),m.text=h.responseText;try{k=h.statusText}catch(o){k=\"\"}!j&&c.isLocal&&!c.crossDomain?j=m.text?200:404:j===1223&&(j=204)}}}catch(p){e||g(-1,p)}m&&g(j,k,m,l)},!c.async||h.readyState===4?d():(i=++cg,cf&&(ch||(ch={},f(a).unload(cf)),ch[i]=d),h.onreadystatechange=d)},abort:function(){d&&d(0,1)}}}});var ck={},cl,cm,cn=/^(?:toggle|show|hide)$/,co=/^([+\\-]=)?([\\d+.\\-]+)([a-z%]*)$/i,cp,cq=[[\"height\",\"marginTop\",\"marginBottom\",\"paddingTop\",\"paddingBottom\"],[\"width\",\"marginLeft\",\"marginRight\",\"paddingLeft\",\"paddingRight\"],[\"opacity\"]],cr;f.fn.extend({show:function(a,b,c){var d,e;if(a||a===0)return this.animate(cu(\"show\",3),a,b,c);for(var g=0,h=this.length;g<h;g++)d=this[g],d.style&&(e=d.style.display,!f._data(d,\"olddisplay\")&&e===\"none\"&&(e=d.style.display=\"\"),e===\"\"&&f.css(d,\"display\")===\"none\"&&f._data(d,\"olddisplay\",cv(d.nodeName)));for(g=0;g<h;g++){d=this[g];if(d.style){e=d.style.display;if(e===\"\"||e===\"none\")d.style.display=f._data(d,\"olddisplay\")||\"\"}}return this},hide:function(a,b,c){if(a||a===0)return this.animate(cu(\"hide\",3),a,b,c);var d,e,g=0,h=this.length;for(;g<h;g++)d=this[g],d.style&&(e=f.css(d,\"display\"),e!==\"none\"&&!f._data(d,\"olddisplay\")&&f._data(d,\"olddisplay\",e));for(g=0;g<h;g++)this[g].style&&(this[g].style.display=\"none\");return this},_toggle:f.fn.toggle,toggle:function(a,b,c){var d=typeof a==\"boolean\";f.isFunction(a)&&f.isFunction(b)?this._toggle.apply(this,arguments):a==null||d?this.each(function(){var b=d?a:f(this).is(\":hidden\");f(this)[b?\"show\":\"hide\"]()}):this.animate(cu(\"toggle\",3),a,b,c);return this},fadeTo:function(a,b,c,d){return this.filter(\":hidden\").css(\"opacity\",0).show().end().animate({opacity:b},a,c,d)},animate:function(a,b,c,d){function g(){e.queue===!1&&f._mark(this);var b=f.extend({},e),c=this.nodeType===1,d=c&&f(this).is(\":hidden\"),g,h,i,j,k,l,m,n,o;b.animatedProperties={};for(i in a){g=f.camelCase(i),i!==g&&(a[g]=a[i],delete a[i]),h=a[g],f.isArray(h)?(b.animatedProperties[g]=h[1],h=a[g]=h[0]):b.animatedProperties[g]=b.specialEasing&&b.specialEasing[g]||b.easing||\"swing\";if(h===\"hide\"&&d||h===\"show\"&&!d)return b.complete.call(this);c&&(g===\"height\"||g===\"width\")&&(b.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],f.css(this,\"display\")===\"inline\"&&f.css(this,\"float\")===\"none\"&&(!f.support.inlineBlockNeedsLayout||cv(this.nodeName)===\"inline\"?this.style.display=\"inline-block\":this.style.zoom=1))}b.overflow!=null&&(this.style.overflow=\"hidden\");for(i in a)j=new f.fx(this,b,i),h=a[i],cn.test(h)?(o=f._data(this,\"toggle\"+i)||(h===\"toggle\"?d?\"show\":\"hide\":0),o?(f._data(this,\"toggle\"+i,o===\"show\"?\"hide\":\"show\"),j[o]()):j[h]()):(k=co.exec(h),l=j.cur(),k?(m=parseFloat(k[2]),n=k[3]||(f.cssNumber[i]?\"\":\"px\"),n!==\"px\"&&(f.style(this,i,(m||1)+n),l=(m||1)/j.cur()*l,f.style(this,i,l+n)),k[1]&&(m=(k[1]===\"-=\"?-1:1)*m+l),j.custom(l,m,n)):j.custom(l,h,\"\"));return!0}var e=f.speed(b,c,d);if(f.isEmptyObject(a))return this.each(e.complete,[!1]);a=f.extend({},a);return e.queue===!1?this.each(g):this.queue(e.queue,g)},stop:function(a,c,d){typeof a!=\"string\"&&(d=c,c=a,a=b),c&&a!==!1&&this.queue(a||\"fx\",[]);return this.each(function(){function h(a,b,c){var e=b[c];f.removeData(a,c,!0),e.stop(d)}var b,c=!1,e=f.timers,g=f._data(this);d||f._unmark(!0,this);if(a==null)for(b in g)g[b]&&g[b].stop&&b.indexOf(\".run\")===b.length-4&&h(this,g,b);else g[b=a+\".run\"]&&g[b].stop&&h(this,g,b);for(b=e.length;b--;)e[b].elem===this&&(a==null||e[b].queue===a)&&(d?e[b](!0):e[b].saveState(),c=!0,e.splice(b,1));(!d||!c)&&f.dequeue(this,a)})}}),f.each({slideDown:cu(\"show\",1),slideUp:cu(\"hide\",1),slideToggle:cu(\"toggle\",1),fadeIn:{opacity:\"show\"},fadeOut:{opacity:\"hide\"},fadeToggle:{opacity:\"toggle\"}},function(a,b){f.fn[a]=function(a,c,d){return this.animate(b,a,c,d)}}),f.extend({speed:function(a,b,c){var d=a&&typeof a==\"object\"?f.extend({},a):{complete:c||!c&&b||f.isFunction(a)&&a,duration:a,easing:c&&b||b&&!f.isFunction(b)&&b};d.duration=f.fx.off?0:typeof d.duration==\"number\"?d.duration:d.duration in f.fx.speeds?f.fx.speeds[d.duration]:f.fx.speeds._default;if(d.queue==null||d.queue===!0)d.queue=\"fx\";d.old=d.complete,d.complete=function(a){f.isFunction(d.old)&&d.old.call(this),d.queue?f.dequeue(this,d.queue):a!==!1&&f._unmark(this)};return d},easing:{linear:function(a,b,c,d){return c+d*a},swing:function(a,b,c,d){return(-Math.cos(a*Math.PI)/2+.5)*d+c}},timers:[],fx:function(a,b,c){this.options=b,this.elem=a,this.prop=c,b.orig=b.orig||{}}}),f.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(f.fx.step[this.prop]||f.fx.step._default)(this)},cur:function(){if(this.elem[this.prop]!=null&&(!this.elem.style||this.elem.style[this.prop]==null))return this.elem[this.prop];var a,b=f.css(this.elem,this.prop);return isNaN(a=parseFloat(b))?!b||b===\"auto\"?0:b:a},custom:function(a,c,d){function h(a){return e.step(a)}var e=this,g=f.fx;this.startTime=cr||cs(),this.end=c,this.now=this.start=a,this.pos=this.state=0,this.unit=d||this.unit||(f.cssNumber[this.prop]?\"\":\"px\"),h.queue=this.options.queue,h.elem=this.elem,h.saveState=function(){e.options.hide&&f._data(e.elem,\"fxshow\"+e.prop)===b&&f._data(e.elem,\"fxshow\"+e.prop,e.start)},h()&&f.timers.push(h)&&!cp&&(cp=setInterval(g.tick,g.interval))},show:function(){var a=f._data(this.elem,\"fxshow\"+this.prop);this.options.orig[this.prop]=a||f.style(this.elem,this.prop),this.options.show=!0,a!==b?this.custom(this.cur(),a):this.custom(this.prop===\"width\"||this.prop===\"height\"?1:0,this.cur()),f(this.elem).show()},hide:function(){this.options.orig[this.prop]=f._data(this.elem,\"fxshow\"+this.prop)||f.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(a){var b,c,d,e=cr||cs(),g=!0,h=this.elem,i=this.options;if(a||e>=i.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),i.animatedProperties[this.prop]=!0;for(b in i.animatedProperties)i.animatedProperties[b]!==!0&&(g=!1);if(g){i.overflow!=null&&!f.support.shrinkWrapBlocks&&f.each([\"\",\"X\",\"Y\"],function(a,b){h.style[\"overflow\"+b]=i.overflow[a]}),i.hide&&f(h).hide();if(i.hide||i.show)for(b in i.animatedProperties)f.style(h,b,i.orig[b]),f.removeData(h,\"fxshow\"+b,!0),f.removeData(h,\"toggle\"+b,!0);d=i.complete,d&&(i.complete=!1,d.call(h))}return!1}i.duration==Infinity?this.now=e:(c=e-this.startTime,this.state=c/i.duration,this.pos=f.easing[i.animatedProperties[this.prop]](this.state,c,0,1,i.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update();return!0}},f.extend(f.fx,{tick:function(){var a,b=f.timers,c=0;for(;c<b.length;c++)a=b[c],!a()&&b[c]===a&&b.splice(c--,1);b.length||f.fx.stop()},interval:13,stop:function(){clearInterval(cp),cp=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(a){f.style(a.elem,\"opacity\",a.now)},_default:function(a){a.elem.style&&a.elem.style[a.prop]!=null?a.elem.style[a.prop]=a.now+a.unit:a.elem[a.prop]=a.now}}}),f.each([\"width\",\"height\"],function(a,b){f.fx.step[b]=function(a){f.style(a.elem,b,Math.max(0,a.now)+a.unit)}}),f.expr&&f.expr.filters&&(f.expr.filters.animated=function(a){return f.grep(f.timers,function(b){return a===b.elem}).length});var cw=/^t(?:able|d|h)$/i,cx=/^(?:body|html)$/i;\"getBoundingClientRect\"in c.documentElement?f.fn.offset=function(a){var b=this[0],c;if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);try{c=b.getBoundingClientRect()}catch(d){}var e=b.ownerDocument,g=e.documentElement;if(!c||!f.contains(g,b))return c?{top:c.top,left:c.left}:{top:0,left:0};var h=e.body,i=cy(e),j=g.clientTop||h.clientTop||0,k=g.clientLeft||h.clientLeft||0,l=i.pageYOffset||f.support.boxModel&&g.scrollTop||h.scrollTop,m=i.pageXOffset||f.support.boxModel&&g.scrollLeft||h.scrollLeft,n=c.top+l-j,o=c.left+m-k;return{top:n,left:o}}:f.fn.offset=function(a){var b=this[0];if(a)return this.each(function(b){f.offset.setOffset(this,a,b)});if(!b||!b.ownerDocument)return null;if(b===b.ownerDocument.body)return f.offset.bodyOffset(b);var c,d=b.offsetParent,e=b,g=b.ownerDocument,h=g.documentElement,i=g.body,j=g.defaultView,k=j?j.getComputedStyle(b,null):b.currentStyle,l=b.offsetTop,m=b.offsetLeft;while((b=b.parentNode)&&b!==i&&b!==h){if(f.support.fixedPosition&&k.position===\"fixed\")break;c=j?j.getComputedStyle(b,null):b.currentStyle,l-=b.scrollTop,m-=b.scrollLeft,b===d&&(l+=b.offsetTop,m+=b.offsetLeft,f.support.doesNotAddBorder&&(!f.support.doesAddBorderForTableAndCells||!cw.test(b.nodeName))&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),e=d,d=b.offsetParent),f.support.subtractsBorderForOverflowNotVisible&&c.overflow!==\"visible\"&&(l+=parseFloat(c.borderTopWidth)||0,m+=parseFloat(c.borderLeftWidth)||0),k=c}if(k.position===\"relative\"||k.position===\"static\")l+=i.offsetTop,m+=i.offsetLeft;f.support.fixedPosition&&k.position===\"fixed\"&&(l+=Math.max(h.scrollTop,i.scrollTop),m+=Math.max(h.scrollLeft,i.scrollLeft));return{top:l,left:m}},f.offset={bodyOffset:function(a){var b=a.offsetTop,c=a.offsetLeft;f.support.doesNotIncludeMarginInBodyOffset&&(b+=parseFloat(f.css(a,\"marginTop\"))||0,c+=parseFloat(f.css(a,\"marginLeft\"))||0);return{top:b,left:c}},setOffset:function(a,b,c){var d=f.css(a,\"position\");d===\"static\"&&(a.style.position=\"relative\");var e=f(a),g=e.offset(),h=f.css(a,\"top\"),i=f.css(a,\"left\"),j=(d===\"absolute\"||d===\"fixed\")&&f.inArray(\"auto\",[h,i])>-1,k={},l={},m,n;j?(l=e.position(),m=l.top,n=l.left):(m=parseFloat(h)||0,n=parseFloat(i)||0),f.isFunction(b)&&(b=b.call(a,c,g)),b.top!=null&&(k.top=b.top-g.top+m),b.left!=null&&(k.left=b.left-g.left+n),\"using\"in b?b.using.call(a,k):e.css(k)}},f.fn.extend({position:function(){if(!this[0])return null;var a=this[0],b=this.offsetParent(),c=this.offset(),d=cx.test(b[0].nodeName)?{top:0,left:0}:b.offset();c.top-=parseFloat(f.css(a,\"marginTop\"))||0,c.left-=parseFloat(f.css(a,\"marginLeft\"))||0,d.top+=parseFloat(f.css(b[0],\"borderTopWidth\"))||0,d.left+=parseFloat(f.css(b[0],\"borderLeftWidth\"))||0;return{top:c.top-d.top,left:c.left-d.left}},offsetParent:function(){return this.map(function(){var a=this.offsetParent||c.body;while(a&&!cx.test(a.nodeName)&&f.css(a,\"position\")===\"static\")a=a.offsetParent;return a})}}),f.each([\"Left\",\"Top\"],function(a,c){var d=\"scroll\"+c;f.fn[d]=function(c){var e,g;if(c===b){e=this[0];if(!e)return null;g=cy(e);return g?\"pageXOffset\"in g?g[a?\"pageYOffset\":\"pageXOffset\"]:f.support.boxModel&&g.document.documentElement[d]||g.document.body[d]:e[d]}return this.each(function(){g=cy(this),g?g.scrollTo(a?f(g).scrollLeft():c,a?c:f(g).scrollTop()):this[d]=c})}}),f.each([\"Height\",\"Width\"],function(a,c){var d=c.toLowerCase();f.fn[\"inner\"+c]=function(){var a=this[0];return a?a.style?parseFloat(f.css(a,d,\"padding\")):this[d]():null},f.fn[\"outer\"+c]=function(a){var b=this[0];return b?b.style?parseFloat(f.css(b,d,a?\"margin\":\"border\")):this[d]():null},f.fn[d]=function(a){var e=this[0];if(!e)return a==null?null:this;if(f.isFunction(a))return this.each(function(b){var c=f(this);c[d](a.call(this,b,c[d]()))});if(f.isWindow(e)){var g=e.document.documentElement[\"client\"+c],h=e.document.body;return e.document.compatMode===\"CSS1Compat\"&&g||h&&h[\"client\"+c]||g}if(e.nodeType===9)return Math.max(e.documentElement[\"client\"+c],e.body[\"scroll\"+c],e.documentElement[\"scroll\"+c],e.body[\"offset\"+c],e.documentElement[\"offset\"+c]);if(a===b){var i=f.css(e,d),j=parseFloat(i);return f.isNumeric(j)?j:i}return this.css(d,typeof a==\"string\"?a:a+\"px\")}}),a.jQuery=a.$=f,typeof define==\"function\"&&define.amd&&define.amd.jQuery&&define(\"jquery\",[],function(){return f})})(window);"
      },
      "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/44HP4KJD4NEF5EL2FESEYJ.js": {
         "pageUrl": "http://www.hipmunk.com/explore/events",
         "scriptUrl": "http://a.adroll.com/pixel/ZJBUQE7CNFB6LCTULFOK2H/AOL55VAZCBHOXKHMAPOTOV/44HP4KJD4NEF5EL2FESEYJ.js",
         "body": "(function () {\n  var scheme = ((\"https:\" == document.location.protocol) ? \"https\" : \"http\");\n  var adnxs_domain = 'secure.adnxs.com';\n  var aol_domain = 'secure.leadback.advertising.com';\n  var rule = [\"all_visitors\", \"*\"];\n  if (scheme=='http') { adnxs_domain = 'ib.adnxs.com'; aol_domain = 'leadback.advertising.com';}\n  var el = document.createElement(\"div\");\n  el.style[\"width\"] = \"1px\";\n  el.style[\"height\"] = \"1px\";\n  el.style[\"display\"] = \"inline\";\n  var content = unescape('%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/f/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/w/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/x/out%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3flabel%3dsGVOCPKBgAIQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//d.adroll.com/cm/g/out%3fgoogle_nid%3dadroll%22/%3e%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//ad.yieldmanager.com/pixel%3fadv%3d274138%26code%3d44HP4KJD4NEF5EL2FESEYJ_n%26t%3d2%22%20width%3d%221%22%20height%3d%221%22%20/%3e%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//%5badnxs_domain%5d/seg%3fadd%3d113364%26t%3d2%22%20width%3d%221%22%20height%3d%221%22/%3e%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3flabel%3dsGVOCPKBgAIQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3flabel%3dhZNvCLqNowIQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3fvalue%3d0%26amp%3blabel%3dJaBTCNrBogUQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//ib.adnxs.com/seg%3fadd%3d365668%26t%3d2%22%20width%3d%221%22%20height%3d%221%22%20/%3e%0a%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22%5bprotocol%5d%3a//www.googleadservices.com/pagead/conversion/1032613984/%3fvalue%3d0%26amp%3blabel%3dUw7oCPq9ogUQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//ib.adnxs.com/seg%3fadd%3d113644%26t%3d2%22%20width%3d%221%22%20height%3d%221%22%20/%3e%0a%0a%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22//googleads.g.doubleclick.net/pagead/viewthroughconversion/1032613984/%3fvalue%3d0%26amp%3blabel%3dH4pFCLqUqgUQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//ib.adnxs.com/seg%3fadd%3d372413%26t%3d2%22%20width%3d%221%22%20height%3d%221%22%20/%3e%0a%0a%0a%3cimg%20height%3d%221%22%20width%3d%221%22%20style%3d%22border-style%3anone%3b%22%20alt%3d%22%22%20src%3d%22//googleads.g.doubleclick.net/pagead/viewthroughconversion/1032613984/%3fvalue%3d0%26amp%3blabel%3d23gZCLKVqgUQ4OCx7AM%26amp%3bguid%3dON%26amp%3bscript%3d0%26amp%3bord%3d%5bord%5d%22/%3e%0a%0a%3cimg%20src%3d%22%5bprotocol%5d%3a//ib.adnxs.com/seg%3fadd%3d372414%26t%3d2%22%20width%3d%221%22%20height%3d%221%22%20/%3e%0a');\n  \n  content += __adroll.get_pid(\".*\", \"\", {\"scheme\":\"html\",\"attribute\":\"text\",\"key\":\"id_from_page\",\"path\":\"span.cityname.hidden\",\"type\":\"text\",\"regular_expression\":\"\",\"regular_expression_replace\":\"\",\"is_required\":false,\"format_spec\":\"\",\"image_filter\":\"\"}, true);\n  var r = Math.random()*10000000000000000;\n  content = content.replace(/\\[ord\\]/gi, r);\n  content = content.replace(/\\[protocol\\]/gi, scheme);\n  content = content.replace(/\\[adnxs_domain\\]/gi, adnxs_domain);\n  content = content.replace(/\\[aol_domain\\]/gi, aol_domain);\n  content = __adroll.replace_external_data(content);\n  el.innerHTML = content;\n  __adroll._head().appendChild(el);\n  if (typeof __adroll.set_pixel_cookie != 'undefined') {__adroll.set_pixel_cookie(adroll_adv_id, adroll_pix_id, \"44HP4KJD4NEF5EL2FESEYJ\");}\n}());\n"
      },
      "/inline_43c851946463705d8f07a20c66a258a1": {
         "body": " $.hipmunk.use_recent = true; $.hipmunk.use_main_js = true; $.hipmunk.seo_frontpage_type = \"hotels\"; ",
         "pageUrl": "http://www.hipmunk.com/hotels",
         "scriptUrl": "/inline_43c851946463705d8f07a20c66a258a1"
      }
   },
   "visitedURLs": {
      "http://hipmunk.com": true,
      "http://www.hipmunk.com/": true,
      "http://www.hipmunk.com/flights": true,
      "http://www.hipmunk.com/hotels": true,
      "http://www.hipmunk.com/explore/events": "opened",
      "http://www.hipmunk.com/explore/cities": true,
      "http://www.hipmunk.com/explore/airports": true,
      "http://www.hipmunk.com/mobile": "fail",
      "http://www.hipmunk.com/cheap-flights": true,
      "http://www.hipmunk.com/city/Las-Vegas-NV": true,
      "http://www.hipmunk.com/city/New-York-City-NY": true
   }
}